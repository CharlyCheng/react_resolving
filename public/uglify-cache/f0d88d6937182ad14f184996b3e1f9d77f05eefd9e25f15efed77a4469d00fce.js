{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{\"+8km\":function(module,exports,__webpack_require__){eval('/**\\n * Copyright 2013-present, Facebook, Inc.\\n * All rights reserved.\\n *\\n * This source code is licensed under the BSD-style license found in the\\n * LICENSE file in the root directory of this source tree. An additional grant\\n * of patent rights can be found in the PATENTS file in the same directory.\\n *\\n * @providesModule ReactComponentWithPureRenderMixin\\n */\\n\\nvar shallowEqual = __webpack_require__(/*! shallowequal */ \"utJ2\");\\n\\nfunction shallowCompare(instance, nextProps, nextState) {\\n  return !shallowEqual(instance.props, nextProps) || !shallowEqual(instance.state, nextState);\\n}\\n\\n/**\\n * If your React component\\'s render function is \"pure\", e.g. it will render the\\n * same result given the same props and state, provide this mixin for a\\n * considerable performance boost.\\n *\\n * Most React components have pure render functions.\\n *\\n * Example:\\n *\\n *   var ReactComponentWithPureRenderMixin =\\n *     require(\\'ReactComponentWithPureRenderMixin\\');\\n *   React.createClass({\\n *     mixins: [ReactComponentWithPureRenderMixin],\\n *\\n *     render: function() {\\n *       return <div className={this.props.className}>foo</div>;\\n *     }\\n *   });\\n *\\n * Note: This only checks shallow equality for props and state. If these contain\\n * complex data structures this mixin may have false-negatives for deeper\\n * differences. Only mixin to components which have simple props and state, or\\n * use `forceUpdate()` when you know deep data structures have changed.\\n *\\n * See https://facebook.github.io/react/docs/pure-render-mixin.html\\n */\\nvar ReactComponentWithPureRenderMixin = {\\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\\n    return shallowCompare(this, nextProps, nextState);\\n  }\\n};\\n\\nmodule.exports = ReactComponentWithPureRenderMixin;//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKzhrbS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy11dGlsL2VzL1B1cmVSZW5kZXJNaXhpbi5qcz9mYmM5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdENvbXBvbmVudFdpdGhQdXJlUmVuZGVyTWl4aW5cbiAqL1xuXG52YXIgc2hhbGxvd0VxdWFsID0gcmVxdWlyZSgnc2hhbGxvd2VxdWFsJyk7XG5cbmZ1bmN0aW9uIHNoYWxsb3dDb21wYXJlKGluc3RhbmNlLCBuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICByZXR1cm4gIXNoYWxsb3dFcXVhbChpbnN0YW5jZS5wcm9wcywgbmV4dFByb3BzKSB8fCAhc2hhbGxvd0VxdWFsKGluc3RhbmNlLnN0YXRlLCBuZXh0U3RhdGUpO1xufVxuXG4vKipcbiAqIElmIHlvdXIgUmVhY3QgY29tcG9uZW50J3MgcmVuZGVyIGZ1bmN0aW9uIGlzIFwicHVyZVwiLCBlLmcuIGl0IHdpbGwgcmVuZGVyIHRoZVxuICogc2FtZSByZXN1bHQgZ2l2ZW4gdGhlIHNhbWUgcHJvcHMgYW5kIHN0YXRlLCBwcm92aWRlIHRoaXMgbWl4aW4gZm9yIGFcbiAqIGNvbnNpZGVyYWJsZSBwZXJmb3JtYW5jZSBib29zdC5cbiAqXG4gKiBNb3N0IFJlYWN0IGNvbXBvbmVudHMgaGF2ZSBwdXJlIHJlbmRlciBmdW5jdGlvbnMuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgIHZhciBSZWFjdENvbXBvbmVudFdpdGhQdXJlUmVuZGVyTWl4aW4gPVxuICogICAgIHJlcXVpcmUoJ1JlYWN0Q29tcG9uZW50V2l0aFB1cmVSZW5kZXJNaXhpbicpO1xuICogICBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gKiAgICAgbWl4aW5zOiBbUmVhY3RDb21wb25lbnRXaXRoUHVyZVJlbmRlck1peGluXSxcbiAqXG4gKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAqICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9PmZvbzwvZGl2PjtcbiAqICAgICB9XG4gKiAgIH0pO1xuICpcbiAqIE5vdGU6IFRoaXMgb25seSBjaGVja3Mgc2hhbGxvdyBlcXVhbGl0eSBmb3IgcHJvcHMgYW5kIHN0YXRlLiBJZiB0aGVzZSBjb250YWluXG4gKiBjb21wbGV4IGRhdGEgc3RydWN0dXJlcyB0aGlzIG1peGluIG1heSBoYXZlIGZhbHNlLW5lZ2F0aXZlcyBmb3IgZGVlcGVyXG4gKiBkaWZmZXJlbmNlcy4gT25seSBtaXhpbiB0byBjb21wb25lbnRzIHdoaWNoIGhhdmUgc2ltcGxlIHByb3BzIGFuZCBzdGF0ZSwgb3JcbiAqIHVzZSBgZm9yY2VVcGRhdGUoKWAgd2hlbiB5b3Uga25vdyBkZWVwIGRhdGEgc3RydWN0dXJlcyBoYXZlIGNoYW5nZWQuXG4gKlxuICogU2VlIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvcHVyZS1yZW5kZXItbWl4aW4uaHRtbFxuICovXG52YXIgUmVhY3RDb21wb25lbnRXaXRoUHVyZVJlbmRlck1peGluID0ge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgIHJldHVybiBzaGFsbG93Q29tcGFyZSh0aGlzLCBuZXh0UHJvcHMsIG5leHRTdGF0ZSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RDb21wb25lbnRXaXRoUHVyZVJlbmRlck1peGluOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///+8km\\n')},\"+oAO\":function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n    value: true\\n});\\n\\nvar _defineProperty2 = __webpack_require__(/*! babel-runtime/helpers/defineProperty */ \\\"YEIV\\\");\\n\\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\\n\\nvar _extends2 = __webpack_require__(/*! babel-runtime/helpers/extends */ \\\"QbLZ\\\");\\n\\nvar _extends3 = _interopRequireDefault(_extends2);\\n\\nvar _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ \\\"iCc5\\\");\\n\\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\\n\\nvar _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ \\\"V7oC\\\");\\n\\nvar _createClass3 = _interopRequireDefault(_createClass2);\\n\\nvar _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ \\\"FYw3\\\");\\n\\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\\n\\nvar _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ \\\"mRg0\\\");\\n\\nvar _inherits3 = _interopRequireDefault(_inherits2);\\n\\nvar _react = __webpack_require__(/*! react */ \\\"q1tI\\\");\\n\\nvar _react2 = _interopRequireDefault(_react);\\n\\nvar _classnames = __webpack_require__(/*! classnames */ \\\"TSYQ\\\");\\n\\nvar _classnames2 = _interopRequireDefault(_classnames);\\n\\nvar _PickerMixin = __webpack_require__(/*! ./PickerMixin */ \\\"Mv4v\\\");\\n\\nvar _PickerMixin2 = _interopRequireDefault(_PickerMixin);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\\n\\nvar Picker = function (_React$Component) {\\n    (0, _inherits3['default'])(Picker, _React$Component);\\n\\n    function Picker(props) {\\n        (0, _classCallCheck3['default'])(this, Picker);\\n\\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (Picker.__proto__ || Object.getPrototypeOf(Picker)).call(this, props));\\n\\n        _this.scrollHanders = function () {\\n            var scrollY = -1;\\n            var lastY = 0;\\n            var startY = 0;\\n            var scrollDisabled = false;\\n            var isMoving = false;\\n            var setTransform = function setTransform(nodeStyle, value) {\\n                nodeStyle.transform = value;\\n                nodeStyle.webkitTransform = value;\\n            };\\n            var setTransition = function setTransition(nodeStyle, value) {\\n                nodeStyle.transition = value;\\n                nodeStyle.webkitTransition = value;\\n            };\\n            var scrollTo = function scrollTo(_x, y) {\\n                var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : .3;\\n\\n                if (scrollY !== y) {\\n                    scrollY = y;\\n                    if (time && !_this.props.noAnimate) {\\n                        setTransition(_this.contentRef.style, 'cubic-bezier(0,0,0.2,1.15) ' + time + 's');\\n                    }\\n                    setTransform(_this.contentRef.style, 'translate3d(0,' + -y + 'px,0)');\\n                    setTimeout(function () {\\n                        _this.scrollingComplete();\\n                        if (_this.contentRef) {\\n                            setTransition(_this.contentRef.style, '');\\n                        }\\n                    }, +time * 1000);\\n                }\\n            };\\n            var Velocity = function () {\\n                var minInterval = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;\\n                var maxInterval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\\n\\n                var _time = 0;\\n                var _y = 0;\\n                var _velocity = 0;\\n                var recorder = {\\n                    record: function record(y) {\\n                        var now = +new Date();\\n                        _velocity = (y - _y) / (now - _time);\\n                        if (now - _time >= minInterval) {\\n                            _velocity = now - _time <= maxInterval ? _velocity : 0;\\n                            _y = y;\\n                            _time = now;\\n                        }\\n                    },\\n                    getVelocity: function getVelocity(y) {\\n                        if (y !== _y) {\\n                            recorder.record(y);\\n                        }\\n                        return _velocity;\\n                    }\\n                };\\n                return recorder;\\n            }();\\n            var onFinish = function onFinish() {\\n                isMoving = false;\\n                var targetY = scrollY;\\n                var height = (_this.props.children.length - 1) * _this.itemHeight;\\n                var time = .3;\\n                var velocity = Velocity.getVelocity(targetY) * 4;\\n                if (velocity) {\\n                    targetY = velocity * 40 + targetY;\\n                    time = Math.abs(velocity) * .1;\\n                }\\n                if (targetY % _this.itemHeight !== 0) {\\n                    targetY = Math.round(targetY / _this.itemHeight) * _this.itemHeight;\\n                }\\n                if (targetY < 0) {\\n                    targetY = 0;\\n                } else if (targetY > height) {\\n                    targetY = height;\\n                }\\n                scrollTo(0, targetY, time < .3 ? .3 : time);\\n                _this.onScrollChange();\\n            };\\n            var onStart = function onStart(y) {\\n                if (scrollDisabled) {\\n                    return;\\n                }\\n                isMoving = true;\\n                startY = y;\\n                lastY = scrollY;\\n            };\\n            var onMove = function onMove(y) {\\n                if (scrollDisabled || !isMoving) {\\n                    return;\\n                }\\n                scrollY = lastY - y + startY;\\n                Velocity.record(scrollY);\\n                _this.onScrollChange();\\n                setTransform(_this.contentRef.style, 'translate3d(0,' + -scrollY + 'px,0)');\\n            };\\n            return {\\n                touchstart: function touchstart(evt) {\\n                    return onStart(evt.touches[0].screenY);\\n                },\\n                mousedown: function mousedown(evt) {\\n                    return onStart(evt.screenY);\\n                },\\n                touchmove: function touchmove(evt) {\\n                    evt.preventDefault();\\n                    onMove(evt.touches[0].screenY);\\n                },\\n                mousemove: function mousemove(evt) {\\n                    evt.preventDefault();\\n                    onMove(evt.screenY);\\n                },\\n                touchend: function touchend() {\\n                    return onFinish();\\n                },\\n                touchcancel: function touchcancel() {\\n                    return onFinish();\\n                },\\n                mouseup: function mouseup() {\\n                    return onFinish();\\n                },\\n                getValue: function getValue() {\\n                    return scrollY;\\n                },\\n                scrollTo: scrollTo,\\n                setDisabled: function setDisabled() {\\n                    var disabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\\n\\n                    scrollDisabled = disabled;\\n                }\\n            };\\n        }();\\n        _this.scrollTo = function (top) {\\n            _this.scrollHanders.scrollTo(0, top);\\n        };\\n        _this.scrollToWithoutAnimation = function (top) {\\n            _this.scrollHanders.scrollTo(0, top, 0);\\n        };\\n        _this.fireValueChange = function (selectedValue) {\\n            if (selectedValue !== _this.state.selectedValue) {\\n                if (!('selectedValue' in _this.props)) {\\n                    _this.setState({\\n                        selectedValue: selectedValue\\n                    });\\n                }\\n                if (_this.props.onValueChange) {\\n                    _this.props.onValueChange(selectedValue);\\n                }\\n            }\\n        };\\n        _this.onScrollChange = function () {\\n            var top = _this.scrollHanders.getValue();\\n            if (top >= 0) {\\n                var children = _react2['default'].Children.toArray(_this.props.children);\\n                var index = _this.props.computeChildIndex(top, _this.itemHeight, children.length);\\n                if (_this.scrollValue !== index) {\\n                    _this.scrollValue = index;\\n                    var child = children[index];\\n                    if (child && _this.props.onScrollChange) {\\n                        _this.props.onScrollChange(child.props.value);\\n                    } else if (!child && console.warn) {\\n                        console.warn('child not found', children, index);\\n                    }\\n                }\\n            }\\n        };\\n        _this.scrollingComplete = function () {\\n            var top = _this.scrollHanders.getValue();\\n            if (top >= 0) {\\n                _this.props.doScrollingComplete(top, _this.itemHeight, _this.fireValueChange);\\n            }\\n        };\\n        var selectedValueState = void 0;\\n        var _this$props = _this.props,\\n            selectedValue = _this$props.selectedValue,\\n            defaultSelectedValue = _this$props.defaultSelectedValue;\\n\\n        if (selectedValue !== undefined) {\\n            selectedValueState = selectedValue;\\n        } else if (defaultSelectedValue !== undefined) {\\n            selectedValueState = defaultSelectedValue;\\n        } else {\\n            var children = _react2['default'].Children.toArray(_this.props.children);\\n            selectedValueState = children && children[0] && children[0].props.value;\\n        }\\n        _this.state = {\\n            selectedValue: selectedValueState\\n        };\\n        return _this;\\n    }\\n\\n    (0, _createClass3['default'])(Picker, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            var _this2 = this;\\n\\n            var contentRef = this.contentRef,\\n                indicatorRef = this.indicatorRef,\\n                maskRef = this.maskRef,\\n                rootRef = this.rootRef;\\n\\n            var rootHeight = rootRef.getBoundingClientRect().height;\\n            // https://github.com/react-component/m-picker/issues/18\\n            var itemHeight = this.itemHeight = indicatorRef.getBoundingClientRect().height;\\n            var num = Math.floor(rootHeight / itemHeight);\\n            if (num % 2 === 0) {\\n                num--;\\n            }\\n            num--;\\n            num /= 2;\\n            contentRef.style.padding = itemHeight * num + 'px 0';\\n            indicatorRef.style.top = itemHeight * num + 'px';\\n            maskRef.style.backgroundSize = '100% ' + itemHeight * num + 'px';\\n            this.scrollHanders.setDisabled(this.props.disabled);\\n            this.props.select(this.state.selectedValue, this.itemHeight, this.scrollTo);\\n            var passiveSupported = this.passiveSupported();\\n            var willPreventDefault = passiveSupported ? { passive: false } : false;\\n            var willNotPreventDefault = passiveSupported ? { passive: true } : false;\\n            Object.keys(this.scrollHanders).forEach(function (key) {\\n                if (key.indexOf('touch') === 0 || key.indexOf('mouse') === 0) {\\n                    var pd = key.indexOf('move') >= 0 ? willPreventDefault : willNotPreventDefault;\\n                    rootRef.addEventListener(key, _this2.scrollHanders[key], pd);\\n                }\\n            });\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            var _this3 = this;\\n\\n            Object.keys(this.scrollHanders).forEach(function (key) {\\n                if (key.indexOf('touch') === 0 || key.indexOf('mouse') === 0) {\\n                    _this3.rootRef.removeEventListener(key, _this3.scrollHanders[key]);\\n                }\\n            });\\n        }\\n    }, {\\n        key: 'passiveSupported',\\n        value: function passiveSupported() {\\n            var passiveSupported = false;\\n            try {\\n                var options = Object.defineProperty({}, 'passive', {\\n                    get: function get() {\\n                        passiveSupported = true;\\n                    }\\n                });\\n                window.addEventListener('test', null, options);\\n            } catch (err) {}\\n            return passiveSupported;\\n        }\\n    }, {\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            var _this4 = this;\\n\\n            if ('selectedValue' in nextProps) {\\n                if (this.state.selectedValue !== nextProps.selectedValue) {\\n                    this.setState({\\n                        selectedValue: nextProps.selectedValue\\n                    }, function () {\\n                        _this4.props.select(nextProps.selectedValue, _this4.itemHeight, nextProps.noAnimate ? _this4.scrollToWithoutAnimation : _this4.scrollTo);\\n                    });\\n                }\\n            }\\n            this.scrollHanders.setDisabled(nextProps.disabled);\\n        }\\n    }, {\\n        key: 'shouldComponentUpdate',\\n        value: function shouldComponentUpdate(nextProps, nextState) {\\n            return this.state.selectedValue !== nextState.selectedValue || this.props.children !== nextProps.children;\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate() {\\n            this.props.select(this.state.selectedValue, this.itemHeight, this.scrollToWithoutAnimation);\\n        }\\n    }, {\\n        key: 'getValue',\\n        value: function getValue() {\\n            if ('selectedValue' in this.props) {\\n                return this.props.selectedValue;\\n            }\\n            var children = _react2['default'].Children.toArray(this.props.children);\\n            return children && children[0] && children[0].props.value;\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _pickerCls,\\n                _this5 = this;\\n\\n            var props = this.props;\\n            var prefixCls = props.prefixCls,\\n                itemStyle = props.itemStyle,\\n                indicatorStyle = props.indicatorStyle,\\n                _props$indicatorClass = props.indicatorClassName,\\n                indicatorClassName = _props$indicatorClass === undefined ? '' : _props$indicatorClass,\\n                children = props.children;\\n            var selectedValue = this.state.selectedValue;\\n\\n            var itemClassName = prefixCls + '-item';\\n            var selectedItemClassName = itemClassName + ' ' + prefixCls + '-item-selected';\\n            var map = function map(item) {\\n                var _item$props = item.props,\\n                    _item$props$className = _item$props.className,\\n                    className = _item$props$className === undefined ? '' : _item$props$className,\\n                    style = _item$props.style,\\n                    value = _item$props.value;\\n\\n                return _react2['default'].createElement(\\n                    'div',\\n                    { style: (0, _extends3['default'])({}, itemStyle, style), className: (selectedValue === value ? selectedItemClassName : itemClassName) + ' ' + className, key: value },\\n                    item.children || item.props.children\\n                );\\n            };\\n            // compatibility for preact\\n            var items = _react2['default'].Children ? _react2['default'].Children.map(children, map) : [].concat(children).map(map);\\n            var pickerCls = (_pickerCls = {}, (0, _defineProperty3['default'])(_pickerCls, props.className, !!props.className), (0, _defineProperty3['default'])(_pickerCls, prefixCls, true), _pickerCls);\\n            return _react2['default'].createElement(\\n                'div',\\n                { className: (0, _classnames2['default'])(pickerCls), ref: function ref(el) {\\n                        return _this5.rootRef = el;\\n                    }, style: this.props.style },\\n                _react2['default'].createElement('div', { className: prefixCls + '-mask', ref: function ref(el) {\\n                        return _this5.maskRef = el;\\n                    } }),\\n                _react2['default'].createElement('div', { className: prefixCls + '-indicator ' + indicatorClassName, ref: function ref(el) {\\n                        return _this5.indicatorRef = el;\\n                    }, style: indicatorStyle }),\\n                _react2['default'].createElement(\\n                    'div',\\n                    { className: prefixCls + '-content', ref: function ref(el) {\\n                            return _this5.contentRef = el;\\n                        } },\\n                    items\\n                )\\n            );\\n        }\\n    }]);\\n    return Picker;\\n}(_react2['default'].Component);\\n\\nPicker.defaultProps = {\\n    prefixCls: 'rmc-picker'\\n};\\nexports['default'] = (0, _PickerMixin2['default'])(Picker);\\nmodule.exports = exports['default'];//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiK29BTy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtcGlja2VyL2xpYi9QaWNrZXIuanM/ZmE4MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfUGlja2VyTWl4aW4gPSByZXF1aXJlKCcuL1BpY2tlck1peGluJyk7XG5cbnZhciBfUGlja2VyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGlja2VyTWl4aW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBQaWNrZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzWydkZWZhdWx0J10pKFBpY2tlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBQaWNrZXIocHJvcHMpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbJ2RlZmF1bHQnXSkodGhpcywgUGlja2VyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zWydkZWZhdWx0J10pKHRoaXMsIChQaWNrZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQaWNrZXIpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc2Nyb2xsSGFuZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzY3JvbGxZID0gLTE7XG4gICAgICAgICAgICB2YXIgbGFzdFkgPSAwO1xuICAgICAgICAgICAgdmFyIHN0YXJ0WSA9IDA7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpc01vdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybShub2RlU3R5bGUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbm9kZVN0eWxlLnRyYW5zZm9ybSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIG5vZGVTdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgc2V0VHJhbnNpdGlvbiA9IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24obm9kZVN0eWxlLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG5vZGVTdHlsZS50cmFuc2l0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgbm9kZVN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiBzY3JvbGxUbyhfeCwgeSkge1xuICAgICAgICAgICAgICAgIHZhciB0aW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAuMztcblxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxZICE9PSB5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFkgPSB5O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGltZSAmJiAhX3RoaXMucHJvcHMubm9BbmltYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uKF90aGlzLmNvbnRlbnRSZWYuc3R5bGUsICdjdWJpYy1iZXppZXIoMCwwLDAuMiwxLjE1KSAnICsgdGltZSArICdzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNmb3JtKF90aGlzLmNvbnRlbnRSZWYuc3R5bGUsICd0cmFuc2xhdGUzZCgwLCcgKyAteSArICdweCwwKScpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNjcm9sbGluZ0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY29udGVudFJlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb24oX3RoaXMuY29udGVudFJlZi5zdHlsZSwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCArdGltZSAqIDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgVmVsb2NpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbkludGVydmFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAzMDtcbiAgICAgICAgICAgICAgICB2YXIgbWF4SW50ZXJ2YWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDtcblxuICAgICAgICAgICAgICAgIHZhciBfdGltZSA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIF95ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgX3ZlbG9jaXR5ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZDogZnVuY3Rpb24gcmVjb3JkKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub3cgPSArbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92ZWxvY2l0eSA9ICh5IC0gX3kpIC8gKG5vdyAtIF90aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3cgLSBfdGltZSA+PSBtaW5JbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92ZWxvY2l0eSA9IG5vdyAtIF90aW1lIDw9IG1heEludGVydmFsID8gX3ZlbG9jaXR5IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfeSA9IHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RpbWUgPSBub3c7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFZlbG9jaXR5OiBmdW5jdGlvbiBnZXRWZWxvY2l0eSh5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeSAhPT0gX3kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRlci5yZWNvcmQoeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZlbG9jaXR5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkZXI7XG4gICAgICAgICAgICB9KCk7XG4gICAgICAgICAgICB2YXIgb25GaW5pc2ggPSBmdW5jdGlvbiBvbkZpbmlzaCgpIHtcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRZID0gc2Nyb2xsWTtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gKF90aGlzLnByb3BzLmNoaWxkcmVuLmxlbmd0aCAtIDEpICogX3RoaXMuaXRlbUhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IC4zO1xuICAgICAgICAgICAgICAgIHZhciB2ZWxvY2l0eSA9IFZlbG9jaXR5LmdldFZlbG9jaXR5KHRhcmdldFkpICogNDtcbiAgICAgICAgICAgICAgICBpZiAodmVsb2NpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSA9IHZlbG9jaXR5ICogNDAgKyB0YXJnZXRZO1xuICAgICAgICAgICAgICAgICAgICB0aW1lID0gTWF0aC5hYnModmVsb2NpdHkpICogLjE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRZICUgX3RoaXMuaXRlbUhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRZID0gTWF0aC5yb3VuZCh0YXJnZXRZIC8gX3RoaXMuaXRlbUhlaWdodCkgKiBfdGhpcy5pdGVtSGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0WSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRZID4gaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFkgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjcm9sbFRvKDAsIHRhcmdldFksIHRpbWUgPCAuMyA/IC4zIDogdGltZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMub25TY3JvbGxDaGFuZ2UoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb25TdGFydCA9IGZ1bmN0aW9uIG9uU3RhcnQoeSkge1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdGFydFkgPSB5O1xuICAgICAgICAgICAgICAgIGxhc3RZID0gc2Nyb2xsWTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb25Nb3ZlID0gZnVuY3Rpb24gb25Nb3ZlKHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsRGlzYWJsZWQgfHwgIWlzTW92aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2Nyb2xsWSA9IGxhc3RZIC0geSArIHN0YXJ0WTtcbiAgICAgICAgICAgICAgICBWZWxvY2l0eS5yZWNvcmQoc2Nyb2xsWSk7XG4gICAgICAgICAgICAgICAgX3RoaXMub25TY3JvbGxDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICBzZXRUcmFuc2Zvcm0oX3RoaXMuY29udGVudFJlZi5zdHlsZSwgJ3RyYW5zbGF0ZTNkKDAsJyArIC1zY3JvbGxZICsgJ3B4LDApJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiB0b3VjaHN0YXJ0KGV2dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25TdGFydChldnQudG91Y2hlc1swXS5zY3JlZW5ZKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vdXNlZG93bjogZnVuY3Rpb24gbW91c2Vkb3duKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25TdGFydChldnQuc2NyZWVuWSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0b3VjaG1vdmU6IGZ1bmN0aW9uIHRvdWNobW92ZShldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIG9uTW92ZShldnQudG91Y2hlc1swXS5zY3JlZW5ZKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24gbW91c2Vtb3ZlKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgb25Nb3ZlKGV2dC5zY3JlZW5ZKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvdWNoZW5kOiBmdW5jdGlvbiB0b3VjaGVuZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRmluaXNoKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0b3VjaGNhbmNlbDogZnVuY3Rpb24gdG91Y2hjYW5jZWwoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvbkZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW91c2V1cDogZnVuY3Rpb24gbW91c2V1cCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRmluaXNoKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxZO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Nyb2xsVG86IHNjcm9sbFRvLFxuICAgICAgICAgICAgICAgIHNldERpc2FibGVkOiBmdW5jdGlvbiBzZXREaXNhYmxlZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc2FibGVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxEaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0oKTtcbiAgICAgICAgX3RoaXMuc2Nyb2xsVG8gPSBmdW5jdGlvbiAodG9wKSB7XG4gICAgICAgICAgICBfdGhpcy5zY3JvbGxIYW5kZXJzLnNjcm9sbFRvKDAsIHRvcCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnNjcm9sbFRvV2l0aG91dEFuaW1hdGlvbiA9IGZ1bmN0aW9uICh0b3ApIHtcbiAgICAgICAgICAgIF90aGlzLnNjcm9sbEhhbmRlcnMuc2Nyb2xsVG8oMCwgdG9wLCAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZmlyZVZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlICE9PSBfdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoJ3NlbGVjdGVkVmFsdWUnIGluIF90aGlzLnByb3BzKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25WYWx1ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblZhbHVlQ2hhbmdlKHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25TY3JvbGxDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdG9wID0gX3RoaXMuc2Nyb2xsSGFuZGVycy5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHRvcCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gX3JlYWN0MlsnZGVmYXVsdCddLkNoaWxkcmVuLnRvQXJyYXkoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzLnByb3BzLmNvbXB1dGVDaGlsZEluZGV4KHRvcCwgX3RoaXMuaXRlbUhlaWdodCwgY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc2Nyb2xsVmFsdWUgIT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNjcm9sbFZhbHVlID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkICYmIF90aGlzLnByb3BzLm9uU2Nyb2xsQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblNjcm9sbENoYW5nZShjaGlsZC5wcm9wcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWNoaWxkICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdjaGlsZCBub3QgZm91bmQnLCBjaGlsZHJlbiwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zY3JvbGxpbmdDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0b3AgPSBfdGhpcy5zY3JvbGxIYW5kZXJzLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAodG9wID49IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5kb1Njcm9sbGluZ0NvbXBsZXRlKHRvcCwgX3RoaXMuaXRlbUhlaWdodCwgX3RoaXMuZmlyZVZhbHVlQ2hhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHNlbGVjdGVkVmFsdWVTdGF0ZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlID0gX3RoaXMkcHJvcHMuc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRTZWxlY3RlZFZhbHVlID0gX3RoaXMkcHJvcHMuZGVmYXVsdFNlbGVjdGVkVmFsdWU7XG5cbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZVN0YXRlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChkZWZhdWx0U2VsZWN0ZWRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlU3RhdGUgPSBkZWZhdWx0U2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5DaGlsZHJlbi50b0FycmF5KF90aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIHNlbGVjdGVkVmFsdWVTdGF0ZSA9IGNoaWxkcmVuICYmIGNoaWxkcmVuWzBdICYmIGNoaWxkcmVuWzBdLnByb3BzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZVN0YXRlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAoMCwgX2NyZWF0ZUNsYXNzM1snZGVmYXVsdCddKShQaWNrZXIsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBjb250ZW50UmVmID0gdGhpcy5jb250ZW50UmVmLFxuICAgICAgICAgICAgICAgIGluZGljYXRvclJlZiA9IHRoaXMuaW5kaWNhdG9yUmVmLFxuICAgICAgICAgICAgICAgIG1hc2tSZWYgPSB0aGlzLm1hc2tSZWYsXG4gICAgICAgICAgICAgICAgcm9vdFJlZiA9IHRoaXMucm9vdFJlZjtcblxuICAgICAgICAgICAgdmFyIHJvb3RIZWlnaHQgPSByb290UmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1jb21wb25lbnQvbS1waWNrZXIvaXNzdWVzLzE4XG4gICAgICAgICAgICB2YXIgaXRlbUhlaWdodCA9IHRoaXMuaXRlbUhlaWdodCA9IGluZGljYXRvclJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgbnVtID0gTWF0aC5mbG9vcihyb290SGVpZ2h0IC8gaXRlbUhlaWdodCk7XG4gICAgICAgICAgICBpZiAobnVtICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG51bS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbnVtLS07XG4gICAgICAgICAgICBudW0gLz0gMjtcbiAgICAgICAgICAgIGNvbnRlbnRSZWYuc3R5bGUucGFkZGluZyA9IGl0ZW1IZWlnaHQgKiBudW0gKyAncHggMCc7XG4gICAgICAgICAgICBpbmRpY2F0b3JSZWYuc3R5bGUudG9wID0gaXRlbUhlaWdodCAqIG51bSArICdweCc7XG4gICAgICAgICAgICBtYXNrUmVmLnN0eWxlLmJhY2tncm91bmRTaXplID0gJzEwMCUgJyArIGl0ZW1IZWlnaHQgKiBudW0gKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxIYW5kZXJzLnNldERpc2FibGVkKHRoaXMucHJvcHMuZGlzYWJsZWQpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3QodGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlLCB0aGlzLml0ZW1IZWlnaHQsIHRoaXMuc2Nyb2xsVG8pO1xuICAgICAgICAgICAgdmFyIHBhc3NpdmVTdXBwb3J0ZWQgPSB0aGlzLnBhc3NpdmVTdXBwb3J0ZWQoKTtcbiAgICAgICAgICAgIHZhciB3aWxsUHJldmVudERlZmF1bHQgPSBwYXNzaXZlU3VwcG9ydGVkID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2U7XG4gICAgICAgICAgICB2YXIgd2lsbE5vdFByZXZlbnREZWZhdWx0ID0gcGFzc2l2ZVN1cHBvcnRlZCA/IHsgcGFzc2l2ZTogdHJ1ZSB9IDogZmFsc2U7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnNjcm9sbEhhbmRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZigndG91Y2gnKSA9PT0gMCB8fCBrZXkuaW5kZXhPZignbW91c2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGQgPSBrZXkuaW5kZXhPZignbW92ZScpID49IDAgPyB3aWxsUHJldmVudERlZmF1bHQgOiB3aWxsTm90UHJldmVudERlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIHJvb3RSZWYuYWRkRXZlbnRMaXN0ZW5lcihrZXksIF90aGlzMi5zY3JvbGxIYW5kZXJzW2tleV0sIHBkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5zY3JvbGxIYW5kZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoJ3RvdWNoJykgPT09IDAgfHwga2V5LmluZGV4T2YoJ21vdXNlJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnJvb3RSZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcihrZXksIF90aGlzMy5zY3JvbGxIYW5kZXJzW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdwYXNzaXZlU3VwcG9ydGVkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBhc3NpdmVTdXBwb3J0ZWQoKSB7XG4gICAgICAgICAgICB2YXIgcGFzc2l2ZVN1cHBvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgICAgICAgICAgcmV0dXJuIHBhc3NpdmVTdXBwb3J0ZWQ7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoJ3NlbGVjdGVkVmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWUgIT09IG5leHRQcm9wcy5zZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZTogbmV4dFByb3BzLnNlbGVjdGVkVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnByb3BzLnNlbGVjdChuZXh0UHJvcHMuc2VsZWN0ZWRWYWx1ZSwgX3RoaXM0Lml0ZW1IZWlnaHQsIG5leHRQcm9wcy5ub0FuaW1hdGUgPyBfdGhpczQuc2Nyb2xsVG9XaXRob3V0QW5pbWF0aW9uIDogX3RoaXM0LnNjcm9sbFRvKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY3JvbGxIYW5kZXJzLnNldERpc2FibGVkKG5leHRQcm9wcy5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3Nob3VsZENvbXBvbmVudFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWUgIT09IG5leHRTdGF0ZS5zZWxlY3RlZFZhbHVlIHx8IHRoaXMucHJvcHMuY2hpbGRyZW4gIT09IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2VsZWN0KHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZSwgdGhpcy5pdGVtSGVpZ2h0LCB0aGlzLnNjcm9sbFRvV2l0aG91dEFuaW1hdGlvbik7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFZhbHVlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgICAgICAgaWYgKCdzZWxlY3RlZFZhbHVlJyBpbiB0aGlzLnByb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5DaGlsZHJlbi50b0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuICYmIGNoaWxkcmVuWzBdICYmIGNoaWxkcmVuWzBdLnByb3BzLnZhbHVlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9waWNrZXJDbHMsXG4gICAgICAgICAgICAgICAgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgaXRlbVN0eWxlID0gcHJvcHMuaXRlbVN0eWxlLFxuICAgICAgICAgICAgICAgIGluZGljYXRvclN0eWxlID0gcHJvcHMuaW5kaWNhdG9yU3R5bGUsXG4gICAgICAgICAgICAgICAgX3Byb3BzJGluZGljYXRvckNsYXNzID0gcHJvcHMuaW5kaWNhdG9yQ2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGluZGljYXRvckNsYXNzTmFtZSA9IF9wcm9wcyRpbmRpY2F0b3JDbGFzcyA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkaW5kaWNhdG9yQ2xhc3MsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFZhbHVlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgaXRlbUNsYXNzTmFtZSA9IHByZWZpeENscyArICctaXRlbSc7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRJdGVtQ2xhc3NOYW1lID0gaXRlbUNsYXNzTmFtZSArICcgJyArIHByZWZpeENscyArICctaXRlbS1zZWxlY3RlZCc7XG4gICAgICAgICAgICB2YXIgbWFwID0gZnVuY3Rpb24gbWFwKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZW0kcHJvcHMgPSBpdGVtLnByb3BzLFxuICAgICAgICAgICAgICAgICAgICBfaXRlbSRwcm9wcyRjbGFzc05hbWUgPSBfaXRlbSRwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9pdGVtJHByb3BzJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfaXRlbSRwcm9wcyRjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0gX2l0ZW0kcHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX2l0ZW0kcHJvcHMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiAoMCwgX2V4dGVuZHMzWydkZWZhdWx0J10pKHt9LCBpdGVtU3R5bGUsIHN0eWxlKSwgY2xhc3NOYW1lOiAoc2VsZWN0ZWRWYWx1ZSA9PT0gdmFsdWUgPyBzZWxlY3RlZEl0ZW1DbGFzc05hbWUgOiBpdGVtQ2xhc3NOYW1lKSArICcgJyArIGNsYXNzTmFtZSwga2V5OiB2YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkcmVuIHx8IGl0ZW0ucHJvcHMuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIGNvbXBhdGliaWxpdHkgZm9yIHByZWFjdFxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gX3JlYWN0MlsnZGVmYXVsdCddLkNoaWxkcmVuID8gX3JlYWN0MlsnZGVmYXVsdCddLkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgbWFwKSA6IFtdLmNvbmNhdChjaGlsZHJlbikubWFwKG1hcCk7XG4gICAgICAgICAgICB2YXIgcGlja2VyQ2xzID0gKF9waWNrZXJDbHMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbJ2RlZmF1bHQnXSkoX3BpY2tlckNscywgcHJvcHMuY2xhc3NOYW1lLCAhIXByb3BzLmNsYXNzTmFtZSksICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKF9waWNrZXJDbHMsIHByZWZpeENscywgdHJ1ZSksIF9waWNrZXJDbHMpO1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKHBpY2tlckNscyksIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LnJvb3RSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgfSwgc3R5bGU6IHRoaXMucHJvcHMuc3R5bGUgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctbWFzaycsIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1Lm1hc2tSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgfSB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5kaWNhdG9yICcgKyBpbmRpY2F0b3JDbGFzc05hbWUsIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmluZGljYXRvclJlZiA9IGVsO1xuICAgICAgICAgICAgICAgICAgICB9LCBzdHlsZTogaW5kaWNhdG9yU3R5bGUgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250ZW50JywgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmNvbnRlbnRSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBQaWNrZXI7XG59KF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXG5QaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ3JtYy1waWNrZXInXG59O1xuZXhwb3J0c1snZGVmYXVsdCddID0gKDAsIF9QaWNrZXJNaXhpbjJbJ2RlZmF1bHQnXSkoUGlja2VyKTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///+oAO\\n\")},\"+plK\":function(module,exports,__webpack_require__){eval('__webpack_require__(/*! ../../modules/es6.object.get-prototype-of */ \"ApPD\");\\nmodule.exports = __webpack_require__(/*! ../../modules/_core */ \"WEpk\").Object.getPrototypeOf;\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiK3BsSy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanM/ZmE5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///+plK\\n')},\"/eQG\":function(module,exports,__webpack_require__){eval('__webpack_require__(/*! ../../modules/es6.object.get-own-property-descriptor */ \"v5Dd\");\\nvar $Object = __webpack_require__(/*! ../../modules/_core */ \"WEpk\").Object;\\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\\n  return $Object.getOwnPropertyDescriptor(it, key);\\n};\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2VRRy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcz9mZGU0Il0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgcmV0dXJuICRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:////eQG\\n')},\"0tVQ\":function(module,exports,__webpack_require__){eval('__webpack_require__(/*! ../../modules/es6.string.iterator */ \"FlQf\");\\n__webpack_require__(/*! ../../modules/es6.array.from */ \"VJsP\");\\nmodule.exports = __webpack_require__(/*! ../../modules/_core */ \"WEpk\").Array.from;\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMHRWUS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbS5qcz9kMmQ1Il0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuYXJyYXkuZnJvbScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuQXJyYXkuZnJvbTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///0tVQ\\n')},\"2NuI\":function(module,exports,__webpack_require__){\"use strict\";eval(\"/**\\n * Copyright (c) 2013-present, Facebook, Inc.\\n *\\n * This source code is licensed under the MIT license found in the\\n * LICENSE file in the root directory of this source tree.\\n *\\n */\\n\\n\\n\\n/**\\n * Use invariant() to assert state which your program assumes to be true.\\n *\\n * Provide sprintf-style format (only %s is supported) and arguments\\n * to provide information about what broke and what you were\\n * expecting.\\n *\\n * The invariant message will be stripped in production, but the invariant\\n * will remain to ensure logic does not differ in production.\\n */\\n\\nvar validateFormat = function validateFormat(format) {};\\n\\nif (true) {\\n  validateFormat = function validateFormat(format) {\\n    if (format === undefined) {\\n      throw new Error('invariant requires an error message argument');\\n    }\\n  };\\n}\\n\\nfunction invariant(condition, format, a, b, c, d, e, f) {\\n  validateFormat(format);\\n\\n  if (!condition) {\\n    var error;\\n    if (format === undefined) {\\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\\n    } else {\\n      var args = [a, b, c, d, e, f];\\n      var argIndex = 0;\\n      error = new Error(format.replace(/%s/g, function () {\\n        return args[argIndex++];\\n      }));\\n      error.name = 'Invariant Violation';\\n    }\\n\\n    error.framesToPop = 1; // we don't care about invariant's own frame\\n    throw error;\\n  }\\n}\\n\\nmodule.exports = invariant;//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMk51SS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pbnZhcmlhbnQuanM/ZDhkYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///2NuI\\n\")},\"2kWR\":function(module,exports){eval(\"/**\\n * lodash 3.9.1 (Custom Build) <https://lodash.com/>\\n * Build: `lodash modern modularize exports=\\\"npm\\\" -o ./`\\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\\n * Available under MIT license <https://lodash.com/license>\\n */\\n\\n/** `Object#toString` result references. */\\nvar funcTag = '[object Function]';\\n\\n/** Used to detect host constructors (Safari > 5). */\\nvar reIsHostCtor = /^\\\\[object .+?Constructor\\\\]$/;\\n\\n/**\\n * Checks if `value` is object-like.\\n *\\n * @private\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\\n */\\nfunction isObjectLike(value) {\\n  return !!value && typeof value == 'object';\\n}\\n\\n/** Used for native method references. */\\nvar objectProto = Object.prototype;\\n\\n/** Used to resolve the decompiled source of functions. */\\nvar fnToString = Function.prototype.toString;\\n\\n/** Used to check objects for own properties. */\\nvar hasOwnProperty = objectProto.hasOwnProperty;\\n\\n/**\\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\\n * of values.\\n */\\nvar objToString = objectProto.toString;\\n\\n/** Used to detect if a method is native. */\\nvar reIsNative = RegExp('^' +\\n  fnToString.call(hasOwnProperty).replace(/[\\\\\\\\^$.*+?()[\\\\]{}|]/g, '\\\\\\\\$&')\\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g, '$1.*?') + '$'\\n);\\n\\n/**\\n * Gets the native function at `key` of `object`.\\n *\\n * @private\\n * @param {Object} object The object to query.\\n * @param {string} key The key of the method to get.\\n * @returns {*} Returns the function if it's native, else `undefined`.\\n */\\nfunction getNative(object, key) {\\n  var value = object == null ? undefined : object[key];\\n  return isNative(value) ? value : undefined;\\n}\\n\\n/**\\n * Checks if `value` is classified as a `Function` object.\\n *\\n * @static\\n * @memberOf _\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\\n * @example\\n *\\n * _.isFunction(_);\\n * // => true\\n *\\n * _.isFunction(/abc/);\\n * // => false\\n */\\nfunction isFunction(value) {\\n  // The use of `Object#toString` avoids issues with the `typeof` operator\\n  // in older versions of Chrome and Safari which return 'function' for regexes\\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\\n  return isObject(value) && objToString.call(value) == funcTag;\\n}\\n\\n/**\\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\\n *\\n * @static\\n * @memberOf _\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\\n * @example\\n *\\n * _.isObject({});\\n * // => true\\n *\\n * _.isObject([1, 2, 3]);\\n * // => true\\n *\\n * _.isObject(1);\\n * // => false\\n */\\nfunction isObject(value) {\\n  // Avoid a V8 JIT bug in Chrome 19-20.\\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\\n  var type = typeof value;\\n  return !!value && (type == 'object' || type == 'function');\\n}\\n\\n/**\\n * Checks if `value` is a native function.\\n *\\n * @static\\n * @memberOf _\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\\n * @example\\n *\\n * _.isNative(Array.prototype.push);\\n * // => true\\n *\\n * _.isNative(_);\\n * // => false\\n */\\nfunction isNative(value) {\\n  if (value == null) {\\n    return false;\\n  }\\n  if (isFunction(value)) {\\n    return reIsNative.test(fnToString.call(value));\\n  }\\n  return isObjectLike(value) && reIsHostCtor.test(value);\\n}\\n\\nmodule.exports = getNative;\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMmtXUi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2guX2dldG5hdGl2ZS9pbmRleC5qcz9kYTQ1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogbG9kYXNoIDMuOS4xIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkgPiA1KS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKiBVc2VkIGZvciBuYXRpdmUgbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZm5Ub1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqVG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZuVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICByZXR1cm4gaXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBjb3JyZWN0bHkgY2xhc3NpZmllZCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIG9sZGVyIHZlcnNpb25zIG9mIENocm9tZSBhbmQgU2FmYXJpIHdoaWNoIHJldHVybiAnZnVuY3Rpb24nIGZvciByZWdleGVzXG4gIC8vIGFuZCBTYWZhcmkgOCBlcXVpdmFsZW50cyB3aGljaCByZXR1cm4gJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGNvbnN0cnVjdG9ycy5cbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiBvYmpUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBmdW5jVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZSBbbGFuZ3VhZ2UgdHlwZV0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OCkgb2YgYE9iamVjdGAuXG4gKiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KDEpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgLy8gQXZvaWQgYSBWOCBKSVQgYnVnIGluIENocm9tZSAxOS0yMC5cbiAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxIGZvciBtb3JlIGRldGFpbHMuXG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTmF0aXZlKF8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgcmV0dXJuIHJlSXNOYXRpdmUudGVzdChmblRvU3RyaW5nLmNhbGwodmFsdWUpKTtcbiAgfVxuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiByZUlzSG9zdEN0b3IudGVzdCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0TmF0aXZlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///2kWR\\n\")},\"2rMq\":function(module,exports,__webpack_require__){eval(\"var __WEBPACK_AMD_DEFINE_RESULT__;/*!\\n  Copyright (c) 2015 Jed Watson.\\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\\n  All rights reserved.\\n*/\\n/* global define */\\n\\n(function () {\\n\\t'use strict';\\n\\n\\tvar canUseDOM = !!(\\n\\t\\ttypeof window !== 'undefined' &&\\n\\t\\twindow.document &&\\n\\t\\twindow.document.createElement\\n\\t);\\n\\n\\tvar ExecutionEnvironment = {\\n\\n\\t\\tcanUseDOM: canUseDOM,\\n\\n\\t\\tcanUseWorkers: typeof Worker !== 'undefined',\\n\\n\\t\\tcanUseEventListeners:\\n\\t\\t\\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\\n\\n\\t\\tcanUseViewport: canUseDOM && !!window.screen\\n\\n\\t};\\n\\n\\tif (true) {\\n\\t\\t!(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\\n\\t\\t\\treturn ExecutionEnvironment;\\n\\t\\t}).call(exports, __webpack_require__, exports, module),\\n\\t\\t\\t\\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\\n\\t} else {}\\n\\n}());\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMnJNcS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9leGVudi9pbmRleC5qcz9kYWIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTUgSmVkIFdhdHNvbi5cbiAgQmFzZWQgb24gY29kZSB0aGF0IGlzIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNhblVzZURPTSA9ICEhKFxuXHRcdHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG5cdFx0d2luZG93LmRvY3VtZW50ICYmXG5cdFx0d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnRcblx0KTtcblxuXHR2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSB7XG5cblx0XHRjYW5Vc2VET006IGNhblVzZURPTSxcblxuXHRcdGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXG5cdFx0Y2FuVXNlRXZlbnRMaXN0ZW5lcnM6XG5cdFx0XHRjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuXHRcdGNhblVzZVZpZXdwb3J0OiBjYW5Vc2VET00gJiYgISF3aW5kb3cuc2NyZWVuXG5cblx0fTtcblxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5FeGVjdXRpb25FbnZpcm9ubWVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuXHR9XG5cbn0oKSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0EsVUFJQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///2rMq\\n\")},\"3CTM\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = ({\\n    confirmLabel: '',\\n    backspaceLabel: '',\\n    cancelKeyboardLabel: ''\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiM0NUTS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9pbnB1dC1pdGVtL2xvY2FsZS96aF9DTi5qcz9kYzI0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgICBjb25maXJtTGFiZWw6ICfnoa7lrponLFxuICAgIGJhY2tzcGFjZUxhYmVsOiAn6YCA5qC8JyxcbiAgICBjYW5jZWxLZXlib2FyZExhYmVsOiAn5pS26LW36ZSu55uYJ1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///3CTM\\n\")},\"9ibs\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n\\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/classCallCheck.js\\nvar classCallCheck = __webpack_require__(\\\"iCc5\\\");\\nvar classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);\\n\\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/createClass.js\\nvar createClass = __webpack_require__(\\\"V7oC\\\");\\nvar createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);\\n\\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/possibleConstructorReturn.js\\nvar possibleConstructorReturn = __webpack_require__(\\\"FYw3\\\");\\nvar possibleConstructorReturn_default = /*#__PURE__*/__webpack_require__.n(possibleConstructorReturn);\\n\\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/inherits.js\\nvar inherits = __webpack_require__(\\\"mRg0\\\");\\nvar inherits_default = /*#__PURE__*/__webpack_require__.n(inherits);\\n\\n// EXTERNAL MODULE: delegated ./node_modules/react/index.js from dll-reference _dll_vendor_887801ca211dada7a6b9\\nvar reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9 = __webpack_require__(\\\"q1tI\\\");\\nvar reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default = /*#__PURE__*/__webpack_require__.n(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9);\\n\\n// EXTERNAL MODULE: delegated ./node_modules/prop-types/index.js from dll-reference _dll_vendor_887801ca211dada7a6b9\\nvar prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9 = __webpack_require__(\\\"17x9\\\");\\nvar prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default = /*#__PURE__*/__webpack_require__.n(prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9);\\n\\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\\nvar classnames = __webpack_require__(\\\"TSYQ\\\");\\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\\n\\n// CONCATENATED MODULE: ./node_modules/rc-collapse/es/PanelContent.js\\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return call && (typeof call === \\\"object\\\" || typeof call === \\\"function\\\") ? call : self; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function, not \\\" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\\n\\n\\n\\n\\n\\nvar PanelContent_PanelContent = function (_Component) {\\n  _inherits(PanelContent, _Component);\\n\\n  function PanelContent() {\\n    _classCallCheck(this, PanelContent);\\n\\n    return _possibleConstructorReturn(this, (PanelContent.__proto__ || Object.getPrototypeOf(PanelContent)).apply(this, arguments));\\n  }\\n\\n  _createClass(PanelContent, [{\\n    key: 'shouldComponentUpdate',\\n    value: function shouldComponentUpdate(nextProps) {\\n      return this.props.forceRender || this.props.isActive || nextProps.isActive;\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _classnames;\\n\\n      this._isActived = this.props.forceRender || this._isActived || this.props.isActive;\\n      if (!this._isActived) {\\n        return null;\\n      }\\n      var _props = this.props,\\n          prefixCls = _props.prefixCls,\\n          isActive = _props.isActive,\\n          children = _props.children,\\n          destroyInactivePanel = _props.destroyInactivePanel,\\n          forceRender = _props.forceRender,\\n          role = _props.role;\\n\\n      var contentCls = classnames_default()((_classnames = {}, _defineProperty(_classnames, prefixCls + '-content', true), _defineProperty(_classnames, prefixCls + '-content-active', isActive), _defineProperty(_classnames, prefixCls + '-content-inactive', !isActive), _classnames));\\n      var child = !forceRender && !isActive && destroyInactivePanel ? null : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        { className: prefixCls + '-content-box' },\\n        children\\n      );\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        {\\n          className: contentCls,\\n          role: role\\n        },\\n        child\\n      );\\n    }\\n  }]);\\n\\n  return PanelContent;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\nPanelContent_PanelContent.propTypes = {\\n  prefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  isActive: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  children: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.any,\\n  destroyInactivePanel: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  forceRender: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  role: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string\\n};\\n\\n/* harmony default export */ var es_PanelContent = (PanelContent_PanelContent);\\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/extends.js\\nvar helpers_extends = __webpack_require__(\\\"QbLZ\\\");\\nvar extends_default = /*#__PURE__*/__webpack_require__.n(helpers_extends);\\n\\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/defineProperty.js\\nvar defineProperty = __webpack_require__(\\\"YEIV\\\");\\nvar defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);\\n\\n// CONCATENATED MODULE: ./node_modules/rc-animate/es/ChildrenUtils.js\\n\\n\\nfunction toArrayChildren(children) {\\n  var ret = [];\\n  reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.forEach(children, function (child) {\\n    ret.push(child);\\n  });\\n  return ret;\\n}\\n\\nfunction findChildInChildrenByKey(children, key) {\\n  var ret = null;\\n  if (children) {\\n    children.forEach(function (child) {\\n      if (ret) {\\n        return;\\n      }\\n      if (child && child.key === key) {\\n        ret = child;\\n      }\\n    });\\n  }\\n  return ret;\\n}\\n\\nfunction findShownChildInChildrenByKey(children, key, showProp) {\\n  var ret = null;\\n  if (children) {\\n    children.forEach(function (child) {\\n      if (child && child.key === key && child.props[showProp]) {\\n        if (ret) {\\n          throw new Error('two child with same key for <rc-animate> children');\\n        }\\n        ret = child;\\n      }\\n    });\\n  }\\n  return ret;\\n}\\n\\nfunction findHiddenChildInChildrenByKey(children, key, showProp) {\\n  var found = 0;\\n  if (children) {\\n    children.forEach(function (child) {\\n      if (found) {\\n        return;\\n      }\\n      found = child && child.key === key && !child.props[showProp];\\n    });\\n  }\\n  return found;\\n}\\n\\nfunction isSameChildren(c1, c2, showProp) {\\n  var same = c1.length === c2.length;\\n  if (same) {\\n    c1.forEach(function (child, index) {\\n      var child2 = c2[index];\\n      if (child && child2) {\\n        if (child && !child2 || !child && child2) {\\n          same = false;\\n        } else if (child.key !== child2.key) {\\n          same = false;\\n        } else if (showProp && child.props[showProp] !== child2.props[showProp]) {\\n          same = false;\\n        }\\n      }\\n    });\\n  }\\n  return same;\\n}\\n\\nfunction mergeChildren(prev, next) {\\n  var ret = [];\\n\\n  // For each key of `next`, the list of keys to insert before that key in\\n  // the combined list\\n  var nextChildrenPending = {};\\n  var pendingChildren = [];\\n  prev.forEach(function (child) {\\n    if (child && findChildInChildrenByKey(next, child.key)) {\\n      if (pendingChildren.length) {\\n        nextChildrenPending[child.key] = pendingChildren;\\n        pendingChildren = [];\\n      }\\n    } else {\\n      pendingChildren.push(child);\\n    }\\n  });\\n\\n  next.forEach(function (child) {\\n    if (child && Object.prototype.hasOwnProperty.call(nextChildrenPending, child.key)) {\\n      ret = ret.concat(nextChildrenPending[child.key]);\\n    }\\n    ret.push(child);\\n  });\\n\\n  ret = ret.concat(pendingChildren);\\n\\n  return ret;\\n}\\n// EXTERNAL MODULE: delegated ./node_modules/react-dom/index.js from dll-reference _dll_vendor_887801ca211dada7a6b9\\nvar react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9 = __webpack_require__(\\\"i8i4\\\");\\nvar react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default = /*#__PURE__*/__webpack_require__.n(react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9);\\n\\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/typeof.js\\nvar helpers_typeof = __webpack_require__(\\\"EJiy\\\");\\nvar typeof_default = /*#__PURE__*/__webpack_require__.n(helpers_typeof);\\n\\n// CONCATENATED MODULE: ./node_modules/css-animation/es/Event.js\\nvar START_EVENT_NAME_MAP = {\\n  transitionstart: {\\n    transition: 'transitionstart',\\n    WebkitTransition: 'webkitTransitionStart',\\n    MozTransition: 'mozTransitionStart',\\n    OTransition: 'oTransitionStart',\\n    msTransition: 'MSTransitionStart'\\n  },\\n\\n  animationstart: {\\n    animation: 'animationstart',\\n    WebkitAnimation: 'webkitAnimationStart',\\n    MozAnimation: 'mozAnimationStart',\\n    OAnimation: 'oAnimationStart',\\n    msAnimation: 'MSAnimationStart'\\n  }\\n};\\n\\nvar END_EVENT_NAME_MAP = {\\n  transitionend: {\\n    transition: 'transitionend',\\n    WebkitTransition: 'webkitTransitionEnd',\\n    MozTransition: 'mozTransitionEnd',\\n    OTransition: 'oTransitionEnd',\\n    msTransition: 'MSTransitionEnd'\\n  },\\n\\n  animationend: {\\n    animation: 'animationend',\\n    WebkitAnimation: 'webkitAnimationEnd',\\n    MozAnimation: 'mozAnimationEnd',\\n    OAnimation: 'oAnimationEnd',\\n    msAnimation: 'MSAnimationEnd'\\n  }\\n};\\n\\nvar startEvents = [];\\nvar endEvents = [];\\n\\nfunction detectEvents() {\\n  var testEl = document.createElement('div');\\n  var style = testEl.style;\\n\\n  if (!('AnimationEvent' in window)) {\\n    delete START_EVENT_NAME_MAP.animationstart.animation;\\n    delete END_EVENT_NAME_MAP.animationend.animation;\\n  }\\n\\n  if (!('TransitionEvent' in window)) {\\n    delete START_EVENT_NAME_MAP.transitionstart.transition;\\n    delete END_EVENT_NAME_MAP.transitionend.transition;\\n  }\\n\\n  function process(EVENT_NAME_MAP, events) {\\n    for (var baseEventName in EVENT_NAME_MAP) {\\n      if (EVENT_NAME_MAP.hasOwnProperty(baseEventName)) {\\n        var baseEvents = EVENT_NAME_MAP[baseEventName];\\n        for (var styleName in baseEvents) {\\n          if (styleName in style) {\\n            events.push(baseEvents[styleName]);\\n            break;\\n          }\\n        }\\n      }\\n    }\\n  }\\n\\n  process(START_EVENT_NAME_MAP, startEvents);\\n  process(END_EVENT_NAME_MAP, endEvents);\\n}\\n\\nif (typeof window !== 'undefined' && typeof document !== 'undefined') {\\n  detectEvents();\\n}\\n\\nfunction addEventListener(node, eventName, eventListener) {\\n  node.addEventListener(eventName, eventListener, false);\\n}\\n\\nfunction removeEventListener(node, eventName, eventListener) {\\n  node.removeEventListener(eventName, eventListener, false);\\n}\\n\\nvar TransitionEvents = {\\n  // Start events\\n  startEvents: startEvents,\\n\\n  addStartEventListener: function addStartEventListener(node, eventListener) {\\n    if (startEvents.length === 0) {\\n      window.setTimeout(eventListener, 0);\\n      return;\\n    }\\n    startEvents.forEach(function (startEvent) {\\n      addEventListener(node, startEvent, eventListener);\\n    });\\n  },\\n  removeStartEventListener: function removeStartEventListener(node, eventListener) {\\n    if (startEvents.length === 0) {\\n      return;\\n    }\\n    startEvents.forEach(function (startEvent) {\\n      removeEventListener(node, startEvent, eventListener);\\n    });\\n  },\\n\\n\\n  // End events\\n  endEvents: endEvents,\\n\\n  addEndEventListener: function addEndEventListener(node, eventListener) {\\n    if (endEvents.length === 0) {\\n      window.setTimeout(eventListener, 0);\\n      return;\\n    }\\n    endEvents.forEach(function (endEvent) {\\n      addEventListener(node, endEvent, eventListener);\\n    });\\n  },\\n  removeEndEventListener: function removeEndEventListener(node, eventListener) {\\n    if (endEvents.length === 0) {\\n      return;\\n    }\\n    endEvents.forEach(function (endEvent) {\\n      removeEventListener(node, endEvent, eventListener);\\n    });\\n  }\\n};\\n\\n/* harmony default export */ var Event = (TransitionEvents);\\n// EXTERNAL MODULE: ./node_modules/component-classes/index.js\\nvar component_classes = __webpack_require__(\\\"PFWz\\\");\\nvar component_classes_default = /*#__PURE__*/__webpack_require__.n(component_classes);\\n\\n// CONCATENATED MODULE: ./node_modules/css-animation/es/index.js\\n\\n\\n\\n\\nvar isCssAnimationSupported = Event.endEvents.length !== 0;\\nvar capitalPrefixes = ['Webkit', 'Moz', 'O',\\n// ms is special .... !\\n'ms'];\\nvar prefixes = ['-webkit-', '-moz-', '-o-', 'ms-', ''];\\n\\nfunction getStyleProperty(node, name) {\\n  // old ff need null, https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle\\n  var style = window.getComputedStyle(node, null);\\n  var ret = '';\\n  for (var i = 0; i < prefixes.length; i++) {\\n    ret = style.getPropertyValue(prefixes[i] + name);\\n    if (ret) {\\n      break;\\n    }\\n  }\\n  return ret;\\n}\\n\\nfunction fixBrowserByTimeout(node) {\\n  if (isCssAnimationSupported) {\\n    var transitionDelay = parseFloat(getStyleProperty(node, 'transition-delay')) || 0;\\n    var transitionDuration = parseFloat(getStyleProperty(node, 'transition-duration')) || 0;\\n    var animationDelay = parseFloat(getStyleProperty(node, 'animation-delay')) || 0;\\n    var animationDuration = parseFloat(getStyleProperty(node, 'animation-duration')) || 0;\\n    var time = Math.max(transitionDuration + transitionDelay, animationDuration + animationDelay);\\n    // sometimes, browser bug\\n    node.rcEndAnimTimeout = setTimeout(function () {\\n      node.rcEndAnimTimeout = null;\\n      if (node.rcEndListener) {\\n        node.rcEndListener();\\n      }\\n    }, time * 1000 + 200);\\n  }\\n}\\n\\nfunction clearBrowserBugTimeout(node) {\\n  if (node.rcEndAnimTimeout) {\\n    clearTimeout(node.rcEndAnimTimeout);\\n    node.rcEndAnimTimeout = null;\\n  }\\n}\\n\\nvar es_cssAnimation = function cssAnimation(node, transitionName, endCallback) {\\n  var nameIsObj = (typeof transitionName === 'undefined' ? 'undefined' : typeof_default()(transitionName)) === 'object';\\n  var className = nameIsObj ? transitionName.name : transitionName;\\n  var activeClassName = nameIsObj ? transitionName.active : transitionName + '-active';\\n  var end = endCallback;\\n  var start = void 0;\\n  var active = void 0;\\n  var nodeClasses = component_classes_default()(node);\\n\\n  if (endCallback && Object.prototype.toString.call(endCallback) === '[object Object]') {\\n    end = endCallback.end;\\n    start = endCallback.start;\\n    active = endCallback.active;\\n  }\\n\\n  if (node.rcEndListener) {\\n    node.rcEndListener();\\n  }\\n\\n  node.rcEndListener = function (e) {\\n    if (e && e.target !== node) {\\n      return;\\n    }\\n\\n    if (node.rcAnimTimeout) {\\n      clearTimeout(node.rcAnimTimeout);\\n      node.rcAnimTimeout = null;\\n    }\\n\\n    clearBrowserBugTimeout(node);\\n\\n    nodeClasses.remove(className);\\n    nodeClasses.remove(activeClassName);\\n\\n    Event.removeEndEventListener(node, node.rcEndListener);\\n    node.rcEndListener = null;\\n\\n    // Usually this optional end is used for informing an owner of\\n    // a leave animation and telling it to remove the child.\\n    if (end) {\\n      end();\\n    }\\n  };\\n\\n  Event.addEndEventListener(node, node.rcEndListener);\\n\\n  if (start) {\\n    start();\\n  }\\n  nodeClasses.add(className);\\n\\n  node.rcAnimTimeout = setTimeout(function () {\\n    node.rcAnimTimeout = null;\\n    nodeClasses.add(activeClassName);\\n    if (active) {\\n      setTimeout(active, 0);\\n    }\\n    fixBrowserByTimeout(node);\\n    // 30ms for firefox\\n  }, 30);\\n\\n  return {\\n    stop: function stop() {\\n      if (node.rcEndListener) {\\n        node.rcEndListener();\\n      }\\n    }\\n  };\\n};\\n\\nes_cssAnimation.style = function (node, style, callback) {\\n  if (node.rcEndListener) {\\n    node.rcEndListener();\\n  }\\n\\n  node.rcEndListener = function (e) {\\n    if (e && e.target !== node) {\\n      return;\\n    }\\n\\n    if (node.rcAnimTimeout) {\\n      clearTimeout(node.rcAnimTimeout);\\n      node.rcAnimTimeout = null;\\n    }\\n\\n    clearBrowserBugTimeout(node);\\n\\n    Event.removeEndEventListener(node, node.rcEndListener);\\n    node.rcEndListener = null;\\n\\n    // Usually this optional callback is used for informing an owner of\\n    // a leave animation and telling it to remove the child.\\n    if (callback) {\\n      callback();\\n    }\\n  };\\n\\n  Event.addEndEventListener(node, node.rcEndListener);\\n\\n  node.rcAnimTimeout = setTimeout(function () {\\n    for (var s in style) {\\n      if (style.hasOwnProperty(s)) {\\n        node.style[s] = style[s];\\n      }\\n    }\\n    node.rcAnimTimeout = null;\\n    fixBrowserByTimeout(node);\\n  }, 0);\\n};\\n\\nes_cssAnimation.setTransition = function (node, p, value) {\\n  var property = p;\\n  var v = value;\\n  if (value === undefined) {\\n    v = property;\\n    property = '';\\n  }\\n  property = property || '';\\n  capitalPrefixes.forEach(function (prefix) {\\n    node.style[prefix + 'Transition' + property] = v;\\n  });\\n};\\n\\nes_cssAnimation.isCssAnimationSupported = isCssAnimationSupported;\\n\\n\\n\\n/* harmony default export */ var es = (es_cssAnimation);\\n// CONCATENATED MODULE: ./node_modules/rc-animate/es/util/animate.js\\nvar util = {\\n  isAppearSupported: function isAppearSupported(props) {\\n    return props.transitionName && props.transitionAppear || props.animation.appear;\\n  },\\n  isEnterSupported: function isEnterSupported(props) {\\n    return props.transitionName && props.transitionEnter || props.animation.enter;\\n  },\\n  isLeaveSupported: function isLeaveSupported(props) {\\n    return props.transitionName && props.transitionLeave || props.animation.leave;\\n  },\\n  allowAppearCallback: function allowAppearCallback(props) {\\n    return props.transitionAppear || props.animation.appear;\\n  },\\n  allowEnterCallback: function allowEnterCallback(props) {\\n    return props.transitionEnter || props.animation.enter;\\n  },\\n  allowLeaveCallback: function allowLeaveCallback(props) {\\n    return props.transitionLeave || props.animation.leave;\\n  }\\n};\\n/* harmony default export */ var animate = (util);\\n// CONCATENATED MODULE: ./node_modules/rc-animate/es/AnimateChild.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar transitionMap = {\\n  enter: 'transitionEnter',\\n  appear: 'transitionAppear',\\n  leave: 'transitionLeave'\\n};\\n\\nvar AnimateChild_AnimateChild = function (_React$Component) {\\n  inherits_default()(AnimateChild, _React$Component);\\n\\n  function AnimateChild() {\\n    classCallCheck_default()(this, AnimateChild);\\n\\n    return possibleConstructorReturn_default()(this, (AnimateChild.__proto__ || Object.getPrototypeOf(AnimateChild)).apply(this, arguments));\\n  }\\n\\n  createClass_default()(AnimateChild, [{\\n    key: 'componentWillUnmount',\\n    value: function componentWillUnmount() {\\n      this.stop();\\n    }\\n  }, {\\n    key: 'componentWillEnter',\\n    value: function componentWillEnter(done) {\\n      if (animate.isEnterSupported(this.props)) {\\n        this.transition('enter', done);\\n      } else {\\n        done();\\n      }\\n    }\\n  }, {\\n    key: 'componentWillAppear',\\n    value: function componentWillAppear(done) {\\n      if (animate.isAppearSupported(this.props)) {\\n        this.transition('appear', done);\\n      } else {\\n        done();\\n      }\\n    }\\n  }, {\\n    key: 'componentWillLeave',\\n    value: function componentWillLeave(done) {\\n      if (animate.isLeaveSupported(this.props)) {\\n        this.transition('leave', done);\\n      } else {\\n        // always sync, do not interupt with react component life cycle\\n        // update hidden -> animate hidden ->\\n        // didUpdate -> animate leave -> unmount (if animate is none)\\n        done();\\n      }\\n    }\\n  }, {\\n    key: 'transition',\\n    value: function transition(animationType, finishCallback) {\\n      var _this2 = this;\\n\\n      var node = react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.findDOMNode(this);\\n      var props = this.props;\\n      var transitionName = props.transitionName;\\n      var nameIsObj = typeof transitionName === 'object';\\n      this.stop();\\n      var end = function end() {\\n        _this2.stopper = null;\\n        finishCallback();\\n      };\\n      if ((isCssAnimationSupported || !props.animation[animationType]) && transitionName && props[transitionMap[animationType]]) {\\n        var name = nameIsObj ? transitionName[animationType] : transitionName + '-' + animationType;\\n        var activeName = name + '-active';\\n        if (nameIsObj && transitionName[animationType + 'Active']) {\\n          activeName = transitionName[animationType + 'Active'];\\n        }\\n        this.stopper = es(node, {\\n          name: name,\\n          active: activeName\\n        }, end);\\n      } else {\\n        this.stopper = props.animation[animationType](node, end);\\n      }\\n    }\\n  }, {\\n    key: 'stop',\\n    value: function stop() {\\n      var stopper = this.stopper;\\n      if (stopper) {\\n        this.stopper = null;\\n        stopper.stop();\\n      }\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      return this.props.children;\\n    }\\n  }]);\\n\\n  return AnimateChild;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nAnimateChild_AnimateChild.propTypes = {\\n  children: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.any\\n};\\n/* harmony default export */ var es_AnimateChild = (AnimateChild_AnimateChild);\\n// CONCATENATED MODULE: ./node_modules/rc-animate/es/Animate.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar defaultKey = 'rc_animate_' + Date.now();\\n\\nfunction getChildrenFromProps(props) {\\n  var children = props.children;\\n  if (reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.isValidElement(children)) {\\n    if (!children.key) {\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(children, {\\n        key: defaultKey\\n      });\\n    }\\n  }\\n  return children;\\n}\\n\\nfunction noop() {}\\n\\nvar Animate_Animate = function (_React$Component) {\\n  inherits_default()(Animate, _React$Component);\\n\\n  // eslint-disable-line\\n\\n  function Animate(props) {\\n    classCallCheck_default()(this, Animate);\\n\\n    var _this = possibleConstructorReturn_default()(this, (Animate.__proto__ || Object.getPrototypeOf(Animate)).call(this, props));\\n\\n    Animate_initialiseProps.call(_this);\\n\\n    _this.currentlyAnimatingKeys = {};\\n    _this.keysToEnter = [];\\n    _this.keysToLeave = [];\\n\\n    _this.state = {\\n      children: toArrayChildren(getChildrenFromProps(props))\\n    };\\n\\n    _this.childrenRefs = {};\\n    return _this;\\n  }\\n\\n  createClass_default()(Animate, [{\\n    key: 'componentDidMount',\\n    value: function componentDidMount() {\\n      var _this2 = this;\\n\\n      var showProp = this.props.showProp;\\n      var children = this.state.children;\\n      if (showProp) {\\n        children = children.filter(function (child) {\\n          return !!child.props[showProp];\\n        });\\n      }\\n      children.forEach(function (child) {\\n        if (child) {\\n          _this2.performAppear(child.key);\\n        }\\n      });\\n    }\\n  }, {\\n    key: 'componentWillReceiveProps',\\n    value: function componentWillReceiveProps(nextProps) {\\n      var _this3 = this;\\n\\n      this.nextProps = nextProps;\\n      var nextChildren = toArrayChildren(getChildrenFromProps(nextProps));\\n      var props = this.props;\\n      // exclusive needs immediate response\\n      if (props.exclusive) {\\n        Object.keys(this.currentlyAnimatingKeys).forEach(function (key) {\\n          _this3.stop(key);\\n        });\\n      }\\n      var showProp = props.showProp;\\n      var currentlyAnimatingKeys = this.currentlyAnimatingKeys;\\n      // last props children if exclusive\\n      var currentChildren = props.exclusive ? toArrayChildren(getChildrenFromProps(props)) : this.state.children;\\n      // in case destroy in showProp mode\\n      var newChildren = [];\\n      if (showProp) {\\n        currentChildren.forEach(function (currentChild) {\\n          var nextChild = currentChild && findChildInChildrenByKey(nextChildren, currentChild.key);\\n          var newChild = void 0;\\n          if ((!nextChild || !nextChild.props[showProp]) && currentChild.props[showProp]) {\\n            newChild = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(nextChild || currentChild, defineProperty_default()({}, showProp, true));\\n          } else {\\n            newChild = nextChild;\\n          }\\n          if (newChild) {\\n            newChildren.push(newChild);\\n          }\\n        });\\n        nextChildren.forEach(function (nextChild) {\\n          if (!nextChild || !findChildInChildrenByKey(currentChildren, nextChild.key)) {\\n            newChildren.push(nextChild);\\n          }\\n        });\\n      } else {\\n        newChildren = mergeChildren(currentChildren, nextChildren);\\n      }\\n\\n      // need render to avoid update\\n      this.setState({\\n        children: newChildren\\n      });\\n\\n      nextChildren.forEach(function (child) {\\n        var key = child && child.key;\\n        if (child && currentlyAnimatingKeys[key]) {\\n          return;\\n        }\\n        var hasPrev = child && findChildInChildrenByKey(currentChildren, key);\\n        if (showProp) {\\n          var showInNext = child.props[showProp];\\n          if (hasPrev) {\\n            var showInNow = findShownChildInChildrenByKey(currentChildren, key, showProp);\\n            if (!showInNow && showInNext) {\\n              _this3.keysToEnter.push(key);\\n            }\\n          } else if (showInNext) {\\n            _this3.keysToEnter.push(key);\\n          }\\n        } else if (!hasPrev) {\\n          _this3.keysToEnter.push(key);\\n        }\\n      });\\n\\n      currentChildren.forEach(function (child) {\\n        var key = child && child.key;\\n        if (child && currentlyAnimatingKeys[key]) {\\n          return;\\n        }\\n        var hasNext = child && findChildInChildrenByKey(nextChildren, key);\\n        if (showProp) {\\n          var showInNow = child.props[showProp];\\n          if (hasNext) {\\n            var showInNext = findShownChildInChildrenByKey(nextChildren, key, showProp);\\n            if (!showInNext && showInNow) {\\n              _this3.keysToLeave.push(key);\\n            }\\n          } else if (showInNow) {\\n            _this3.keysToLeave.push(key);\\n          }\\n        } else if (!hasNext) {\\n          _this3.keysToLeave.push(key);\\n        }\\n      });\\n    }\\n  }, {\\n    key: 'componentDidUpdate',\\n    value: function componentDidUpdate() {\\n      var keysToEnter = this.keysToEnter;\\n      this.keysToEnter = [];\\n      keysToEnter.forEach(this.performEnter);\\n      var keysToLeave = this.keysToLeave;\\n      this.keysToLeave = [];\\n      keysToLeave.forEach(this.performLeave);\\n    }\\n  }, {\\n    key: 'isValidChildByKey',\\n    value: function isValidChildByKey(currentChildren, key) {\\n      var showProp = this.props.showProp;\\n      if (showProp) {\\n        return findShownChildInChildrenByKey(currentChildren, key, showProp);\\n      }\\n      return findChildInChildrenByKey(currentChildren, key);\\n    }\\n  }, {\\n    key: 'stop',\\n    value: function stop(key) {\\n      delete this.currentlyAnimatingKeys[key];\\n      var component = this.childrenRefs[key];\\n      if (component) {\\n        component.stop();\\n      }\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this4 = this;\\n\\n      var props = this.props;\\n      this.nextProps = props;\\n      var stateChildren = this.state.children;\\n      var children = null;\\n      if (stateChildren) {\\n        children = stateChildren.map(function (child) {\\n          if (child === null || child === undefined) {\\n            return child;\\n          }\\n          if (!child.key) {\\n            throw new Error('must set key for <rc-animate> children');\\n          }\\n          return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            es_AnimateChild,\\n            {\\n              key: child.key,\\n              ref: function ref(node) {\\n                _this4.childrenRefs[child.key] = node;\\n              },\\n              animation: props.animation,\\n              transitionName: props.transitionName,\\n              transitionEnter: props.transitionEnter,\\n              transitionAppear: props.transitionAppear,\\n              transitionLeave: props.transitionLeave\\n            },\\n            child\\n          );\\n        });\\n      }\\n      var Component = props.component;\\n      if (Component) {\\n        var passedProps = props;\\n        if (typeof Component === 'string') {\\n          passedProps = extends_default()({\\n            className: props.className,\\n            style: props.style\\n          }, props.componentProps);\\n        }\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          Component,\\n          passedProps,\\n          children\\n        );\\n      }\\n      return children[0] || null;\\n    }\\n  }]);\\n\\n  return Animate;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nAnimate_Animate.isAnimate = true;\\nAnimate_Animate.propTypes = {\\n  component: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.any,\\n  componentProps: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  animation: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  transitionName: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOfType([prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object]),\\n  transitionEnter: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  transitionAppear: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  exclusive: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  transitionLeave: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  onEnd: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  onEnter: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  onLeave: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  onAppear: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  showProp: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  children: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.node\\n};\\nAnimate_Animate.defaultProps = {\\n  animation: {},\\n  component: 'span',\\n  componentProps: {},\\n  transitionEnter: true,\\n  transitionLeave: true,\\n  transitionAppear: false,\\n  onEnd: noop,\\n  onEnter: noop,\\n  onLeave: noop,\\n  onAppear: noop\\n};\\n\\nvar Animate_initialiseProps = function _initialiseProps() {\\n  var _this5 = this;\\n\\n  this.performEnter = function (key) {\\n    // may already remove by exclusive\\n    if (_this5.childrenRefs[key]) {\\n      _this5.currentlyAnimatingKeys[key] = true;\\n      _this5.childrenRefs[key].componentWillEnter(_this5.handleDoneAdding.bind(_this5, key, 'enter'));\\n    }\\n  };\\n\\n  this.performAppear = function (key) {\\n    if (_this5.childrenRefs[key]) {\\n      _this5.currentlyAnimatingKeys[key] = true;\\n      _this5.childrenRefs[key].componentWillAppear(_this5.handleDoneAdding.bind(_this5, key, 'appear'));\\n    }\\n  };\\n\\n  this.handleDoneAdding = function (key, type) {\\n    var props = _this5.props;\\n    delete _this5.currentlyAnimatingKeys[key];\\n    // if update on exclusive mode, skip check\\n    if (props.exclusive && props !== _this5.nextProps) {\\n      return;\\n    }\\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\\n    if (!_this5.isValidChildByKey(currentChildren, key)) {\\n      // exclusive will not need this\\n      _this5.performLeave(key);\\n    } else if (type === 'appear') {\\n      if (animate.allowAppearCallback(props)) {\\n        props.onAppear(key);\\n        props.onEnd(key, true);\\n      }\\n    } else if (animate.allowEnterCallback(props)) {\\n      props.onEnter(key);\\n      props.onEnd(key, true);\\n    }\\n  };\\n\\n  this.performLeave = function (key) {\\n    // may already remove by exclusive\\n    if (_this5.childrenRefs[key]) {\\n      _this5.currentlyAnimatingKeys[key] = true;\\n      _this5.childrenRefs[key].componentWillLeave(_this5.handleDoneLeaving.bind(_this5, key));\\n    }\\n  };\\n\\n  this.handleDoneLeaving = function (key) {\\n    var props = _this5.props;\\n    delete _this5.currentlyAnimatingKeys[key];\\n    // if update on exclusive mode, skip check\\n    if (props.exclusive && props !== _this5.nextProps) {\\n      return;\\n    }\\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\\n    // in case state change is too fast\\n    if (_this5.isValidChildByKey(currentChildren, key)) {\\n      _this5.performEnter(key);\\n    } else {\\n      var end = function end() {\\n        if (animate.allowLeaveCallback(props)) {\\n          props.onLeave(key);\\n          props.onEnd(key, false);\\n        }\\n      };\\n      if (!isSameChildren(_this5.state.children, currentChildren, props.showProp)) {\\n        _this5.setState({\\n          children: currentChildren\\n        }, end);\\n      } else {\\n        end();\\n      }\\n    }\\n  };\\n};\\n\\n/* harmony default export */ var es_Animate = (Animate_Animate);\\n// CONCATENATED MODULE: ./node_modules/rc-collapse/es/Panel.js\\nvar Panel_createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\nfunction Panel_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\\n\\nfunction Panel_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction Panel_possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return call && (typeof call === \\\"object\\\" || typeof call === \\\"function\\\") ? call : self; }\\n\\nfunction Panel_inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function, not \\\" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\\n\\n\\n\\n\\n\\n\\n\\nvar Panel_CollapsePanel = function (_Component) {\\n  Panel_inherits(CollapsePanel, _Component);\\n\\n  function CollapsePanel() {\\n    var _ref;\\n\\n    var _temp, _this, _ret;\\n\\n    Panel_classCallCheck(this, CollapsePanel);\\n\\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\\n      args[_key] = arguments[_key];\\n    }\\n\\n    return _ret = (_temp = (_this = Panel_possibleConstructorReturn(this, (_ref = CollapsePanel.__proto__ || Object.getPrototypeOf(CollapsePanel)).call.apply(_ref, [this].concat(args))), _this), _this.handleItemClick = function () {\\n      if (_this.props.onItemClick) {\\n        _this.props.onItemClick();\\n      }\\n    }, _this.handleKeyPress = function (e) {\\n      if (e.key === 'Enter' || e.keyCode === 13 || e.which === 13) {\\n        _this.handleItemClick();\\n      }\\n    }, _temp), Panel_possibleConstructorReturn(_this, _ret);\\n  }\\n\\n  Panel_createClass(CollapsePanel, [{\\n    key: 'render',\\n    value: function render() {\\n      var _classNames2;\\n\\n      var _props = this.props,\\n          className = _props.className,\\n          id = _props.id,\\n          style = _props.style,\\n          prefixCls = _props.prefixCls,\\n          header = _props.header,\\n          headerClass = _props.headerClass,\\n          children = _props.children,\\n          isActive = _props.isActive,\\n          showArrow = _props.showArrow,\\n          destroyInactivePanel = _props.destroyInactivePanel,\\n          disabled = _props.disabled,\\n          accordion = _props.accordion,\\n          forceRender = _props.forceRender;\\n\\n      var headerCls = classnames_default()(prefixCls + '-header', Panel_defineProperty({}, headerClass, headerClass));\\n      var itemCls = classnames_default()((_classNames2 = {}, Panel_defineProperty(_classNames2, prefixCls + '-item', true), Panel_defineProperty(_classNames2, prefixCls + '-item-active', isActive), Panel_defineProperty(_classNames2, prefixCls + '-item-disabled', disabled), _classNames2), className);\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        { className: itemCls, style: style, id: id },\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          'div',\\n          {\\n            className: headerCls,\\n            onClick: this.handleItemClick,\\n            role: accordion ? 'tab' : 'button',\\n            tabIndex: disabled ? -1 : 0,\\n            'aria-expanded': '' + isActive,\\n            onKeyPress: this.handleKeyPress\\n          },\\n          showArrow && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('i', { className: 'arrow' }),\\n          header\\n        ),\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          es_Animate,\\n          {\\n            showProp: 'isActive',\\n            exclusive: true,\\n            component: '',\\n            animation: this.props.openAnimation\\n          },\\n          reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            es_PanelContent,\\n            {\\n              prefixCls: prefixCls,\\n              isActive: isActive,\\n              destroyInactivePanel: destroyInactivePanel,\\n              forceRender: forceRender,\\n              role: accordion ? 'tabpanel' : null\\n            },\\n            children\\n          )\\n        )\\n      );\\n    }\\n  }]);\\n\\n  return CollapsePanel;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\nPanel_CollapsePanel.propTypes = {\\n  className: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOfType([prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object]),\\n  id: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  children: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.any,\\n  openAnimation: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  prefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  header: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOfType([prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.node]),\\n  headerClass: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  showArrow: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  isActive: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  onItemClick: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  style: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  destroyInactivePanel: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  disabled: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  accordion: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  forceRender: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool\\n};\\n\\nPanel_CollapsePanel.defaultProps = {\\n  showArrow: true,\\n  isActive: false,\\n  destroyInactivePanel: false,\\n  onItemClick: function onItemClick() {},\\n\\n  headerClass: '',\\n  forceRender: false\\n};\\n\\n/* harmony default export */ var Panel = (Panel_CollapsePanel);\\n// CONCATENATED MODULE: ./node_modules/rc-collapse/es/openAnimationFactory.js\\n\\n\\nfunction openAnimationFactory_animate(node, show, transitionName, done) {\\n  var height = void 0;\\n  return es(node, transitionName, {\\n    start: function start() {\\n      if (!show) {\\n        node.style.height = node.offsetHeight + 'px';\\n      } else {\\n        height = node.offsetHeight;\\n        node.style.height = 0;\\n      }\\n    },\\n    active: function active() {\\n      node.style.height = (show ? height : 0) + 'px';\\n    },\\n    end: function end() {\\n      node.style.height = '';\\n      done();\\n    }\\n  });\\n}\\n\\nfunction openAnimationFactory_animation(prefixCls) {\\n  return {\\n    enter: function enter(node, done) {\\n      return openAnimationFactory_animate(node, true, prefixCls + '-anim', done);\\n    },\\n    leave: function leave(node, done) {\\n      return openAnimationFactory_animate(node, false, prefixCls + '-anim', done);\\n    }\\n  };\\n}\\n\\n/* harmony default export */ var openAnimationFactory = (openAnimationFactory_animation);\\n// CONCATENATED MODULE: ./node_modules/rc-collapse/es/Collapse.js\\nvar Collapse_createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\nfunction Collapse_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\\n\\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\\n\\nfunction Collapse_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction Collapse_possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return call && (typeof call === \\\"object\\\" || typeof call === \\\"function\\\") ? call : self; }\\n\\nfunction Collapse_inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function, not \\\" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\\n\\n\\n\\n\\n\\n\\n\\nfunction toArray(activeKey) {\\n  var currentActiveKey = activeKey;\\n  if (!Array.isArray(currentActiveKey)) {\\n    currentActiveKey = currentActiveKey ? [currentActiveKey] : [];\\n  }\\n  return currentActiveKey;\\n}\\n\\nvar Collapse_Collapse = function (_Component) {\\n  Collapse_inherits(Collapse, _Component);\\n\\n  function Collapse(props) {\\n    Collapse_classCallCheck(this, Collapse);\\n\\n    var _this = Collapse_possibleConstructorReturn(this, (Collapse.__proto__ || Object.getPrototypeOf(Collapse)).call(this, props));\\n\\n    var _this$props = _this.props,\\n        activeKey = _this$props.activeKey,\\n        defaultActiveKey = _this$props.defaultActiveKey;\\n\\n    var currentActiveKey = defaultActiveKey;\\n    if ('activeKey' in _this.props) {\\n      currentActiveKey = activeKey;\\n    }\\n\\n    _this.state = {\\n      openAnimation: _this.props.openAnimation || openAnimationFactory(_this.props.prefixCls),\\n      activeKey: toArray(currentActiveKey)\\n    };\\n    return _this;\\n  }\\n\\n  Collapse_createClass(Collapse, [{\\n    key: 'componentWillReceiveProps',\\n    value: function componentWillReceiveProps(nextProps) {\\n      if ('activeKey' in nextProps) {\\n        this.setState({\\n          activeKey: toArray(nextProps.activeKey)\\n        });\\n      }\\n      if ('openAnimation' in nextProps) {\\n        this.setState({\\n          openAnimation: nextProps.openAnimation\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'onClickItem',\\n    value: function onClickItem(key) {\\n      var activeKey = this.state.activeKey;\\n      if (this.props.accordion) {\\n        activeKey = activeKey[0] === key ? [] : [key];\\n      } else {\\n        activeKey = [].concat(_toConsumableArray(activeKey));\\n        var index = activeKey.indexOf(key);\\n        var isActive = index > -1;\\n        if (isActive) {\\n          // remove active state\\n          activeKey.splice(index, 1);\\n        } else {\\n          activeKey.push(key);\\n        }\\n      }\\n      this.setActiveKey(activeKey);\\n    }\\n  }, {\\n    key: 'getItems',\\n    value: function getItems() {\\n      var _this2 = this;\\n\\n      var activeKey = this.state.activeKey;\\n      var _props = this.props,\\n          prefixCls = _props.prefixCls,\\n          accordion = _props.accordion,\\n          destroyInactivePanel = _props.destroyInactivePanel;\\n\\n      var newChildren = [];\\n\\n      reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Children\\\"].forEach(this.props.children, function (child, index) {\\n        if (!child) return;\\n        // If there is no key provide, use the panel order as default key\\n        var key = child.key || String(index);\\n        var _child$props = child.props,\\n            header = _child$props.header,\\n            headerClass = _child$props.headerClass,\\n            disabled = _child$props.disabled;\\n\\n        var isActive = false;\\n        if (accordion) {\\n          isActive = activeKey[0] === key;\\n        } else {\\n          isActive = activeKey.indexOf(key) > -1;\\n        }\\n\\n        var props = {\\n          key: key,\\n          header: header,\\n          headerClass: headerClass,\\n          isActive: isActive,\\n          prefixCls: prefixCls,\\n          destroyInactivePanel: destroyInactivePanel,\\n          openAnimation: _this2.state.openAnimation,\\n          accordion: accordion,\\n          children: child.props.children,\\n          onItemClick: disabled ? null : function () {\\n            return _this2.onClickItem(key);\\n          }\\n        };\\n\\n        newChildren.push(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(child, props));\\n      });\\n\\n      return newChildren;\\n    }\\n  }, {\\n    key: 'setActiveKey',\\n    value: function setActiveKey(activeKey) {\\n      if (!('activeKey' in this.props)) {\\n        this.setState({ activeKey: activeKey });\\n      }\\n      this.props.onChange(this.props.accordion ? activeKey[0] : activeKey);\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _classNames;\\n\\n      var _props2 = this.props,\\n          prefixCls = _props2.prefixCls,\\n          className = _props2.className,\\n          style = _props2.style,\\n          accordion = _props2.accordion;\\n\\n      var collapseClassName = classnames_default()((_classNames = {}, Collapse_defineProperty(_classNames, prefixCls, true), Collapse_defineProperty(_classNames, className, !!className), _classNames));\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        { className: collapseClassName, style: style, role: accordion ? 'tablist' : null },\\n        this.getItems()\\n      );\\n    }\\n  }]);\\n\\n  return Collapse;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\nCollapse_Collapse.propTypes = {\\n  children: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.any,\\n  prefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  activeKey: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOfType([prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.arrayOf(prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string)]),\\n  defaultActiveKey: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOfType([prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.arrayOf(prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string)]),\\n  openAnimation: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  onChange: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  accordion: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  className: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  style: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  destroyInactivePanel: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool\\n};\\n\\nCollapse_Collapse.defaultProps = {\\n  prefixCls: 'rc-collapse',\\n  onChange: function onChange() {},\\n\\n  accordion: false,\\n  destroyInactivePanel: false\\n};\\n\\nCollapse_Collapse.Panel = Panel;\\n\\n/* harmony default export */ var es_Collapse = (Collapse_Collapse);\\n// CONCATENATED MODULE: ./node_modules/rc-collapse/es/index.js\\n\\n\\n/* harmony default export */ var rc_collapse_es = (es_Collapse);\\nvar es_Panel = es_Collapse.Panel;\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/accordion/index.js\\n\\n\\n\\n\\n\\n\\n\\nvar accordion_Accordion = function (_React$Component) {\\n    inherits_default()(Accordion, _React$Component);\\n\\n    function Accordion() {\\n        classCallCheck_default()(this, Accordion);\\n\\n        return possibleConstructorReturn_default()(this, (Accordion.__proto__ || Object.getPrototypeOf(Accordion)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Accordion, [{\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(rc_collapse_es, this.props);\\n        }\\n    }]);\\n\\n    return Accordion;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_accordion = (accordion_Accordion);\\n\\naccordion_Accordion.Panel = es_Panel;\\naccordion_Accordion.defaultProps = {\\n    prefixCls: 'am-accordion'\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-dialog/es/LazyRenderBox.js\\n\\n\\n\\n\\n\\n\\n\\nvar LazyRenderBox_LazyRenderBox = function (_React$Component) {\\n    inherits_default()(LazyRenderBox, _React$Component);\\n\\n    function LazyRenderBox() {\\n        classCallCheck_default()(this, LazyRenderBox);\\n\\n        return possibleConstructorReturn_default()(this, (LazyRenderBox.__proto__ || Object.getPrototypeOf(LazyRenderBox)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(LazyRenderBox, [{\\n        key: \\\"shouldComponentUpdate\\\",\\n        value: function shouldComponentUpdate(nextProps) {\\n            return !!nextProps.hiddenClassName || !!nextProps.visible;\\n        }\\n    }, {\\n        key: \\\"render\\\",\\n        value: function render() {\\n            var className = this.props.className;\\n            if (!!this.props.hiddenClassName && !this.props.visible) {\\n                className += \\\" \\\" + this.props.hiddenClassName;\\n            }\\n            var props = extends_default()({}, this.props);\\n            delete props.hiddenClassName;\\n            delete props.visible;\\n            props.className = className;\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"div\\\", extends_default()({}, props));\\n        }\\n    }]);\\n\\n    return LazyRenderBox;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_LazyRenderBox = (LazyRenderBox_LazyRenderBox);\\n// CONCATENATED MODULE: ./node_modules/rmc-dialog/es/Dialog.js\\n\\n\\n\\n\\n\\n\\n\\n\\nfunction Dialog_noop() {}\\n\\nvar Dialog_Dialog = function (_React$Component) {\\n    inherits_default()(Dialog, _React$Component);\\n\\n    function Dialog() {\\n        classCallCheck_default()(this, Dialog);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Dialog.__proto__ || Object.getPrototypeOf(Dialog)).apply(this, arguments));\\n\\n        _this.getDialogElement = function () {\\n            var props = _this.props;\\n            var closable = props.closable;\\n            var prefixCls = props.prefixCls;\\n            var footer = void 0;\\n            if (props.footer) {\\n                footer = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"div\\\", { className: prefixCls + '-footer', ref: function ref(el) {\\n                        return _this.footerRef = el;\\n                    } }, props.footer);\\n            }\\n            var header = void 0;\\n            if (props.title) {\\n                header = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"div\\\", { className: prefixCls + '-header', ref: function ref(el) {\\n                        return _this.headerRef = el;\\n                    } }, reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"div\\\", { className: prefixCls + '-title' }, props.title));\\n            }\\n            var closer = void 0;\\n            if (closable) {\\n                closer = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"button\\\", { onClick: _this.close, \\\"aria-label\\\": \\\"Close\\\", className: prefixCls + '-close' }, reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"span\\\", { className: prefixCls + '-close-x' }));\\n            }\\n            var transitionName = _this.getTransitionName();\\n            var dialogElement = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_LazyRenderBox, { key: \\\"dialog-element\\\", role: \\\"document\\\", ref: function ref(el) {\\n                    return _this.dialogRef = el;\\n                }, style: props.style || {}, className: prefixCls + ' ' + (props.className || ''), visible: props.visible }, reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"div\\\", { className: prefixCls + '-content' }, closer, header, reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"div\\\", { className: prefixCls + '-body', style: props.bodyStyle, ref: function ref(el) {\\n                    return _this.bodyRef = el;\\n                } }, props.children), footer));\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Animate, { key: \\\"dialog\\\", showProp: \\\"visible\\\", onAppear: _this.onAnimateAppear, onLeave: _this.onAnimateLeave, transitionName: transitionName, component: \\\"\\\", transitionAppear: true }, dialogElement);\\n        };\\n        _this.onAnimateAppear = function () {\\n            document.body.style.overflow = 'hidden';\\n        };\\n        _this.onAnimateLeave = function () {\\n            document.body.style.overflow = '';\\n            if (_this.wrapRef) {\\n                _this.wrapRef.style.display = 'none';\\n            }\\n            if (_this.props.onAnimateLeave) {\\n                _this.props.onAnimateLeave();\\n            }\\n            if (_this.props.afterClose) {\\n                _this.props.afterClose();\\n            }\\n        };\\n        _this.close = function (e) {\\n            if (_this.props.onClose) {\\n                _this.props.onClose(e);\\n            }\\n        };\\n        _this.onMaskClick = function (e) {\\n            if (e.target === e.currentTarget) {\\n                _this.close(e);\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Dialog, [{\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            // fix: react@16 no dismissing animation\\n            document.body.style.overflow = '';\\n            if (this.wrapRef) {\\n                this.wrapRef.style.display = 'none';\\n            }\\n        }\\n    }, {\\n        key: 'getZIndexStyle',\\n        value: function getZIndexStyle() {\\n            var style = {};\\n            var props = this.props;\\n            if (props.zIndex !== undefined) {\\n                style.zIndex = props.zIndex;\\n            }\\n            return style;\\n        }\\n    }, {\\n        key: 'getWrapStyle',\\n        value: function getWrapStyle() {\\n            var wrapStyle = this.props.wrapStyle || {};\\n            return extends_default()({}, this.getZIndexStyle(), wrapStyle);\\n        }\\n    }, {\\n        key: 'getMaskStyle',\\n        value: function getMaskStyle() {\\n            var maskStyle = this.props.maskStyle || {};\\n            return extends_default()({}, this.getZIndexStyle(), maskStyle);\\n        }\\n    }, {\\n        key: 'getMaskTransitionName',\\n        value: function getMaskTransitionName() {\\n            var props = this.props;\\n            var transitionName = props.maskTransitionName;\\n            var animation = props.maskAnimation;\\n            if (!transitionName && animation) {\\n                transitionName = props.prefixCls + '-' + animation;\\n            }\\n            return transitionName;\\n        }\\n    }, {\\n        key: 'getTransitionName',\\n        value: function getTransitionName() {\\n            var props = this.props;\\n            var transitionName = props.transitionName;\\n            var animation = props.animation;\\n            if (!transitionName && animation) {\\n                transitionName = props.prefixCls + '-' + animation;\\n            }\\n            return transitionName;\\n        }\\n    }, {\\n        key: 'getMaskElement',\\n        value: function getMaskElement() {\\n            var props = this.props;\\n            var maskElement = void 0;\\n            if (props.mask) {\\n                var maskTransition = this.getMaskTransitionName();\\n                maskElement = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_LazyRenderBox, extends_default()({ style: this.getMaskStyle(), key: \\\"mask-element\\\", className: props.prefixCls + '-mask', hiddenClassName: props.prefixCls + '-mask-hidden', visible: props.visible }, props.maskProps));\\n                if (maskTransition) {\\n                    maskElement = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Animate, { key: \\\"mask\\\", showProp: \\\"visible\\\", transitionAppear: true, component: \\\"\\\", transitionName: maskTransition }, maskElement);\\n                }\\n            }\\n            return maskElement;\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var props = this.props;\\n            var prefixCls = props.prefixCls,\\n                maskClosable = props.maskClosable;\\n\\n            var style = this.getWrapStyle();\\n            if (props.visible) {\\n                style.display = null;\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"div\\\", null, this.getMaskElement(), reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"div\\\", extends_default()({ className: prefixCls + '-wrap ' + (props.wrapClassName || ''), ref: function ref(el) {\\n                    return _this2.wrapRef = el;\\n                }, onClick: maskClosable ? this.onMaskClick : undefined, role: \\\"dialog\\\", \\\"aria-labelledby\\\": props.title, style: style }, props.wrapProps), this.getDialogElement()));\\n        }\\n    }]);\\n\\n    return Dialog;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_Dialog = (Dialog_Dialog);\\n\\nDialog_Dialog.defaultProps = {\\n    afterClose: Dialog_noop,\\n    className: '',\\n    mask: true,\\n    visible: false,\\n    closable: true,\\n    maskClosable: true,\\n    prefixCls: 'rmc-dialog',\\n    onClose: Dialog_noop\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-dialog/es/DialogWrap.js\\n\\n\\n\\n\\n\\n\\n\\n\\nfunction DialogWrap_noop() {}\\nvar IS_REACT_16 = !!react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createPortal;\\nvar CAN_USE_DOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\\n\\nvar DialogWrap_DialogWrap = function (_React$Component) {\\n    inherits_default()(DialogWrap, _React$Component);\\n\\n    function DialogWrap() {\\n        classCallCheck_default()(this, DialogWrap);\\n\\n        var _this = possibleConstructorReturn_default()(this, (DialogWrap.__proto__ || Object.getPrototypeOf(DialogWrap)).apply(this, arguments));\\n\\n        _this.saveRef = function (node) {\\n            if (IS_REACT_16) {\\n                _this._component = node;\\n            }\\n        };\\n        _this.getComponent = function (visible) {\\n            var props = extends_default()({}, _this.props);\\n            ['visible', 'onAnimateLeave'].forEach(function (key) {\\n                if (props.hasOwnProperty(key)) {\\n                    delete props[key];\\n                }\\n            });\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Dialog, extends_default()({}, props, { visible: visible, onAnimateLeave: _this.removeContainer, ref: _this.saveRef }));\\n        };\\n        _this.removeContainer = function () {\\n            if (_this.container) {\\n                if (!IS_REACT_16) {\\n                    react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unmountComponentAtNode(_this.container);\\n                }\\n                _this.container.parentNode.removeChild(_this.container);\\n                _this.container = null;\\n            }\\n        };\\n        _this.getContainer = function () {\\n            if (!_this.container) {\\n                var container = document.createElement('div');\\n                var containerId = _this.props.prefixCls + '-container-' + new Date().getTime();\\n                container.setAttribute('id', containerId);\\n                document.body.appendChild(container);\\n                _this.container = container;\\n            }\\n            return _this.container;\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(DialogWrap, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            if (this.props.visible) {\\n                this.componentDidUpdate();\\n            }\\n        }\\n    }, {\\n        key: 'shouldComponentUpdate',\\n        value: function shouldComponentUpdate(_ref) {\\n            var visible = _ref.visible;\\n\\n            return !!(this.props.visible || visible);\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            if (this.props.visible) {\\n                if (!IS_REACT_16) {\\n                    this.renderDialog(false);\\n                } else {\\n                    // TODO for react@16 createPortal animation\\n                    this.removeContainer();\\n                }\\n            } else {\\n                this.removeContainer();\\n            }\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate() {\\n            if (!IS_REACT_16) {\\n                this.renderDialog(this.props.visible);\\n            }\\n        }\\n    }, {\\n        key: 'renderDialog',\\n        value: function renderDialog(visible) {\\n            react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unstable_renderSubtreeIntoContainer(this, this.getComponent(visible), this.getContainer());\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            if (!CAN_USE_DOM) {\\n                return null;\\n            }\\n            var visible = this.props.visible;\\n\\n            if (IS_REACT_16 && (visible || this._component)) {\\n                return react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createPortal(this.getComponent(visible), this.getContainer());\\n            }\\n            return null;\\n        }\\n    }]);\\n\\n    return DialogWrap;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_DialogWrap = (DialogWrap_DialogWrap);\\n\\nDialogWrap_DialogWrap.defaultProps = {\\n    visible: false,\\n    prefixCls: 'rmc-dialog',\\n    onClose: DialogWrap_noop\\n};\\n// EXTERNAL MODULE: ./node_modules/rmc-feedback/es/index.js + 1 modules\\nvar rmc_feedback_es = __webpack_require__(\\\"uJlo\\\");\\n\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/_util/getDataAttr.js\\n/* harmony default export */ var getDataAttr = (function (props) {\\n    return Object.keys(props).reduce(function (prev, key) {\\n        if (key.substr(0, 5) === 'aria-' || key.substr(0, 5) === 'data-' || key === 'role') {\\n            prev[key] = props[key];\\n        }\\n        return prev;\\n    }, {});\\n});\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/badge/index.js\\n\\n\\n\\n\\n\\n\\nvar __rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nvar badge_Badge = function (_React$Component) {\\n    inherits_default()(Badge, _React$Component);\\n\\n    function Badge() {\\n        classCallCheck_default()(this, Badge);\\n\\n        return possibleConstructorReturn_default()(this, (Badge.__proto__ || Object.getPrototypeOf(Badge)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Badge, [{\\n        key: 'render',\\n        value: function render() {\\n            var _classnames, _classnames2;\\n\\n            // tslint:disable:prefer-const\\n            var _a = this.props,\\n                className = _a.className,\\n                prefixCls = _a.prefixCls,\\n                children = _a.children,\\n                text = _a.text,\\n                size = _a.size,\\n                overflowCount = _a.overflowCount,\\n                dot = _a.dot,\\n                corner = _a.corner,\\n                hot = _a.hot,\\n                restProps = __rest(_a, [\\\"className\\\", \\\"prefixCls\\\", \\\"children\\\", \\\"text\\\", \\\"size\\\", \\\"overflowCount\\\", \\\"dot\\\", \\\"corner\\\", \\\"hot\\\"]);\\n            overflowCount = overflowCount;\\n            text = typeof text === 'number' && text > overflowCount ? overflowCount + '+' : text;\\n            // dot mode don't need text\\n            if (dot) {\\n                text = '';\\n            }\\n            var scrollNumberCls = classnames_default()((_classnames = {}, defineProperty_default()(_classnames, prefixCls + '-dot', dot), defineProperty_default()(_classnames, prefixCls + '-dot-large', dot && size === 'large'), defineProperty_default()(_classnames, prefixCls + '-text', !dot && !corner), defineProperty_default()(_classnames, prefixCls + '-corner', corner), defineProperty_default()(_classnames, prefixCls + '-corner-large', corner && size === 'large'), _classnames));\\n            var badgeCls = classnames_default()(prefixCls, className, (_classnames2 = {}, defineProperty_default()(_classnames2, prefixCls + '-not-a-wrapper', !children), defineProperty_default()(_classnames2, prefixCls + '-corner-wrapper', corner), defineProperty_default()(_classnames2, prefixCls + '-hot', !!hot), defineProperty_default()(_classnames2, prefixCls + '-corner-wrapper-large', corner && size === 'large'), _classnames2));\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'span',\\n                { className: badgeCls },\\n                children,\\n                (text || dot) &&\\n                // tslint:disable-next-line:jsx-no-multiline-js\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'sup',\\n                    extends_default()({ className: scrollNumberCls }, restProps),\\n                    text\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return Badge;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_badge = (badge_Badge);\\n\\nbadge_Badge.defaultProps = {\\n    prefixCls: 'am-badge',\\n    size: 'small',\\n    overflowCount: 99,\\n    dot: false,\\n    corner: false\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/action-sheet/index.js\\n\\n\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\n\\n\\n\\nvar NORMAL = 'NORMAL';\\nvar SHARE = 'SHARE';\\n// tslint:disable-next-line:no-empty\\nfunction action_sheet_noop() {}\\nvar queue = [];\\nfunction createActionSheet(flag, config, callback) {\\n    var props = extends_default()({ prefixCls: 'am-action-sheet', cancelButtonText: '' }, config);\\n    var prefixCls = props.prefixCls,\\n        className = props.className,\\n        transitionName = props.transitionName,\\n        maskTransitionName = props.maskTransitionName,\\n        _props$maskClosable = props.maskClosable,\\n        maskClosable = _props$maskClosable === undefined ? true : _props$maskClosable;\\n\\n    var div = document.createElement('div');\\n    document.body.appendChild(div);\\n    queue.push(close);\\n    function close() {\\n        if (div) {\\n            react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unmountComponentAtNode(div);\\n            if (div.parentNode) {\\n                div.parentNode.removeChild(div);\\n            }\\n            var index = queue.indexOf(close);\\n            if (index !== -1) {\\n                queue.splice(index, 1);\\n            }\\n        }\\n    }\\n    function cb(index) {\\n        var rowIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\\n\\n        var res = callback(index, rowIndex);\\n        if (res && res.then) {\\n            res.then(function () {\\n                close();\\n            });\\n        } else {\\n            close();\\n        }\\n    }\\n    var title = props.title,\\n        message = props.message,\\n        options = props.options,\\n        destructiveButtonIndex = props.destructiveButtonIndex,\\n        cancelButtonIndex = props.cancelButtonIndex,\\n        cancelButtonText = props.cancelButtonText,\\n        _props$badges = props.badges,\\n        badges = _props$badges === undefined ? [] : _props$badges;\\n\\n    var titleMsg = [title ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'h3',\\n        { key: '0', className: prefixCls + '-title' },\\n        title\\n    ) : null, message ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        { key: '1', className: prefixCls + '-message' },\\n        message\\n    ) : null];\\n    var children = null;\\n    var mode = 'normal';\\n    switch (flag) {\\n        case NORMAL:\\n            mode = 'normal';\\n            var normalOptions = options;\\n            var badgesMap = {};\\n            if (badges && badges.length > 0) {\\n                badges.forEach(function (element) {\\n                    if (element.index >= 0) {\\n                        badgesMap[element.index] = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_badge, element);\\n                    }\\n                });\\n            }\\n            children = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                getDataAttr(props),\\n                titleMsg,\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-button-list', role: 'group' },\\n                    normalOptions.map(function (item, index) {\\n                        var _classnames;\\n\\n                        var itemProps = {\\n                            className: classnames_default()(prefixCls + '-button-list-item', (_classnames = {}, defineProperty_default()(_classnames, prefixCls + '-destructive-button', destructiveButtonIndex === index), defineProperty_default()(_classnames, prefixCls + '-cancel-button', cancelButtonIndex === index), _classnames)),\\n                            onClick: function onClick() {\\n                                return cb(index);\\n                            },\\n                            role: 'button'\\n                        };\\n                        var bContent = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'div',\\n                            itemProps,\\n                            item\\n                        );\\n                        // dom\\n                        if (badgesMap[index]) {\\n                            bContent = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                                'div',\\n                                extends_default()({}, itemProps, { className: itemProps.className + ' ' + prefixCls + '-button-list-badge' }),\\n                                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                                    'span',\\n                                    { className: prefixCls + '-button-list-item-content' },\\n                                    item\\n                                ),\\n                                badgesMap[index]\\n                            );\\n                        }\\n                        var bItem = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            rmc_feedback_es[\\\"default\\\"],\\n                            { key: index, activeClassName: prefixCls + '-button-list-item-active' },\\n                            bContent\\n                        );\\n                        if (cancelButtonIndex === index || destructiveButtonIndex === index) {\\n                            bItem = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                                rmc_feedback_es[\\\"default\\\"],\\n                                { key: index, activeClassName: prefixCls + '-button-list-item-active' },\\n                                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                                    'div',\\n                                    itemProps,\\n                                    item,\\n                                    cancelButtonIndex === index ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', { className: prefixCls + '-cancel-button-mask' }) : null\\n                                )\\n                            );\\n                        }\\n                        return bItem;\\n                    })\\n                )\\n            );\\n            break;\\n        case SHARE:\\n            mode = 'share';\\n            var multipleLine = options.length && Array.isArray(options[0]) || false;\\n            var createList = function createList(item, index) {\\n                var rowIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-share-list-item', role: 'button', key: index, onClick: function onClick() {\\n                            return cb(index, rowIndex);\\n                        } },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-share-list-item-icon' },\\n                        item.icon\\n                    ),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-share-list-item-title' },\\n                        item.title\\n                    )\\n                );\\n            };\\n            children = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                getDataAttr(props),\\n                titleMsg,\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-share' },\\n                    multipleLine ? options.map(function (item, index) {\\n                        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'div',\\n                            { key: index, className: prefixCls + '-share-list' },\\n                            item.map(function (ii, ind) {\\n                                return createList(ii, ind, index);\\n                            })\\n                        );\\n                    }) : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-share-list' },\\n                        options.map(function (item, index) {\\n                            return createList(item, index);\\n                        })\\n                    ),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        rmc_feedback_es[\\\"default\\\"],\\n                        { activeClassName: prefixCls + '-share-cancel-button-active' },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'div',\\n                            { className: prefixCls + '-share-cancel-button', role: 'button', onClick: function onClick() {\\n                                    return cb(-1);\\n                                } },\\n                            cancelButtonText\\n                        )\\n                    )\\n                )\\n            );\\n            break;\\n        default:\\n            break;\\n    }\\n    var rootCls = classnames_default()(prefixCls + '-' + mode, className);\\n    react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.render(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        es_DialogWrap,\\n        { visible: true, title: '', footer: '', prefixCls: prefixCls, className: rootCls, transitionName: transitionName || 'am-slide-up', maskTransitionName: maskTransitionName || 'am-fade', onClose: function onClose() {\\n                return cb(cancelButtonIndex || -1);\\n            }, maskClosable: maskClosable, wrapProps: props.wrapProps || {} },\\n        children\\n    ), div);\\n    return {\\n        close: close\\n    };\\n}\\n/* harmony default export */ var action_sheet = ({\\n    showActionSheetWithOptions: function showActionSheetWithOptions(config) {\\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : action_sheet_noop;\\n\\n        createActionSheet(NORMAL, config, callback);\\n    },\\n    showShareActionSheetWithOptions: function showShareActionSheetWithOptions(config) {\\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : action_sheet_noop;\\n\\n        createActionSheet(SHARE, config, callback);\\n    },\\n    close: function close() {\\n        queue.forEach(function (q) {\\n            return q();\\n        });\\n    }\\n});\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/activity-indicator/index.js\\n\\n\\n\\n\\n\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\nvar activity_indicator_ActivityIndicator = function (_React$Component) {\\n    inherits_default()(ActivityIndicator, _React$Component);\\n\\n    function ActivityIndicator() {\\n        classCallCheck_default()(this, ActivityIndicator);\\n\\n        return possibleConstructorReturn_default()(this, (ActivityIndicator.__proto__ || Object.getPrototypeOf(ActivityIndicator)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(ActivityIndicator, [{\\n        key: 'render',\\n        value: function render() {\\n            var _classnames;\\n\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                className = _props.className,\\n                animating = _props.animating,\\n                toast = _props.toast,\\n                size = _props.size,\\n                text = _props.text;\\n\\n            var wrapClass = classnames_default()(prefixCls, className, (_classnames = {}, defineProperty_default()(_classnames, prefixCls + '-lg', size === 'large'), defineProperty_default()(_classnames, prefixCls + '-sm', size === 'small'), defineProperty_default()(_classnames, prefixCls + '-toast', !!toast), _classnames));\\n            var spinnerClass = classnames_default()(prefixCls + '-spinner', defineProperty_default()({}, prefixCls + '-spinner-lg', !!toast || size === 'large'));\\n            if (animating) {\\n                if (toast) {\\n                    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: wrapClass },\\n                        text ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'div',\\n                            { className: prefixCls + '-content' },\\n                            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', { className: spinnerClass, 'aria-hidden': 'true' }),\\n                            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                                'span',\\n                                { className: prefixCls + '-toast' },\\n                                text\\n                            )\\n                        ) : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'div',\\n                            { className: prefixCls + '-content' },\\n                            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', { className: spinnerClass, 'aria-label': 'Loading' })\\n                        )\\n                    );\\n                } else {\\n                    return text ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: wrapClass },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', { className: spinnerClass, 'aria-hidden': 'true' }),\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'span',\\n                            { className: prefixCls + '-tip' },\\n                            text\\n                        )\\n                    ) : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: wrapClass },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', { className: spinnerClass, 'aria-label': 'loading' })\\n                    );\\n                }\\n            } else {\\n                return null;\\n            }\\n        }\\n    }]);\\n\\n    return ActivityIndicator;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var activity_indicator = (activity_indicator_ActivityIndicator);\\n\\nactivity_indicator_ActivityIndicator.defaultProps = {\\n    prefixCls: 'am-activity-indicator',\\n    animating: true,\\n    size: 'small',\\n    panelColor: 'rgba(34,34,34,0.6)',\\n    toast: false\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/icon/loadSprite.js\\n/* tslint:disable:max-line-length */\\n// inspried by https://github.com/kisenka/svg-sprite-loader/blob/master/runtime/browser-sprite.js\\n// Much simplified, do make sure run this after document ready\\nvar svgSprite = function svgSprite(contents) {\\n    return '\\\\n  <svg\\\\n    xmlns=\\\"http://www.w3.org/2000/svg\\\"\\\\n    xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\\\n    id=\\\"__ANTD_MOBILE_SVG_SPRITE_NODE__\\\"\\\\n    style=\\\"position:absolute;width:0;height:0\\\"\\\\n  >\\\\n    <defs>\\\\n      ' + contents + '\\\\n    </defs>\\\\n  </svg>\\\\n';\\n};\\n// both minified by https://github.com/svg/svgo\\nvar icons = {\\n    check: '<svg viewBox=\\\"0 0 44 44\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M34.538 8L38 11.518 17.808 32 8 22.033l3.462-3.518 6.346 6.45z\\\"/></svg>',\\n    'check-circle': '<svg viewBox=\\\"0 0 48 48\\\"><path d=\\\"M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zM13.1 23.2l-2.2 2.1 10 9.9L38.1 15l-2.2-2-15.2 17.8-7.6-7.6z\\\" fill-rule=\\\"evenodd\\\"/></svg>',\\n    'check-circle-o': '<svg viewBox=\\\"0 0 48 48\\\"><g fill-rule=\\\"evenodd\\\"><path d=\\\"M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zm0-3c11.598 0 21-9.402 21-21S35.598 3 24 3 3 12.402 3 24s9.402 21 21 21z\\\"/><path d=\\\"M12.2 23.2L10 25.3l10 9.9L37.2 15 35 13 19.8 30.8z\\\"/></g></svg>',\\n    cross: '<svg viewBox=\\\"0 0 44 44\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M24.008 21.852l8.97-8.968L31.092 11l-8.97 8.968L13.157 11l-1.884 1.884 8.968 8.968-9.24 9.24 1.884 1.885 9.24-9.24 9.24 9.24 1.885-1.884-9.24-9.24z\\\"/></svg>',\\n    'cross-circle': '<svg viewBox=\\\"0 0 48 48\\\"><g fill-rule=\\\"evenodd\\\"><path d=\\\"M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zm0-3c11.598 0 21-9.402 21-21S35.598 3 24 3 3 12.402 3 24s9.402 21 21 21z\\\"/><path d=\\\"M24.34 22.22l-7.775-7.775a1.5 1.5 0 1 0-2.12 2.12l7.773 7.775-7.774 7.775a1.5 1.5 0 1 0 2.12 2.12l7.775-7.773 7.774 7.774a1.5 1.5 0 1 0 2.12-2.12L26.46 24.34l7.774-7.774a1.5 1.5 0 1 0-2.12-2.12l-7.776 7.773z\\\"/></g></svg>',\\n    'cross-circle-o': '<svg viewBox=\\\"0 0 48 48\\\"><path d=\\\"M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zm.353-25.77l-7.593-7.593c-.797-.8-1.538-.822-2.263-.207-.724.614-.56 1.617-.124 2.067l7.852 7.847-7.72 7.723c-.727.728-.56 1.646-.066 2.177.493.532 1.553.683 2.31-.174l7.588-7.584 7.644 7.623c.796.798 1.608.724 2.21.145.605-.58.72-1.442-.074-2.24l-7.657-7.67 7.545-7.52c.81-.697.9-1.76.297-2.34-.92-.885-1.85-.338-2.264.078l-7.685 7.667z\\\" fill-rule=\\\"evenodd\\\"/></svg>',\\n    // Todo: simplify direction to 2, use css transform\\n    left: '<svg viewBox=\\\"0 0 44 44\\\"><defs><path id=\\\"a\\\" d=\\\"M-129-845h24v24h-24z\\\"/></defs><clipPath id=\\\"b\\\"><use xlink:href=\\\"#a\\\" overflow=\\\"visible\\\"/></clipPath><g clip-path=\\\"url(#b)\\\"><defs><path id=\\\"c\\\" d=\\\"M-903-949H947V996H-903z\\\"/></defs></g><path d=\\\"M16.247 21.4L28.48 9.165l2.12 2.12-10.117 10.12L30.6 31.524l-2.12 2.12-12.233-12.232.007-.006z\\\"/></svg>',\\n    right: '<svg viewBox=\\\"0 0 44 44\\\"><defs><path id=\\\"a\\\" d=\\\"M-129-845h24v24h-24z\\\"/></defs><clipPath id=\\\"b\\\"><use xlink:href=\\\"#a\\\" overflow=\\\"visible\\\"/></clipPath><g clip-path=\\\"url(#b)\\\"><defs><path id=\\\"c\\\" d=\\\"M-903-949H947V996H-903z\\\"/></defs></g><path d=\\\"M30.6 21.4L18.37 9.165l-2.12 2.12 10.117 10.12-10.118 10.118 2.12 2.12 12.234-12.232-.005-.006z\\\"/></svg>',\\n    down: '<svg viewBox=\\\"0 0 44 44\\\"><path d=\\\"M22.355 28.237l-11.483-10.9c-.607-.576-1.714-.396-2.48.41l.674-.71c-.763.802-.73 2.07-.282 2.496l11.37 10.793-.04.04 2.088 2.195L23.3 31.52l12.308-11.682c.447-.425.48-1.694-.282-2.496l.674.71c-.766-.806-1.873-.986-2.48-.41L22.355 28.237z\\\" fill-rule=\\\"evenodd\\\"/></svg>',\\n    up: '<svg viewBox=\\\"0 0 44 44\\\"><path fill=\\\"none\\\" d=\\\"M-1-1h46v46H-1z\\\"/><defs><path id=\\\"a\\\" d=\\\"M-129-845h24v24h-24z\\\"/></defs><clipPath id=\\\"b\\\"><use xlink:href=\\\"#a\\\"/></clipPath><g clip-path=\\\"url(#b)\\\"><defs><path id=\\\"c\\\" d=\\\"M-903-949H947V996H-903z\\\"/></defs></g><path d=\\\"M23.417 14.23L11.184 26.46l2.12 2.12 10.12-10.117 10.118 10.118 2.12-2.12L23.43 14.228l-.006.005z\\\"/></svg>',\\n    loading: '<svg viewBox=\\\"0 -2 59.75 60.25\\\"><path fill=\\\"#ccc\\\" d=\\\"M29.69-.527C14.044-.527 1.36 12.158 1.36 27.806S14.043 56.14 29.69 56.14c15.65 0 28.334-12.686 28.334-28.334S45.34-.527 29.69-.527zm.185 53.75c-14.037 0-25.417-11.38-25.417-25.417S15.838 2.39 29.875 2.39s25.417 11.38 25.417 25.417-11.38 25.416-25.417 25.416z\\\"/><path fill=\\\"none\\\" stroke=\\\"#108ee9\\\" stroke-width=\\\"3\\\" stroke-linecap=\\\"round\\\" stroke-miterlimit=\\\"10\\\" d=\\\"M56.587 29.766c.37-7.438-1.658-14.7-6.393-19.552\\\"/></svg>',\\n    search: '<svg viewBox=\\\"0 0 44 44\\\"><path d=\\\"M32.98 29.255l8.915 8.293L39.603 40l-8.86-8.242a15.952 15.952 0 0 1-10.753 4.147C11.16 35.905 4 28.763 4 19.952 4 11.142 11.16 4 19.99 4s15.99 7.142 15.99 15.952c0 3.472-1.112 6.685-3 9.303zm.05-9.21c0 7.123-5.7 12.918-12.88 12.918-7.176 0-13.015-5.795-13.015-12.918 0-7.12 5.84-12.917 13.017-12.917 7.178 0 12.88 5.797 12.88 12.917z\\\" fill-rule=\\\"evenodd\\\"/></svg>',\\n    ellipsis: '<svg viewBox=\\\"0 0 44 44\\\"><circle cx=\\\"21.888\\\" cy=\\\"22\\\" r=\\\"4.045\\\"/><circle cx=\\\"5.913\\\" cy=\\\"22\\\" r=\\\"4.045\\\"/><circle cx=\\\"37.863\\\" cy=\\\"22\\\" r=\\\"4.045\\\"/></svg>',\\n    'ellipsis-circle': '<svg viewBox=\\\"0 0 44 44\\\"><g fill-rule=\\\"evenodd\\\"><path d=\\\"M22.13.11C10.05.11.255 9.902.255 21.983S10.05 43.86 22.13 43.86s21.875-9.795 21.875-21.876S34.21.11 22.13.11zm0 40.7c-10.396 0-18.825-8.43-18.825-18.826S11.735 3.16 22.13 3.16c10.396 0 18.825 8.428 18.825 18.824S32.525 40.81 22.13 40.81z\\\"/><circle cx=\\\"21.888\\\" cy=\\\"22.701\\\" r=\\\"2.445\\\"/><circle cx=\\\"12.23\\\" cy=\\\"22.701\\\" r=\\\"2.445\\\"/><circle cx=\\\"31.546\\\" cy=\\\"22.701\\\" r=\\\"2.445\\\"/></g></svg>',\\n    'exclamation-circle': '<svg viewBox=\\\"0 0 64 64\\\"><path d=\\\"M59.58 40.89L41.193 9.11C39.135 5.382 35.723 3 31.387 3c-3.11 0-6.52 2.382-8.58 6.11L4.42 40.89c-2.788 4.635-3.126 8.81-1.225 12.22C5.015 56.208 7.572 58 13 58h36.773c5.428 0 9.21-1.792 11.03-4.89 1.9-3.41 1.565-7.583-1.224-12.22zm-2.452 11c-.635 1.694-3.802 2.443-7.354 2.443H13c-3.59 0-5.493-.75-6.13-2.444-1.71-2.41-1.374-5.263 0-8.557l18.387-31.777c2.116-3.168 4.394-4.89 6.13-4.89 2.96 0 5.238 1.722 7.354 4.89l18.387 31.777c1.374 3.294 1.713 6.146 0 8.556zm-25.74-33c-.405 0-1.227.835-1.227 2.443v15.89c0 1.608.823 2.444 1.227 2.444 1.628 0 2.452-.836 2.452-2.445v-15.89c0-1.607-.825-2.443-2.453-2.443zm0 23.22c-.405 0-1.227.79-1.227 1.223v2.445c0 .434.823 1.222 1.227 1.222 1.628 0 2.452-.788 2.452-1.222v-2.445c0-.434-.825-1.222-2.453-1.222z\\\" fill-rule=\\\"evenodd\\\"/></svg>',\\n    'info-circle': '<svg viewBox=\\\"0 0 44 44\\\"><circle cx=\\\"13.828\\\" cy=\\\"19.63\\\" r=\\\"1.938\\\"/><circle cx=\\\"21.767\\\" cy=\\\"19.63\\\" r=\\\"1.938\\\"/><circle cx=\\\"29.767\\\" cy=\\\"19.63\\\" r=\\\"1.938\\\"/><path d=\\\"M22.102 4.16c-9.918 0-17.958 7.147-17.958 15.962 0 4.935 2.522 9.345 6.48 12.273v5.667l.04.012a2.627 2.627 0 1 0 4.5 1.455h.002l5.026-3.54c.628.06 1.265.094 1.91.094 9.92 0 17.96-7.146 17.96-15.96C40.06 11.306 32.02 4.16 22.1 4.16zm-.04 29.902c-.902 0-1.78-.08-2.642-.207l-5.882 4.234c-.024.024-.055.04-.083.06l-.008.005a.51.51 0 0 1-.284.095.525.525 0 0 1-.525-.525l.005-6.375c-3.91-2.516-6.456-6.544-6.456-11.1 0-7.628 7.107-13.812 15.875-13.812s15.875 6.184 15.875 13.812-7.107 13.812-15.875 13.812z\\\"/></svg>',\\n    'question-circle': '<svg viewBox=\\\"0 0 44 44\\\"><g fill-rule=\\\"evenodd\\\"><path d=\\\"M21.186 3c-10.853 0-19.36 8.506-19.36 19.358C1.827 32.494 10.334 41 21.187 41c10.133 0 18.64-8.506 18.64-18.642C39.827 11.506 31.32 3 21.187 3m15.64 19c0 8.823-7.178 16-16 16s-16-7.177-16-16 7.178-16 16-16 16 7.177 16 16z\\\"/><path d=\\\"M22.827 31.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m4-15.48c0 .957-.203 1.822-.61 2.593-.427.792-1.117 1.612-2.073 2.457-.867.734-1.453 1.435-1.754 2.096-.302.7-.453 1.693-.453 2.98a.828.828 0 0 1-.823.854.828.828 0 0 1-.584-.22.877.877 0 0 1-.24-.635c0-1.305.168-2.38.506-3.227.336-.883.93-1.682 1.78-2.4 1.01-.883 1.71-1.692 2.1-2.428.336-.645.503-1.38.503-2.21-.02-.935-.3-1.7-.85-2.288-.655-.717-1.62-1.075-2.897-1.075-1.506 0-2.596.535-3.27 1.6-.46.754-.688 1.645-.688 2.677a.92.92 0 0 1-.266.66.747.747 0 0 1-.56.25.73.73 0 0 1-.584-.194c-.16-.164-.24-.393-.24-.69 0-1.82.585-3.272 1.755-4.357C18.645 11.486 19.928 11 21.434 11h.293c1.452 0 2.638.414 3.56 1.24 1.028.903 1.54 2.163 1.54 3.78z\\\"/></g></svg>',\\n    voice: '<svg viewBox=\\\"0 0 38 33\\\"><g fill-rule=\\\"evenodd\\\"><path d=\\\"M17.838 28.8c-.564-.468-1.192-.983-1.836-1.496-4.244-3.385-5.294-3.67-6.006-3.67-.014 0-.027.005-.04.005-.015 0-.028-.006-.042-.006H3.562c-.734 0-.903-.203-.903-.928v-12.62c0-.49.057-.8.66-.8H9.1c.694 0 1.76-.28 6.4-3.63.83-.596 1.638-1.196 2.337-1.722V28.8zM19.682.19c-.463-.22-1.014-.158-1.417.157-.02.016-1.983 1.552-4.152 3.125C10.34 6.21 9.243 6.664 9.02 6.737H3.676c-.027 0-.053.003-.08.004H1.183c-.608 0-1.1.487-1.1 1.086V25.14c0 .598.492 1.084 1.1 1.084h8.71c.22.08 1.257.55 4.605 3.24 1.947 1.562 3.694 3.088 3.712 3.103.25.22.568.333.89.333.186 0 .373-.038.55-.116.48-.213.79-.684.79-1.204V1.38c0-.506-.294-.968-.758-1.19z\\\" mask=\\\"url(#mask-2)\\\"/><path d=\\\"M31.42 16.475c0-3.363-1.854-6.297-4.606-7.876-.125-.067-.42-.193-.625-.193-.613 0-1.11.488-1.11 1.09 0 .404.22.764.55.952 2.13 1.19 3.566 3.44 3.566 6.024 0 2.627-1.486 4.913-3.677 6.087-.32.19-.53.54-.53.935 0 .602.495 1.09 1.106 1.09.26.002.568-.15.568-.15 2.835-1.556 4.754-4.538 4.754-7.96\\\" mask=\\\"url(#mask-4)\\\"/><path d=\\\"M30.14 3.057c-.205-.122-.41-.22-.658-.22-.608 0-1.1.485-1.1 1.084 0 .434.26.78.627.978 4.042 2.323 6.76 6.636 6.76 11.578 0 4.938-2.715 9.248-6.754 11.572-.354.19-.66.55-.66.993 0 .6.494 1.085 1.102 1.085.243 0 .438-.092.65-.213 4.692-2.695 7.848-7.7 7.848-13.435 0-5.723-3.142-10.718-7.817-13.418\\\" mask=\\\"url(#mask-6)\\\"/></g></svg>',\\n    plus: '<svg viewBox=\\\"0 0 30 30\\\"><path d=\\\"M14 14H0v2h14v14h2V16h14v-2H16V0h-2v14z\\\" fill-rule=\\\"evenodd\\\"/></svg>',\\n    minus: '<svg viewBox=\\\"0 0 30 2\\\"><path d=\\\"M0 0h30v2H0z\\\" fill-rule=\\\"evenodd\\\"/></svg>',\\n    dislike: '<svg viewBox=\\\"0 0 72 72\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M36 72c19.882 0 36-16.118 36-36S55.882 0 36 0 0 16.118 0 36s16.118 36 36 36zm0-2c18.778 0 34-15.222 34-34S54.778 2 36 2 2 17.222 2 36s15.222 34 34 34z\\\" fill=\\\"#FFF\\\"/><path fill=\\\"#FFF\\\" d=\\\"M47 22h2v6h-2zm-24 0h2v6h-2z\\\"/><path d=\\\"M21 51s4.6-7 15-7 15 7 15 7\\\" stroke=\\\"#FFF\\\" stroke-width=\\\"2\\\"/></g></svg>',\\n    fail: '<svg viewBox=\\\"0 0 72 72\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M36 72c19.882 0 36-16.118 36-36S55.882 0 36 0 0 16.118 0 36s16.118 36 36 36zm0-2c18.778 0 34-15.222 34-34S54.778 2 36 2 2 17.222 2 36s15.222 34 34 34z\\\" fill=\\\"#FFF\\\"/><path d=\\\"M22 22l28.304 28.304m-28.304 0L50.304 22\\\" stroke=\\\"#FFF\\\" stroke-width=\\\"2\\\"/></g></svg>',\\n    success: '<svg viewBox=\\\"0 0 72 72\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M36 72c19.882 0 36-16.118 36-36S55.882 0 36 0 0 16.118 0 36s16.118 36 36 36zm0-2c18.778 0 34-15.222 34-34S54.778 2 36 2 2 17.222 2 36s15.222 34 34 34z\\\" fill=\\\"#FFF\\\"/><path stroke=\\\"#FFF\\\" stroke-width=\\\"2\\\" d=\\\"M19 34.54l11.545 11.923L52.815 24\\\"/></g></svg>'\\n};\\nvar renderSvgSprite = function renderSvgSprite() {\\n    var symbols = Object.keys(icons).map(function (iconName) {\\n        var svgContent = icons[iconName].split('svg')[1];\\n        return '<symbol id=' + iconName + svgContent + 'symbol>';\\n    }).join('');\\n    return svgSprite(symbols);\\n};\\nvar loadSprite = function loadSprite() {\\n    if (!document) {\\n        return;\\n    }\\n    var existing = document.getElementById('__ANTD_MOBILE_SVG_SPRITE_NODE__');\\n    var mountNode = document.body;\\n    if (!existing) {\\n        mountNode.insertAdjacentHTML('afterbegin', renderSvgSprite());\\n    }\\n};\\n/* harmony default export */ var icon_loadSprite = (loadSprite);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/icon/index.js\\n\\n\\n\\n\\n\\nvar icon_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\nvar icon_Icon = function (_React$Component) {\\n    inherits_default()(Icon, _React$Component);\\n\\n    function Icon() {\\n        classCallCheck_default()(this, Icon);\\n\\n        return possibleConstructorReturn_default()(this, (Icon.__proto__ || Object.getPrototypeOf(Icon)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Icon, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            icon_loadSprite();\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                type = _a.type,\\n                className = _a.className,\\n                size = _a.size,\\n                restProps = icon_rest(_a, [\\\"type\\\", \\\"className\\\", \\\"size\\\"]);\\n            var cls = classnames_default()(className, 'am-icon', 'am-icon-' + type, 'am-icon-' + size);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'svg',\\n                extends_default()({ className: cls }, restProps),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('use', { xlinkHref: '#' + type })\\n            );\\n        }\\n    }]);\\n\\n    return Icon;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_icon = (icon_Icon);\\n\\nicon_Icon.defaultProps = {\\n    size: 'md'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/button/index.js\\n\\n\\n\\n\\n\\n\\nvar button_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\nvar rxTwoCNChar = /^[\\\\u4e00-\\\\u9fa5]{2}$/;\\nvar isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\\nfunction isString(str) {\\n    return typeof str === 'string';\\n}\\n// Insert one space between two chinese characters automatically.\\nfunction insertSpace(child) {\\n    if (isString(child.type) && isTwoCNChar(child.props.children)) {\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(child, {}, child.props.children.split('').join(' '));\\n    }\\n    if (isString(child)) {\\n        if (isTwoCNChar(child)) {\\n            child = child.split('').join(' ');\\n        }\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            'span',\\n            null,\\n            child\\n        );\\n    }\\n    return child;\\n}\\n\\nvar button_Button = function (_React$Component) {\\n    inherits_default()(Button, _React$Component);\\n\\n    function Button() {\\n        classCallCheck_default()(this, Button);\\n\\n        return possibleConstructorReturn_default()(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Button, [{\\n        key: 'render',\\n        value: function render() {\\n            var _classnames;\\n\\n            var _a = this.props,\\n                children = _a.children,\\n                className = _a.className,\\n                prefixCls = _a.prefixCls,\\n                type = _a.type,\\n                size = _a.size,\\n                inline = _a.inline,\\n                disabled = _a.disabled,\\n                icon = _a.icon,\\n                loading = _a.loading,\\n                activeStyle = _a.activeStyle,\\n                activeClassName = _a.activeClassName,\\n                onClick = _a.onClick,\\n                restProps = button_rest(_a, [\\\"children\\\", \\\"className\\\", \\\"prefixCls\\\", \\\"type\\\", \\\"size\\\", \\\"inline\\\", \\\"disabled\\\", \\\"icon\\\", \\\"loading\\\", \\\"activeStyle\\\", \\\"activeClassName\\\", \\\"onClick\\\"]);\\n            var iconType = loading ? 'loading' : icon;\\n            var wrapCls = classnames_default()(prefixCls, className, (_classnames = {}, defineProperty_default()(_classnames, prefixCls + '-primary', type === 'primary'), defineProperty_default()(_classnames, prefixCls + '-ghost', type === 'ghost'), defineProperty_default()(_classnames, prefixCls + '-warning', type === 'warning'), defineProperty_default()(_classnames, prefixCls + '-small', size === 'small'), defineProperty_default()(_classnames, prefixCls + '-inline', inline), defineProperty_default()(_classnames, prefixCls + '-disabled', disabled), defineProperty_default()(_classnames, prefixCls + '-loading', loading), defineProperty_default()(_classnames, prefixCls + '-icon', !!iconType), _classnames));\\n            var kids = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.map(children, insertSpace);\\n            var iconEl = void 0;\\n            if (typeof iconType === 'string') {\\n                iconEl = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_icon, { 'aria-hidden': 'true', type: iconType, size: size === 'small' ? 'xxs' : 'md', className: prefixCls + '-icon' });\\n            } else if (iconType) {\\n                var rawCls = iconType.props && iconType.props.className;\\n                var cls = classnames_default()('am-icon', prefixCls + '-icon', size === 'small' ? 'am-icon-xxs' : 'am-icon-md');\\n                iconEl = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(iconType, {\\n                    className: rawCls ? rawCls + ' ' + cls : cls\\n                });\\n            }\\n            // use div, button native is buggy @yiminghe\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_feedback_es[\\\"default\\\"]\\n                // tslint:disable-next-line:jsx-no-multiline-js\\n                ,\\n                { activeClassName: activeClassName || (activeStyle ? prefixCls + '-active' : undefined), disabled: disabled, activeStyle: activeStyle },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'a',\\n                    extends_default()({ role: 'button', className: wrapCls }, restProps, { onClick: disabled ? undefined : onClick, 'aria-disabled': disabled }),\\n                    iconEl,\\n                    kids\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return Button;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nbutton_Button.defaultProps = {\\n    prefixCls: 'am-button',\\n    size: 'large',\\n    inline: false,\\n    disabled: false,\\n    loading: false,\\n    activeStyle: {}\\n};\\n/* harmony default export */ var es_button = (button_Button);\\n// CONCATENATED MODULE: ./node_modules/rmc-picker/es/MultiPickerMixin.js\\n\\n\\n\\n\\n\\n\\n/* harmony default export */ var MultiPickerMixin = (function (ComposedComponent) {\\n    return _a = function (_React$Component) {\\n        inherits_default()(_a, _React$Component);\\n\\n        function _a() {\\n            classCallCheck_default()(this, _a);\\n\\n            var _this = possibleConstructorReturn_default()(this, (_a.__proto__ || Object.getPrototypeOf(_a)).apply(this, arguments));\\n\\n            _this.getValue = function () {\\n                var _this$props = _this.props,\\n                    children = _this$props.children,\\n                    selectedValue = _this$props.selectedValue;\\n\\n                if (selectedValue && selectedValue.length) {\\n                    return selectedValue;\\n                } else {\\n                    if (!children) {\\n                        return [];\\n                    }\\n                    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.map(children, function (c) {\\n                        var cc = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.toArray(c.children || c.props.children);\\n                        return cc && cc[0] && cc[0].props.value;\\n                    });\\n                }\\n            };\\n            _this.onChange = function (i, v, cb) {\\n                var value = _this.getValue().concat();\\n                value[i] = v;\\n                if (cb) {\\n                    cb(value, i);\\n                }\\n            };\\n            _this.onValueChange = function (i, v) {\\n                _this.onChange(i, v, _this.props.onValueChange);\\n            };\\n            _this.onScrollChange = function (i, v) {\\n                _this.onChange(i, v, _this.props.onScrollChange);\\n            };\\n            return _this;\\n        }\\n\\n        createClass_default()(_a, [{\\n            key: 'render',\\n            value: function render() {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(ComposedComponent, extends_default()({}, this.props, { getValue: this.getValue, onValueChange: this.onValueChange, onScrollChange: this.props.onScrollChange && this.onScrollChange }));\\n            }\\n        }]);\\n\\n        return _a;\\n    }(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component), _a.defaultProps = {\\n        prefixCls: 'rmc-multi-picker',\\n        onValueChange: function onValueChange() {}\\n    }, _a;\\n    var _a;\\n});\\n;\\n// CONCATENATED MODULE: ./node_modules/rmc-picker/es/MultiPicker.js\\n\\n\\n\\n\\nvar MultiPicker_MultiPicker = function MultiPicker(props) {\\n    var prefixCls = props.prefixCls,\\n        className = props.className,\\n        rootNativeProps = props.rootNativeProps,\\n        children = props.children,\\n        style = props.style;\\n\\n    var selectedValue = props.getValue();\\n    var colElements = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.map(children, function (col, i) {\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(col, {\\n            selectedValue: selectedValue[i],\\n            onValueChange: function onValueChange() {\\n                for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\\n                    args[_key] = arguments[_key];\\n                }\\n\\n                return props.onValueChange.apply(props, [i].concat(args));\\n            },\\n            onScrollChange: props.onScrollChange && function () {\\n                for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\\n                    args[_key2] = arguments[_key2];\\n                }\\n\\n                return props.onScrollChange.apply(props, [i].concat(args));\\n            }\\n        });\\n    });\\n    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        extends_default()({}, rootNativeProps, { style: style, className: classnames_default()(className, prefixCls) }),\\n        colElements\\n    );\\n};\\n/* harmony default export */ var es_MultiPicker = (MultiPickerMixin(MultiPicker_MultiPicker));\\n// EXTERNAL MODULE: ./node_modules/rmc-picker/lib/Picker.js\\nvar lib_Picker = __webpack_require__(\\\"+oAO\\\");\\nvar Picker_default = /*#__PURE__*/__webpack_require__.n(lib_Picker);\\n\\n// CONCATENATED MODULE: ./node_modules/rmc-date-picker/es/locale/en_US.js\\n/* harmony default export */ var en_US = ({\\n    year: '',\\n    month: '',\\n    day: '',\\n    hour: '',\\n    minute: '',\\n    am: 'AM',\\n    pm: 'PM'\\n});\\n// CONCATENATED MODULE: ./node_modules/rmc-date-picker/es/DatePicker.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfunction getDaysInMonth(date) {\\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\\n}\\nfunction pad(n) {\\n    return n < 10 ? '0' + n : n + '';\\n}\\nfunction cloneDate(date) {\\n    return new Date(+date);\\n}\\nfunction setMonth(date, month) {\\n    date.setDate(Math.min(date.getDate(), getDaysInMonth(new Date(date.getFullYear(), month))));\\n    date.setMonth(month);\\n}\\nvar DATETIME = 'datetime';\\nvar DATE = 'date';\\nvar TIME = 'time';\\nvar MONTH = 'month';\\nvar YEAR = 'year';\\nvar ONE_DAY = 24 * 60 * 60 * 1000;\\n\\nvar DatePicker_DatePicker = function (_React$Component) {\\n    inherits_default()(DatePicker, _React$Component);\\n\\n    function DatePicker() {\\n        classCallCheck_default()(this, DatePicker);\\n\\n        var _this = possibleConstructorReturn_default()(this, (DatePicker.__proto__ || Object.getPrototypeOf(DatePicker)).apply(this, arguments));\\n\\n        _this.state = {\\n            date: _this.props.date || _this.props.defaultDate\\n        };\\n        _this.getNewDate = function (values, index) {\\n            var value = parseInt(values[index], 10);\\n            var props = _this.props;\\n            var mode = props.mode;\\n\\n            var newValue = cloneDate(_this.getDate());\\n            if (mode === DATETIME || mode === DATE || mode === YEAR || mode === MONTH) {\\n                switch (index) {\\n                    case 0:\\n                        newValue.setFullYear(value);\\n                        break;\\n                    case 1:\\n                                                                        setMonth(newValue, value);\\n                        break;\\n                    case 2:\\n                        newValue.setDate(value);\\n                        break;\\n                    case 3:\\n                        _this.setHours(newValue, value);\\n                        break;\\n                    case 4:\\n                        newValue.setMinutes(value);\\n                        break;\\n                    case 5:\\n                        _this.setAmPm(newValue, value);\\n                        break;\\n                    default:\\n                        break;\\n                }\\n            } else if (mode === TIME) {\\n                switch (index) {\\n                    case 0:\\n                        _this.setHours(newValue, value);\\n                        break;\\n                    case 1:\\n                        newValue.setMinutes(value);\\n                        break;\\n                    case 2:\\n                        _this.setAmPm(newValue, value);\\n                        break;\\n                    default:\\n                        break;\\n                }\\n            }\\n            return _this.clipDate(newValue);\\n        };\\n        _this.onValueChange = function (values, index) {\\n            var props = _this.props;\\n            var newValue = _this.getNewDate(values, index);\\n            if (!('date' in props)) {\\n                _this.setState({\\n                    date: newValue\\n                });\\n            }\\n            if (props.onDateChange) {\\n                props.onDateChange(newValue);\\n            }\\n            if (props.onValueChange) {\\n                props.onValueChange(values, index);\\n            }\\n        };\\n        _this.onScrollChange = function (values, index) {\\n            var props = _this.props;\\n            if (props.onScrollChange) {\\n                var newValue = _this.getNewDate(values, index);\\n                props.onScrollChange(newValue, values, index);\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(DatePicker, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if ('date' in nextProps) {\\n                this.setState({\\n                    date: nextProps.date || nextProps.defaultDate\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'setHours',\\n        value: function setHours(date, hour) {\\n            if (this.props.use12Hours) {\\n                var dh = date.getHours();\\n                var nhour = hour;\\n                nhour = dh >= 12 ? hour + 12 : hour;\\n                nhour = nhour >= 24 ? 0 : nhour;                 date.setHours(nhour);\\n            } else {\\n                date.setHours(hour);\\n            }\\n        }\\n    }, {\\n        key: 'setAmPm',\\n        value: function setAmPm(date, index) {\\n            if (index === 0) {\\n                date.setTime(+date - ONE_DAY / 2);\\n            } else {\\n                date.setTime(+date + ONE_DAY / 2);\\n            }\\n        }\\n    }, {\\n        key: 'getDefaultMinDate',\\n        value: function getDefaultMinDate() {\\n            if (!this.defaultMinDate) {\\n                this.defaultMinDate = new Date(2000, 1, 1, 0, 0, 0);\\n            }\\n            return this.defaultMinDate;\\n        }\\n    }, {\\n        key: 'getDefaultMaxDate',\\n        value: function getDefaultMaxDate() {\\n            if (!this.defaultMaxDate) {\\n                this.defaultMaxDate = new Date(2030, 1, 1, 23, 59, 59);\\n            }\\n            return this.defaultMaxDate;\\n        }\\n    }, {\\n        key: 'getDate',\\n        value: function getDate() {\\n            return this.clipDate(this.state.date || this.getDefaultMinDate());\\n        }\\n        \\n    }, {\\n        key: 'getValue',\\n        value: function getValue() {\\n            return this.getDate();\\n        }\\n    }, {\\n        key: 'getMinYear',\\n        value: function getMinYear() {\\n            return this.getMinDate().getFullYear();\\n        }\\n    }, {\\n        key: 'getMaxYear',\\n        value: function getMaxYear() {\\n            return this.getMaxDate().getFullYear();\\n        }\\n    }, {\\n        key: 'getMinMonth',\\n        value: function getMinMonth() {\\n            return this.getMinDate().getMonth();\\n        }\\n    }, {\\n        key: 'getMaxMonth',\\n        value: function getMaxMonth() {\\n            return this.getMaxDate().getMonth();\\n        }\\n    }, {\\n        key: 'getMinDay',\\n        value: function getMinDay() {\\n            return this.getMinDate().getDate();\\n        }\\n    }, {\\n        key: 'getMaxDay',\\n        value: function getMaxDay() {\\n            return this.getMaxDate().getDate();\\n        }\\n    }, {\\n        key: 'getMinHour',\\n        value: function getMinHour() {\\n            return this.getMinDate().getHours();\\n        }\\n    }, {\\n        key: 'getMaxHour',\\n        value: function getMaxHour() {\\n            return this.getMaxDate().getHours();\\n        }\\n    }, {\\n        key: 'getMinMinute',\\n        value: function getMinMinute() {\\n            return this.getMinDate().getMinutes();\\n        }\\n    }, {\\n        key: 'getMaxMinute',\\n        value: function getMaxMinute() {\\n            return this.getMaxDate().getMinutes();\\n        }\\n    }, {\\n        key: 'getMinDate',\\n        value: function getMinDate() {\\n            return this.props.minDate || this.getDefaultMinDate();\\n        }\\n    }, {\\n        key: 'getMaxDate',\\n        value: function getMaxDate() {\\n            return this.props.maxDate || this.getDefaultMaxDate();\\n        }\\n    }, {\\n        key: 'getDateData',\\n        value: function getDateData() {\\n            var _props = this.props,\\n                locale = _props.locale,\\n                formatMonth = _props.formatMonth,\\n                formatDay = _props.formatDay,\\n                mode = _props.mode;\\n\\n            var date = this.getDate();\\n            var selYear = date.getFullYear();\\n            var selMonth = date.getMonth();\\n            var minDateYear = this.getMinYear();\\n            var maxDateYear = this.getMaxYear();\\n            var minDateMonth = this.getMinMonth();\\n            var maxDateMonth = this.getMaxMonth();\\n            var minDateDay = this.getMinDay();\\n            var maxDateDay = this.getMaxDay();\\n            var years = [];\\n            for (var i = minDateYear; i <= maxDateYear; i++) {\\n                years.push({\\n                    value: i + '',\\n                    label: i + locale.year + ''\\n                });\\n            }\\n            var yearCol = { key: 'year', props: { children: years } };\\n            if (mode === YEAR) {\\n                return [yearCol];\\n            }\\n            var months = [];\\n            var minMonth = 0;\\n            var maxMonth = 11;\\n            if (minDateYear === selYear) {\\n                minMonth = minDateMonth;\\n            }\\n            if (maxDateYear === selYear) {\\n                maxMonth = maxDateMonth;\\n            }\\n            for (var _i = minMonth; _i <= maxMonth; _i++) {\\n                var label = formatMonth ? formatMonth(_i, date) : _i + 1 + locale.month + '';\\n                months.push({\\n                    value: _i + '',\\n                    label: label\\n                });\\n            }\\n            var monthCol = { key: 'month', props: { children: months } };\\n            if (mode === MONTH) {\\n                return [yearCol, monthCol];\\n            }\\n            var days = [];\\n            var minDay = 1;\\n            var maxDay = getDaysInMonth(date);\\n            if (minDateYear === selYear && minDateMonth === selMonth) {\\n                minDay = minDateDay;\\n            }\\n            if (maxDateYear === selYear && maxDateMonth === selMonth) {\\n                maxDay = maxDateDay;\\n            }\\n            for (var _i2 = minDay; _i2 <= maxDay; _i2++) {\\n                var _label = formatDay ? formatDay(_i2, date) : _i2 + locale.day + '';\\n                days.push({\\n                    value: _i2 + '',\\n                    label: _label\\n                });\\n            }\\n            return [yearCol, monthCol, { key: 'day', props: { children: days } }];\\n        }\\n    }, {\\n        key: 'getDisplayHour',\\n        value: function getDisplayHour(rawHour) {\\n                        if (this.props.use12Hours) {\\n                if (rawHour === 0) {\\n                    rawHour = 12;\\n                }\\n                if (rawHour > 12) {\\n                    rawHour -= 12;\\n                }\\n                return rawHour;\\n            }\\n            return rawHour;\\n        }\\n    }, {\\n        key: 'getTimeData',\\n        value: function getTimeData(date) {\\n            var minHour = 0;\\n            var maxHour = 23;\\n            var minMinute = 0;\\n            var maxMinute = 59;\\n            var _props2 = this.props,\\n                mode = _props2.mode,\\n                locale = _props2.locale,\\n                minuteStep = _props2.minuteStep,\\n                use12Hours = _props2.use12Hours;\\n\\n            var minDateMinute = this.getMinMinute();\\n            var maxDateMinute = this.getMaxMinute();\\n            var minDateHour = this.getMinHour();\\n            var maxDateHour = this.getMaxHour();\\n            var hour = date.getHours();\\n            if (mode === DATETIME) {\\n                var year = date.getFullYear();\\n                var month = date.getMonth();\\n                var day = date.getDate();\\n                var minDateYear = this.getMinYear();\\n                var maxDateYear = this.getMaxYear();\\n                var minDateMonth = this.getMinMonth();\\n                var maxDateMonth = this.getMaxMonth();\\n                var minDateDay = this.getMinDay();\\n                var maxDateDay = this.getMaxDay();\\n                if (minDateYear === year && minDateMonth === month && minDateDay === day) {\\n                    minHour = minDateHour;\\n                    if (minDateHour === hour) {\\n                        minMinute = minDateMinute;\\n                    }\\n                }\\n                if (maxDateYear === year && maxDateMonth === month && maxDateDay === day) {\\n                    maxHour = maxDateHour;\\n                    if (maxDateHour === hour) {\\n                        maxMinute = maxDateMinute;\\n                    }\\n                }\\n            } else {\\n                minHour = minDateHour;\\n                if (minDateHour === hour) {\\n                    minMinute = minDateMinute;\\n                }\\n                maxHour = maxDateHour;\\n                if (maxDateHour === hour) {\\n                    maxMinute = maxDateMinute;\\n                }\\n            }\\n            var hours = [];\\n            if (minHour === 0 && maxHour === 0 || minHour !== 0 && maxHour !== 0) {\\n                minHour = this.getDisplayHour(minHour);\\n            } else if (minHour === 0 && use12Hours) {\\n                minHour = 1;\\n                hours.push({ value: '0', label: locale.hour ? '12' + locale.hour : '12' });\\n            }\\n            maxHour = this.getDisplayHour(maxHour);\\n            for (var i = minHour; i <= maxHour; i++) {\\n                hours.push({\\n                    value: i + '',\\n                    label: locale.hour ? i + locale.hour + '' : pad(i)\\n                });\\n            }\\n            var minutes = [];\\n            var selMinute = date.getMinutes();\\n            for (var _i3 = minMinute; _i3 <= maxMinute; _i3 += minuteStep) {\\n                minutes.push({\\n                    value: _i3 + '',\\n                    label: locale.minute ? _i3 + locale.minute + '' : pad(_i3)\\n                });\\n                if (selMinute > _i3 && selMinute < _i3 + minuteStep) {\\n                    minutes.push({\\n                        value: selMinute + '',\\n                        label: locale.minute ? selMinute + locale.minute + '' : pad(selMinute)\\n                    });\\n                }\\n            }\\n            var cols = [{ key: 'hours', props: { children: hours } }, { key: 'minutes', props: { children: minutes } }].concat(use12Hours ? [{\\n                key: 'ampm',\\n                props: { children: [{ value: '0', label: locale.am }, { value: '1', label: locale.pm }] }\\n            }] : []);\\n            return { cols: cols, selMinute: selMinute };\\n        }\\n    }, {\\n        key: 'clipDate',\\n        value: function clipDate(date) {\\n            var mode = this.props.mode;\\n\\n            var minDate = this.getMinDate();\\n            var maxDate = this.getMaxDate();\\n            if (mode === DATETIME) {\\n                if (date < minDate) {\\n                    return cloneDate(minDate);\\n                }\\n                if (date > maxDate) {\\n                    return cloneDate(maxDate);\\n                }\\n            } else if (mode === DATE || mode === YEAR || mode === MONTH) {\\n                                if (+date + ONE_DAY <= minDate) {\\n                    return cloneDate(minDate);\\n                }\\n                if (date >= +maxDate + ONE_DAY) {\\n                    return cloneDate(maxDate);\\n                }\\n            } else if (mode === TIME) {\\n                var maxHour = maxDate.getHours();\\n                var maxMinutes = maxDate.getMinutes();\\n                var minHour = minDate.getHours();\\n                var minMinutes = minDate.getMinutes();\\n                var hour = date.getHours();\\n                var minutes = date.getMinutes();\\n                if (hour < minHour || hour === minHour && minutes < minMinutes) {\\n                    return cloneDate(minDate);\\n                }\\n                if (hour > maxHour || hour === maxHour && minutes > maxMinutes) {\\n                    return cloneDate(maxDate);\\n                }\\n            }\\n            return date;\\n        }\\n    }, {\\n        key: 'getValueCols',\\n        value: function getValueCols() {\\n            var _props3 = this.props,\\n                mode = _props3.mode,\\n                use12Hours = _props3.use12Hours;\\n\\n            var date = this.getDate();\\n            var cols = [];\\n            var value = [];\\n            if (mode === YEAR) {\\n                return {\\n                    cols: this.getDateData(),\\n                    value: [date.getFullYear() + '']\\n                };\\n            }\\n            if (mode === MONTH) {\\n                return {\\n                    cols: this.getDateData(),\\n                    value: [date.getFullYear() + '', date.getMonth() + '']\\n                };\\n            }\\n            if (mode === DATETIME || mode === DATE) {\\n                cols = this.getDateData();\\n                value = [date.getFullYear() + '', date.getMonth() + '', date.getDate() + ''];\\n            }\\n            if (mode === DATETIME || mode === TIME) {\\n                var time = this.getTimeData(date);\\n                cols = cols.concat(time.cols);\\n                var hour = date.getHours();\\n                var dtValue = [hour + '', time.selMinute + ''];\\n                var nhour = hour;\\n                if (use12Hours) {\\n                    nhour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;\\n                    dtValue = [nhour + '', time.selMinute + '', (hour >= 12 ? 1 : 0) + ''];\\n                }\\n                value = value.concat(dtValue);\\n            }\\n            return {\\n                value: value,\\n                cols: cols\\n            };\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _getValueCols = this.getValueCols(),\\n                value = _getValueCols.value,\\n                cols = _getValueCols.cols;\\n\\n            var _props4 = this.props,\\n                disabled = _props4.disabled,\\n                pickerPrefixCls = _props4.pickerPrefixCls,\\n                prefixCls = _props4.prefixCls,\\n                rootNativeProps = _props4.rootNativeProps,\\n                className = _props4.className,\\n                style = _props4.style,\\n                itemStyle = _props4.itemStyle;\\n\\n            var multiStyle = extends_default()({ flexDirection: 'row', alignItems: 'center' }, style);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_MultiPicker, { style: multiStyle, rootNativeProps: rootNativeProps, className: className, prefixCls: prefixCls, selectedValue: value, onValueChange: this.onValueChange, onScrollChange: this.onScrollChange }, cols.map(function (p) {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(Picker_default.a, { style: { flex: 1 }, key: p.key, disabled: disabled, prefixCls: pickerPrefixCls, itemStyle: itemStyle }, p.props.children.map(function (item) {\\n                    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(Picker_default.a.Item, { key: item.value, value: item.value }, item.label);\\n                }));\\n            }));\\n        }\\n    }]);\\n\\n    return DatePicker;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nDatePicker_DatePicker.defaultProps = {\\n    prefixCls: 'rmc-date-picker',\\n    pickerPrefixCls: 'rmc-picker',\\n    locale: en_US,\\n    mode: DATE,\\n    disabled: false,\\n    minuteStep: 1,\\n    onDateChange: function onDateChange() {},\\n\\n    use12Hours: false\\n};\\n/* harmony default export */ var es_DatePicker = (DatePicker_DatePicker);\\n// CONCATENATED MODULE: ./node_modules/rmc-date-picker/es/index.js\\n\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/TimePicker.js\\n\\n\\n\\n\\n\\n\\nvar TimePicker_TimePicker = function (_React$PureComponent) {\\n    inherits_default()(TimePicker, _React$PureComponent);\\n\\n    function TimePicker() {\\n        classCallCheck_default()(this, TimePicker);\\n\\n        var _this = possibleConstructorReturn_default()(this, _React$PureComponent.apply(this, arguments));\\n\\n        _this.onDateChange = function (date) {\\n            var onValueChange = _this.props.onValueChange;\\n\\n            onValueChange && onValueChange(date);\\n        };\\n        return _this;\\n    }\\n\\n    TimePicker.prototype.getMinTime = function getMinTime(date) {\\n        var minDate = this.props.minDate;\\n        if (!date || date.getFullYear() > minDate.getFullYear() || date.getMonth() > minDate.getMonth() || date.getDate() > minDate.getDate()) {\\n            return TimePicker.defaultProps.minDate;\\n        }\\n        return minDate;\\n    };\\n\\n    TimePicker.prototype.getMaxTime = function getMaxTime(date) {\\n        var maxDate = this.props.maxDate;\\n        if (!date || date.getFullYear() < maxDate.getFullYear() || date.getMonth() < maxDate.getMonth() || date.getDate() < maxDate.getDate()) {\\n            return TimePicker.defaultProps.maxDate;\\n        }\\n        return maxDate;\\n    };\\n\\n    TimePicker.prototype.render = function render() {\\n        var _props = this.props,\\n            locale = _props.locale,\\n            title = _props.title,\\n            value = _props.value,\\n            defaultValue = _props.defaultValue,\\n            prefixCls = _props.prefixCls,\\n            pickerPrefixCls = _props.pickerPrefixCls,\\n            clientHeight = _props.clientHeight;\\n\\n        var date = value || defaultValue || undefined;\\n        var height = clientHeight && clientHeight * 3 / 8 - 52 || Number.POSITIVE_INFINITY;\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            'div',\\n            { className: 'time-picker' },\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: 'title' },\\n                title\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_DatePicker, { prefixCls: prefixCls, pickerPrefixCls: pickerPrefixCls, style: {\\n                    height: height > 164 || height < 0 ? 164 : height,\\n                    overflow: 'hidden'\\n                }, mode: 'time', date: date, locale: locale, minDate: this.getMinTime(date), maxDate: this.getMaxTime(date), onDateChange: this.onDateChange, use12Hours: true })\\n        );\\n    };\\n\\n    return TimePicker;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.PureComponent);\\n\\n/* harmony default export */ var es_TimePicker = (TimePicker_TimePicker);\\n\\nTimePicker_TimePicker.defaultProps = {\\n    minDate: new Date(0, 0, 0, 0, 0),\\n    maxDate: new Date(9999, 11, 31, 23, 59, 59),\\n    defaultValue: new Date(2000, 1, 1, 8)\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/date/DataTypes.js\\nvar Models;\\n(function (Models) {\\n    var SelectType = void 0;\\n    (function (SelectType) {\\n        SelectType[SelectType[\\\"None\\\"] = 0] = \\\"None\\\";\\n        /**  */\\n        SelectType[SelectType[\\\"Single\\\"] = 1] = \\\"Single\\\";\\n        /** / */\\n        SelectType[SelectType[\\\"All\\\"] = 2] = \\\"All\\\";\\n        /**   */\\n        SelectType[SelectType[\\\"Only\\\"] = 3] = \\\"Only\\\";\\n        /**  */\\n        SelectType[SelectType[\\\"Start\\\"] = 4] = \\\"Start\\\";\\n        /**  */\\n        SelectType[SelectType[\\\"Middle\\\"] = 5] = \\\"Middle\\\";\\n        /**  */\\n        SelectType[SelectType[\\\"End\\\"] = 6] = \\\"End\\\";\\n    })(SelectType = Models.SelectType || (Models.SelectType = {}));\\n})(Models || (Models = {}));\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/util/index.js\\nvar mergeDateTime = function mergeDateTime(date, time) {\\n    date = date || new Date();\\n    if (!time) return date;\\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate(), time.getHours(), time.getMinutes(), time.getSeconds());\\n};\\nvar util_formatDate = function formatDate(date, format, locale) {\\n    var week = locale && locale.week;\\n    var o = {\\n        'M+': date.getMonth() + 1,\\n        'd+': date.getDate(),\\n        'h+': date.getHours(),\\n        'm+': date.getMinutes(),\\n        's+': date.getSeconds(),\\n        'q+': Math.floor((date.getMonth() + 3) / 3),\\n        'w+': week && week[date.getDay()],\\n        'S': date.getMilliseconds()\\n    };\\n    if (/(y+)/.test(format)) format = format.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\\n    for (var k in o) {\\n        if (new RegExp('(' + k + ')').test(format)) {\\n            format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\\n        }\\n    }\\n    return format;\\n};\\nvar util_hasOwnProperty = Object.prototype.hasOwnProperty;\\nfunction is(x, y) {\\n    if (x === y) {\\n        return x !== 0 || y !== 0 || 1 / x === 1 / y;\\n    } else {\\n        return x !== x && y !== y;\\n    }\\n}\\nfunction shallowEqual(objA, objB) {\\n    var exclude = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\\n\\n    if (is(objA, objB)) {\\n        return true;\\n    }\\n    if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\\n        return false;\\n    }\\n    var keysA = Object.keys(objA);\\n    var keysB = Object.keys(objB);\\n    if (keysA.length !== keysB.length) {\\n        return false;\\n    }\\n    for (var i = 0; i < keysA.length; i++) {\\n        if (exclude.indexOf(keysA[i]) >= 0) continue;\\n        if (!util_hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\\n            return false;\\n        }\\n    }\\n    return true;\\n}\\n// EXTERNAL MODULE: ./node_modules/rmc-calendar/es/locale/zh_CN.js\\nvar zh_CN = __webpack_require__(\\\"GqFC\\\");\\n\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/DatePicker.base.js\\n\\n\\n\\n\\n\\n\\n\\n\\nvar DatePicker_base_DatePicker = function (_React$Component) {\\n    inherits_default()(DatePicker, _React$Component);\\n\\n    function DatePicker(props) {\\n        classCallCheck_default()(this, DatePicker);\\n\\n        var _this = possibleConstructorReturn_default()(this, _React$Component.call(this, props));\\n\\n        _this.visibleMonth = [];\\n        _this.getDateWithoutTime = function (date) {\\n            if (!date) return 0;\\n            return +new Date(date.getFullYear(), date.getMonth(), date.getDate());\\n        };\\n        _this.genWeekData = function (firstDate) {\\n            var minDateTime = _this.getDateWithoutTime(_this.props.minDate);\\n            var maxDateTime = _this.getDateWithoutTime(_this.props.maxDate) || Number.POSITIVE_INFINITY;\\n            var weeks = [];\\n            var nextMonth = _this.getMonthDate(firstDate, 1).firstDate;\\n            var currentDay = firstDate;\\n            var currentWeek = [];\\n            weeks.push(currentWeek);\\n            var startWeekday = currentDay.getDay();\\n            if (startWeekday > 0) {\\n                for (var i = 0; i < startWeekday; i++) {\\n                    currentWeek.push({});\\n                }\\n            }\\n            while (currentDay < nextMonth) {\\n                if (currentWeek.length === 7) {\\n                    currentWeek = [];\\n                    weeks.push(currentWeek);\\n                }\\n                var dayOfMonth = currentDay.getDate();\\n                var tick = +currentDay;\\n                currentWeek.push({\\n                    tick: tick,\\n                    dayOfMonth: dayOfMonth,\\n                    selected: Models.SelectType.None,\\n                    isFirstOfMonth: dayOfMonth === 1,\\n                    isLastOfMonth: false,\\n                    outOfDate: tick < minDateTime || tick > maxDateTime\\n                });\\n                currentDay = new Date(currentDay.getTime() + 3600 * 24 * 1000);\\n            }\\n            currentWeek[currentWeek.length - 1].isLastOfMonth = true;\\n            return weeks;\\n        };\\n        _this.selectDateRange = function (startDate, endDate) {\\n            var clear = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\\n            var _this$props = _this.props,\\n                getDateExtra = _this$props.getDateExtra,\\n                type = _this$props.type,\\n                onSelectHasDisableDate = _this$props.onSelectHasDisableDate;\\n\\n            if (type === 'one') {\\n                endDate = undefined;\\n            }\\n            var time1 = _this.getDateWithoutTime(startDate),\\n                time2 = _this.getDateWithoutTime(endDate);\\n            var startDateTick = !time2 || time1 < time2 ? time1 : time2;\\n            var endDateTick = time2 && time1 > time2 ? time1 : time2;\\n            var startMonthDate = _this.getMonthDate(new Date(startDateTick)).firstDate;\\n            var endMonthDate = endDateTick ? new Date(endDateTick) : _this.getMonthDate(new Date(startDateTick)).lastDate;\\n            var unuseable = [],\\n                needUpdate = false;\\n            _this.state.months.filter(function (m) {\\n                return m.firstDate >= startMonthDate && m.firstDate <= endMonthDate;\\n            }).forEach(function (m) {\\n                m.weeks.forEach(function (w) {\\n                    return w.filter(function (d) {\\n                        if (!endDateTick) {\\n                            return d.tick && _this.inDate(startDateTick, d.tick);\\n                        } else {\\n                            return d.tick && d.tick >= startDateTick && d.tick <= endDateTick;\\n                        }\\n                    }).forEach(function (d) {\\n                        var oldValue = d.selected;\\n                        if (clear) {\\n                            d.selected = Models.SelectType.None;\\n                        } else {\\n                            var info = getDateExtra && getDateExtra(new Date(d.tick)) || {};\\n                            if (d.outOfDate || info.disable) {\\n                                unuseable.push(d.tick);\\n                            }\\n                            if (_this.inDate(startDateTick, d.tick)) {\\n                                if (type === 'one') {\\n                                    d.selected = Models.SelectType.Single;\\n                                } else if (!endDateTick) {\\n                                    d.selected = Models.SelectType.Only;\\n                                } else if (startDateTick !== endDateTick) {\\n                                    d.selected = Models.SelectType.Start;\\n                                } else {\\n                                    d.selected = Models.SelectType.All;\\n                                }\\n                            } else if (_this.inDate(endDateTick, d.tick)) {\\n                                d.selected = Models.SelectType.End;\\n                            } else {\\n                                d.selected = Models.SelectType.Middle;\\n                            }\\n                        }\\n                        needUpdate = needUpdate || d.selected !== oldValue;\\n                    });\\n                });\\n                if (needUpdate && m.componentRef) {\\n                    m.componentRef.updateWeeks();\\n                    m.componentRef.forceUpdate();\\n                }\\n                ;\\n            });\\n            if (unuseable.length > 0) {\\n                if (onSelectHasDisableDate) {\\n                    onSelectHasDisableDate(unuseable.map(function (tick) {\\n                        return new Date(tick);\\n                    }));\\n                } else {\\n                    console.warn('Unusable date. You can handle by onSelectHasDisableDate.', unuseable);\\n                }\\n            }\\n        };\\n        _this.computeVisible = function (clientHeight, scrollTop) {\\n            var needUpdate = false;\\n            var MAX_VIEW_PORT = clientHeight * 2;\\n            var MIN_VIEW_PORT = clientHeight;\\n            // \\n            var filterFunc = function filterFunc(vm) {\\n                return vm.y && vm.height && vm.y + vm.height > scrollTop - MAX_VIEW_PORT && vm.y < scrollTop + clientHeight + MAX_VIEW_PORT;\\n            };\\n            if (_this.props.infiniteOpt && _this.visibleMonth.length > 12) {\\n                _this.visibleMonth = _this.visibleMonth.filter(filterFunc).sort(function (a, b) {\\n                    return +a.firstDate - +b.firstDate;\\n                });\\n            }\\n            // \\n            if (_this.visibleMonth.length > 0) {\\n                var last = _this.visibleMonth[_this.visibleMonth.length - 1];\\n                if (last.y !== undefined && last.height && last.y + last.height < scrollTop + clientHeight + MIN_VIEW_PORT) {\\n                    var lastIndex = _this.state.months.indexOf(last);\\n                    for (var i = 1; i <= 2; i++) {\\n                        var index = lastIndex + i;\\n                        if (index < _this.state.months.length && _this.visibleMonth.indexOf(_this.state.months[index]) < 0) {\\n                            _this.visibleMonth.push(_this.state.months[index]);\\n                        } else {\\n                            _this.canLoadNext() && _this.genMonthData(undefined, 1);\\n                        }\\n                    }\\n                    needUpdate = true;\\n                }\\n                var first = _this.visibleMonth[0];\\n                if (first.y !== undefined && first.height && first.y > scrollTop - MIN_VIEW_PORT) {\\n                    var firstIndex = _this.state.months.indexOf(first);\\n                    for (var _i = 1; _i <= 2; _i++) {\\n                        var _index = firstIndex - _i;\\n                        if (_index >= 0 && _this.visibleMonth.indexOf(_this.state.months[_index]) < 0) {\\n                            _this.visibleMonth.unshift(_this.state.months[_index]);\\n                            needUpdate = true;\\n                        }\\n                    }\\n                }\\n            } else if (_this.state.months.length > 0) {\\n                _this.visibleMonth = _this.state.months.filter(filterFunc);\\n                needUpdate = true;\\n            }\\n            return needUpdate;\\n        };\\n        _this.createOnScroll = function () {\\n            var timer = void 0;\\n            var clientHeight = 0,\\n                scrollTop = 0;\\n            return function (data) {\\n                var client = data.client,\\n                    top = data.top;\\n\\n                clientHeight = client;\\n                scrollTop = top;\\n                if (timer) {\\n                    return;\\n                }\\n                timer = setTimeout(function () {\\n                    timer = undefined;\\n                    if (_this.computeVisible(clientHeight, scrollTop)) {\\n                        _this.forceUpdate();\\n                    }\\n                }, 64);\\n            };\\n        };\\n        _this.onCellClick = function (day) {\\n            if (!day.tick) return;\\n            _this.props.onCellClick && _this.props.onCellClick(new Date(day.tick));\\n        };\\n        _this.state = {\\n            months: []\\n        };\\n        return _this;\\n    }\\n\\n    DatePicker.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState, nextContext) {\\n        return !shallowEqual(this.props, nextProps, ['startDate', 'endDate']) || !shallowEqual(this.state, nextState) || !shallowEqual(this.context, nextContext);\\n    };\\n\\n    DatePicker.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\\n        var oldValue = this.props;\\n        var newValue = nextProps;\\n        if (oldValue.startDate !== newValue.startDate || oldValue.endDate !== newValue.endDate) {\\n            if (oldValue.startDate) {\\n                this.selectDateRange(oldValue.startDate, oldValue.endDate, true);\\n            }\\n            if (newValue.startDate) {\\n                this.selectDateRange(newValue.startDate, newValue.endDate);\\n            }\\n        }\\n    };\\n\\n    DatePicker.prototype.componentWillMount = function componentWillMount() {\\n        var _props = this.props,\\n            _props$initalMonths = _props.initalMonths,\\n            initalMonths = _props$initalMonths === undefined ? 6 : _props$initalMonths,\\n            defaultDate = _props.defaultDate;\\n\\n        for (var i = 0; i < initalMonths; i++) {\\n            this.canLoadNext() && this.genMonthData(defaultDate, i);\\n        }\\n        this.visibleMonth = [].concat(this.state.months);\\n    };\\n\\n    DatePicker.prototype.getMonthDate = function getMonthDate() {\\n        var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\\n        var addMonth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\\n\\n        var y = date.getFullYear(),\\n            m = date.getMonth();\\n        return {\\n            firstDate: new Date(y, m + addMonth, 1),\\n            lastDate: new Date(y, m + 1 + addMonth, 0)\\n        };\\n    };\\n\\n    DatePicker.prototype.canLoadPrev = function canLoadPrev() {\\n        var minDate = this.props.minDate;\\n\\n        return !minDate || this.state.months.length <= 0 || +this.getMonthDate(minDate).firstDate < +this.state.months[0].firstDate;\\n    };\\n\\n    DatePicker.prototype.canLoadNext = function canLoadNext() {\\n        var maxDate = this.props.maxDate;\\n\\n        return !maxDate || this.state.months.length <= 0 || +this.getMonthDate(maxDate).firstDate > +this.state.months[this.state.months.length - 1].firstDate;\\n    };\\n\\n    DatePicker.prototype.genMonthData = function genMonthData(date) {\\n        var addMonth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\\n\\n        if (!date) {\\n            date = addMonth >= 0 ? this.state.months[this.state.months.length - 1].firstDate : this.state.months[0].firstDate;\\n        }\\n        if (!date) {\\n            date = new Date();\\n        }\\n        var locale = this.props.locale;\\n\\n        var _getMonthDate = this.getMonthDate(date, addMonth),\\n            firstDate = _getMonthDate.firstDate,\\n            lastDate = _getMonthDate.lastDate;\\n\\n        var weeks = this.genWeekData(firstDate);\\n        var title = util_formatDate(firstDate, locale ? locale.monthTitle : 'yyyy/MM', this.props.locale);\\n        var data = {\\n            title: title,\\n            firstDate: firstDate,\\n            lastDate: lastDate,\\n            weeks: weeks\\n        };\\n        data.component = this.genMonthComponent(data);\\n        if (addMonth >= 0) {\\n            this.state.months.push(data);\\n        } else {\\n            this.state.months.unshift(data);\\n        }\\n        var _props2 = this.props,\\n            startDate = _props2.startDate,\\n            endDate = _props2.endDate;\\n\\n        if (startDate) {\\n            this.selectDateRange(startDate, endDate);\\n        }\\n        return data;\\n    };\\n\\n    DatePicker.prototype.inDate = function inDate(date, tick) {\\n        return date <= tick && tick < date + 24 * 3600000;\\n    };\\n\\n    return DatePicker;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\n/* harmony default export */ var DatePicker_base = (DatePicker_base_DatePicker);\\n\\nDatePicker_base_DatePicker.defaultProps = {\\n    prefixCls: 'rmc-calendar',\\n    infinite: false,\\n    infiniteOpt: false,\\n    defaultDate: new Date(),\\n    initalMonths: 6,\\n    locale: zh_CN[\\\"default\\\"]\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/date/WeekPanel.js\\n\\n\\n\\n\\n\\nvar WeekPanel_WeekPanel = function (_React$PureComponent) {\\n    inherits_default()(WeekPanel, _React$PureComponent);\\n\\n    function WeekPanel(props) {\\n        classCallCheck_default()(this, WeekPanel);\\n\\n        return possibleConstructorReturn_default()(this, _React$PureComponent.call(this, props));\\n    }\\n\\n    WeekPanel.prototype.render = function render() {\\n        var locale = this.props.locale;\\n        var week = locale.week;\\n\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n            \\\"div\\\",\\n            { className: \\\"week-panel\\\" },\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                \\\"div\\\",\\n                { className: \\\"cell cell-grey\\\" },\\n                week[0]\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                \\\"div\\\",\\n                { className: \\\"cell\\\" },\\n                week[1]\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                \\\"div\\\",\\n                { className: \\\"cell\\\" },\\n                week[2]\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                \\\"div\\\",\\n                { className: \\\"cell\\\" },\\n                week[3]\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                \\\"div\\\",\\n                { className: \\\"cell\\\" },\\n                week[4]\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                \\\"div\\\",\\n                { className: \\\"cell\\\" },\\n                week[5]\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                \\\"div\\\",\\n                { className: \\\"cell cell-grey\\\" },\\n                week[6]\\n            )\\n        );\\n    };\\n\\n    return WeekPanel;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"PureComponent\\\"]);\\n\\n/* harmony default export */ var date_WeekPanel = (WeekPanel_WeekPanel);\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/date/SingleMonth.js\\n\\n\\n\\n\\n\\n\\nvar SingleMonth_SingleMonth = function (_React$PureComponent) {\\n    inherits_default()(SingleMonth, _React$PureComponent);\\n\\n    function SingleMonth(props) {\\n        classCallCheck_default()(this, SingleMonth);\\n\\n        var _this = possibleConstructorReturn_default()(this, _React$PureComponent.call(this, props));\\n\\n        _this.genWeek = function (weeksData, index) {\\n            var _this$props = _this.props,\\n                getDateExtra = _this$props.getDateExtra,\\n                monthData = _this$props.monthData,\\n                onCellClick = _this$props.onCellClick,\\n                locale = _this$props.locale,\\n                rowSize = _this$props.rowSize;\\n\\n            var rowCls = 'row';\\n            if (rowSize === 'xl') {\\n                rowCls += ' row-xl';\\n            }\\n            _this.state.weekComponents[index] = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                'div',\\n                { key: index, className: rowCls },\\n                weeksData.map(function (day, dayOfWeek) {\\n                    var extra = getDateExtra && getDateExtra(new Date(day.tick)) || {};\\n                    var info = extra.info;\\n                    var disable = extra.disable || day.outOfDate;\\n                    var cls = 'date';\\n                    var lCls = 'left';\\n                    var rCls = 'right';\\n                    var infoCls = 'info';\\n                    if (dayOfWeek === 0 || dayOfWeek === 6) {\\n                        cls += ' grey';\\n                    }\\n                    if (disable) {\\n                        cls += ' disable';\\n                    } else if (info) {\\n                        cls += ' important';\\n                    }\\n                    if (day.selected) {\\n                        cls += ' date-selected';\\n                        var styleType = day.selected;\\n                        switch (styleType) {\\n                            case Models.SelectType.Only:\\n                                info = locale.begin;\\n                                infoCls += ' date-selected';\\n                                break;\\n                            case Models.SelectType.All:\\n                                info = locale.begin_over;\\n                                infoCls += ' date-selected';\\n                                break;\\n                            case Models.SelectType.Start:\\n                                info = locale.begin;\\n                                infoCls += ' date-selected';\\n                                if (dayOfWeek === 6 || day.isLastOfMonth) {\\n                                    styleType = Models.SelectType.All;\\n                                }\\n                                break;\\n                            case Models.SelectType.Middle:\\n                                if (dayOfWeek === 0 || day.isFirstOfMonth) {\\n                                    if (day.isLastOfMonth || dayOfWeek === 6) {\\n                                        styleType = Models.SelectType.All;\\n                                    } else {\\n                                        styleType = Models.SelectType.Start;\\n                                    }\\n                                } else if (dayOfWeek === 6 || day.isLastOfMonth) {\\n                                    styleType = Models.SelectType.End;\\n                                }\\n                                break;\\n                            case Models.SelectType.End:\\n                                info = locale.over;\\n                                infoCls += ' date-selected';\\n                                if (dayOfWeek === 0 || day.isFirstOfMonth) {\\n                                    styleType = Models.SelectType.All;\\n                                }\\n                                break;\\n                        }\\n                        switch (styleType) {\\n                            case Models.SelectType.Single:\\n                            case Models.SelectType.Only:\\n                            case Models.SelectType.All:\\n                                cls += ' selected-single';\\n                                break;\\n                            case Models.SelectType.Start:\\n                                cls += ' selected-start';\\n                                rCls += ' date-selected';\\n                                break;\\n                            case Models.SelectType.Middle:\\n                                cls += ' selected-middle';\\n                                lCls += ' date-selected';\\n                                rCls += ' date-selected';\\n                                break;\\n                            case Models.SelectType.End:\\n                                cls += ' selected-end';\\n                                lCls += ' date-selected';\\n                                break;\\n                        }\\n                    }\\n                    var defaultContent = [reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                        'div',\\n                        { key: 'wrapper', className: 'date-wrapper' },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"]('span', { className: lCls }),\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                            'div',\\n                            { className: cls },\\n                            day.dayOfMonth\\n                        ),\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"]('span', { className: rCls })\\n                    ), reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                        'div',\\n                        { key: 'info', className: infoCls },\\n                        info\\n                    )];\\n                    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                        'div',\\n                        { key: dayOfWeek, className: 'cell ' + (extra.cellCls || ''), onClick: function onClick() {\\n                                !disable && onCellClick && onCellClick(day, monthData);\\n                            } },\\n                        extra.cellRender ? extra.cellRender(new Date(day.tick)) : defaultContent\\n                    );\\n                })\\n            );\\n        };\\n        _this.updateWeeks = function (monthData) {\\n            (monthData || _this.props.monthData).weeks.forEach(function (week, index) {\\n                _this.genWeek(week, index);\\n            });\\n        };\\n        _this.setWarpper = function (dom) {\\n            _this.wrapperDivDOM = dom;\\n        };\\n        _this.state = {\\n            weekComponents: []\\n        };\\n        return _this;\\n    }\\n\\n    SingleMonth.prototype.componentWillMount = function componentWillMount() {\\n        var _this2 = this;\\n\\n        this.props.monthData.weeks.forEach(function (week, index) {\\n            _this2.genWeek(week, index);\\n        });\\n    };\\n\\n    SingleMonth.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\\n        if (this.props.monthData !== nextProps.monthData) {\\n            this.updateWeeks(nextProps.monthData);\\n        }\\n    };\\n\\n    SingleMonth.prototype.render = function render() {\\n        var title = this.props.monthData.title;\\n        var weekComponents = this.state.weekComponents;\\n\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n            'div',\\n            { className: 'single-month', ref: this.setWarpper },\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                'div',\\n                { className: 'month-title' },\\n                title\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                'div',\\n                { className: 'date' },\\n                weekComponents\\n            )\\n        );\\n    };\\n\\n    return SingleMonth;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"PureComponent\\\"]);\\n\\n/* harmony default export */ var date_SingleMonth = (SingleMonth_SingleMonth);\\n\\nSingleMonth_SingleMonth.defaultProps = {\\n    rowSize: 'normal'\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/DatePicker.js\\n\\n\\n\\n\\n\\n\\n\\n\\nvar es_DatePicker_DatePicker = function (_Component) {\\n    inherits_default()(DatePicker, _Component);\\n\\n    function DatePicker() {\\n        classCallCheck_default()(this, DatePicker);\\n\\n        var _this = possibleConstructorReturn_default()(this, _Component.apply(this, arguments));\\n\\n        _this.transform = '';\\n        _this.genMonthComponent = function (data) {\\n            if (!data) return;\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](date_SingleMonth, { key: data.title, locale: _this.props.locale || {}, monthData: data, rowSize: _this.props.rowSize, onCellClick: _this.onCellClick, getDateExtra: _this.props.getDateExtra, ref: function ref(dom) {\\n                    // FIXME?: sometimes will callback twice, and the second is null, when use preact.\\n                    data.componentRef = dom || data.componentRef || undefined;\\n                    data.updateLayout = function () {\\n                        _this.computeHeight(data, dom);\\n                    };\\n                    data.updateLayout();\\n                } });\\n        };\\n        _this.computeHeight = function (data, singleMonth) {\\n            if (singleMonth && singleMonth.wrapperDivDOM) {\\n                // preact, refdomheight, offsetTop\\n                if (!data.height && !singleMonth.wrapperDivDOM.clientHeight) {\\n                    setTimeout(function () {\\n                        return _this.computeHeight(data, singleMonth);\\n                    }, 500);\\n                    return;\\n                }\\n                data.height = singleMonth.wrapperDivDOM.clientHeight || data.height || 0;\\n                data.y = singleMonth.wrapperDivDOM.offsetTop || data.y || 0;\\n            }\\n        };\\n        _this.setLayout = function (dom) {\\n            if (dom) {\\n                var onLayout = _this.props.onLayout;\\n\\n                onLayout && onLayout(dom.clientHeight);\\n                var scrollHandler = _this.createOnScroll();\\n                dom.onscroll = function (evt) {\\n                    scrollHandler({\\n                        client: dom.clientHeight,\\n                        full: evt.currentTarget.clientHeight,\\n                        top: evt.currentTarget.scrollTop\\n                    });\\n                };\\n            }\\n        };\\n        _this.setPanel = function (dom) {\\n            _this.panel = dom;\\n        };\\n        // tslint:disable-next-line:member-ordering\\n        _this.touchHandler = function () {\\n            var initDelta = 0;\\n            var lastY = 0;\\n            var delta = initDelta;\\n            return {\\n                onTouchStart: function onTouchStart(evt) {\\n                    lastY = evt.touches[0].screenY;\\n                    delta = initDelta;\\n                },\\n                onTouchMove: function onTouchMove(evt) {\\n                    var ele = evt.currentTarget;\\n                    var isReachTop = ele.scrollTop === 0;\\n                    if (isReachTop) {\\n                        delta = evt.touches[0].screenY - lastY;\\n                        if (delta > 0) {\\n                            evt.preventDefault();\\n                            if (delta > 80) {\\n                                delta = 80;\\n                            }\\n                        } else {\\n                            delta = 0;\\n                        }\\n                        _this.setTransform(_this.panel.style, 'translate3d(0,' + delta + 'px,0)');\\n                    }\\n                },\\n                onTouchEnd: function onTouchEnd() {\\n                    _this.touchHandler.onFinish();\\n                },\\n                onTouchCancel: function onTouchCancel() {\\n                    _this.touchHandler.onFinish();\\n                },\\n                onFinish: function onFinish() {\\n                    if (delta > 40 && _this.canLoadPrev()) {\\n                        _this.genMonthData(_this.state.months[0].firstDate, -1);\\n                        _this.visibleMonth = _this.state.months.slice(0, _this.props.initalMonths);\\n                        _this.state.months.forEach(function (m) {\\n                            m.updateLayout && m.updateLayout();\\n                        });\\n                        _this.forceUpdate();\\n                    }\\n                    _this.setTransform(_this.panel.style, 'translate3d(0,0,0)');\\n                    _this.setTransition(_this.panel.style, '.3s');\\n                    setTimeout(function () {\\n                        _this.panel && _this.setTransition(_this.panel.style, '');\\n                    }, 300);\\n                }\\n            };\\n        }();\\n        return _this;\\n    }\\n\\n    DatePicker.prototype.setTransform = function setTransform(nodeStyle, value) {\\n        this.transform = value;\\n        nodeStyle.transform = value;\\n        nodeStyle.webkitTransform = value;\\n    };\\n\\n    DatePicker.prototype.setTransition = function setTransition(nodeStyle, value) {\\n        nodeStyle.transition = value;\\n        nodeStyle.webkitTransition = value;\\n    };\\n\\n    DatePicker.prototype.render = function render() {\\n        var _this2 = this;\\n\\n        var _props = this.props,\\n            _props$prefixCls = _props.prefixCls,\\n            prefixCls = _props$prefixCls === undefined ? '' : _props$prefixCls,\\n            _props$locale = _props.locale,\\n            locale = _props$locale === undefined ? {} : _props$locale;\\n\\n        var style = {\\n            transform: this.transform\\n        };\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n            'div',\\n            { className: prefixCls + ' date-picker' },\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](date_WeekPanel, { locale: locale }),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                'div',\\n                { className: 'wrapper', style: {\\n                        overflowX: 'hidden',\\n                        overflowY: 'visible'\\n                    }, ref: this.setLayout, onTouchStart: this.touchHandler.onTouchStart, onTouchMove: this.touchHandler.onTouchMove, onTouchEnd: this.touchHandler.onTouchEnd, onTouchCancel: this.touchHandler.onTouchCancel },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                    'div',\\n                    { style: style, ref: this.setPanel },\\n                    this.canLoadPrev() && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                        'div',\\n                        { className: 'load-tip' },\\n                        locale.loadPrevMonth\\n                    ),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                        'div',\\n                        { className: 'months' },\\n                        this.state.months.map(function (m) {\\n                            var hidden = m.height && _this2.visibleMonth.indexOf(m) < 0;\\n                            if (hidden) {\\n                                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"]('div', { key: m.title + '_shallow', style: { height: m.height } });\\n                            }\\n                            return m.component;\\n                        })\\n                    )\\n                )\\n            )\\n        );\\n    };\\n\\n    return DatePicker;\\n}(DatePicker_base);\\n\\n/* harmony default export */ var rmc_calendar_es_DatePicker = (es_DatePicker_DatePicker);\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/calendar/ConfirmPanel.js\\n\\n\\n\\n\\n\\n\\nvar ConfirmPanel_ConfirmPanel = function (_React$PureComponent) {\\n    inherits_default()(ConfirmPanel, _React$PureComponent);\\n\\n    function ConfirmPanel() {\\n        classCallCheck_default()(this, ConfirmPanel);\\n\\n        var _this = possibleConstructorReturn_default()(this, _React$PureComponent.apply(this, arguments));\\n\\n        _this.onConfirm = function () {\\n            var _this$props = _this.props,\\n                onConfirm = _this$props.onConfirm,\\n                disableBtn = _this$props.disableBtn;\\n\\n            !disableBtn && onConfirm();\\n        };\\n        return _this;\\n    }\\n\\n    ConfirmPanel.prototype.formatDate = function formatDate(date) {\\n        var _props = this.props,\\n            _props$formatStr = _props.formatStr,\\n            formatStr = _props$formatStr === undefined ? '' : _props$formatStr,\\n            locale = _props.locale;\\n\\n        return util_formatDate(date, formatStr, locale);\\n    };\\n\\n    ConfirmPanel.prototype.render = function render() {\\n        var _props2 = this.props,\\n            type = _props2.type,\\n            locale = _props2.locale,\\n            disableBtn = _props2.disableBtn;\\n        var _props3 = this.props,\\n            startDateTime = _props3.startDateTime,\\n            endDateTime = _props3.endDateTime;\\n\\n        if (startDateTime && endDateTime && +startDateTime > +endDateTime) {\\n            var tmp = startDateTime;\\n            startDateTime = endDateTime;\\n            endDateTime = tmp;\\n        }\\n        var startTimeStr = startDateTime ? this.formatDate(startDateTime) : locale.noChoose;\\n        var endTimeStr = endDateTime ? this.formatDate(endDateTime) : locale.noChoose;\\n        var btnCls = disableBtn ? 'button button-disable' : 'button';\\n        if (type === 'one') {\\n            btnCls += ' button-full';\\n        }\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n            'div',\\n            { className: 'confirm-panel' },\\n            type === 'range' && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                'div',\\n                { className: 'info' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                    'p',\\n                    null,\\n                    locale.start,\\n                    ': ',\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                        'span',\\n                        { className: !startDateTime ? 'grey' : '' },\\n                        startTimeStr\\n                    )\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                    'p',\\n                    null,\\n                    locale.end,\\n                    ': ',\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                        'span',\\n                        { className: !endDateTime ? 'grey' : '' },\\n                        endTimeStr\\n                    )\\n                )\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                'div',\\n                { className: btnCls, onClick: this.onConfirm },\\n                locale.confirm\\n            )\\n        );\\n    };\\n\\n    return ConfirmPanel;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"PureComponent\\\"]);\\n\\n/* harmony default export */ var calendar_ConfirmPanel = (ConfirmPanel_ConfirmPanel);\\n\\nConfirmPanel_ConfirmPanel.defaultProps = {\\n    formatStr: 'yyyy-MM-dd hh:mm'\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/calendar/ShortcutPanel.js\\n\\n\\n\\n\\n\\nvar ShortcutPanel_ShortcutPanel = function (_React$PureComponent) {\\n    inherits_default()(ShortcutPanel, _React$PureComponent);\\n\\n    function ShortcutPanel() {\\n        classCallCheck_default()(this, ShortcutPanel);\\n\\n        var _this = possibleConstructorReturn_default()(this, _React$PureComponent.apply(this, arguments));\\n\\n        _this.onClick = function (type) {\\n            var onSelect = _this.props.onSelect;\\n\\n            var today = new Date();\\n            switch (type) {\\n                case 'today':\\n                    onSelect(new Date(today.getFullYear(), today.getMonth(), today.getDate(), 0), new Date(today.getFullYear(), today.getMonth(), today.getDate(), 12));\\n                    break;\\n                case 'yesterday':\\n                    onSelect(new Date(today.getFullYear(), today.getMonth(), today.getDate() - 1, 0), new Date(today.getFullYear(), today.getMonth(), today.getDate() - 1, 12));\\n                    break;\\n                case 'lastweek':\\n                    onSelect(new Date(today.getFullYear(), today.getMonth(), today.getDate() - 6, 0), new Date(today.getFullYear(), today.getMonth(), today.getDate(), 12));\\n                    break;\\n                case 'lastmonth':\\n                    onSelect(new Date(today.getFullYear(), today.getMonth(), today.getDate() - 29, 0), new Date(today.getFullYear(), today.getMonth(), today.getDate(), 12));\\n                    break;\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    ShortcutPanel.prototype.render = function render() {\\n        var _this2 = this;\\n\\n        var locale = this.props.locale;\\n\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n            'div',\\n            { className: 'shortcut-panel' },\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                'div',\\n                { className: 'item', onClick: function onClick() {\\n                        return _this2.onClick('today');\\n                    } },\\n                locale.today\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                'div',\\n                { className: 'item', onClick: function onClick() {\\n                        return _this2.onClick('yesterday');\\n                    } },\\n                locale.yesterday\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                'div',\\n                { className: 'item', onClick: function onClick() {\\n                        return _this2.onClick('lastweek');\\n                    } },\\n                locale.lastWeek\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                'div',\\n                { className: 'item', onClick: function onClick() {\\n                        return _this2.onClick('lastmonth');\\n                    } },\\n                locale.lastMonth\\n            )\\n        );\\n    };\\n\\n    return ShortcutPanel;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"PureComponent\\\"]);\\n\\n/* harmony default export */ var calendar_ShortcutPanel = (ShortcutPanel_ShortcutPanel);\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/calendar/AnimateWrapper.js\\n\\n\\n\\n\\n\\nvar AnimateWrapper_AnimateWrapper = function (_React$PureComponent) {\\n    inherits_default()(AnimateWrapper, _React$PureComponent);\\n\\n    function AnimateWrapper() {\\n        classCallCheck_default()(this, AnimateWrapper);\\n\\n        return possibleConstructorReturn_default()(this, _React$PureComponent.apply(this, arguments));\\n    }\\n\\n    AnimateWrapper.prototype.render = function render() {\\n        var _props = this.props,\\n            className = _props.className,\\n            displayType = _props.displayType,\\n            visible = _props.visible;\\n\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            'div',\\n            { className: className + ' animate', style: { display: visible ? displayType : 'none' } },\\n            visible && this.props.children\\n        );\\n    };\\n\\n    return AnimateWrapper;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.PureComponent);\\n\\n/* harmony default export */ var calendar_AnimateWrapper = (AnimateWrapper_AnimateWrapper);\\n\\nAnimateWrapper_AnimateWrapper.defaultProps = {\\n    className: '',\\n    displayType: 'flex'\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/calendar/Header.js\\n\\n\\n\\n\\n\\nvar Header_Header = function (_React$PureComponent) {\\n    inherits_default()(Header, _React$PureComponent);\\n\\n    function Header() {\\n        classCallCheck_default()(this, Header);\\n\\n        return possibleConstructorReturn_default()(this, _React$PureComponent.apply(this, arguments));\\n    }\\n\\n    Header.prototype.render = function render() {\\n        var _props = this.props,\\n            title = _props.title,\\n            _props$locale = _props.locale,\\n            locale = _props$locale === undefined ? {} : _props$locale,\\n            onCancel = _props.onCancel,\\n            onClear = _props.onClear,\\n            showClear = _props.showClear,\\n            closeIcon = _props.closeIcon,\\n            clearIcon = _props.clearIcon;\\n\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n            \\\"div\\\",\\n            { className: \\\"header\\\" },\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                \\\"span\\\",\\n                { className: \\\"left\\\", onClick: function onClick() {\\n                        return onCancel && onCancel();\\n                    } },\\n                closeIcon\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                \\\"span\\\",\\n                { className: \\\"title\\\" },\\n                title || locale.title\\n            ),\\n            showClear && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"createElement\\\"](\\n                \\\"span\\\",\\n                { className: \\\"right\\\", onClick: function onClick() {\\n                        return onClear && onClear();\\n                    } },\\n                clearIcon || locale.clear\\n            )\\n        );\\n    };\\n\\n    return Header;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"PureComponent\\\"]);\\n\\n/* harmony default export */ var calendar_Header = (Header_Header);\\n\\nHeader_Header.defaultProps = {\\n    closeIcon: 'X'\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/Calendar.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Calendar_StateType = function StateType() {\\n    classCallCheck_default()(this, StateType);\\n\\n    this.showTimePicker = false;\\n    this.startDate = undefined;\\n    this.endDate = undefined;\\n    this.disConfirmBtn = true;\\n    this.clientHight = 0;\\n};\\n\\nvar Calendar_Calendar = function (_React$PureComponent) {\\n    inherits_default()(Calendar, _React$PureComponent);\\n\\n    function Calendar(props) {\\n        classCallCheck_default()(this, Calendar);\\n\\n        var _this = possibleConstructorReturn_default()(this, _React$PureComponent.call(this, props));\\n\\n        _this.selectDate = function (date) {\\n            var useDateTime = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\\n            var oldState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\\n            var props = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _this.props;\\n\\n            if (!date) return {};\\n            var newState = {};\\n            var type = props.type,\\n                pickTime = props.pickTime,\\n                defaultTimeValue = props.defaultTimeValue,\\n                _props$locale = props.locale,\\n                locale = _props$locale === undefined ? {} : _props$locale;\\n\\n            var newDate = pickTime && !useDateTime ? mergeDateTime(date, defaultTimeValue) : date;\\n            var startDate = oldState.startDate,\\n                endDate = oldState.endDate;\\n\\n            switch (type) {\\n                case 'one':\\n                    newState = extends_default()({}, newState, { startDate: newDate, disConfirmBtn: false });\\n                    if (pickTime) {\\n                        newState = extends_default()({}, newState, { timePickerTitle: locale.selectTime, showTimePicker: true });\\n                    }\\n                    break;\\n                case 'range':\\n                    if (!startDate || endDate) {\\n                        newState = extends_default()({}, newState, { startDate: newDate, endDate: undefined, disConfirmBtn: true });\\n                        if (pickTime) {\\n                            newState = extends_default()({}, newState, { timePickerTitle: locale.selectStartTime, showTimePicker: true });\\n                        }\\n                    } else {\\n                        newState = extends_default()({}, newState, { timePickerTitle: +newDate >= +startDate ? locale.selectEndTime : locale.selectStartTime, disConfirmBtn: false, endDate: pickTime && !useDateTime && +newDate >= +startDate ? new Date(+mergeDateTime(newDate, startDate) + 3600000) : newDate });\\n                    }\\n                    break;\\n            }\\n            return newState;\\n        };\\n        _this.onSelectedDate = function (date) {\\n            var _this$state = _this.state,\\n                startDate = _this$state.startDate,\\n                endDate = _this$state.endDate;\\n            var onSelect = _this.props.onSelect;\\n\\n            if (onSelect) {\\n                var value = onSelect(date, [startDate, endDate]);\\n                if (value) {\\n                    _this.shortcutSelect(value[0], value[1]);\\n                    return;\\n                }\\n            }\\n            _this.setState(_this.selectDate(date, false, { startDate: startDate, endDate: endDate }));\\n        };\\n        _this.onSelectHasDisableDate = function (date) {\\n            _this.onClear();\\n            if (_this.props.onSelectHasDisableDate) {\\n                _this.props.onSelectHasDisableDate(date);\\n            }\\n        };\\n        _this.onClose = function () {\\n            _this.setState(new Calendar_StateType());\\n        };\\n        _this.onCancel = function () {\\n            _this.props.onCancel && _this.props.onCancel();\\n            _this.onClose();\\n        };\\n        _this.onConfirm = function () {\\n            var onConfirm = _this.props.onConfirm;\\n            var _this$state2 = _this.state,\\n                startDate = _this$state2.startDate,\\n                endDate = _this$state2.endDate;\\n\\n            if (startDate && endDate && +startDate > +endDate) {\\n                return onConfirm && onConfirm(endDate, startDate);\\n            }\\n            onConfirm && onConfirm(startDate, endDate);\\n            _this.onClose();\\n        };\\n        _this.onTimeChange = function (date) {\\n            var _this$state3 = _this.state,\\n                startDate = _this$state3.startDate,\\n                endDate = _this$state3.endDate;\\n\\n            if (endDate) {\\n                _this.setState({\\n                    endDate: date\\n                });\\n            } else if (startDate) {\\n                _this.setState({\\n                    startDate: date\\n                });\\n            }\\n        };\\n        _this.onClear = function () {\\n            _this.setState({\\n                startDate: undefined,\\n                endDate: undefined,\\n                showTimePicker: false\\n            });\\n            _this.props.onClear && _this.props.onClear();\\n        };\\n        _this.shortcutSelect = function (startDate, endDate) {\\n            var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.props;\\n\\n            _this.setState(extends_default()({ startDate: startDate }, _this.selectDate(endDate, true, { startDate: startDate }, props), { showTimePicker: false }));\\n        };\\n        _this.setClientHeight = function (height) {\\n            _this.setState({\\n                clientHight: height\\n            });\\n        };\\n        _this.state = new Calendar_StateType();\\n        if (props.defaultValue) {\\n            var defaultValue = props.defaultValue;\\n            _this.state = extends_default()({}, _this.state, _this.selectDate(defaultValue[1], true, { startDate: defaultValue[0] }, props));\\n        }\\n        return _this;\\n    }\\n\\n    Calendar.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\\n        if (!this.props.visible && nextProps.visible && nextProps.defaultValue) {\\n            this.shortcutSelect(nextProps.defaultValue[0], nextProps.defaultValue[1], nextProps);\\n        }\\n    };\\n\\n    Calendar.prototype.render = function render() {\\n        var _props = this.props,\\n            type = _props.type,\\n            _props$locale2 = _props.locale,\\n            locale = _props$locale2 === undefined ? {} : _props$locale2,\\n            prefixCls = _props.prefixCls,\\n            visible = _props.visible,\\n            pickTime = _props.pickTime,\\n            showShortcut = _props.showShortcut,\\n            renderHeader = _props.renderHeader,\\n            infiniteOpt = _props.infiniteOpt,\\n            initalMonths = _props.initalMonths,\\n            defaultDate = _props.defaultDate,\\n            minDate = _props.minDate,\\n            maxDate = _props.maxDate,\\n            getDateExtra = _props.getDateExtra,\\n            rowSize = _props.rowSize,\\n            defaultTimeValue = _props.defaultTimeValue,\\n            renderShortcut = _props.renderShortcut,\\n            enterDirection = _props.enterDirection,\\n            timePickerPrefixCls = _props.timePickerPrefixCls,\\n            timePickerPickerPrefixCls = _props.timePickerPickerPrefixCls,\\n            style = _props.style;\\n        var _state = this.state,\\n            showTimePicker = _state.showTimePicker,\\n            timePickerTitle = _state.timePickerTitle,\\n            startDate = _state.startDate,\\n            endDate = _state.endDate,\\n            disConfirmBtn = _state.disConfirmBtn,\\n            clientHight = _state.clientHight;\\n\\n        var headerProps = {\\n            locale: locale,\\n            showClear: !!startDate,\\n            onCancel: this.onCancel,\\n            onClear: this.onClear\\n        };\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            'div',\\n            { className: '' + prefixCls, style: style },\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                es_Animate,\\n                { showProp: 'visible', transitionName: 'fade' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(calendar_AnimateWrapper, { className: 'mask', visible: !!visible })\\n            ),\\n            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                es_Animate,\\n                { showProp: 'visible', transitionName: enterDirection === 'horizontal' ? 'slideH' : 'slideV' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    calendar_AnimateWrapper,\\n                    { className: 'content', visible: !!visible },\\n                    renderHeader ? renderHeader(headerProps) : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(calendar_Header, headerProps),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(rmc_calendar_es_DatePicker, { locale: locale, type: type, prefixCls: prefixCls, infiniteOpt: infiniteOpt, initalMonths: initalMonths, defaultDate: defaultDate, minDate: minDate, maxDate: maxDate, getDateExtra: getDateExtra, onCellClick: this.onSelectedDate, onSelectHasDisableDate: this.onSelectHasDisableDate, onLayout: this.setClientHeight, startDate: startDate, endDate: endDate, rowSize: rowSize }),\\n                    showTimePicker && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_TimePicker, { prefixCls: timePickerPrefixCls, pickerPrefixCls: timePickerPickerPrefixCls, locale: locale, title: timePickerTitle, defaultValue: defaultTimeValue, value: endDate ? endDate : startDate, onValueChange: this.onTimeChange, minDate: minDate, maxDate: maxDate, clientHeight: clientHight }),\\n                    showShortcut && !showTimePicker && (renderShortcut ? renderShortcut(this.shortcutSelect) : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(calendar_ShortcutPanel, { locale: locale, onSelect: this.shortcutSelect })),\\n                    startDate && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(calendar_ConfirmPanel, { type: type, locale: locale, startDateTime: startDate, endDateTime: endDate, onConfirm: this.onConfirm, disableBtn: disConfirmBtn, formatStr: pickTime ? locale.dateTimeFormat : locale.dateFormat })\\n                )\\n            )\\n        );\\n    };\\n\\n    return Calendar;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.PureComponent);\\n\\n/* harmony default export */ var es_Calendar = (Calendar_Calendar);\\n\\nCalendar_Calendar.DefaultHeader = calendar_Header;\\nCalendar_Calendar.DefaultShortcut = calendar_ShortcutPanel;\\nCalendar_Calendar.defaultProps = {\\n    visible: false,\\n    showHeader: true,\\n    locale: zh_CN[\\\"default\\\"],\\n    pickTime: false,\\n    showShortcut: false,\\n    prefixCls: 'rmc-calendar',\\n    type: 'range',\\n    defaultTimeValue: new Date(2000, 0, 1, 8)\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/locale/en_US.js\\nvar en_US_locale = {\\n    title: 'Calendar',\\n    today: 'Today',\\n    month: 'Month',\\n    year: 'Year',\\n    am: 'AM',\\n    pm: 'PM',\\n    dateTimeFormat: 'MM/dd/yyyy w hh:mm',\\n    dateFormat: 'yyyy/MM/dd w',\\n    noChoose: 'No Choose',\\n    week: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fir', 'Sat'],\\n    clear: 'Clear',\\n    selectTime: 'Select Time',\\n    selectStartTime: 'Select Start Time',\\n    selectEndTime: 'Select End Time',\\n    start: 'Start',\\n    end: 'End',\\n    begin: 'Start',\\n    over: 'End',\\n    begin_over: 'S/E',\\n    confirm: 'Confirm',\\n    monthTitle: 'yyyy/MM',\\n    loadPrevMonth: 'Load Prev Month',\\n    yesterday: 'Yesterday',\\n    lastWeek: 'Last Week',\\n    lastMonth: 'Last Month'\\n};\\n/* harmony default export */ var locale_en_US = (en_US_locale);\\n// CONCATENATED MODULE: ./node_modules/rmc-calendar/es/index.js\\n\\n\\n\\n\\nvar Locale = { zhCN: zh_CN[\\\"default\\\"], enUS: locale_en_US };\\n\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/_util/getLocale.js\\n\\nfunction getComponentLocale(props, context, componentName, getDefaultLocale) {\\n    var locale = {};\\n    if (context && context.antLocale && context.antLocale[componentName]) {\\n        locale = context.antLocale[componentName];\\n    } else {\\n        var defaultLocale = getDefaultLocale();\\n        // TODO: make default lang of antd be English\\n        // https://github.com/ant-design/ant-design/issues/6334\\n        locale = defaultLocale['default'] || defaultLocale;\\n    }\\n    var result = extends_default()({}, locale);\\n    if (props.locale) {\\n        result = extends_default()({}, result, props.locale);\\n        if (props.locale.lang) {\\n            result.lang = extends_default()({}, locale.lang, props.locale.lang);\\n        }\\n    }\\n    return result;\\n}\\nfunction getLocaleCode(context) {\\n    var localeCode = context.antLocale && context.antLocale.locale;\\n    // Had use LocaleProvide but didn't set locale\\n    if (context.antLocale && context.antLocale.exist && !localeCode) {\\n        return 'zh-cn';\\n    }\\n    return localeCode;\\n}\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/calendar/index.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar calendar_Calendar = function (_React$Component) {\\n    inherits_default()(Calendar, _React$Component);\\n\\n    function Calendar() {\\n        classCallCheck_default()(this, Calendar);\\n\\n        return possibleConstructorReturn_default()(this, (Calendar.__proto__ || Object.getPrototypeOf(Calendar)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Calendar, [{\\n        key: 'render',\\n        value: function render() {\\n            // tslint:disable-next-line:no-this-assignment\\n            var props = this.props,\\n                context = this.context;\\n\\n            var locale = getComponentLocale(props, context, 'Calendar', function () {\\n                return __webpack_require__(/*! ./locale/zh_CN */ \\\"sQCU\\\");\\n            });\\n            var Header = es_Calendar.DefaultHeader;\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Calendar, extends_default()({ locale: locale\\n                // tslint:disable-next-line:jsx-no-multiline-js\\n                , renderHeader: function renderHeader(headerProps) {\\n                    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(Header, extends_default()({}, headerProps, { closeIcon: reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_icon, { type: 'cross' }) }));\\n                } }, props));\\n        }\\n    }]);\\n\\n    return Calendar;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var calendar = (calendar_Calendar);\\n\\ncalendar_Calendar.defaultProps = {\\n    prefixCls: 'am-calendar',\\n    timePickerPrefixCls: 'am-picker',\\n    timePickerPickerPrefixCls: 'am-picker-col'\\n};\\ncalendar_Calendar.contextTypes = {\\n    antLocale: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/card/CardBody.js\\n\\n\\n\\n\\n\\nvar CardBody_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nvar CardBody_CardBody = function (_React$Component) {\\n    inherits_default()(CardBody, _React$Component);\\n\\n    function CardBody() {\\n        classCallCheck_default()(this, CardBody);\\n\\n        return possibleConstructorReturn_default()(this, (CardBody.__proto__ || Object.getPrototypeOf(CardBody)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(CardBody, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                className = _a.className,\\n                restProps = CardBody_rest(_a, [\\\"prefixCls\\\", \\\"className\\\"]);\\n            var wrapCls = classnames_default()(prefixCls + '-body', className);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', extends_default()({ className: wrapCls }, restProps));\\n        }\\n    }]);\\n\\n    return CardBody;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var card_CardBody = (CardBody_CardBody);\\n\\nCardBody_CardBody.defaultProps = {\\n    prefixCls: 'am-card'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/card/CardFooter.js\\n\\n\\n\\n\\n\\nvar CardFooter_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nvar CardFooter_CardFooter = function (_React$Component) {\\n    inherits_default()(CardFooter, _React$Component);\\n\\n    function CardFooter() {\\n        classCallCheck_default()(this, CardFooter);\\n\\n        return possibleConstructorReturn_default()(this, (CardFooter.__proto__ || Object.getPrototypeOf(CardFooter)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(CardFooter, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                content = _a.content,\\n                className = _a.className,\\n                extra = _a.extra,\\n                restProps = CardFooter_rest(_a, [\\\"prefixCls\\\", \\\"content\\\", \\\"className\\\", \\\"extra\\\"]);\\n            var wrapCls = classnames_default()(prefixCls + '-footer', className);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({ className: wrapCls }, restProps),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-footer-content' },\\n                    content\\n                ),\\n                extra && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-footer-extra' },\\n                    extra\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return CardFooter;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var card_CardFooter = (CardFooter_CardFooter);\\n\\nCardFooter_CardFooter.defaultProps = {\\n    prefixCls: 'am-card'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/card/CardHeader.js\\n\\n\\n\\n\\n\\nvar CardHeader_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nvar CardHeader_CardHeader = function (_React$Component) {\\n    inherits_default()(CardHeader, _React$Component);\\n\\n    function CardHeader() {\\n        classCallCheck_default()(this, CardHeader);\\n\\n        return possibleConstructorReturn_default()(this, (CardHeader.__proto__ || Object.getPrototypeOf(CardHeader)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(CardHeader, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                className = _a.className,\\n                title = _a.title,\\n                thumb = _a.thumb,\\n                thumbStyle = _a.thumbStyle,\\n                extra = _a.extra,\\n                restProps = CardHeader_rest(_a, [\\\"prefixCls\\\", \\\"className\\\", \\\"title\\\", \\\"thumb\\\", \\\"thumbStyle\\\", \\\"extra\\\"]);\\n            var wrapCls = classnames_default()(prefixCls + '-header', className);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({ className: wrapCls }, restProps),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-header-content' },\\n                    typeof thumb === 'string' ?\\n                    // tslint:disable-next-line:jsx-no-multiline-js\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('img', { style: thumbStyle, src: thumb }) : thumb,\\n                    title\\n                ),\\n                extra ?\\n                // tslint:disable-next-line:jsx-no-multiline-js\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-header-extra' },\\n                    extra\\n                ) : null\\n            );\\n        }\\n    }]);\\n\\n    return CardHeader;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var card_CardHeader = (CardHeader_CardHeader);\\n\\nCardHeader_CardHeader.defaultProps = {\\n    prefixCls: 'am-card',\\n    thumbStyle: {}\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/card/index.js\\n\\n\\n\\n\\n\\n\\nvar card_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\n\\n\\nvar card_Card = function (_React$Component) {\\n    inherits_default()(Card, _React$Component);\\n\\n    function Card() {\\n        classCallCheck_default()(this, Card);\\n\\n        return possibleConstructorReturn_default()(this, (Card.__proto__ || Object.getPrototypeOf(Card)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Card, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                full = _a.full,\\n                className = _a.className,\\n                resetProps = card_rest(_a, [\\\"prefixCls\\\", \\\"full\\\", \\\"className\\\"]);\\n            var wrapCls = classnames_default()(prefixCls, className, defineProperty_default()({}, prefixCls + '-full', full));\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', extends_default()({ className: wrapCls }, resetProps));\\n        }\\n    }]);\\n\\n    return Card;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var card = (card_Card);\\n\\ncard_Card.defaultProps = {\\n    prefixCls: 'am-card',\\n    full: false\\n};\\ncard_Card.Header = card_CardHeader;\\ncard_Card.Body = card_CardBody;\\ncard_Card.Footer = card_CardFooter;\\n// CONCATENATED MODULE: ./node_modules/rmc-nuka-carousel/es/decorators.js\\n\\n\\n\\n\\n\\n\\n\\nvar DefaultDecorators = [{\\n    component: function (_React$Component) {\\n        inherits_default()(component, _React$Component);\\n\\n        function component() {\\n            classCallCheck_default()(this, component);\\n\\n            var _this = possibleConstructorReturn_default()(this, (component.__proto__ || Object.getPrototypeOf(component)).apply(this, arguments));\\n\\n            _this.handleClick = function (e) {\\n                e.preventDefault();\\n                _this.props.previousSlide();\\n            };\\n            return _this;\\n        }\\n\\n        createClass_default()(component, [{\\n            key: 'render',\\n            value: function render() {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'button',\\n                    { style: this.getButtonStyles(this.props.currentSlide === 0 && !this.props.wrapAround), onClick: this.handleClick },\\n                    'PREV'\\n                );\\n            }\\n        }, {\\n            key: 'getButtonStyles',\\n            value: function getButtonStyles(disabled) {\\n                return {\\n                    border: 0,\\n                    background: 'rgba(0,0,0,0.4)',\\n                    color: 'white',\\n                    padding: 10,\\n                    outline: 0,\\n                    opacity: disabled ? 0.3 : 1,\\n                    cursor: 'pointer'\\n                };\\n            }\\n        }]);\\n\\n        return component;\\n    }(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component),\\n    position: 'CenterLeft'\\n}, {\\n    component: function (_React$Component2) {\\n        inherits_default()(component, _React$Component2);\\n\\n        function component() {\\n            classCallCheck_default()(this, component);\\n\\n            var _this2 = possibleConstructorReturn_default()(this, (component.__proto__ || Object.getPrototypeOf(component)).apply(this, arguments));\\n\\n            _this2.handleClick = function (e) {\\n                e.preventDefault();\\n                if (_this2.props.nextSlide) {\\n                    _this2.props.nextSlide();\\n                }\\n            };\\n            return _this2;\\n        }\\n\\n        createClass_default()(component, [{\\n            key: 'render',\\n            value: function render() {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'button',\\n                    { style: this.getButtonStyles(this.props.currentSlide + this.props.slidesToScroll >= this.props.slideCount && !this.props.wrapAround), onClick: this.handleClick },\\n                    'NEXT'\\n                );\\n            }\\n        }, {\\n            key: 'getButtonStyles',\\n            value: function getButtonStyles(disabled) {\\n                return {\\n                    border: 0,\\n                    background: 'rgba(0,0,0,0.4)',\\n                    color: 'white',\\n                    padding: 10,\\n                    outline: 0,\\n                    opacity: disabled ? 0.3 : 1,\\n                    cursor: 'pointer'\\n                };\\n            }\\n        }]);\\n\\n        return component;\\n    }(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component),\\n    position: 'CenterRight'\\n}, {\\n    component: function (_React$Component3) {\\n        inherits_default()(component, _React$Component3);\\n\\n        function component() {\\n            classCallCheck_default()(this, component);\\n\\n            return possibleConstructorReturn_default()(this, (component.__proto__ || Object.getPrototypeOf(component)).apply(this, arguments));\\n        }\\n\\n        createClass_default()(component, [{\\n            key: 'render',\\n            value: function render() {\\n                var _this4 = this;\\n\\n                var indexes = this.getIndexes(this.props.slideCount, this.props.slidesToScroll);\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'ul',\\n                    { style: this.getListStyles() },\\n                    indexes.map(function (index) {\\n                        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'li',\\n                            { style: _this4.getListItemStyles(), key: index },\\n                            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                                'button',\\n                                { style: _this4.getButtonStyles(_this4.props.currentSlide === index), onClick: _this4.props.goToSlide && _this4.props.goToSlide.bind(null, index) },\\n                                '\\\\u2022'\\n                            )\\n                        );\\n                    })\\n                );\\n            }\\n        }, {\\n            key: 'getIndexes',\\n            value: function getIndexes(count, inc) {\\n                var arr = [];\\n                for (var i = 0; i < count; i += inc) {\\n                    arr.push(i);\\n                }\\n                return arr;\\n            }\\n        }, {\\n            key: 'getListStyles',\\n            value: function getListStyles() {\\n                return {\\n                    position: 'relative',\\n                    margin: 0,\\n                    top: -10,\\n                    padding: 0\\n                };\\n            }\\n        }, {\\n            key: 'getListItemStyles',\\n            value: function getListItemStyles() {\\n                return {\\n                    listStyleType: 'none',\\n                    display: 'inline-block'\\n                };\\n            }\\n        }, {\\n            key: 'getButtonStyles',\\n            value: function getButtonStyles(active) {\\n                return {\\n                    border: 0,\\n                    background: 'transparent',\\n                    color: 'black',\\n                    cursor: 'pointer',\\n                    padding: 10,\\n                    outline: 0,\\n                    fontSize: 24,\\n                    opacity: active ? 1 : 0.5\\n                };\\n            }\\n        }]);\\n\\n        return component;\\n    }(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component),\\n    position: 'BottomCenter'\\n}];\\n/* harmony default export */ var decorators = (DefaultDecorators);\\n// EXTERNAL MODULE: ./node_modules/exenv/index.js\\nvar exenv = __webpack_require__(\\\"2rMq\\\");\\nvar exenv_default = /*#__PURE__*/__webpack_require__.n(exenv);\\n\\n// EXTERNAL MODULE: ./node_modules/raf/index.js\\nvar raf = __webpack_require__(\\\"xEkU\\\");\\nvar raf_default = /*#__PURE__*/__webpack_require__.n(raf);\\n\\n// CONCATENATED MODULE: ./node_modules/rmc-nuka-carousel/es/carousel.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n// from https://github.com/chenglou/tween-functions\\nfunction easeOutCirc(t, b, _c, d) {\\n    var c = _c - b;\\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\\n}\\nfunction linear(t, b, _c, d) {\\n    var c = _c - b;\\n    return c * t / d + b;\\n}\\nvar DEFAULT_STACK_BEHAVIOR = 'ADDITIVE';\\nvar DEFAULT_DURATION = 300;\\nvar DEFAULT_DELAY = 0;\\nvar stackBehavior = {\\n    ADDITIVE: 'ADDITIVE',\\n    DESTRUCTIVE: 'DESTRUCTIVE'\\n};\\nvar addEvent = function addEvent(elem, type, eventHandle) {\\n    if (elem === null || typeof elem === 'undefined') {\\n        return;\\n    }\\n    if (elem.addEventListener) {\\n        elem.addEventListener(type, eventHandle, false);\\n    } else if (elem.attachEvent) {\\n        elem.attachEvent('on' + type, eventHandle);\\n    } else {\\n        elem['on' + type] = eventHandle;\\n    }\\n};\\nvar removeEvent = function removeEvent(elem, type, eventHandle) {\\n    if (elem === null || typeof elem === 'undefined') {\\n        return;\\n    }\\n    if (elem.removeEventListener) {\\n        elem.removeEventListener(type, eventHandle, false);\\n    } else if (elem.detachEvent) {\\n        elem.detachEvent('on' + type, eventHandle);\\n    } else {\\n        elem['on' + type] = null;\\n    }\\n};\\n\\nvar carousel_Carousel = function (_React$Component) {\\n    inherits_default()(Carousel, _React$Component);\\n\\n    function Carousel(props) {\\n        classCallCheck_default()(this, Carousel);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, props));\\n\\n        _this._rafCb = function () {\\n            var state = _this.state;\\n            if (state.tweenQueue.length === 0) {\\n                return;\\n            }\\n            var now = Date.now();\\n            var newTweenQueue = [];\\n            for (var i = 0; i < state.tweenQueue.length; i++) {\\n                var item = state.tweenQueue[i];\\n                var initTime = item.initTime,\\n                    config = item.config;\\n\\n                if (now - initTime < config.duration) {\\n                    newTweenQueue.push(item);\\n                } else {\\n                    if (config.onEnd) {\\n                        config.onEnd();\\n                    }\\n                }\\n            }\\n            // onEnd might trigger a parent callback that removes this component\\n            // -1 means we've canceled it in componentWillUnmount\\n            if (_this._rafID === -1) {\\n                return;\\n            }\\n            _this.setState({\\n                tweenQueue: newTweenQueue\\n            });\\n            _this._rafID = raf_default()(_this._rafCb);\\n        };\\n        _this.handleClick = function (e) {\\n            if (_this.clickSafe === true) {\\n                e.preventDefault();\\n                e.stopPropagation();\\n                if (e.nativeEvent) {\\n                    e.nativeEvent.stopPropagation();\\n                }\\n            }\\n        };\\n        _this.autoplayIterator = function () {\\n            if (_this.props.wrapAround) {\\n                return _this.nextSlide();\\n            }\\n            if (_this.state.currentSlide !== _this.state.slideCount - _this.state.slidesToShow) {\\n                _this.nextSlide();\\n            } else {\\n                _this.stopAutoplay();\\n            }\\n        };\\n        // Action Methods\\n        _this.goToSlide = function (index) {\\n            var _this$props = _this.props,\\n                beforeSlide = _this$props.beforeSlide,\\n                afterSlide = _this$props.afterSlide;\\n\\n            if (index >= reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(_this.props.children) || index < 0) {\\n                if (!_this.props.wrapAround) {\\n                    return;\\n                }\\n                ;\\n                if (index >= reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(_this.props.children)) {\\n                    beforeSlide(_this.state.currentSlide, 0);\\n                    return _this.setState({\\n                        currentSlide: 0\\n                    }, function () {\\n                        _this.animateSlide(null, null, _this.getTargetLeft(null, index), function () {\\n                            _this.animateSlide(null, 0.01);\\n                            afterSlide(0);\\n                            _this.resetAutoplay();\\n                            _this.setExternalData();\\n                        });\\n                    });\\n                } else {\\n                    var endSlide = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(_this.props.children) - _this.state.slidesToScroll;\\n                    beforeSlide(_this.state.currentSlide, endSlide);\\n                    return _this.setState({\\n                        currentSlide: endSlide\\n                    }, function () {\\n                        _this.animateSlide(null, null, _this.getTargetLeft(null, index), function () {\\n                            _this.animateSlide(null, 0.01);\\n                            afterSlide(endSlide);\\n                            _this.resetAutoplay();\\n                            _this.setExternalData();\\n                        });\\n                    });\\n                }\\n            }\\n            beforeSlide(_this.state.currentSlide, index);\\n            _this.setState({\\n                currentSlide: index\\n            }, function () {\\n                _this.animateSlide();\\n                _this.props.afterSlide(index);\\n                _this.resetAutoplay();\\n                _this.setExternalData();\\n            });\\n        };\\n        _this.nextSlide = function () {\\n            var childrenCount = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(_this.props.children);\\n            var slidesToShow = _this.props.slidesToShow;\\n            if (_this.props.slidesToScroll === 'auto') {\\n                slidesToShow = _this.state.slidesToScroll;\\n            }\\n            if (_this.state.currentSlide >= childrenCount - slidesToShow && !_this.props.wrapAround) {\\n                return;\\n            }\\n            if (_this.props.wrapAround) {\\n                _this.goToSlide(_this.state.currentSlide + _this.state.slidesToScroll);\\n            } else {\\n                if (_this.props.slideWidth !== 1) {\\n                    return _this.goToSlide(_this.state.currentSlide + _this.state.slidesToScroll);\\n                }\\n                _this.goToSlide(Math.min(_this.state.currentSlide + _this.state.slidesToScroll, childrenCount - slidesToShow));\\n            }\\n        };\\n        _this.previousSlide = function () {\\n            if (_this.state.currentSlide <= 0 && !_this.props.wrapAround) {\\n                return;\\n            }\\n            if (_this.props.wrapAround) {\\n                _this.goToSlide(_this.state.currentSlide - _this.state.slidesToScroll);\\n            } else {\\n                _this.goToSlide(Math.max(0, _this.state.currentSlide - _this.state.slidesToScroll));\\n            }\\n        };\\n        _this.onResize = function () {\\n            _this.setDimensions();\\n        };\\n        _this.onReadyStateChange = function () {\\n            _this.setDimensions();\\n        };\\n        _this.state = {\\n            currentSlide: _this.props.slideIndex,\\n            dragging: false,\\n            frameWidth: 0,\\n            left: 0,\\n            slideCount: 0,\\n            slidesToScroll: _this.props.slidesToScroll,\\n            slideWidth: 0,\\n            top: 0,\\n            tweenQueue: []\\n        };\\n        _this.touchObject = {};\\n        _this.clickSafe = true;\\n        return _this;\\n    }\\n\\n    createClass_default()(Carousel, [{\\n        key: 'componentWillMount',\\n        value: function componentWillMount() {\\n            this.setInitialDimensions();\\n        }\\n    }, {\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            this.setDimensions();\\n            this.bindEvents();\\n            this.setExternalData();\\n            if (this.props.autoplay) {\\n                this.startAutoplay();\\n            }\\n        }\\n    }, {\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            this.setState({\\n                slideCount: nextProps.children.length\\n            });\\n            this.setDimensions(nextProps);\\n            if (this.props.slideIndex !== nextProps.slideIndex && nextProps.slideIndex !== this.state.currentSlide) {\\n                this.goToSlide(nextProps.slideIndex);\\n            }\\n            if (this.props.autoplay !== nextProps.autoplay) {\\n                if (nextProps.autoplay) {\\n                    this.startAutoplay();\\n                } else {\\n                    this.stopAutoplay();\\n                }\\n            }\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            this.unbindEvents();\\n            this.stopAutoplay();\\n            raf_default.a.cancel(this._rafID);\\n            this._rafID = -1;\\n        }\\n        // react-tween-state\\n\\n    }, {\\n        key: 'tweenState',\\n        value: function tweenState(path, _ref) {\\n            var _this2 = this;\\n\\n            var easing = _ref.easing,\\n                duration = _ref.duration,\\n                delay = _ref.delay,\\n                beginValue = _ref.beginValue,\\n                endValue = _ref.endValue,\\n                onEnd = _ref.onEnd,\\n                configSB = _ref.stackBehavior;\\n\\n            this.setState(function (state) {\\n                var cursor = state;\\n                var stateName = void 0;\\n                // see comment below on pash hash\\n                var pathHash = void 0;\\n                if (typeof path === 'string') {\\n                    stateName = path;\\n                    pathHash = path;\\n                } else {\\n                    for (var i = 0; i < path.length - 1; i++) {\\n                        cursor = cursor[path[i]];\\n                    }\\n                    stateName = path[path.length - 1];\\n                    pathHash = path.join('|');\\n                }\\n                // see the reasoning for these defaults at the top of file\\n                var newConfig = {\\n                    easing: easing,\\n                    duration: duration == null ? DEFAULT_DURATION : duration,\\n                    delay: delay == null ? DEFAULT_DELAY : delay,\\n                    beginValue: beginValue == null ? cursor[stateName] : beginValue,\\n                    endValue: endValue,\\n                    onEnd: onEnd,\\n                    stackBehavior: configSB || DEFAULT_STACK_BEHAVIOR\\n                };\\n                var newTweenQueue = state.tweenQueue;\\n                if (newConfig.stackBehavior === stackBehavior.DESTRUCTIVE) {\\n                    newTweenQueue = state.tweenQueue.filter(function (item) {\\n                        return item.pathHash !== pathHash;\\n                    });\\n                }\\n                // we store path hash, so that during value retrieval we can use hash\\n                // comparison to find the path. See the kind of shitty thing you have to\\n                // do when you don't have value comparison for collections?\\n                newTweenQueue.push({\\n                    pathHash: pathHash,\\n                    config: newConfig,\\n                    initTime: Date.now() + newConfig.delay\\n                });\\n                // sorry for mutating. For perf reasons we don't want to deep clone.\\n                // guys, can we please all start using persistent collections so that\\n                // we can stop worrying about nonesense like this\\n                cursor[stateName] = newConfig.endValue;\\n                if (newTweenQueue.length === 1) {\\n                    _this2._rafID = raf_default()(_this2._rafCb);\\n                }\\n                // this will also include the above mutated update\\n                return { tweenQueue: newTweenQueue };\\n            });\\n        }\\n    }, {\\n        key: 'getTweeningValue',\\n        value: function getTweeningValue(path) {\\n            var state = this.state;\\n            var tweeningValue = void 0;\\n            var pathHash = void 0;\\n            if (typeof path === 'string') {\\n                tweeningValue = state[path];\\n                pathHash = path;\\n            } else {\\n                tweeningValue = state;\\n                for (var i = 0; i < path.length; i++) {\\n                    tweeningValue = tweeningValue[path[i]];\\n                }\\n                pathHash = path.join('|');\\n            }\\n            var now = Date.now();\\n            for (var _i = 0; _i < state.tweenQueue.length; _i++) {\\n                var _state$tweenQueue$_i = state.tweenQueue[_i],\\n                    itemPathHash = _state$tweenQueue$_i.pathHash,\\n                    initTime = _state$tweenQueue$_i.initTime,\\n                    config = _state$tweenQueue$_i.config;\\n\\n                if (itemPathHash !== pathHash) {\\n                    continue;\\n                }\\n                var progressTime = now - initTime > config.duration ? config.duration : Math.max(0, now - initTime);\\n                // `now - initTime` can be negative if initTime is scheduled in the\\n                // future by a delay. In this case we take 0\\n                // if duration is 0, consider that as jumping to endValue directly. This\\n                // is needed because the easing functino might have undefined behavior for\\n                // duration = 0\\n                var easeValue = config.duration === 0 ? config.endValue : config.easing(progressTime, config.beginValue, config.endValue, config.duration);\\n                var contrib = easeValue - config.endValue;\\n                tweeningValue += contrib;\\n            }\\n            return tweeningValue;\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this3 = this;\\n\\n            var children = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(this.props.children) > 1 ? this.formatChildren(this.props.children) : this.props.children;\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: ['slider', this.props.className || ''].join(' '), ref: 'slider', style: extends_default()({}, this.getSliderStyles(), this.props.style) },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    extends_default()({ className: 'slider-frame', ref: 'frame', style: this.getFrameStyles() }, this.getTouchEvents(), this.getMouseEvents(), { onClick: this.handleClick }),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'ul',\\n                        { className: 'slider-list', ref: 'list', style: this.getListStyles() },\\n                        children\\n                    )\\n                ),\\n                this.props.decorators ? this.props.decorators.map(function (Decorator, index) {\\n                    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { style: extends_default()({}, _this3.getDecoratorStyles(Decorator.position), Decorator.style || {}), className: 'slider-decorator-' + index, key: index },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(Decorator.component, { currentSlide: _this3.state.currentSlide, slideCount: _this3.state.slideCount, frameWidth: _this3.state.frameWidth, slideWidth: _this3.state.slideWidth, slidesToScroll: _this3.state.slidesToScroll, cellSpacing: _this3.props.cellSpacing, slidesToShow: _this3.props.slidesToShow, wrapAround: _this3.props.wrapAround, nextSlide: _this3.nextSlide, previousSlide: _this3.previousSlide, goToSlide: _this3.goToSlide })\\n                    );\\n                }) : null,\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('style', { type: 'text/css', dangerouslySetInnerHTML: { __html: this.getStyleTagStyles() } })\\n            );\\n        }\\n        // Touch Events\\n\\n    }, {\\n        key: 'getTouchEvents',\\n        value: function getTouchEvents() {\\n            var self = this;\\n            if (this.props.swiping === false) {\\n                return null;\\n            }\\n            return {\\n                onTouchStart: function onTouchStart(e) {\\n                    self.touchObject = {\\n                        startX: e.touches[0].pageX,\\n                        startY: e.touches[0].pageY\\n                    };\\n                    self.handleMouseOver();\\n                },\\n                onTouchMove: function onTouchMove(e) {\\n                    var direction = self.swipeDirection(self.touchObject.startX, e.touches[0].pageX, self.touchObject.startY, e.touches[0].pageY);\\n                    if (direction !== 0) {\\n                        e.preventDefault();\\n                    }\\n                    var length = self.props.vertical ? Math.round(Math.sqrt(Math.pow(e.touches[0].pageY - self.touchObject.startY, 2))) : Math.round(Math.sqrt(Math.pow(e.touches[0].pageX - self.touchObject.startX, 2)));\\n                    self.touchObject = {\\n                        startX: self.touchObject.startX,\\n                        startY: self.touchObject.startY,\\n                        endX: e.touches[0].pageX,\\n                        endY: e.touches[0].pageY,\\n                        length: length,\\n                        direction: direction\\n                    };\\n                    self.setState({\\n                        left: self.props.vertical ? 0 : self.getTargetLeft(self.touchObject.length * self.touchObject.direction),\\n                        top: self.props.vertical ? self.getTargetLeft(self.touchObject.length * self.touchObject.direction) : 0\\n                    });\\n                },\\n                onTouchEnd: function onTouchEnd(e) {\\n                    self.handleSwipe(e);\\n                    self.handleMouseOut();\\n                },\\n                onTouchCancel: function onTouchCancel(e) {\\n                    self.handleSwipe(e);\\n                }\\n            };\\n        }\\n    }, {\\n        key: 'getMouseEvents',\\n        value: function getMouseEvents() {\\n            var self = this;\\n            if (this.props.dragging === false) {\\n                return null;\\n            }\\n            return {\\n                onMouseOver: function onMouseOver() {\\n                    self.handleMouseOver();\\n                },\\n                onMouseOut: function onMouseOut() {\\n                    self.handleMouseOut();\\n                },\\n                onMouseDown: function onMouseDown(e) {\\n                    self.touchObject = {\\n                        startX: e.clientX,\\n                        startY: e.clientY\\n                    };\\n                    self.setState({\\n                        dragging: true\\n                    });\\n                },\\n                onMouseMove: function onMouseMove(e) {\\n                    if (!self.state.dragging) {\\n                        return;\\n                    }\\n                    var direction = self.swipeDirection(self.touchObject.startX, e.clientX, self.touchObject.startY, e.clientY);\\n                    if (direction !== 0) {\\n                        e.preventDefault();\\n                    }\\n                    var length = self.props.vertical ? Math.round(Math.sqrt(Math.pow(e.clientY - self.touchObject.startY, 2))) : Math.round(Math.sqrt(Math.pow(e.clientX - self.touchObject.startX, 2)));\\n                    self.touchObject = {\\n                        startX: self.touchObject.startX,\\n                        startY: self.touchObject.startY,\\n                        endX: e.clientX,\\n                        endY: e.clientY,\\n                        length: length,\\n                        direction: direction\\n                    };\\n                    self.setState({\\n                        left: self.props.vertical ? 0 : self.getTargetLeft(self.touchObject.length * self.touchObject.direction),\\n                        top: self.props.vertical ? self.getTargetLeft(self.touchObject.length * self.touchObject.direction) : 0\\n                    });\\n                },\\n                onMouseUp: function onMouseUp(e) {\\n                    if (!self.state.dragging) {\\n                        return;\\n                    }\\n                    self.handleSwipe(e);\\n                },\\n                onMouseLeave: function onMouseLeave(e) {\\n                    if (!self.state.dragging) {\\n                        return;\\n                    }\\n                    self.handleSwipe(e);\\n                }\\n            };\\n        }\\n    }, {\\n        key: 'handleMouseOver',\\n        value: function handleMouseOver() {\\n            if (this.props.autoplay) {\\n                this.autoplayPaused = true;\\n                this.stopAutoplay();\\n            }\\n        }\\n    }, {\\n        key: 'handleMouseOut',\\n        value: function handleMouseOut() {\\n            if (this.props.autoplay && this.autoplayPaused) {\\n                this.startAutoplay();\\n                this.autoplayPaused = null;\\n            }\\n        }\\n    }, {\\n        key: 'handleSwipe',\\n        value: function handleSwipe(_) {\\n            if (typeof this.touchObject.length !== 'undefined' && this.touchObject.length > 44) {\\n                this.clickSafe = true;\\n            } else {\\n                this.clickSafe = false;\\n            }\\n            var _props = this.props,\\n                slidesToShow = _props.slidesToShow,\\n                slidesToScroll = _props.slidesToScroll,\\n                swipeSpeed = _props.swipeSpeed;\\n            // var slidesToShow = this.props.slidesToShow;\\n\\n            if (slidesToScroll === 'auto') {\\n                slidesToShow = this.state.slidesToScroll;\\n            }\\n            if (reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(this.props.children) > 1 && this.touchObject.length > this.state.slideWidth / slidesToShow / swipeSpeed) {\\n                if (this.touchObject.direction === 1) {\\n                    if (this.state.currentSlide >= reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(this.props.children) - slidesToShow && !this.props.wrapAround) {\\n                        this.animateSlide(this.props.edgeEasing);\\n                    } else {\\n                        this.nextSlide();\\n                    }\\n                } else if (this.touchObject.direction === -1) {\\n                    if (this.state.currentSlide <= 0 && !this.props.wrapAround) {\\n                        this.animateSlide(this.props.edgeEasing);\\n                    } else {\\n                        this.previousSlide();\\n                    }\\n                }\\n            } else {\\n                this.goToSlide(this.state.currentSlide);\\n            }\\n            this.touchObject = {};\\n            this.setState({\\n                dragging: false\\n            });\\n        }\\n    }, {\\n        key: 'swipeDirection',\\n        value: function swipeDirection(x1, x2, y1, y2) {\\n            var xDist = x1 - x2;\\n            var yDist = y1 - y2;\\n            var r = Math.atan2(yDist, xDist);\\n            var swipeAngle = Math.round(r * 180 / Math.PI);\\n            if (swipeAngle < 0) {\\n                swipeAngle = 360 - Math.abs(swipeAngle);\\n            }\\n            if (swipeAngle <= 45 && swipeAngle >= 0) {\\n                return 1;\\n            }\\n            if (swipeAngle <= 360 && swipeAngle >= 315) {\\n                return 1;\\n            }\\n            if (swipeAngle >= 135 && swipeAngle <= 225) {\\n                return -1;\\n            }\\n            if (this.props.vertical === true) {\\n                if (swipeAngle >= 35 && swipeAngle <= 135) {\\n                    return 1;\\n                } else {\\n                    return -1;\\n                }\\n            }\\n            return 0;\\n        }\\n    }, {\\n        key: 'startAutoplay',\\n        value: function startAutoplay() {\\n            if (reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(this.props.children) <= 1) {\\n                return;\\n            }\\n            this.autoplayID = setInterval(this.autoplayIterator, this.props.autoplayInterval);\\n        }\\n    }, {\\n        key: 'resetAutoplay',\\n        value: function resetAutoplay() {\\n            if (this.props.resetAutoplay && this.props.autoplay && !this.autoplayPaused) {\\n                this.stopAutoplay();\\n                this.startAutoplay();\\n            }\\n        }\\n    }, {\\n        key: 'stopAutoplay',\\n        value: function stopAutoplay() {\\n            if (this.autoplayID) {\\n                clearInterval(this.autoplayID);\\n            }\\n        }\\n        // Animation\\n\\n    }, {\\n        key: 'animateSlide',\\n        value: function animateSlide(easing, duration, endValue, callback) {\\n            this.tweenState(this.props.vertical ? 'top' : 'left', {\\n                easing: easing || this.props.easing,\\n                duration: duration || this.props.speed,\\n                endValue: endValue || this.getTargetLeft(),\\n                delay: null,\\n                beginValue: null,\\n                onEnd: callback || null,\\n                stackBehavior: stackBehavior\\n            });\\n        }\\n    }, {\\n        key: 'getTargetLeft',\\n        value: function getTargetLeft(touchOffset, slide) {\\n            var offset = void 0;\\n            var target = slide || this.state.currentSlide;\\n            var cellSpacing = this.props.cellSpacing;\\n            switch (this.props.cellAlign) {\\n                case 'left':\\n                    {\\n                        offset = 0;\\n                        offset -= cellSpacing * target;\\n                        break;\\n                    }\\n                case 'center':\\n                    {\\n                        offset = (this.state.frameWidth - this.state.slideWidth) / 2;\\n                        offset -= cellSpacing * target;\\n                        break;\\n                    }\\n                case 'right':\\n                    {\\n                        offset = this.state.frameWidth - this.state.slideWidth;\\n                        offset -= cellSpacing * target;\\n                        break;\\n                    }\\n                default:\\n                    break;\\n            }\\n            var left = this.state.slideWidth * target;\\n            var lastSlide = this.state.currentSlide > 0 && target + this.state.slidesToScroll >= this.state.slideCount;\\n            if (lastSlide && this.props.slideWidth !== 1 && !this.props.wrapAround && this.props.slidesToScroll === 'auto') {\\n                left = this.state.slideWidth * this.state.slideCount - this.state.frameWidth;\\n                offset = 0;\\n                offset -= cellSpacing * (this.state.slideCount - 1);\\n            }\\n            offset -= touchOffset || 0;\\n            return (left - offset) * -1;\\n        }\\n        // Bootstrapping\\n\\n    }, {\\n        key: 'bindEvents',\\n        value: function bindEvents() {\\n            if (exenv_default.a.canUseDOM) {\\n                addEvent(window, 'resize', this.onResize);\\n                addEvent(document, 'readystatechange', this.onReadyStateChange);\\n            }\\n        }\\n    }, {\\n        key: 'unbindEvents',\\n        value: function unbindEvents() {\\n            if (exenv_default.a.canUseDOM) {\\n                removeEvent(window, 'resize', this.onResize);\\n                removeEvent(document, 'readystatechange', this.onReadyStateChange);\\n            }\\n        }\\n    }, {\\n        key: 'formatChildren',\\n        value: function formatChildren(children) {\\n            var _this4 = this;\\n\\n            var positionValue = this.props.vertical ? this.getTweeningValue('top') : this.getTweeningValue('left');\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.map(children, function (child, index) {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'li',\\n                    { className: 'slider-slide', style: _this4.getSlideStyles(index, positionValue), key: index },\\n                    child\\n                );\\n            });\\n        }\\n    }, {\\n        key: 'setInitialDimensions',\\n        value: function setInitialDimensions() {\\n            var _this5 = this;\\n\\n            var _props2 = this.props,\\n                vertical = _props2.vertical,\\n                initialSlideHeight = _props2.initialSlideHeight,\\n                initialSlideWidth = _props2.initialSlideWidth,\\n                slidesToShow = _props2.slidesToShow,\\n                cellSpacing = _props2.cellSpacing,\\n                children = _props2.children;\\n\\n            var slideWidth = vertical ? initialSlideHeight || 0 : initialSlideWidth || 0;\\n            var slideHeight = initialSlideHeight ? initialSlideHeight * slidesToShow : 0;\\n            var frameHeight = slideHeight + cellSpacing * (slidesToShow - 1);\\n            this.setState({\\n                slideHeight: slideHeight,\\n                frameWidth: vertical ? frameHeight : '100%',\\n                slideCount: reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(children),\\n                slideWidth: slideWidth\\n            }, function () {\\n                _this5.setLeft();\\n                _this5.setExternalData();\\n            });\\n        }\\n    }, {\\n        key: 'setDimensions',\\n        value: function setDimensions(props) {\\n            var _this6 = this;\\n\\n            props = props || this.props;\\n            var frameWidth = void 0;\\n            var frameHeight = void 0;\\n            var slideHeight = void 0;\\n            var slideWidth = void 0;\\n            var slidesToScroll = props.slidesToScroll;\\n            var frame = this.refs.frame;\\n            var firstSlide = frame.childNodes[0].childNodes[0];\\n            if (firstSlide) {\\n                firstSlide.style.height = 'auto';\\n                slideHeight = this.props.vertical ? firstSlide.offsetHeight * props.slidesToShow : firstSlide.offsetHeight;\\n            } else {\\n                slideHeight = 100;\\n            }\\n            if (typeof props.slideWidth !== 'number') {\\n                slideWidth = parseInt(props.slideWidth, 10);\\n            } else {\\n                if (props.vertical) {\\n                    slideWidth = slideHeight / props.slidesToShow * props.slideWidth;\\n                } else {\\n                    slideWidth = frame.offsetWidth / props.slidesToShow * props.slideWidth;\\n                }\\n            }\\n            if (!props.vertical) {\\n                slideWidth -= props.cellSpacing * ((100 - 100 / props.slidesToShow) / 100);\\n            }\\n            frameHeight = slideHeight + props.cellSpacing * (props.slidesToShow - 1);\\n            frameWidth = props.vertical ? frameHeight : frame.offsetWidth;\\n            if (props.slidesToScroll === 'auto') {\\n                slidesToScroll = Math.floor(frameWidth / (slideWidth + props.cellSpacing));\\n            }\\n            this.setState({\\n                slideHeight: slideHeight,\\n                frameWidth: frameWidth,\\n                slideWidth: slideWidth,\\n                slidesToScroll: slidesToScroll,\\n                left: props.vertical ? 0 : this.getTargetLeft(),\\n                top: props.vertical ? this.getTargetLeft() : 0\\n            }, function () {\\n                _this6.setLeft();\\n            });\\n        }\\n    }, {\\n        key: 'setLeft',\\n        value: function setLeft() {\\n            this.setState({\\n                left: this.props.vertical ? 0 : this.getTargetLeft(),\\n                top: this.props.vertical ? this.getTargetLeft() : 0\\n            });\\n        }\\n        // Data\\n\\n    }, {\\n        key: 'setExternalData',\\n        value: function setExternalData() {\\n            if (this.props.data) {\\n                this.props.data();\\n            }\\n        }\\n        // Styles\\n\\n    }, {\\n        key: 'getListStyles',\\n        value: function getListStyles() {\\n            var listWidth = this.state.slideWidth * reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(this.props.children);\\n            var cellSpacing = this.props.cellSpacing;\\n            var spacingOffset = cellSpacing * reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(this.props.children);\\n            var transform = 'translate3d(' + this.getTweeningValue('left') + 'px, ' + this.getTweeningValue('top') + 'px, 0)';\\n            return {\\n                transform: transform,\\n                WebkitTransform: transform,\\n                msTransform: 'translate(' + this.getTweeningValue('left') + 'px, ' + this.getTweeningValue('top') + 'px)',\\n                position: 'relative',\\n                display: 'block',\\n                margin: this.props.vertical ? cellSpacing / 2 * -1 + 'px 0px' : '0px ' + cellSpacing / 2 * -1 + 'px',\\n                padding: 0,\\n                height: this.props.vertical ? listWidth + spacingOffset : this.state.slideHeight,\\n                width: this.props.vertical ? 'auto' : listWidth + spacingOffset,\\n                cursor: this.state.dragging === true ? 'pointer' : 'inherit',\\n                boxSizing: 'border-box',\\n                MozBoxSizing: 'border-box'\\n            };\\n        }\\n    }, {\\n        key: 'getFrameStyles',\\n        value: function getFrameStyles() {\\n            return {\\n                position: 'relative',\\n                display: 'block',\\n                overflow: this.props.frameOverflow,\\n                height: this.props.vertical ? this.state.frameWidth || 'initial' : 'auto',\\n                margin: this.props.framePadding,\\n                padding: 0,\\n                transform: 'translate3d(0, 0, 0)',\\n                WebkitTransform: 'translate3d(0, 0, 0)',\\n                msTransform: 'translate(0, 0)',\\n                boxSizing: 'border-box',\\n                MozBoxSizing: 'border-box'\\n            };\\n        }\\n    }, {\\n        key: 'getSlideStyles',\\n        value: function getSlideStyles(index, positionValue) {\\n            var targetPosition = this.getSlideTargetPosition(index, positionValue);\\n            var cellSpacing = this.props.cellSpacing;\\n            return {\\n                position: 'absolute',\\n                left: this.props.vertical ? 0 : targetPosition,\\n                top: this.props.vertical ? targetPosition : 0,\\n                display: this.props.vertical ? 'block' : 'inline-block',\\n                listStyleType: 'none',\\n                verticalAlign: 'top',\\n                width: this.props.vertical ? '100%' : this.state.slideWidth,\\n                height: 'auto',\\n                boxSizing: 'border-box',\\n                MozBoxSizing: 'border-box',\\n                marginLeft: this.props.vertical ? 'auto' : cellSpacing / 2,\\n                marginRight: this.props.vertical ? 'auto' : cellSpacing / 2,\\n                marginTop: this.props.vertical ? cellSpacing / 2 : 'auto',\\n                marginBottom: this.props.vertical ? cellSpacing / 2 : 'auto'\\n            };\\n        }\\n    }, {\\n        key: 'getSlideTargetPosition',\\n        value: function getSlideTargetPosition(index, positionValue) {\\n            var slidesToShow = this.state.frameWidth / this.state.slideWidth;\\n            var targetPosition = (this.state.slideWidth + this.props.cellSpacing) * index;\\n            var end = (this.state.slideWidth + this.props.cellSpacing) * slidesToShow * -1;\\n            if (this.props.wrapAround) {\\n                var slidesBefore = Math.ceil(positionValue / this.state.slideWidth);\\n                if (this.state.slideCount - slidesBefore <= index) {\\n                    return (this.state.slideWidth + this.props.cellSpacing) * (this.state.slideCount - index) * -1;\\n                }\\n                var slidesAfter = Math.ceil((Math.abs(positionValue) - Math.abs(end)) / this.state.slideWidth);\\n                if (this.state.slideWidth !== 1) {\\n                    slidesAfter = Math.ceil((Math.abs(positionValue) - this.state.slideWidth) / this.state.slideWidth);\\n                }\\n                if (index <= slidesAfter - 1) {\\n                    return (this.state.slideWidth + this.props.cellSpacing) * (this.state.slideCount + index);\\n                }\\n            }\\n            return targetPosition;\\n        }\\n    }, {\\n        key: 'getSliderStyles',\\n        value: function getSliderStyles() {\\n            return {\\n                position: 'relative',\\n                display: 'block',\\n                width: this.props.width,\\n                height: 'auto',\\n                boxSizing: 'border-box',\\n                MozBoxSizing: 'border-box',\\n                visibility: this.state.slideWidth ? 'visible' : 'hidden'\\n            };\\n        }\\n    }, {\\n        key: 'getStyleTagStyles',\\n        value: function getStyleTagStyles() {\\n            return '.slider-slide > img {width: 100%; display: block;}';\\n        }\\n    }, {\\n        key: 'getDecoratorStyles',\\n        value: function getDecoratorStyles(position) {\\n            switch (position) {\\n                case 'TopLeft':\\n                    {\\n                        return {\\n                            position: 'absolute',\\n                            top: 0,\\n                            left: 0\\n                        };\\n                    }\\n                case 'TopCenter':\\n                    {\\n                        return {\\n                            position: 'absolute',\\n                            top: 0,\\n                            left: '50%',\\n                            transform: 'translateX(-50%)',\\n                            WebkitTransform: 'translateX(-50%)',\\n                            msTransform: 'translateX(-50%)'\\n                        };\\n                    }\\n                case 'TopRight':\\n                    {\\n                        return {\\n                            position: 'absolute',\\n                            top: 0,\\n                            right: 0\\n                        };\\n                    }\\n                case 'CenterLeft':\\n                    {\\n                        return {\\n                            position: 'absolute',\\n                            top: '50%',\\n                            left: 0,\\n                            transform: 'translateY(-50%)',\\n                            WebkitTransform: 'translateY(-50%)',\\n                            msTransform: 'translateY(-50%)'\\n                        };\\n                    }\\n                case 'CenterCenter':\\n                    {\\n                        return {\\n                            position: 'absolute',\\n                            top: '50%',\\n                            left: '50%',\\n                            transform: 'translate(-50%,-50%)',\\n                            WebkitTransform: 'translate(-50%, -50%)',\\n                            msTransform: 'translate(-50%, -50%)'\\n                        };\\n                    }\\n                case 'CenterRight':\\n                    {\\n                        return {\\n                            position: 'absolute',\\n                            top: '50%',\\n                            right: 0,\\n                            transform: 'translateY(-50%)',\\n                            WebkitTransform: 'translateY(-50%)',\\n                            msTransform: 'translateY(-50%)'\\n                        };\\n                    }\\n                case 'BottomLeft':\\n                    {\\n                        return {\\n                            position: 'absolute',\\n                            bottom: 0,\\n                            left: 0\\n                        };\\n                    }\\n                case 'BottomCenter':\\n                    {\\n                        return {\\n                            position: 'absolute',\\n                            bottom: 0,\\n                            width: '100%',\\n                            textAlign: 'center'\\n                        };\\n                    }\\n                case 'BottomRight':\\n                    {\\n                        return {\\n                            position: 'absolute',\\n                            bottom: 0,\\n                            right: 0\\n                        };\\n                    }\\n                default:\\n                    {\\n                        return {\\n                            position: 'absolute',\\n                            top: 0,\\n                            left: 0\\n                        };\\n                    }\\n            }\\n        }\\n    }]);\\n\\n    return Carousel;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\ncarousel_Carousel.defaultProps = {\\n    afterSlide: function afterSlide() {},\\n    autoplay: false,\\n    resetAutoplay: true,\\n    swipeSpeed: 12,\\n    autoplayInterval: 3000,\\n    beforeSlide: function beforeSlide() {},\\n    cellAlign: 'left',\\n    cellSpacing: 0,\\n    data: function data() {},\\n    decorators: decorators,\\n    dragging: true,\\n    easing: easeOutCirc,\\n    edgeEasing: linear,\\n    framePadding: '0px',\\n    frameOverflow: 'hidden',\\n    slideIndex: 0,\\n    slidesToScroll: 1,\\n    slidesToShow: 1,\\n    slideWidth: 1,\\n    speed: 500,\\n    swiping: true,\\n    vertical: false,\\n    width: '100%',\\n    wrapAround: false,\\n    style: {}\\n};\\n/* harmony default export */ var carousel = (carousel_Carousel);\\n// CONCATENATED MODULE: ./node_modules/rmc-nuka-carousel/es/index.js\\n\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/carousel/index.js\\n\\n\\n\\n\\n\\n\\nvar carousel_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\nvar es_carousel_Carousel = function (_React$Component) {\\n    inherits_default()(Carousel, _React$Component);\\n\\n    function Carousel(props) {\\n        classCallCheck_default()(this, Carousel);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, props));\\n\\n        _this.onChange = function (index) {\\n            _this.setState({\\n                selectedIndex: index\\n            }, function () {\\n                if (_this.props.afterChange) {\\n                    _this.props.afterChange(index);\\n                }\\n            });\\n        };\\n        _this.state = {\\n            selectedIndex: _this.props.selectedIndex\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Carousel, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                infinite = _a.infinite,\\n                selectedIndex = _a.selectedIndex,\\n                beforeChange = _a.beforeChange,\\n                afterChange = _a.afterChange,\\n                dots = _a.dots,\\n                restProps = carousel_rest(_a, [\\\"infinite\\\", \\\"selectedIndex\\\", \\\"beforeChange\\\", \\\"afterChange\\\", \\\"dots\\\"]);var prefixCls = restProps.prefixCls,\\n                dotActiveStyle = restProps.dotActiveStyle,\\n                dotStyle = restProps.dotStyle,\\n                className = restProps.className,\\n                vertical = restProps.vertical;\\n\\n            var newProps = extends_default()({}, restProps, { wrapAround: infinite, slideIndex: selectedIndex, beforeSlide: beforeChange });\\n            var Decorators = [];\\n            if (dots) {\\n                Decorators = [{\\n                    component: function component(_ref) {\\n                        var slideCount = _ref.slideCount,\\n                            slidesToScroll = _ref.slidesToScroll,\\n                            currentSlide = _ref.currentSlide;\\n\\n                        var arr = [];\\n                        for (var i = 0; i < slideCount; i += slidesToScroll) {\\n                            arr.push(i);\\n                        }\\n                        var dotDom = arr.map(function (index) {\\n                            var dotCls = classnames_default()(prefixCls + '-wrap-dot', defineProperty_default()({}, prefixCls + '-wrap-dot-active', index === currentSlide));\\n                            var currentDotStyle = index === currentSlide ? dotActiveStyle : dotStyle;\\n                            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                                'div',\\n                                { className: dotCls, key: index },\\n                                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', { style: currentDotStyle })\\n                            );\\n                        });\\n                        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'div',\\n                            { className: prefixCls + '-wrap' },\\n                            dotDom\\n                        );\\n                    },\\n                    position: 'BottomCenter'\\n                }];\\n            }\\n            var wrapCls = classnames_default()(prefixCls, className, defineProperty_default()({}, prefixCls + '-vertical', vertical));\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(carousel, extends_default()({}, newProps, { className: wrapCls, decorators: Decorators, afterSlide: this.onChange }));\\n        }\\n    }]);\\n\\n    return Carousel;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_carousel = (es_carousel_Carousel);\\n\\nes_carousel_Carousel.defaultProps = {\\n    prefixCls: 'am-carousel',\\n    dots: true,\\n    arrows: false,\\n    autoplay: false,\\n    infinite: false,\\n    cellAlign: 'center',\\n    selectedIndex: 0,\\n    dotStyle: {},\\n    dotActiveStyle: {}\\n};\\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/objectWithoutProperties.js\\nvar objectWithoutProperties = __webpack_require__(\\\"jo6Y\\\");\\nvar objectWithoutProperties_default = /*#__PURE__*/__webpack_require__.n(objectWithoutProperties);\\n\\n// EXTERNAL MODULE: ./node_modules/rc-util/es/PureRenderMixin.js\\nvar PureRenderMixin = __webpack_require__(\\\"+8km\\\");\\nvar PureRenderMixin_default = /*#__PURE__*/__webpack_require__.n(PureRenderMixin);\\n\\n// CONCATENATED MODULE: ./node_modules/rc-checkbox/es/Checkbox.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Checkbox_Checkbox = function (_React$Component) {\\n  inherits_default()(Checkbox, _React$Component);\\n\\n  function Checkbox(props) {\\n    classCallCheck_default()(this, Checkbox);\\n\\n    var _this = possibleConstructorReturn_default()(this, (Checkbox.__proto__ || Object.getPrototypeOf(Checkbox)).call(this, props));\\n\\n    Checkbox_initialiseProps.call(_this);\\n\\n    var checked = 'checked' in props ? props.checked : props.defaultChecked;\\n\\n    _this.state = {\\n      checked: checked\\n    };\\n    return _this;\\n  }\\n\\n  createClass_default()(Checkbox, [{\\n    key: 'componentWillReceiveProps',\\n    value: function componentWillReceiveProps(nextProps) {\\n      if ('checked' in nextProps) {\\n        this.setState({\\n          checked: nextProps.checked\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'shouldComponentUpdate',\\n    value: function shouldComponentUpdate() {\\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\\n        args[_key] = arguments[_key];\\n      }\\n\\n      return PureRenderMixin_default.a.shouldComponentUpdate.apply(this, args);\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _classNames;\\n\\n      var _props = this.props,\\n          prefixCls = _props.prefixCls,\\n          className = _props.className,\\n          style = _props.style,\\n          name = _props.name,\\n          type = _props.type,\\n          disabled = _props.disabled,\\n          readOnly = _props.readOnly,\\n          tabIndex = _props.tabIndex,\\n          onClick = _props.onClick,\\n          onFocus = _props.onFocus,\\n          onBlur = _props.onBlur,\\n          others = objectWithoutProperties_default()(_props, ['prefixCls', 'className', 'style', 'name', 'type', 'disabled', 'readOnly', 'tabIndex', 'onClick', 'onFocus', 'onBlur']);\\n\\n      var globalProps = Object.keys(others).reduce(function (prev, key) {\\n        if (key.substr(0, 5) === 'aria-' || key.substr(0, 5) === 'data-' || key === 'role') {\\n          prev[key] = others[key];\\n        }\\n        return prev;\\n      }, {});\\n\\n      var checked = this.state.checked;\\n\\n      var classString = classnames_default()(prefixCls, className, (_classNames = {}, defineProperty_default()(_classNames, prefixCls + '-checked', checked), defineProperty_default()(_classNames, prefixCls + '-disabled', disabled), _classNames));\\n\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'span',\\n        { className: classString, style: style },\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('input', extends_default()({\\n          name: name,\\n          type: type,\\n          readOnly: readOnly,\\n          disabled: disabled,\\n          tabIndex: tabIndex,\\n          className: prefixCls + '-input',\\n          checked: !!checked,\\n          onClick: onClick,\\n          onFocus: onFocus,\\n          onBlur: onBlur,\\n          onChange: this.handleChange\\n        }, globalProps)),\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', { className: prefixCls + '-inner' })\\n      );\\n    }\\n  }]);\\n\\n  return Checkbox;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nCheckbox_Checkbox.propTypes = {\\n  prefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  className: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  style: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  name: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  type: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  defaultChecked: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOfType([prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool]),\\n  checked: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOfType([prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool]),\\n  disabled: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  onFocus: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  onBlur: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  onChange: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  onClick: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  tabIndex: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  readOnly: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool\\n};\\nCheckbox_Checkbox.defaultProps = {\\n  prefixCls: 'rc-checkbox',\\n  className: '',\\n  style: {},\\n  type: 'checkbox',\\n  defaultChecked: false,\\n  onFocus: function onFocus() {},\\n  onBlur: function onBlur() {},\\n  onChange: function onChange() {}\\n};\\n\\nvar Checkbox_initialiseProps = function _initialiseProps() {\\n  var _this2 = this;\\n\\n  this.handleChange = function (e) {\\n    var props = _this2.props;\\n\\n    if (props.disabled) {\\n      return;\\n    }\\n    if (!('checked' in props)) {\\n      _this2.setState({\\n        checked: e.target.checked\\n      });\\n    }\\n    props.onChange({\\n      target: extends_default()({}, props, {\\n        checked: e.target.checked\\n      }),\\n      stopPropagation: function stopPropagation() {\\n        e.stopPropagation();\\n      },\\n      preventDefault: function preventDefault() {\\n        e.preventDefault();\\n      }\\n    });\\n  };\\n};\\n\\n/* harmony default export */ var es_Checkbox = (Checkbox_Checkbox);\\n// CONCATENATED MODULE: ./node_modules/rc-checkbox/es/index.js\\n\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/checkbox/Checkbox.js\\n\\n\\n\\n\\nvar Checkbox_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\nvar checkbox_Checkbox_Checkbox = function (_React$Component) {\\n    inherits_default()(Checkbox, _React$Component);\\n\\n    function Checkbox() {\\n        classCallCheck_default()(this, Checkbox);\\n\\n        return possibleConstructorReturn_default()(this, (Checkbox.__proto__ || Object.getPrototypeOf(Checkbox)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Checkbox, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                className = _a.className,\\n                style = _a.style,\\n                restProps = Checkbox_rest(_a, [\\\"className\\\", \\\"style\\\"]);var prefixCls = restProps.prefixCls,\\n                children = restProps.children;\\n\\n            var wrapCls = classnames_default()(prefixCls + '-wrapper', className);\\n            // Todo: wait for https://github.com/developit/preact-compat/issues/422, then we can remove class below\\n            if ('class' in restProps) {\\n                /* tslint:disable:no-string-literal */\\n                delete restProps['class'];\\n            }\\n            var mark = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'label',\\n                { className: wrapCls, style: style },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Checkbox, restProps),\\n                children\\n            );\\n            if (this.props.wrapLabel) {\\n                return mark;\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Checkbox, this.props);\\n        }\\n    }]);\\n\\n    return Checkbox;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var checkbox_Checkbox = (checkbox_Checkbox_Checkbox);\\n\\ncheckbox_Checkbox_Checkbox.defaultProps = {\\n    prefixCls: 'am-checkbox',\\n    wrapLabel: true\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/checkbox/AgreeItem.js\\n\\n\\n\\n\\n\\nvar AgreeItem_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\n\\nvar AgreeItem_AgreeItem = function (_React$Component) {\\n    inherits_default()(AgreeItem, _React$Component);\\n\\n    function AgreeItem() {\\n        classCallCheck_default()(this, AgreeItem);\\n\\n        return possibleConstructorReturn_default()(this, (AgreeItem.__proto__ || Object.getPrototypeOf(AgreeItem)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(AgreeItem, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                style = _a.style,\\n                restProps = AgreeItem_rest(_a, [\\\"style\\\"]);var prefixCls = restProps.prefixCls,\\n                className = restProps.className;\\n\\n            var wrapCls = classnames_default()(prefixCls + '-agree', className);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({}, getDataAttr(restProps), { className: wrapCls, style: style }),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(checkbox_Checkbox, extends_default()({}, restProps, { className: prefixCls + '-agree-label' }))\\n            );\\n        }\\n    }]);\\n\\n    return AgreeItem;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var checkbox_AgreeItem = (AgreeItem_AgreeItem);\\n\\nAgreeItem_AgreeItem.defaultProps = {\\n    prefixCls: 'am-checkbox'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/list/ListItem.js\\n\\n\\n\\n\\n\\n\\nvar ListItem_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\nvar ListItem_Brief = function (_React$Component) {\\n    inherits_default()(Brief, _React$Component);\\n\\n    function Brief() {\\n        classCallCheck_default()(this, Brief);\\n\\n        return possibleConstructorReturn_default()(this, (Brief.__proto__ || Object.getPrototypeOf(Brief)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Brief, [{\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: 'am-list-brief', style: this.props.style },\\n                this.props.children\\n            );\\n        }\\n    }]);\\n\\n    return Brief;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nvar ListItem_ListItem = function (_React$Component2) {\\n    inherits_default()(ListItem, _React$Component2);\\n\\n    function ListItem(props) {\\n        classCallCheck_default()(this, ListItem);\\n\\n        var _this2 = possibleConstructorReturn_default()(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).call(this, props));\\n\\n        _this2.onClick = function (ev) {\\n            var _this2$props = _this2.props,\\n                onClick = _this2$props.onClick,\\n                platform = _this2$props.platform;\\n\\n            var isAndroid = platform === 'android';\\n            if (!!onClick && isAndroid) {\\n                if (_this2.debounceTimeout) {\\n                    clearTimeout(_this2.debounceTimeout);\\n                    _this2.debounceTimeout = null;\\n                }\\n                var Item = ev.currentTarget;\\n                var RippleWidth = Math.max(Item.offsetHeight, Item.offsetWidth);\\n                var ClientRect = ev.currentTarget.getBoundingClientRect();\\n                var pointX = ev.clientX - ClientRect.left - Item.offsetWidth / 2;\\n                var pointY = ev.clientY - ClientRect.top - Item.offsetWidth / 2;\\n                var coverRippleStyle = {\\n                    width: RippleWidth + 'px',\\n                    height: RippleWidth + 'px',\\n                    left: pointX + 'px',\\n                    top: pointY + 'px'\\n                };\\n                _this2.setState({\\n                    coverRippleStyle: coverRippleStyle,\\n                    RippleClicked: true\\n                }, function () {\\n                    _this2.debounceTimeout = setTimeout(function () {\\n                        _this2.setState({\\n                            coverRippleStyle: { display: 'none' },\\n                            RippleClicked: false\\n                        });\\n                    }, 1000);\\n                });\\n            }\\n            if (onClick) {\\n                onClick(ev);\\n            }\\n        };\\n        _this2.state = {\\n            coverRippleStyle: { display: 'none' },\\n            RippleClicked: false\\n        };\\n        return _this2;\\n    }\\n\\n    createClass_default()(ListItem, [{\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            if (this.debounceTimeout) {\\n                clearTimeout(this.debounceTimeout);\\n                this.debounceTimeout = null;\\n            }\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _classnames,\\n                _classnames3,\\n                _classnames4,\\n                _this3 = this;\\n\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                className = _a.className,\\n                activeStyle = _a.activeStyle,\\n                error = _a.error,\\n                align = _a.align,\\n                wrap = _a.wrap,\\n                disabled = _a.disabled,\\n                children = _a.children,\\n                multipleLine = _a.multipleLine,\\n                thumb = _a.thumb,\\n                extra = _a.extra,\\n                arrow = _a.arrow,\\n                onClick = _a.onClick,\\n                restProps = ListItem_rest(_a, [\\\"prefixCls\\\", \\\"className\\\", \\\"activeStyle\\\", \\\"error\\\", \\\"align\\\", \\\"wrap\\\", \\\"disabled\\\", \\\"children\\\", \\\"multipleLine\\\", \\\"thumb\\\", \\\"extra\\\", \\\"arrow\\\", \\\"onClick\\\"]);var platform = restProps.platform,\\n                otherProps = ListItem_rest(restProps, [\\\"platform\\\"]);var _state = this.state,\\n                coverRippleStyle = _state.coverRippleStyle,\\n                RippleClicked = _state.RippleClicked;\\n\\n            var wrapCls = classnames_default()(prefixCls + '-item', className, (_classnames = {}, defineProperty_default()(_classnames, prefixCls + '-item-disabled', disabled), defineProperty_default()(_classnames, prefixCls + '-item-error', error), defineProperty_default()(_classnames, prefixCls + '-item-top', align === 'top'), defineProperty_default()(_classnames, prefixCls + '-item-middle', align === 'middle'), defineProperty_default()(_classnames, prefixCls + '-item-bottom', align === 'bottom'), _classnames));\\n            var rippleCls = classnames_default()(prefixCls + '-ripple', defineProperty_default()({}, prefixCls + '-ripple-animate', RippleClicked));\\n            var lineCls = classnames_default()(prefixCls + '-line', (_classnames3 = {}, defineProperty_default()(_classnames3, prefixCls + '-line-multiple', multipleLine), defineProperty_default()(_classnames3, prefixCls + '-line-wrap', wrap), _classnames3));\\n            var arrowCls = classnames_default()(prefixCls + '-arrow', (_classnames4 = {}, defineProperty_default()(_classnames4, prefixCls + '-arrow-horizontal', arrow === 'horizontal'), defineProperty_default()(_classnames4, prefixCls + '-arrow-vertical', arrow === 'down' || arrow === 'up'), defineProperty_default()(_classnames4, prefixCls + '-arrow-vertical-up', arrow === 'up'), _classnames4));\\n            var content = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({}, otherProps, { onClick: function onClick(ev) {\\n                        _this3.onClick(ev);\\n                    }, className: wrapCls }),\\n                thumb ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-thumb' },\\n                    typeof thumb === 'string' ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('img', { src: thumb }) : thumb\\n                ) : null,\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: lineCls },\\n                    children !== undefined && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-content' },\\n                        children\\n                    ),\\n                    extra !== undefined && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-extra' },\\n                        extra\\n                    ),\\n                    arrow && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: arrowCls, 'aria-hidden': 'true' })\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { style: coverRippleStyle, className: rippleCls })\\n            );\\n            var touchProps = {};\\n            Object.keys(otherProps).forEach(function (key) {\\n                if (/onTouch/i.test(key)) {\\n                    touchProps[key] = otherProps[key];\\n                    delete otherProps[key];\\n                }\\n            });\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_feedback_es[\\\"default\\\"],\\n                extends_default()({}, touchProps, { disabled: disabled || !onClick, activeStyle: activeStyle, activeClassName: prefixCls + '-item-active' }),\\n                content\\n            );\\n        }\\n    }]);\\n\\n    return ListItem;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nListItem_ListItem.defaultProps = {\\n    prefixCls: 'am-list',\\n    align: 'middle',\\n    error: false,\\n    multipleLine: false,\\n    wrap: false,\\n    platform: 'ios'\\n};\\nListItem_ListItem.Brief = ListItem_Brief;\\n/* harmony default export */ var list_ListItem = (ListItem_ListItem);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/list/index.js\\n\\n\\n\\n\\n\\nvar list_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\nvar list_List = function (_React$Component) {\\n    inherits_default()(List, _React$Component);\\n\\n    function List() {\\n        classCallCheck_default()(this, List);\\n\\n        return possibleConstructorReturn_default()(this, (List.__proto__ || Object.getPrototypeOf(List)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(List, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                children = _a.children,\\n                className = _a.className,\\n                style = _a.style,\\n                renderHeader = _a.renderHeader,\\n                renderFooter = _a.renderFooter,\\n                restProps = list_rest(_a, [\\\"prefixCls\\\", \\\"children\\\", \\\"className\\\", \\\"style\\\", \\\"renderHeader\\\", \\\"renderFooter\\\"]);\\n            var wrapCls = classnames_default()(prefixCls, className);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({ className: wrapCls, style: style }, restProps),\\n                renderHeader ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-header' },\\n                    typeof renderHeader === 'function' ? renderHeader() : renderHeader\\n                ) : null,\\n                children ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-body' },\\n                    children\\n                ) : null,\\n                renderFooter ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-footer' },\\n                    typeof renderFooter === 'function' ? renderFooter() : renderFooter\\n                ) : null\\n            );\\n        }\\n    }]);\\n\\n    return List;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var list = (list_List);\\n\\nlist_List.Item = list_ListItem;\\nlist_List.defaultProps = {\\n    prefixCls: 'am-list'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/checkbox/CheckboxItem.js\\n\\n\\n\\n\\n\\n\\nvar CheckboxItem_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\nvar CheckboxItem_ListItem = list.Item;\\n// tslint:disable-next-line:no-empty\\nfunction CheckboxItem_noop() {}\\n\\nvar CheckboxItem_CheckboxItem = function (_React$Component) {\\n    inherits_default()(CheckboxItem, _React$Component);\\n\\n    function CheckboxItem() {\\n        classCallCheck_default()(this, CheckboxItem);\\n\\n        return possibleConstructorReturn_default()(this, (CheckboxItem.__proto__ || Object.getPrototypeOf(CheckboxItem)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(CheckboxItem, [{\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _a = this.props,\\n                listPrefixCls = _a.listPrefixCls,\\n                onChange = _a.onChange,\\n                disabled = _a.disabled,\\n                checkboxProps = _a.checkboxProps,\\n                onClick = _a.onClick,\\n                restProps = CheckboxItem_rest(_a, [\\\"listPrefixCls\\\", \\\"onChange\\\", \\\"disabled\\\", \\\"checkboxProps\\\", \\\"onClick\\\"]);var prefixCls = restProps.prefixCls,\\n                className = restProps.className,\\n                children = restProps.children;\\n\\n            var wrapCls = classnames_default()(prefixCls + '-item', className, defineProperty_default()({}, prefixCls + '-item-disabled', disabled === true));\\n            // Note: if not omit `onChange`, it will trigger twice on check listitem\\n            if (!disabled) {\\n                restProps.onClick = onClick || CheckboxItem_noop;\\n            }\\n            var extraProps = {};\\n            ['name', 'defaultChecked', 'checked', 'onChange', 'disabled'].forEach(function (i) {\\n                if (i in _this2.props) {\\n                    extraProps[i] = _this2.props[i];\\n                }\\n            });\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                CheckboxItem_ListItem,\\n                extends_default()({}, restProps, { prefixCls: listPrefixCls, className: wrapCls, thumb: reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(checkbox_Checkbox, extends_default()({}, checkboxProps, extraProps)) }),\\n                children\\n            );\\n        }\\n    }]);\\n\\n    return CheckboxItem;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var checkbox_CheckboxItem = (CheckboxItem_CheckboxItem);\\n\\nCheckboxItem_CheckboxItem.defaultProps = {\\n    prefixCls: 'am-checkbox',\\n    listPrefixCls: 'am-list',\\n    checkboxProps: {}\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/checkbox/index.js\\n\\n\\n\\ncheckbox_Checkbox.CheckboxItem = checkbox_CheckboxItem;\\ncheckbox_Checkbox.AgreeItem = checkbox_AgreeItem;\\n/* harmony default export */ var es_checkbox = (checkbox_Checkbox);\\n// CONCATENATED MODULE: ./node_modules/rmc-picker/es/PopupMixin.js\\n\\n\\n\\n\\n\\n\\n\\nfunction PopupMixin(getModal, platformProps) {\\n    return _a = function (_React$Component) {\\n        inherits_default()(_a, _React$Component);\\n\\n        function _a(props) {\\n            classCallCheck_default()(this, _a);\\n\\n            var _this = possibleConstructorReturn_default()(this, (_a.__proto__ || Object.getPrototypeOf(_a)).call(this, props));\\n\\n            _this.onPickerChange = function (pickerValue) {\\n                if (_this.state.pickerValue !== pickerValue) {\\n                    _this.setState({\\n                        pickerValue: pickerValue\\n                    });\\n                    var _this$props = _this.props,\\n                        picker = _this$props.picker,\\n                        pickerValueChangeProp = _this$props.pickerValueChangeProp;\\n\\n                    if (picker && picker.props[pickerValueChangeProp]) {\\n                        picker.props[pickerValueChangeProp](pickerValue);\\n                    }\\n                }\\n            };\\n            _this.saveRef = function (picker) {\\n                _this.picker = picker;\\n            };\\n            _this.onTriggerClick = function (e) {\\n                var child = _this.props.children;\\n                var childProps = child.props || {};\\n                if (childProps[_this.props.triggerType]) {\\n                    childProps[_this.props.triggerType](e);\\n                }\\n                _this.fireVisibleChange(!_this.state.visible);\\n            };\\n            _this.onOk = function () {\\n                _this.props.onOk(_this.picker && _this.picker.getValue());\\n                _this.fireVisibleChange(false);\\n            };\\n            _this.getContent = function () {\\n                if (_this.props.picker) {\\n                    var _React$cloneElement;\\n\\n                    var pickerValue = _this.state.pickerValue;\\n\\n                    if (pickerValue === null) {\\n                        pickerValue = _this.props.value;\\n                    }\\n                    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(_this.props.picker, (_React$cloneElement = {}, defineProperty_default()(_React$cloneElement, _this.props.pickerValueProp, pickerValue), defineProperty_default()(_React$cloneElement, _this.props.pickerValueChangeProp, _this.onPickerChange), defineProperty_default()(_React$cloneElement, 'ref', _this.saveRef), _React$cloneElement));\\n                } else {\\n                    return _this.props.content;\\n                }\\n            };\\n            _this.onDismiss = function () {\\n                _this.props.onDismiss();\\n                _this.fireVisibleChange(false);\\n            };\\n            _this.hide = function () {\\n                _this.fireVisibleChange(false);\\n            };\\n            _this.state = {\\n                pickerValue: 'value' in _this.props ? _this.props.value : null,\\n                visible: _this.props.visible || false\\n            };\\n            return _this;\\n        }\\n\\n        createClass_default()(_a, [{\\n            key: 'componentWillReceiveProps',\\n            value: function componentWillReceiveProps(nextProps) {\\n                if ('value' in nextProps) {\\n                    this.setState({\\n                        pickerValue: nextProps.value\\n                    });\\n                }\\n                if ('visible' in nextProps) {\\n                    this.setVisibleState(nextProps.visible);\\n                }\\n            }\\n        }, {\\n            key: 'setVisibleState',\\n            value: function setVisibleState(visible) {\\n                this.setState({\\n                    visible: visible\\n                });\\n                if (!visible) {\\n                    this.setState({\\n                        pickerValue: null\\n                    });\\n                }\\n            }\\n        }, {\\n            key: 'fireVisibleChange',\\n            value: function fireVisibleChange(visible) {\\n                if (this.state.visible !== visible) {\\n                    if (!('visible' in this.props)) {\\n                        this.setVisibleState(visible);\\n                    }\\n                    this.props.onVisibleChange(visible);\\n                }\\n            }\\n        }, {\\n            key: 'getRender',\\n            value: function getRender() {\\n                var props = this.props;\\n                var children = props.children;\\n                if (!children) {\\n                    return getModal(props, this.state.visible, {\\n                        getContent: this.getContent,\\n                        onOk: this.onOk,\\n                        hide: this.hide,\\n                        onDismiss: this.onDismiss\\n                    });\\n                }\\n                var _props = this.props,\\n                    WrapComponent = _props.WrapComponent,\\n                    disabled = _props.disabled;\\n\\n                var child = children;\\n                var newChildProps = {};\\n                if (!disabled) {\\n                    newChildProps[props.triggerType] = this.onTriggerClick;\\n                }\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    WrapComponent,\\n                    { style: props.wrapStyle },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(child, newChildProps),\\n                    getModal(props, this.state.visible, {\\n                        getContent: this.getContent,\\n                        onOk: this.onOk,\\n                        hide: this.hide,\\n                        onDismiss: this.onDismiss\\n                    })\\n                );\\n            }\\n        }, {\\n            key: 'render',\\n            value: function render() {\\n                return this.getRender();\\n            }\\n        }]);\\n\\n        return _a;\\n    }(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component), _a.defaultProps = extends_default()({\\n        onVisibleChange: function onVisibleChange(_) {},\\n        okText: 'Ok', dismissText: 'Dismiss', title: '', onOk: function onOk(_) {},\\n        onDismiss: function onDismiss() {}\\n    }, platformProps), _a;\\n    var _a;\\n}\\n// CONCATENATED MODULE: ./node_modules/rmc-picker/es/Popup.js\\n\\n\\n\\n\\nvar Popup_getModal = function getModal(props, visible, _ref) {\\n  var getContent = _ref.getContent,\\n      hide = _ref.hide,\\n      onDismiss = _ref.onDismiss,\\n      onOk = _ref.onOk;\\n\\n  if (!visible) {\\n    return null;\\n  }\\n  var prefixCls = props.prefixCls;\\n\\n  return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n    es_DialogWrap,\\n    { prefixCls: '' + prefixCls, className: props.className || '', visible: true, closable: false, transitionName: props.transitionName || props.popupTransitionName, maskTransitionName: props.maskTransitionName, onClose: hide, style: props.style },\\n    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n      'div',\\n      null,\\n      reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        { className: prefixCls + '-header' },\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          rmc_feedback_es[\\\"default\\\"],\\n          { activeClassName: prefixCls + '-item-active' },\\n          reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            'div',\\n            { className: prefixCls + '-item ' + prefixCls + '-header-left', onClick: onDismiss },\\n            props.dismissText\\n          )\\n        ),\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          'div',\\n          { className: prefixCls + '-item ' + prefixCls + '-title' },\\n          props.title\\n        ),\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          rmc_feedback_es[\\\"default\\\"],\\n          { activeClassName: prefixCls + '-item-active' },\\n          reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            'div',\\n            { className: prefixCls + '-item ' + prefixCls + '-header-right', onClick: onOk },\\n            props.okText\\n          )\\n        )\\n      ),\\n      getContent()\\n    )\\n  );\\n};\\n/* harmony default export */ var es_Popup = (PopupMixin(Popup_getModal, {\\n  prefixCls: 'rmc-picker-popup',\\n  WrapComponent: 'span',\\n  triggerType: 'onClick',\\n  pickerValueProp: 'selectedValue',\\n  pickerValueChangeProp: 'onValueChange'\\n}));\\n// CONCATENATED MODULE: ./node_modules/rmc-date-picker/es/Popup.js\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Popup_PopupDatePicker = function (_React$Component) {\\n    inherits_default()(PopupDatePicker, _React$Component);\\n\\n    function PopupDatePicker() {\\n        classCallCheck_default()(this, PopupDatePicker);\\n\\n        var _this = possibleConstructorReturn_default()(this, (PopupDatePicker.__proto__ || Object.getPrototypeOf(PopupDatePicker)).apply(this, arguments));\\n\\n        _this.onOk = function (v) {\\n            var _this$props = _this.props,\\n                onChange = _this$props.onChange,\\n                onOk = _this$props.onOk;\\n\\n            if (onChange) {\\n                onChange(v);\\n            }\\n            if (onOk) {\\n                onOk(v);\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(PopupDatePicker, [{\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Popup, extends_default()({ picker: this.props.datePicker, value: this.props.date }, this.props, { onOk: this.onOk }));\\n        }\\n    }]);\\n\\n    return PopupDatePicker;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nPopup_PopupDatePicker.defaultProps = {\\n    pickerValueProp: 'date',\\n    pickerValueChangeProp: 'onDateChange'\\n};\\n/* harmony default export */ var rmc_date_picker_es_Popup = (Popup_PopupDatePicker);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/date-picker/utils.js\\n\\nfunction formatIt(date, form) {\\n    var pad = function pad(n) {\\n        return n < 10 ? '0' + n : n;\\n    };\\n    var dateStr = date.getFullYear() + '-' + pad(date.getMonth() + 1) + '-' + pad(date.getDate());\\n    var timeStr = pad(date.getHours()) + ':' + pad(date.getMinutes());\\n    if (form === 'YYYY-MM-DD') {\\n        return dateStr;\\n    }\\n    if (form === 'HH:mm') {\\n        return timeStr;\\n    }\\n    return dateStr + ' ' + timeStr;\\n}\\nfunction formatFn(instance, value) {\\n    var formatsEnum = {\\n        date: 'YYYY-MM-DD',\\n        time: 'HH:mm',\\n        datetime: 'YYYY-MM-DD HH:mm'\\n    };\\n    var format = instance.props.format;\\n\\n    var type = typeof format === 'undefined' ? 'undefined' : typeof_default()(format);\\n    if (type === 'string') {\\n        return formatIt(value, format);\\n    }\\n    if (type === 'function') {\\n        return format(value);\\n    }\\n    return formatIt(value, formatsEnum[instance.props.mode]);\\n}\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/date-picker/index.js\\n\\n\\n\\n\\n\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\n\\n\\n\\nvar date_picker_DatePicker = function (_React$Component) {\\n    inherits_default()(DatePicker, _React$Component);\\n\\n    function DatePicker() {\\n        classCallCheck_default()(this, DatePicker);\\n\\n        var _this = possibleConstructorReturn_default()(this, (DatePicker.__proto__ || Object.getPrototypeOf(DatePicker)).apply(this, arguments));\\n\\n        _this.setScrollValue = function (v) {\\n            _this.scrollValue = v;\\n        };\\n        _this.onOk = function (v) {\\n            if (_this.scrollValue !== undefined) {\\n                v = _this.scrollValue;\\n            }\\n            if (_this.props.onChange) {\\n                _this.props.onChange(v);\\n            }\\n            if (_this.props.onOk) {\\n                _this.props.onOk(v);\\n            }\\n        };\\n        _this.onVisibleChange = function (visible) {\\n            _this.scrollValue = undefined;\\n            if (_this.props.onVisibleChange) {\\n                _this.props.onVisibleChange(visible);\\n            }\\n        };\\n        _this.fixOnOk = function (picker) {\\n            if (picker) {\\n                picker.onOk = _this.onOk;\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(DatePicker, [{\\n        key: 'render',\\n        value: function render() {\\n            // tslint:disable-next-line:no-this-assignment\\n            var props = this.props,\\n                context = this.context;\\n            var children = props.children,\\n                value = props.value,\\n                popupPrefixCls = props.popupPrefixCls;\\n\\n            var locale = getComponentLocale(props, context, 'DatePicker', function () {\\n                return __webpack_require__(/*! ./locale/zh_CN */ \\\"PyX8\\\");\\n            });\\n            var okText = locale.okText,\\n                dismissText = locale.dismissText,\\n                extra = locale.extra,\\n                DatePickerLocale = locale.DatePickerLocale;\\n            /**\\n             * :\\n             *    value  value \\n             *  value   defaultValue \\n             *\\n             * DatePickerView  value    defaultDate   \\n             * PickerView  value   \\n             *\\n             * DatePicker / Picker  value  ( defaultValue)\\n             *  List    \\n             *    value \\n             *  value  ( input )\\n             *\\n             */\\n\\n            var dataPicker = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_DatePicker, { minuteStep: props.minuteStep, locale: DatePickerLocale, minDate: props.minDate, maxDate: props.maxDate, mode: props.mode, pickerPrefixCls: props.pickerPrefixCls, prefixCls: props.prefixCls, defaultDate: value || new Date(), use12Hours: props.use12Hours, onValueChange: props.onValueChange, onScrollChange: this.setScrollValue });\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_date_picker_es_Popup,\\n                extends_default()({ datePicker: dataPicker, WrapComponent: 'div', transitionName: 'am-slide-up', maskTransitionName: 'am-fade' }, props, { prefixCls: popupPrefixCls, date: value || new Date(), dismissText: this.props.dismissText || dismissText, okText: this.props.okText || okText, ref: this.fixOnOk, onVisibleChange: this.onVisibleChange }),\\n                children && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.isValidElement(children) && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(children, {\\n                    extra: value ? formatFn(this, value) : this.props.extra || extra\\n                })\\n            );\\n        }\\n    }]);\\n\\n    return DatePicker;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var date_picker = (date_picker_DatePicker);\\n\\ndate_picker_DatePicker.defaultProps = {\\n    mode: 'datetime',\\n    prefixCls: 'am-picker',\\n    pickerPrefixCls: 'am-picker-col',\\n    popupPrefixCls: 'am-picker-popup',\\n    minuteStep: 1,\\n    use12Hours: false\\n};\\ndate_picker_DatePicker.contextTypes = {\\n    antLocale: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/date-picker-view/date-picker-view.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar date_picker_view_DatePickerView = function (_React$Component) {\\n    inherits_default()(DatePickerView, _React$Component);\\n\\n    function DatePickerView() {\\n        classCallCheck_default()(this, DatePickerView);\\n\\n        return possibleConstructorReturn_default()(this, (DatePickerView.__proto__ || Object.getPrototypeOf(DatePickerView)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(DatePickerView, [{\\n        key: 'render',\\n        value: function render() {\\n            // tslint:disable-next-line:no-this-assignment\\n            var props = this.props,\\n                context = this.context;\\n\\n            var locale = getComponentLocale(props, context, 'DatePickerView', function () {\\n                return __webpack_require__(/*! ./locale/zh_CN */ \\\"pKt7\\\");\\n            });\\n            // DatePicker use `defaultDate`, maybe because there are PopupDatePicker inside? @yiminghe\\n            // Here Use `date` instead of `defaultDate`, make it controlled fully.\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_DatePicker, extends_default()({}, props, { locale: locale, date: props.value, onDateChange: props.onChange, onValueChange: props.onValueChange, onScrollChange: props.onScrollChange }));\\n        }\\n    }]);\\n\\n    return DatePickerView;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var date_picker_view = (date_picker_view_DatePickerView);\\n\\ndate_picker_view_DatePickerView.defaultProps = {\\n    mode: 'datetime',\\n    extra: '',\\n    prefixCls: 'am-picker',\\n    pickerPrefixCls: 'am-picker-col',\\n    minuteStep: 1,\\n    use12Hours: false\\n};\\ndate_picker_view_DatePickerView.contextTypes = {\\n    antLocale: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/date-picker-view/index.js\\n\\n/* harmony default export */ var es_date_picker_view = (date_picker_view);\\n// CONCATENATED MODULE: ./node_modules/rmc-drawer/es/Drawer.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfunction getOffset(ele) {\\n  var el = ele;\\n  var _x = 0;\\n  var _y = 0;\\n  while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {\\n    _x += el.offsetLeft - el.scrollLeft;\\n    _y += el.offsetTop - el.scrollTop;\\n    el = el.offsetParent;\\n  }\\n  return { top: _y, left: _x };\\n}\\n\\nvar CANCEL_DISTANCE_ON_SCROLL = 20;\\n\\nvar Drawer_Drawer = function (_React$Component) {\\n  inherits_default()(Drawer, _React$Component);\\n\\n  function Drawer(props) {\\n    classCallCheck_default()(this, Drawer);\\n\\n    var _this = possibleConstructorReturn_default()(this, (Drawer.__proto__ || Object.getPrototypeOf(Drawer)).call(this, props));\\n\\n    _this.onOverlayClicked = function () {\\n      if (_this.props.open) {\\n        // see https://github.com/react-component/drawer/issues/9\\n        setTimeout(function () {\\n          _this.props.onOpenChange(false, { overlayClicked: true });\\n        }, 0);\\n      }\\n    };\\n\\n    _this.onTouchStart = function (ev) {\\n      // filter out if a user starts swiping with a second finger\\n      if (!_this.isTouching()) {\\n        var touch = ev.targetTouches[0];\\n        _this.setState({\\n          touchIdentifier: !_this.notTouch ? touch.identifier : null,\\n          touchStartX: touch.clientX,\\n          touchStartY: touch.clientY,\\n          touchCurrentX: touch.clientX,\\n          touchCurrentY: touch.clientY\\n        });\\n      }\\n    };\\n\\n    _this.onTouchMove = function (ev) {\\n      // ev.preventDefault(); // cannot touchmove with FastClick\\n      if (_this.isTouching()) {\\n        for (var ind = 0; ind < ev.targetTouches.length; ind++) {\\n          // we only care about the finger that we are tracking\\n          if (ev.targetTouches[ind].identifier === _this.state.touchIdentifier) {\\n            _this.setState({\\n              touchCurrentX: ev.targetTouches[ind].clientX,\\n              touchCurrentY: ev.targetTouches[ind].clientY\\n            });\\n            break;\\n          }\\n        }\\n      }\\n    };\\n\\n    _this.onTouchEnd = function () {\\n      _this.notTouch = false;\\n      if (_this.isTouching()) {\\n        // trigger a change to open if sidebar has been dragged beyond dragToggleDistance\\n        var touchWidth = _this.touchSidebarWidth();\\n\\n        if (_this.props.open && touchWidth < _this.state.sidebarWidth - _this.props.dragToggleDistance || !_this.props.open && touchWidth > _this.props.dragToggleDistance) {\\n          _this.props.onOpenChange(!_this.props.open);\\n        }\\n\\n        var touchHeight = _this.touchSidebarHeight();\\n\\n        if (_this.props.open && touchHeight < _this.state.sidebarHeight - _this.props.dragToggleDistance || !_this.props.open && touchHeight > _this.props.dragToggleDistance) {\\n          _this.props.onOpenChange(!_this.props.open);\\n        }\\n\\n        _this.setState({\\n          touchIdentifier: null,\\n          touchStartX: null,\\n          touchStartY: null,\\n          touchCurrentX: null,\\n          touchCurrentY: null\\n        });\\n      }\\n    };\\n\\n    _this.onScroll = function () {\\n      if (_this.isTouching() && _this.inCancelDistanceOnScroll()) {\\n        _this.setState({\\n          touchIdentifier: null,\\n          touchStartX: null,\\n          touchStartY: null,\\n          touchCurrentX: null,\\n          touchCurrentY: null\\n        });\\n      }\\n    };\\n\\n    _this.inCancelDistanceOnScroll = function () {\\n      var cancelDistanceOnScroll = void 0;\\n      switch (_this.props.position) {\\n        case 'right':\\n          cancelDistanceOnScroll = Math.abs(_this.state.touchCurrentX - _this.state.touchStartX) < CANCEL_DISTANCE_ON_SCROLL;\\n          break;\\n        case 'bottom':\\n          cancelDistanceOnScroll = Math.abs(_this.state.touchCurrentY - _this.state.touchStartY) < CANCEL_DISTANCE_ON_SCROLL;\\n          break;\\n        case 'top':\\n          cancelDistanceOnScroll = Math.abs(_this.state.touchStartY - _this.state.touchCurrentY) < CANCEL_DISTANCE_ON_SCROLL;\\n          break;\\n        case 'left':\\n        default:\\n          cancelDistanceOnScroll = Math.abs(_this.state.touchStartX - _this.state.touchCurrentX) < CANCEL_DISTANCE_ON_SCROLL;\\n      }\\n      return cancelDistanceOnScroll;\\n    };\\n\\n    _this.isTouching = function () {\\n      return _this.state.touchIdentifier !== null;\\n    };\\n\\n    _this.saveSidebarSize = function () {\\n      var sidebar = react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.findDOMNode(_this.refs.sidebar);\\n      var width = sidebar.offsetWidth;\\n      var height = sidebar.offsetHeight;\\n      var sidebarTop = getOffset(react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.findDOMNode(_this.refs.sidebar)).top;\\n      var dragHandleTop = getOffset(react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.findDOMNode(_this.refs.dragHandle)).top;\\n\\n      if (width !== _this.state.sidebarWidth) {\\n        _this.setState({ sidebarWidth: width });\\n      }\\n      if (height !== _this.state.sidebarHeight) {\\n        _this.setState({ sidebarHeight: height });\\n      }\\n      if (sidebarTop !== _this.state.sidebarTop) {\\n        _this.setState({ sidebarTop: sidebarTop });\\n      }\\n      if (dragHandleTop !== _this.state.dragHandleTop) {\\n        _this.setState({ dragHandleTop: dragHandleTop });\\n      }\\n    };\\n\\n    _this.touchSidebarWidth = function () {\\n      // if the sidebar is open and start point of drag is inside the sidebar\\n      // we will only drag the distance they moved their finger\\n      // otherwise we will move the sidebar to be below the finger.\\n      if (_this.props.position === 'right') {\\n        if (_this.props.open && window.innerWidth - _this.state.touchStartX < _this.state.sidebarWidth) {\\n          if (_this.state.touchCurrentX > _this.state.touchStartX) {\\n            return _this.state.sidebarWidth + _this.state.touchStartX - _this.state.touchCurrentX;\\n          }\\n          return _this.state.sidebarWidth;\\n        }\\n        return Math.min(window.innerWidth - _this.state.touchCurrentX, _this.state.sidebarWidth);\\n      }\\n\\n      if (_this.props.position === 'left') {\\n        if (_this.props.open && _this.state.touchStartX < _this.state.sidebarWidth) {\\n          if (_this.state.touchCurrentX > _this.state.touchStartX) {\\n            return _this.state.sidebarWidth;\\n          }\\n          return _this.state.sidebarWidth - _this.state.touchStartX + _this.state.touchCurrentX;\\n        }\\n        return Math.min(_this.state.touchCurrentX, _this.state.sidebarWidth);\\n      }\\n    };\\n\\n    _this.touchSidebarHeight = function () {\\n      // if the sidebar is open and start point of drag is inside the sidebar\\n      // we will only drag the distance they moved their finger\\n      // otherwise we will move the sidebar to be below the finger.\\n      if (_this.props.position === 'bottom') {\\n        if (_this.props.open && window.innerHeight - _this.state.touchStartY < _this.state.sidebarHeight) {\\n          if (_this.state.touchCurrentY > _this.state.touchStartY) {\\n            return _this.state.sidebarHeight + _this.state.touchStartY - _this.state.touchCurrentY;\\n          }\\n          return _this.state.sidebarHeight;\\n        }\\n        return Math.min(window.innerHeight - _this.state.touchCurrentY, _this.state.sidebarHeight);\\n      }\\n\\n      if (_this.props.position === 'top') {\\n        var touchStartOffsetY = _this.state.touchStartY - _this.state.sidebarTop;\\n        if (_this.props.open && touchStartOffsetY < _this.state.sidebarHeight) {\\n          if (_this.state.touchCurrentY > _this.state.touchStartY) {\\n            return _this.state.sidebarHeight;\\n          }\\n          return _this.state.sidebarHeight - _this.state.touchStartY + _this.state.touchCurrentY;\\n        }\\n        return Math.min(_this.state.touchCurrentY - _this.state.dragHandleTop, _this.state.sidebarHeight);\\n      }\\n    };\\n\\n    _this.renderStyle = function (_ref) {\\n      var sidebarStyle = _ref.sidebarStyle,\\n          isTouching = _ref.isTouching,\\n          overlayStyle = _ref.overlayStyle,\\n          contentStyle = _ref.contentStyle;\\n\\n      if (_this.props.position === 'right' || _this.props.position === 'left') {\\n        sidebarStyle.transform = 'translateX(0%)';\\n        sidebarStyle.WebkitTransform = 'translateX(0%)';\\n        if (isTouching) {\\n          var percentage = _this.touchSidebarWidth() / _this.state.sidebarWidth;\\n          // slide open to what we dragged\\n          if (_this.props.position === 'right') {\\n            sidebarStyle.transform = 'translateX(' + (1 - percentage) * 100 + '%)';\\n            sidebarStyle.WebkitTransform = 'translateX(' + (1 - percentage) * 100 + '%)';\\n          }\\n          if (_this.props.position === 'left') {\\n            sidebarStyle.transform = 'translateX(-' + (1 - percentage) * 100 + '%)';\\n            sidebarStyle.WebkitTransform = 'translateX(-' + (1 - percentage) * 100 + '%)';\\n          }\\n          // fade overlay to match distance of drag\\n          overlayStyle.opacity = percentage;\\n          overlayStyle.visibility = 'visible';\\n        }\\n        if (contentStyle) {\\n          contentStyle[_this.props.position] = _this.state.sidebarWidth + 'px';\\n        }\\n      }\\n      if (_this.props.position === 'top' || _this.props.position === 'bottom') {\\n        sidebarStyle.transform = 'translateY(0%)';\\n        sidebarStyle.WebkitTransform = 'translateY(0%)';\\n        if (isTouching) {\\n          var _percentage = _this.touchSidebarHeight() / _this.state.sidebarHeight;\\n          // slide open to what we dragged\\n          if (_this.props.position === 'bottom') {\\n            sidebarStyle.transform = 'translateY(' + (1 - _percentage) * 100 + '%)';\\n            sidebarStyle.WebkitTransform = 'translateY(' + (1 - _percentage) * 100 + '%)';\\n          }\\n          if (_this.props.position === 'top') {\\n            sidebarStyle.transform = 'translateY(-' + (1 - _percentage) * 100 + '%)';\\n            sidebarStyle.WebkitTransform = 'translateY(-' + (1 - _percentage) * 100 + '%)';\\n          }\\n          // fade overlay to match distance of drag\\n          overlayStyle.opacity = _percentage;\\n          overlayStyle.visibility = 'visible';\\n        }\\n        if (contentStyle) {\\n          contentStyle[_this.props.position] = _this.state.sidebarHeight + 'px';\\n        }\\n      }\\n    };\\n\\n    _this.state = {\\n      // the detected width of the sidebar in pixels\\n      sidebarWidth: 0,\\n      sidebarHeight: 0,\\n      sidebarTop: 0,\\n      dragHandleTop: 0,\\n\\n      // keep track of touching params\\n      touchIdentifier: null,\\n      touchStartX: null,\\n      touchStartY: null,\\n      touchCurrentX: null,\\n      touchCurrentY: null,\\n\\n      // if touch is supported by the browser\\n      touchSupported: (typeof window === 'undefined' ? 'undefined' : typeof_default()(window)) === 'object' && 'ontouchstart' in window\\n    };\\n    return _this;\\n  }\\n\\n  createClass_default()(Drawer, [{\\n    key: 'componentDidMount',\\n    value: function componentDidMount() {\\n      this.saveSidebarSize();\\n    }\\n  }, {\\n    key: 'componentDidUpdate',\\n    value: function componentDidUpdate() {\\n      // filter out the updates when we're touching\\n      if (!this.isTouching()) {\\n        this.saveSidebarSize();\\n      }\\n    }\\n\\n    // This logic helps us prevents the user from sliding the sidebar horizontally\\n    // while scrolling the sidebar vertically. When a scroll event comes in, we're\\n    // cancelling the ongoing gesture if it did not move horizontally much.\\n\\n\\n    // True if the on going gesture X distance is less than the cancel distance\\n\\n\\n    // calculate the sidebarWidth based on current touch info\\n\\n    // calculate the sidebarHeight based on current touch info\\n\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _rootCls,\\n          _this2 = this;\\n\\n      var _props = this.props,\\n          className = _props.className,\\n          style = _props.style,\\n          prefixCls = _props.prefixCls,\\n          position = _props.position,\\n          transitions = _props.transitions,\\n          touch = _props.touch,\\n          enableDragHandle = _props.enableDragHandle,\\n          sidebar = _props.sidebar,\\n          children = _props.children,\\n          docked = _props.docked,\\n          open = _props.open;\\n\\n\\n      var sidebarStyle = extends_default()({}, this.props.sidebarStyle);\\n      var contentStyle = extends_default()({}, this.props.contentStyle);\\n      var overlayStyle = extends_default()({}, this.props.overlayStyle);\\n\\n      var rootCls = (_rootCls = {}, defineProperty_default()(_rootCls, className, !!className), defineProperty_default()(_rootCls, prefixCls, true), defineProperty_default()(_rootCls, prefixCls + '-' + position, true), _rootCls);\\n\\n      var rootProps = { style: style };\\n      var isTouching = this.isTouching();\\n\\n      if (isTouching) {\\n        this.renderStyle({ sidebarStyle: sidebarStyle, isTouching: true, overlayStyle: overlayStyle });\\n      } else if (docked) {\\n        if (this.state.sidebarWidth !== 0) {\\n          rootCls[prefixCls + '-docked'] = true;\\n          this.renderStyle({ sidebarStyle: sidebarStyle, contentStyle: contentStyle });\\n        }\\n      } else if (open) {\\n        rootCls[prefixCls + '-open'] = true;\\n        this.renderStyle({ sidebarStyle: sidebarStyle });\\n        overlayStyle.opacity = 1;\\n        overlayStyle.visibility = 'visible';\\n      }\\n\\n      if (isTouching || !transitions) {\\n        sidebarStyle.transition = 'none';\\n        sidebarStyle.WebkitTransition = 'none';\\n        contentStyle.transition = 'none';\\n        overlayStyle.transition = 'none';\\n      }\\n\\n      var dragHandle = null;\\n\\n      if (this.state.touchSupported && touch) {\\n        if (open) {\\n          rootProps.onTouchStart = function (ev) {\\n            _this2.notTouch = true;\\n            _this2.onTouchStart(ev);\\n          };\\n          rootProps.onTouchMove = this.onTouchMove;\\n          rootProps.onTouchEnd = this.onTouchEnd;\\n          rootProps.onTouchCancel = this.onTouchEnd;\\n          rootProps.onScroll = this.onScroll;\\n        } else if (enableDragHandle) {\\n          dragHandle = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-draghandle', style: this.props.dragHandleStyle,\\n            onTouchStart: this.onTouchStart, onTouchMove: this.onTouchMove,\\n            onTouchEnd: this.onTouchEnd, onTouchCancel: this.onTouchEnd,\\n            ref: 'dragHandle'\\n          });\\n        }\\n      }\\n\\n      // const evt = {};\\n      // // FastClick use touchstart instead of click\\n      // if (this.state.touchSupported) {\\n      //   evt.onTouchStart = () => {\\n      //     this.notTouch = true;\\n      //     this.onOverlayClicked();\\n      //   };\\n      //   evt.onTouchEnd = () => {\\n      //     this.notTouch = false;\\n      //     this.setState({\\n      //       touchIdentifier: null,\\n      //     });\\n      //   };\\n      // } else {\\n      //   evt.onClick = this.onOverlayClicked;\\n      // }\\n\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        extends_default()({ className: classnames_default()(rootCls) }, rootProps),\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          'div',\\n          { className: prefixCls + '-sidebar', style: sidebarStyle,\\n            ref: 'sidebar'\\n          },\\n          sidebar\\n        ),\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-overlay',\\n          style: overlayStyle,\\n          role: 'presentation',\\n          ref: 'overlay',\\n          onClick: this.onOverlayClicked\\n        }),\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          'div',\\n          { className: prefixCls + '-content', style: contentStyle,\\n            ref: 'content'\\n          },\\n          dragHandle,\\n          children\\n        )\\n      );\\n    }\\n  }]);\\n\\n  return Drawer;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nDrawer_Drawer.propTypes = {\\n  prefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  className: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  // main content to render\\n  children: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.node.isRequired,\\n\\n  // styles\\n  // styles: PropTypes.shape({\\n  //   dragHandle: PropTypes.object,\\n  // }),\\n  style: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  sidebarStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  contentStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  overlayStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  dragHandleStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n\\n  // sidebar content to render\\n  sidebar: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.node.isRequired,\\n\\n  // boolean if sidebar should be docked\\n  docked: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n\\n  // boolean if sidebar should slide open\\n  open: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n\\n  // boolean if transitions should be disabled\\n  transitions: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n\\n  // boolean if touch gestures are enabled\\n  touch: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  enableDragHandle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n\\n  // where to place the sidebar\\n  position: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOf(['left', 'right', 'top', 'bottom']),\\n\\n  // distance we have to drag the sidebar to toggle open state\\n  dragToggleDistance: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n\\n  // callback called when the overlay is clicked\\n  onOpenChange: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func\\n};\\nDrawer_Drawer.defaultProps = {\\n  prefixCls: 'rmc-drawer',\\n  sidebarStyle: {},\\n  contentStyle: {},\\n  overlayStyle: {},\\n  dragHandleStyle: {},\\n  docked: false,\\n  open: false,\\n  transitions: true,\\n  touch: true,\\n  enableDragHandle: true,\\n  position: 'left',\\n  dragToggleDistance: 30,\\n  onOpenChange: function onOpenChange() {}\\n};\\n/* harmony default export */ var es_Drawer = (Drawer_Drawer);\\n// CONCATENATED MODULE: ./node_modules/rmc-drawer/es/index.js\\n// export this package's api\\n\\n/* harmony default export */ var rmc_drawer_es = (es_Drawer);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/drawer/index.js\\n\\n\\n\\n\\n\\n\\n\\nvar drawer_Drawer = function (_React$Component) {\\n    inherits_default()(Drawer, _React$Component);\\n\\n    function Drawer() {\\n        classCallCheck_default()(this, Drawer);\\n\\n        return possibleConstructorReturn_default()(this, (Drawer.__proto__ || Object.getPrototypeOf(Drawer)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Drawer, [{\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(rmc_drawer_es, this.props);\\n        }\\n    }]);\\n\\n    return Drawer;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var drawer = (drawer_Drawer);\\n\\ndrawer_Drawer.defaultProps = {\\n    prefixCls: 'am-drawer',\\n    enableDragHandle: false\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/flex/Flex.js\\n\\n\\n\\n\\n\\n\\nvar Flex_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nvar Flex_Flex = function (_React$Component) {\\n    inherits_default()(Flex, _React$Component);\\n\\n    function Flex() {\\n        classCallCheck_default()(this, Flex);\\n\\n        return possibleConstructorReturn_default()(this, (Flex.__proto__ || Object.getPrototypeOf(Flex)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Flex, [{\\n        key: 'render',\\n        value: function render() {\\n            var _classnames;\\n\\n            var _a = this.props,\\n                direction = _a.direction,\\n                wrap = _a.wrap,\\n                justify = _a.justify,\\n                align = _a.align,\\n                alignContent = _a.alignContent,\\n                className = _a.className,\\n                children = _a.children,\\n                prefixCls = _a.prefixCls,\\n                style = _a.style,\\n                restProps = Flex_rest(_a, [\\\"direction\\\", \\\"wrap\\\", \\\"justify\\\", \\\"align\\\", \\\"alignContent\\\", \\\"className\\\", \\\"children\\\", \\\"prefixCls\\\", \\\"style\\\"]);\\n            var wrapCls = classnames_default()(prefixCls, className, (_classnames = {}, defineProperty_default()(_classnames, prefixCls + '-dir-row', direction === 'row'), defineProperty_default()(_classnames, prefixCls + '-dir-row-reverse', direction === 'row-reverse'), defineProperty_default()(_classnames, prefixCls + '-dir-column', direction === 'column'), defineProperty_default()(_classnames, prefixCls + '-dir-column-reverse', direction === 'column-reverse'), defineProperty_default()(_classnames, prefixCls + '-nowrap', wrap === 'nowrap'), defineProperty_default()(_classnames, prefixCls + '-wrap', wrap === 'wrap'), defineProperty_default()(_classnames, prefixCls + '-wrap-reverse', wrap === 'wrap-reverse'), defineProperty_default()(_classnames, prefixCls + '-justify-start', justify === 'start'), defineProperty_default()(_classnames, prefixCls + '-justify-end', justify === 'end'), defineProperty_default()(_classnames, prefixCls + '-justify-center', justify === 'center'), defineProperty_default()(_classnames, prefixCls + '-justify-between', justify === 'between'), defineProperty_default()(_classnames, prefixCls + '-justify-around', justify === 'around'), defineProperty_default()(_classnames, prefixCls + '-align-start', align === 'start'), defineProperty_default()(_classnames, prefixCls + '-align-center', align === 'center'), defineProperty_default()(_classnames, prefixCls + '-align-end', align === 'end'), defineProperty_default()(_classnames, prefixCls + '-align-baseline', align === 'baseline'), defineProperty_default()(_classnames, prefixCls + '-align-stretch', align === 'stretch'), defineProperty_default()(_classnames, prefixCls + '-align-content-start', alignContent === 'start'), defineProperty_default()(_classnames, prefixCls + '-align-content-end', alignContent === 'end'), defineProperty_default()(_classnames, prefixCls + '-align-content-center', alignContent === 'center'), defineProperty_default()(_classnames, prefixCls + '-align-content-between', alignContent === 'between'), defineProperty_default()(_classnames, prefixCls + '-align-content-around', alignContent === 'around'), defineProperty_default()(_classnames, prefixCls + '-align-content-stretch', alignContent === 'stretch'), _classnames));\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({ className: wrapCls, style: style }, restProps),\\n                children\\n            );\\n        }\\n    }]);\\n\\n    return Flex;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var flex_Flex = (Flex_Flex);\\n\\nFlex_Flex.defaultProps = {\\n    prefixCls: 'am-flexbox',\\n    align: 'center'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/flex/FlexItem.js\\n\\n\\n\\n\\n\\nvar FlexItem_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nvar FlexItem_FlexItem = function (_React$Component) {\\n    inherits_default()(FlexItem, _React$Component);\\n\\n    function FlexItem() {\\n        classCallCheck_default()(this, FlexItem);\\n\\n        return possibleConstructorReturn_default()(this, (FlexItem.__proto__ || Object.getPrototypeOf(FlexItem)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(FlexItem, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                children = _a.children,\\n                className = _a.className,\\n                prefixCls = _a.prefixCls,\\n                style = _a.style,\\n                restProps = FlexItem_rest(_a, [\\\"children\\\", \\\"className\\\", \\\"prefixCls\\\", \\\"style\\\"]);\\n            var wrapCls = classnames_default()(prefixCls + '-item', className);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({ className: wrapCls, style: style }, restProps),\\n                children\\n            );\\n        }\\n    }]);\\n\\n    return FlexItem;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var flex_FlexItem = (FlexItem_FlexItem);\\n\\nFlexItem_FlexItem.defaultProps = {\\n    prefixCls: 'am-flexbox'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/flex/index.js\\n\\n\\nflex_Flex.Item = flex_FlexItem;\\n/* harmony default export */ var flex = (flex_Flex);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/grid/index.js\\n\\n\\n\\n\\n\\n\\nvar grid_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\n\\n\\nvar grid_Grid = function (_React$Component) {\\n    inherits_default()(Grid, _React$Component);\\n\\n    function Grid() {\\n        classCallCheck_default()(this, Grid);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Grid.__proto__ || Object.getPrototypeOf(Grid)).apply(this, arguments));\\n\\n        _this.state = {\\n            initialSlideWidth: 0\\n        };\\n        _this.renderCarousel = function (rowsArr, pageCount, rowCount) {\\n            var prefixCls = _this.props.prefixCls;\\n\\n            var carouselMaxRow = _this.props.carouselMaxRow;\\n            var pagesArr = [];\\n            for (var pageIndex = 0; pageIndex < pageCount; pageIndex++) {\\n                var pageRows = [];\\n                for (var ii = 0; ii < carouselMaxRow; ii++) {\\n                    var rowIndex = pageIndex * carouselMaxRow + ii;\\n                    if (rowIndex < rowCount) {\\n                        pageRows.push(rowsArr[rowIndex]);\\n                    } else {\\n                        // (last-child)\\n                        pageRows.push(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { key: 'gridline-' + rowIndex }));\\n                    }\\n                }\\n                pagesArr.push(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { key: 'pageitem-' + pageIndex, className: prefixCls + '-carousel-page' },\\n                    pageRows\\n                ));\\n            }\\n            return pagesArr;\\n        };\\n        _this.renderItem = function (dataItem, index, columnNum, renderItem) {\\n            var prefixCls = _this.props.prefixCls;\\n\\n            var itemEl = null;\\n            if (renderItem) {\\n                itemEl = renderItem(dataItem, index);\\n            } else {\\n                if (dataItem) {\\n                    var icon = dataItem.icon,\\n                        text = dataItem.text;\\n\\n                    itemEl = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-item-inner-content column-num-' + columnNum },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.isValidElement(icon) ? icon : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('img', { className: prefixCls + '-icon', src: icon }),\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'div',\\n                            { className: prefixCls + '-text' },\\n                            text\\n                        )\\n                    );\\n                }\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: prefixCls + '-item-content' },\\n                itemEl\\n            );\\n        };\\n        _this.getRows = function (rowCount, dataLength) {\\n            // tslint:disable:prefer-const\\n            var _this$props = _this.props,\\n                columnNum = _this$props.columnNum,\\n                data = _this$props.data,\\n                renderItem = _this$props.renderItem,\\n                prefixCls = _this$props.prefixCls,\\n                _onClick = _this$props.onClick,\\n                activeStyle = _this$props.activeStyle,\\n                activeClassName = _this$props.activeClassName,\\n                itemStyle = _this$props.itemStyle;\\n\\n            var rowsArr = [];\\n            columnNum = columnNum;\\n            var rowWidth = 100 / columnNum + '%';\\n            var colStyle = extends_default()({ width: rowWidth }, itemStyle);\\n            for (var i = 0; i < rowCount; i++) {\\n                var rowArr = [];\\n\\n                var _loop = function _loop(j) {\\n                    var dataIndex = i * columnNum + j;\\n                    var itemEl = void 0;\\n                    if (dataIndex < dataLength) {\\n                        var el = data && data[dataIndex];\\n                        itemEl = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            rmc_feedback_es[\\\"default\\\"],\\n                            { key: 'griditem-' + dataIndex, activeClassName: activeClassName ? activeClassName : prefixCls + '-item-active', activeStyle: activeStyle },\\n                            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                                flex.Item,\\n                                { className: prefixCls + '-item', onClick: function onClick() {\\n                                        return _onClick && _onClick(el, dataIndex);\\n                                    }, style: colStyle },\\n                                _this.renderItem(el, dataIndex, columnNum, renderItem)\\n                            )\\n                        );\\n                    } else {\\n                        itemEl = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(flex.Item, { key: 'griditem-' + dataIndex, className: prefixCls + '-item ' + prefixCls + '-null-item', style: colStyle });\\n                    }\\n                    rowArr.push(itemEl);\\n                };\\n\\n                for (var j = 0; j < columnNum; j++) {\\n                    _loop(j);\\n                }\\n                rowsArr.push(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    flex,\\n                    { justify: 'center', align: 'stretch', key: 'gridline-' + i },\\n                    rowArr\\n                ));\\n            }\\n            return rowsArr;\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Grid, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            this.setState({\\n                initialSlideWidth: document.documentElement.clientWidth\\n            });\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _classnames;\\n\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                className = _a.className,\\n                data = _a.data,\\n                hasLine = _a.hasLine,\\n                isCarousel = _a.isCarousel,\\n                square = _a.square,\\n                activeStyle = _a.activeStyle,\\n                activeClassName = _a.activeClassName,\\n                restProps = grid_rest(_a, [\\\"prefixCls\\\", \\\"className\\\", \\\"data\\\", \\\"hasLine\\\", \\\"isCarousel\\\", \\\"square\\\", \\\"activeStyle\\\", \\\"activeClassName\\\"]);\\n            var columnNum = restProps.columnNum,\\n                carouselMaxRow = restProps.carouselMaxRow,\\n                onClick = restProps.onClick,\\n                renderItem = restProps.renderItem,\\n                restPropsForCarousel = grid_rest(restProps, [\\\"columnNum\\\", \\\"carouselMaxRow\\\", \\\"onClick\\\", \\\"renderItem\\\"]);\\n\\n            var initialSlideWidth = this.state.initialSlideWidth;\\n\\n            columnNum = columnNum;\\n            carouselMaxRow = carouselMaxRow;\\n            var dataLength = data && data.length || 0;\\n            var rowCount = Math.ceil(dataLength / columnNum);\\n            var rowsArr = void 0;\\n            var renderEl = void 0;\\n            if (isCarousel) {\\n                if (initialSlideWidth < 0) {\\n                    // carousel  server render. because carousel dependes on document\\n                    return null;\\n                }\\n                if (rowCount % carouselMaxRow !== 0) {\\n                    rowCount = rowCount + carouselMaxRow - rowCount % carouselMaxRow;\\n                }\\n                var pageCount = Math.ceil(rowCount / carouselMaxRow);\\n                rowsArr = this.getRows(rowCount, dataLength);\\n                var carouselProps = {};\\n                if (pageCount <= 1) {\\n                    carouselProps = {\\n                        dots: false,\\n                        dragging: false,\\n                        swiping: false\\n                    };\\n                }\\n                renderEl = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    es_carousel,\\n                    extends_default()({ initialSlideWidth: initialSlideWidth }, restPropsForCarousel, carouselProps),\\n                    this.renderCarousel(rowsArr, pageCount, rowCount)\\n                );\\n            } else {\\n                rowsArr = this.getRows(rowCount, dataLength);\\n                renderEl = rowsArr;\\n            }\\n            var cls = classnames_default()(prefixCls, className, (_classnames = {}, defineProperty_default()(_classnames, prefixCls + '-square', square), defineProperty_default()(_classnames, prefixCls + '-line', hasLine), defineProperty_default()(_classnames, prefixCls + '-carousel', isCarousel), _classnames));\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: cls },\\n                renderEl\\n            );\\n        }\\n    }]);\\n\\n    return Grid;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var grid = (grid_Grid);\\n\\ngrid_Grid.defaultProps = {\\n    data: [],\\n    hasLine: true,\\n    isCarousel: false,\\n    columnNum: 4,\\n    carouselMaxRow: 2,\\n    prefixCls: 'am-grid',\\n    square: true,\\n    itemStyle: {}\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/image-picker/index.js\\n\\n\\n\\n\\n/* tslint:disable:no-bitwise */\\n\\n\\n\\n\\nfunction image_picker_noop() {}\\n\\nvar image_picker_ImagePicker = function (_React$Component) {\\n    inherits_default()(ImagePicker, _React$Component);\\n\\n    function ImagePicker() {\\n        classCallCheck_default()(this, ImagePicker);\\n\\n        // http://stackoverflow.com/questions/7584794/accessing-jpeg-exif-rotation-data-in-javascript-on-the-client-side\\n        var _this = possibleConstructorReturn_default()(this, (ImagePicker.__proto__ || Object.getPrototypeOf(ImagePicker)).apply(this, arguments));\\n\\n        _this.getOrientation = function (file, callback) {\\n            var reader = new FileReader();\\n            reader.onload = function (e) {\\n                var view = new DataView(e.target.result);\\n                if (view.getUint16(0, false) !== 0xffd8) {\\n                    return callback(-2);\\n                }\\n                var length = view.byteLength;\\n                var offset = 2;\\n                while (offset < length) {\\n                    var marker = view.getUint16(offset, false);\\n                    offset += 2;\\n                    if (marker === 0xffe1) {\\n                        var tmp = view.getUint32(offset += 2, false);\\n                        if (tmp !== 0x45786966) {\\n                            return callback(-1);\\n                        }\\n                        var little = view.getUint16(offset += 6, false) === 0x4949;\\n                        offset += view.getUint32(offset + 4, little);\\n                        var tags = view.getUint16(offset, little);\\n                        offset += 2;\\n                        for (var i = 0; i < tags; i++) {\\n                            if (view.getUint16(offset + i * 12, little) === 0x0112) {\\n                                return callback(view.getUint16(offset + i * 12 + 8, little));\\n                            }\\n                        }\\n                    } else if ((marker & 0xff00) !== 0xff00) {\\n                        break;\\n                    } else {\\n                        offset += view.getUint16(offset, false);\\n                    }\\n                }\\n                return callback(-1);\\n            };\\n            reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\\n        };\\n        _this.getRotation = function () {\\n            var orientation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\\n\\n            var imgRotation = 0;\\n            switch (orientation) {\\n                case 3:\\n                    imgRotation = 180;\\n                    break;\\n                case 6:\\n                    imgRotation = 90;\\n                    break;\\n                case 8:\\n                    imgRotation = 270;\\n                    break;\\n                default:\\n            }\\n            return imgRotation;\\n        };\\n        _this.removeImage = function (index) {\\n            var newImages = [];\\n            var _this$props$files = _this.props.files,\\n                files = _this$props$files === undefined ? [] : _this$props$files;\\n\\n            files.forEach(function (image, idx) {\\n                if (index !== idx) {\\n                    newImages.push(image);\\n                }\\n            });\\n            if (_this.props.onChange) {\\n                _this.props.onChange(newImages, 'remove', index);\\n            }\\n        };\\n        _this.addImage = function (imgItem) {\\n            var _this$props$files2 = _this.props.files,\\n                files = _this$props$files2 === undefined ? [] : _this$props$files2;\\n\\n            var newImages = files.concat(imgItem);\\n            if (_this.props.onChange) {\\n                _this.props.onChange(newImages, 'add');\\n            }\\n        };\\n        _this.onImageClick = function (index) {\\n            if (_this.props.onImageClick) {\\n                _this.props.onImageClick(index, _this.props.files);\\n            }\\n        };\\n        _this.onFileChange = function () {\\n            var fileSelectorEl = _this.fileSelectorInput;\\n            if (fileSelectorEl && fileSelectorEl.files && fileSelectorEl.files.length) {\\n                var files = fileSelectorEl.files;\\n                for (var i = 0; i < files.length; i++) {\\n                    _this.parseFile(files[i], i);\\n                }\\n            }\\n            if (fileSelectorEl) {\\n                fileSelectorEl.value = '';\\n            }\\n        };\\n        _this.parseFile = function (file, index) {\\n            var reader = new FileReader();\\n            reader.onload = function (e) {\\n                var dataURL = e.target.result;\\n                if (!dataURL) {\\n                    if (_this.props.onFail) {\\n                        _this.props.onFail('Fail to get the ' + index + ' image');\\n                    }\\n                    return;\\n                }\\n                var orientation = 1;\\n                _this.getOrientation(file, function (res) {\\n                    // -2: not jpeg , -1: not defined\\n                    if (res > 0) {\\n                        orientation = res;\\n                    }\\n                    _this.addImage({\\n                        url: dataURL,\\n                        orientation: orientation,\\n                        file: file\\n                    });\\n                });\\n            };\\n            reader.readAsDataURL(file);\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(ImagePicker, [{\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                style = _props.style,\\n                className = _props.className,\\n                _props$files = _props.files,\\n                files = _props$files === undefined ? [] : _props$files,\\n                selectable = _props.selectable,\\n                onAddImageClick = _props.onAddImageClick,\\n                multiple = _props.multiple,\\n                accept = _props.accept;\\n\\n            var imgItemList = [];\\n            var count = parseInt('' + this.props.length, 10);\\n            if (count <= 0) {\\n                count = 4;\\n            }\\n            var wrapCls = classnames_default()('' + prefixCls, className);\\n            files.forEach(function (image, index) {\\n                var imgStyle = {\\n                    backgroundImage: 'url(' + image.url + ')',\\n                    transform: 'rotate(' + _this2.getRotation(image.orientation) + 'deg)'\\n                };\\n                var itemStyle = {};\\n                imgItemList.push(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    flex.Item,\\n                    { key: 'item-' + index, style: itemStyle },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { key: index, className: prefixCls + '-item' },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-item-remove', role: 'button', 'aria-label': 'Click and Remove this image'\\n                            // tslint:disable-next-line:jsx-no-multiline-js\\n                            , onClick: function onClick() {\\n                                _this2.removeImage(index);\\n                            } }),\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-item-content', role: 'button', 'aria-label': 'Image can be clicked'\\n                            // tslint:disable-next-line:jsx-no-multiline-js\\n                            , onClick: function onClick() {\\n                                _this2.onImageClick(index);\\n                            }, style: imgStyle })\\n                    )\\n                ));\\n            });\\n            var selectEl = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                flex.Item,\\n                { key: 'select' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    rmc_feedback_es[\\\"default\\\"],\\n                    { activeClassName: prefixCls + '-upload-btn-active' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-item ' + prefixCls + '-upload-btn', onClick: onAddImageClick, role: 'button', 'aria-label': 'Choose and add image' },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('input', { ref: function ref(input) {\\n                                if (input) {\\n                                    _this2.fileSelectorInput = input;\\n                                }\\n                            }, type: 'file', accept: accept\\n                            // tslint:disable-next-line:jsx-no-multiline-js\\n                            , onChange: function onChange() {\\n                                _this2.onFileChange();\\n                            }, multiple: multiple })\\n                    )\\n                )\\n            );\\n            var allEl = selectable ? imgItemList.concat([selectEl]) : imgItemList;\\n            var length = allEl.length;\\n            if (length !== 0 && length % count !== 0) {\\n                var blankCount = count - length % count;\\n                var fillBlankEl = [];\\n                for (var i = 0; i < blankCount; i++) {\\n                    fillBlankEl.push(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(flex.Item, { key: 'blank-' + i }));\\n                }\\n                allEl = allEl.concat(fillBlankEl);\\n            }\\n            var flexEl = [];\\n            for (var _i = 0; _i < allEl.length / count; _i++) {\\n                var rowEl = allEl.slice(_i * count, _i * count + count);\\n                flexEl.push(rowEl);\\n            }\\n            var renderEl = flexEl.map(function (item, index) {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    flex,\\n                    { key: 'flex-' + index },\\n                    item\\n                );\\n            });\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: wrapCls, style: style },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-list', role: 'group' },\\n                    renderEl\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return ImagePicker;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var image_picker = (image_picker_ImagePicker);\\n\\nimage_picker_ImagePicker.defaultProps = {\\n    prefixCls: 'am-image-picker',\\n    files: [],\\n    onChange: image_picker_noop,\\n    onImageClick: image_picker_noop,\\n    onAddImageClick: image_picker_noop,\\n    onFail: image_picker_noop,\\n    selectable: true,\\n    multiple: false,\\n    accept: 'image/*',\\n    length: 4\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/_util/class.js\\nfunction hasClass(node, className) {\\n    if (node.classList) {\\n        return node.classList.contains(className);\\n    }\\n    var originClass = node.className;\\n    return (' ' + originClass + ' ').indexOf(' ' + className + ' ') > -1;\\n}\\nfunction addClass(node, className) {\\n    if (node.classList) {\\n        node.classList.add(className);\\n    } else {\\n        if (!hasClass(node, className)) {\\n            node.className = node.className + ' ' + className;\\n        }\\n    }\\n}\\nfunction removeClass(node, className) {\\n    if (node.classList) {\\n        node.classList.remove(className);\\n    } else {\\n        if (hasClass(node, className)) {\\n            var originClass = node.className;\\n            node.className = (' ' + originClass + ' ').replace(' ' + className + ' ', '');\\n        }\\n    }\\n}\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/_util/exenv.js\\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\\nvar IS_IOS = canUseDOM && /iphone|ipad|ipod/i.test(window.navigator.userAgent);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/input-item/CustomKeyboard.js\\n\\n\\n\\n\\n\\nvar CustomKeyboard_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\nvar CustomKeyboard_KeyboardItem = function (_React$Component) {\\n    inherits_default()(KeyboardItem, _React$Component);\\n\\n    function KeyboardItem() {\\n        classCallCheck_default()(this, KeyboardItem);\\n\\n        return possibleConstructorReturn_default()(this, (KeyboardItem.__proto__ || Object.getPrototypeOf(KeyboardItem)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(KeyboardItem, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                _onClick = _a.onClick,\\n                className = _a.className,\\n                disabled = _a.disabled,\\n                children = _a.children,\\n                tdRef = _a.tdRef,\\n                label = _a.label,\\n                iconOnly = _a.iconOnly,\\n                restProps = CustomKeyboard_rest(_a, [\\\"prefixCls\\\", \\\"onClick\\\", \\\"className\\\", \\\"disabled\\\", \\\"children\\\", \\\"tdRef\\\", \\\"label\\\", \\\"iconOnly\\\"]);\\n            var value = children;\\n            if (className === 'keyboard-delete') {\\n                value = 'delete';\\n            } else if (className === 'keyboard-hide') {\\n                value = 'hide';\\n            } else if (className === 'keyboard-confirm') {\\n                value = 'confirm';\\n            }\\n            var wrapCls = classnames_default()(prefixCls + '-item', className);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_feedback_es[\\\"default\\\"],\\n                { activeClassName: prefixCls + '-item-active' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'td',\\n                    extends_default()({ ref: tdRef\\n                        // tslint:disable-next-line:jsx-no-multiline-js\\n                        , onClick: function onClick(e) {\\n                            _onClick(e, value);\\n                        }, className: wrapCls }, restProps),\\n                    children,\\n                    iconOnly && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'i',\\n                        { className: 'sr-only' },\\n                        label\\n                    )\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return KeyboardItem;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\nCustomKeyboard_KeyboardItem.defaultProps = {\\n    prefixCls: 'am-number-keyboard',\\n    onClick: function onClick() {},\\n    disabled: false\\n};\\n\\nvar CustomKeyboard_CustomKeyboard = function (_React$Component2) {\\n    inherits_default()(CustomKeyboard, _React$Component2);\\n\\n    function CustomKeyboard() {\\n        classCallCheck_default()(this, CustomKeyboard);\\n\\n        var _this2 = possibleConstructorReturn_default()(this, (CustomKeyboard.__proto__ || Object.getPrototypeOf(CustomKeyboard)).apply(this, arguments));\\n\\n        _this2.onKeyboardClick = function (e) {\\n            var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\\n\\n            e.nativeEvent.stopImmediatePropagation();\\n            if (value === 'confirm' && _this2.confirmDisabled) {\\n                return null;\\n            } else {\\n                if (_this2.linkedInput) {\\n                    _this2.linkedInput.onKeyboardClick(value);\\n                }\\n            }\\n        };\\n        _this2.renderKeyboardItem = function (item, index) {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                CustomKeyboard_KeyboardItem,\\n                { onClick: _this2.onKeyboardClick, key: 'item-' + item + '-' + index },\\n                item\\n            );\\n        };\\n        return _this2;\\n    }\\n\\n    createClass_default()(CustomKeyboard, [{\\n        key: 'render',\\n        value: function render() {\\n            var _this3 = this;\\n\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                confirmLabel = _props.confirmLabel,\\n                backspaceLabel = _props.backspaceLabel,\\n                cancelKeyboardLabel = _props.cancelKeyboardLabel,\\n                wrapProps = _props.wrapProps,\\n                header = _props.header;\\n\\n            var wrapperCls = classnames_default()(prefixCls + '-wrapper', prefixCls + '-wrapper-hide');\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({ className: wrapperCls, ref: function ref(el) {\\n                        return _this3.antmKeyboard = el;\\n                    } }, wrapProps),\\n                header && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(header, { onClick: this.onKeyboardClick }),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'table',\\n                    null,\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'tbody',\\n                        null,\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'tr',\\n                            null,\\n                            ['1', '2', '3'].map(function (item, index) {\\n                                return (\\n                                    // tslint:disable-next-line:jsx-no-multiline-js\\n                                    _this3.renderKeyboardItem(item, index)\\n                                );\\n                            }),\\n                            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(CustomKeyboard_KeyboardItem, extends_default()({ className: 'keyboard-delete', rowSpan: 2, onClick: this.onKeyboardClick }, this.getAriaAttr(backspaceLabel)))\\n                        ),\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'tr',\\n                            null,\\n                            ['4', '5', '6'].map(function (item, index) {\\n                                return (\\n                                    // tslint:disable-next-line:jsx-no-multiline-js\\n                                    _this3.renderKeyboardItem(item, index)\\n                                );\\n                            })\\n                        ),\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'tr',\\n                            null,\\n                            ['7', '8', '9'].map(function (item, index) {\\n                                return (\\n                                    // tslint:disable-next-line:jsx-no-multiline-js\\n                                    _this3.renderKeyboardItem(item, index)\\n                                );\\n                            }),\\n                            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                                CustomKeyboard_KeyboardItem,\\n                                { className: 'keyboard-confirm', rowSpan: 2, onClick: this.onKeyboardClick, tdRef: function tdRef(el) {\\n                                        return _this3.confirmKeyboardItem = el;\\n                                    } },\\n                                confirmLabel\\n                            )\\n                        ),\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'tr',\\n                            null,\\n                            ['.', '0'].map(function (item, index) {\\n                                return (\\n                                    // tslint:disable-next-line:jsx-no-multiline-js\\n                                    _this3.renderKeyboardItem(item, index)\\n                                );\\n                            }),\\n                            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(CustomKeyboard_KeyboardItem, extends_default()({ className: 'keyboard-hide', onClick: this.onKeyboardClick }, this.getAriaAttr(cancelKeyboardLabel)))\\n                        )\\n                    )\\n                )\\n            );\\n        }\\n    }, {\\n        key: 'getAriaAttr',\\n        value: function getAriaAttr(label) {\\n            if (IS_IOS) {\\n                return { label: label, iconOnly: true };\\n            } else {\\n                return { role: 'button', 'aria-label': label };\\n            }\\n        }\\n    }]);\\n\\n    return CustomKeyboard;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nCustomKeyboard_CustomKeyboard.defaultProps = {\\n    prefixCls: 'am-number-keyboard'\\n};\\n/* harmony default export */ var input_item_CustomKeyboard = (CustomKeyboard_CustomKeyboard);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/input-item/Portal.js\\n\\n\\n\\n\\n\\n\\nvar createPortal = react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createPortal;\\n\\nvar Portal_Portal = function (_React$Component) {\\n    inherits_default()(Portal, _React$Component);\\n\\n    function Portal(props) {\\n        classCallCheck_default()(this, Portal);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).call(this, props));\\n\\n        _this.container = _this.props.getContainer();\\n        return _this;\\n    }\\n\\n    createClass_default()(Portal, [{\\n        key: 'render',\\n        value: function render() {\\n            if (this.props.children) {\\n                return createPortal(this.props.children, this.container);\\n            }\\n            return null;\\n        }\\n    }]);\\n\\n    return Portal;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var input_item_Portal = (Portal_Portal);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/input-item/CustomInput.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar instanceArr = [];\\nvar customNumberKeyboard = null;\\nvar CustomInput_IS_REACT_16 = !!react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createPortal;\\n\\nvar CustomInput_NumberInput = function (_React$Component) {\\n    inherits_default()(NumberInput, _React$Component);\\n\\n    function NumberInput(props) {\\n        classCallCheck_default()(this, NumberInput);\\n\\n        var _this = possibleConstructorReturn_default()(this, (NumberInput.__proto__ || Object.getPrototypeOf(NumberInput)).call(this, props));\\n\\n        _this.onChange = function (value) {\\n            if (!('value' in _this.props)) {\\n                _this.setState({ value: value.target.value });\\n            }\\n            _this.props.onChange(value);\\n        };\\n        _this.onConfirm = function (value) {\\n            _this.props.onVirtualKeyboardConfirm(value);\\n        };\\n        _this.addBlurListener = function () {\\n            document.addEventListener('click', _this.doBlur, false);\\n        };\\n        _this.removeBlurListener = function () {\\n            document.removeEventListener('click', _this.doBlur, false);\\n        };\\n        _this.saveRef = function (el) {\\n            if (CustomInput_IS_REACT_16 && el) {\\n                customNumberKeyboard = el;\\n                instanceArr.push({ el: el, container: _this.container });\\n            }\\n        };\\n        _this.doBlur = function (ev) {\\n            var value = _this.state.value;\\n\\n            if (ev.target !== _this.inputRef) {\\n                _this.onInputBlur(value);\\n            }\\n        };\\n        _this.removeCurrentExtraKeyboard = function () {\\n            instanceArr = instanceArr.filter(function (item) {\\n                var el = item.el,\\n                    container = item.container;\\n\\n                if (el && container && el !== customNumberKeyboard) {\\n                    container.parentNode.removeChild(container);\\n                }\\n                return el === customNumberKeyboard;\\n            });\\n        };\\n        _this.unLinkInput = function () {\\n            if (customNumberKeyboard && customNumberKeyboard.antmKeyboard && customNumberKeyboard.linkedInput && customNumberKeyboard.linkedInput === _this) {\\n                customNumberKeyboard.linkedInput = null;\\n                addClass(customNumberKeyboard.antmKeyboard, _this.props.keyboardPrefixCls + '-wrapper-hide');\\n            }\\n            // for unmount\\n            _this.removeBlurListener();\\n            if (CustomInput_IS_REACT_16) {\\n                _this.removeCurrentExtraKeyboard();\\n            }\\n        };\\n        _this.onInputBlur = function (value) {\\n            var focus = _this.state.focus;\\n\\n            if (focus) {\\n                _this.setState({\\n                    focus: false\\n                });\\n                _this.props.onBlur(value);\\n                setTimeout(function () {\\n                    _this.unLinkInput();\\n                }, 50);\\n            }\\n        };\\n        _this.onInputFocus = function () {\\n            var value = _this.state.value;\\n\\n            _this.props.onFocus(value);\\n            _this.setState({\\n                focus: true\\n            }, function () {\\n                if (customNumberKeyboard) {\\n                    customNumberKeyboard.linkedInput = _this;\\n                    if (customNumberKeyboard.antmKeyboard) {\\n                        removeClass(customNumberKeyboard.antmKeyboard, _this.props.keyboardPrefixCls + '-wrapper-hide');\\n                    }\\n                    customNumberKeyboard.confirmDisabled = value === '';\\n                    if (customNumberKeyboard.confirmKeyboardItem) {\\n                        if (value === '') {\\n                            addClass(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\\n                        } else {\\n                            removeClass(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\\n                        }\\n                    }\\n                }\\n            });\\n        };\\n        _this.onKeyboardClick = function (KeyboardItemValue) {\\n            var maxLength = _this.props.maxLength;\\n            var value = _this.state.value;\\n            // tslint:disable-next-line:no-this-assignment\\n\\n            var onChange = _this.onChange;\\n\\n            var valueAfterChange = void 0;\\n            // \\n            if (KeyboardItemValue === 'delete') {\\n                valueAfterChange = value.substring(0, value.length - 1);\\n                onChange({ target: { value: valueAfterChange } });\\n                // \\n            } else if (KeyboardItemValue === 'confirm') {\\n                valueAfterChange = value;\\n                onChange({ target: { value: valueAfterChange } });\\n                _this.onInputBlur(value);\\n                _this.onConfirm(value);\\n                // \\n            } else if (KeyboardItemValue === 'hide') {\\n                valueAfterChange = value;\\n                _this.onInputBlur(valueAfterChange);\\n            } else {\\n                if (maxLength !== undefined && +maxLength >= 0 && (value + KeyboardItemValue).length > maxLength) {\\n                    valueAfterChange = (value + KeyboardItemValue).substr(0, maxLength);\\n                    onChange({ target: { value: valueAfterChange } });\\n                } else {\\n                    valueAfterChange = value + KeyboardItemValue;\\n                    onChange({ target: { value: valueAfterChange } });\\n                }\\n            }\\n            if (customNumberKeyboard) {\\n                customNumberKeyboard.confirmDisabled = valueAfterChange === '';\\n                if (customNumberKeyboard.confirmKeyboardItem) {\\n                    if (valueAfterChange === '') {\\n                        addClass(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\\n                    } else {\\n                        removeClass(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\\n                    }\\n                }\\n            }\\n        };\\n        _this.onFakeInputClick = function () {\\n            _this.focus();\\n        };\\n        _this.focus = function () {\\n            // this focus may invocked by users page button click, so this click may trigger blurEventListener at the same time\\n            _this.removeBlurListener();\\n            var focus = _this.state.focus;\\n\\n            if (!focus) {\\n                _this.onInputFocus();\\n            }\\n            setTimeout(function () {\\n                _this.addBlurListener();\\n            }, 50);\\n        };\\n        _this.state = {\\n            focus: false,\\n            value: props.value || ''\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(NumberInput, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if ('value' in nextProps) {\\n                this.setState({\\n                    value: nextProps.value\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate() {\\n            this.renderCustomKeyboard();\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            // focus:true unmount  blur\\n            if (this.state.focus) {\\n                this.props.onBlur(this.state.value);\\n            }\\n            this.unLinkInput();\\n        }\\n    }, {\\n        key: 'getComponent',\\n        value: function getComponent() {\\n            var _props = this.props,\\n                confirmLabel = _props.confirmLabel,\\n                backspaceLabel = _props.backspaceLabel,\\n                cancelKeyboardLabel = _props.cancelKeyboardLabel,\\n                keyboardPrefixCls = _props.keyboardPrefixCls,\\n                moneyKeyboardWrapProps = _props.moneyKeyboardWrapProps,\\n                moneyKeyboardHeader = _props.moneyKeyboardHeader;\\n\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(input_item_CustomKeyboard, { ref: this.saveRef, onClick: this.onKeyboardClick, prefixCls: keyboardPrefixCls, confirmLabel: confirmLabel, backspaceLabel: backspaceLabel, cancelKeyboardLabel: cancelKeyboardLabel, wrapProps: moneyKeyboardWrapProps, header: moneyKeyboardHeader });\\n        }\\n    }, {\\n        key: 'getContainer',\\n        value: function getContainer() {\\n            var keyboardPrefixCls = this.props.keyboardPrefixCls;\\n\\n            if (CustomInput_IS_REACT_16) {\\n                if (!this.container) {\\n                    var container = document.createElement('div');\\n                    container.setAttribute('id', keyboardPrefixCls + '-container-' + new Date().getTime());\\n                    document.body.appendChild(container);\\n                    this.container = container;\\n                }\\n            } else {\\n                var _container = document.querySelector('#' + keyboardPrefixCls + '-container');\\n                if (!_container) {\\n                    _container = document.createElement('div');\\n                    _container.setAttribute('id', keyboardPrefixCls + '-container');\\n                    document.body.appendChild(_container);\\n                }\\n                this.container = _container;\\n            }\\n            return this.container;\\n        }\\n    }, {\\n        key: 'renderCustomKeyboard',\\n        value: function renderCustomKeyboard() {\\n            if (CustomInput_IS_REACT_16) {\\n                return;\\n            }\\n            customNumberKeyboard = react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unstable_renderSubtreeIntoContainer(this, this.getComponent(), this.getContainer());\\n        }\\n    }, {\\n        key: 'renderPortal',\\n        value: function renderPortal() {\\n            var _this2 = this;\\n\\n            if (!CustomInput_IS_REACT_16 || !canUseDOM) {\\n                return null;\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                input_item_Portal,\\n                { getContainer: function getContainer() {\\n                        return _this2.getContainer();\\n                    } },\\n                this.getComponent()\\n            );\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this3 = this;\\n\\n            var _props2 = this.props,\\n                placeholder = _props2.placeholder,\\n                disabled = _props2.disabled,\\n                editable = _props2.editable,\\n                moneyKeyboardAlign = _props2.moneyKeyboardAlign;\\n            var _state = this.state,\\n                focus = _state.focus,\\n                value = _state.value;\\n\\n            var preventKeyboard = disabled || !editable;\\n            var fakeInputCls = classnames_default()('fake-input', {\\n                focus: focus,\\n                'fake-input-disabled': disabled\\n            });\\n            var fakeInputContainerCls = classnames_default()('fake-input-container', {\\n                'fake-input-container-left': moneyKeyboardAlign === 'left'\\n            });\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: fakeInputContainerCls },\\n                value === '' &&\\n                // tslint:disable-next-line:jsx-no-multiline-js\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: 'fake-input-placeholder' },\\n                    placeholder\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { role: 'textbox', 'aria-label': value || placeholder, className: fakeInputCls, ref: function ref(el) {\\n                            return _this3.inputRef = el;\\n                        }, onClick: preventKeyboard ? function () {} : this.onFakeInputClick },\\n                    value\\n                ),\\n                this.renderPortal()\\n            );\\n        }\\n    }]);\\n\\n    return NumberInput;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nCustomInput_NumberInput.defaultProps = {\\n    onChange: function onChange() {},\\n    onFocus: function onFocus() {},\\n    onBlur: function onBlur() {},\\n    onVirtualKeyboardConfirm: function onVirtualKeyboardConfirm() {},\\n    placeholder: '',\\n    disabled: false,\\n    editable: true,\\n    prefixCls: 'am-input',\\n    keyboardPrefixCls: 'am-number-keyboard'\\n};\\n/* harmony default export */ var CustomInput = (CustomInput_NumberInput);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/input-item/Input.js\\n\\n\\n\\n\\n\\nvar Input_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\nvar Input_Input = function (_React$Component) {\\n    inherits_default()(Input, _React$Component);\\n\\n    function Input() {\\n        classCallCheck_default()(this, Input);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Input.__proto__ || Object.getPrototypeOf(Input)).apply(this, arguments));\\n\\n        _this.onInputBlur = function (e) {\\n            var value = e.target.value;\\n            if (_this.props.onBlur) {\\n                _this.props.onBlur(value);\\n            }\\n        };\\n        _this.onInputFocus = function (e) {\\n            // here should have a value definition but none.\\n            var value = e.target.value;\\n            if (_this.props.onFocus) {\\n                _this.props.onFocus(value);\\n            }\\n        };\\n        _this.focus = function () {\\n            if (_this.inputRef) {\\n                _this.inputRef.focus();\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Input, [{\\n        key: \\\"render\\\",\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _a = this.props,\\n                onBlur = _a.onBlur,\\n                onFocus = _a.onFocus,\\n                restProps = Input_rest(_a, [\\\"onBlur\\\", \\\"onFocus\\\"]);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"input\\\", extends_default()({ ref: function ref(el) {\\n                    return _this2.inputRef = el;\\n                }, onBlur: this.onInputBlur, onFocus: this.onInputFocus }, restProps));\\n        }\\n    }]);\\n\\n    return Input;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var input_item_Input = (Input_Input);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/input-item/index.js\\n\\n\\n\\n\\n\\n\\nvar input_item_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\n\\n\\n\\nfunction input_item_noop() {}\\nfunction normalizeValue(value) {\\n    if (typeof value === 'undefined' || value === null) {\\n        return '';\\n    }\\n    return value + '';\\n}\\n\\nvar input_item_InputItem = function (_React$Component) {\\n    inherits_default()(InputItem, _React$Component);\\n\\n    function InputItem(props) {\\n        classCallCheck_default()(this, InputItem);\\n\\n        var _this = possibleConstructorReturn_default()(this, (InputItem.__proto__ || Object.getPrototypeOf(InputItem)).call(this, props));\\n\\n        _this.onInputChange = function (e) {\\n            var el = e.target;\\n            var rawVal = el.value,\\n                prePos = el.selectionEnd;\\n            var _this$state$value = _this.state.value,\\n                preCtrlVal = _this$state$value === undefined ? '' : _this$state$value;\\n            var type = _this.props.type;\\n\\n            var ctrlValue = rawVal;\\n            switch (type) {\\n                case 'bankCard':\\n                    ctrlValue = rawVal.replace(/\\\\D/g, '').replace(/(....)(?=.)/g, '$1 ');\\n                    break;\\n                case 'phone':\\n                    ctrlValue = rawVal.replace(/\\\\D/g, '').substring(0, 11);\\n                    var valueLen = ctrlValue.length;\\n                    if (valueLen > 3 && valueLen < 8) {\\n                        ctrlValue = ctrlValue.substr(0, 3) + ' ' + ctrlValue.substr(3);\\n                    } else if (valueLen >= 8) {\\n                        ctrlValue = ctrlValue.substr(0, 3) + ' ' + ctrlValue.substr(3, 4) + ' ' + ctrlValue.substr(7);\\n                    }\\n                    break;\\n                case 'number':\\n                    ctrlValue = rawVal.replace(/\\\\D/g, '');\\n                    break;\\n                case 'text':\\n                case 'password':\\n                default:\\n                    break;\\n            }\\n            _this.handleOnChange(ctrlValue, ctrlValue !== rawVal, function () {\\n                switch (type) {\\n                    case 'bankCard':\\n                    case 'phone':\\n                    case 'number':\\n                        // controlled input type needs to adjust the position of the caret\\n                        el.selectionStart = el.selectionEnd = _this.calcPos(prePos || 0, preCtrlVal, rawVal, ctrlValue, [' '], /\\\\D/g);\\n                        break;\\n                    default:\\n                        break;\\n                }\\n            });\\n        };\\n        _this.handleOnChange = function (value) {\\n            var isMutated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\\n            var adjustPos = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : input_item_noop;\\n            var onChange = _this.props.onChange;\\n\\n            if (!('value' in _this.props)) {\\n                _this.setState({ value: value });\\n            } else {\\n                _this.setState({ value: _this.props.value });\\n            }\\n            if (onChange) {\\n                if (isMutated) {\\n                    setTimeout(function () {\\n                        onChange(value);\\n                        adjustPos();\\n                    });\\n                } else {\\n                    onChange(value);\\n                    adjustPos();\\n                }\\n            } else {\\n                adjustPos();\\n            }\\n        };\\n        _this.onInputFocus = function (value) {\\n            if (_this.debounceTimeout) {\\n                clearTimeout(_this.debounceTimeout);\\n                _this.debounceTimeout = null;\\n            }\\n            _this.setState({\\n                focus: true\\n            });\\n            if (_this.props.onFocus) {\\n                _this.props.onFocus(value);\\n            }\\n        };\\n        _this.onInputBlur = function (value) {\\n            if (_this.inputRef) {\\n                // this.inputRef may be null if customKeyboard unmount\\n                _this.debounceTimeout = window.setTimeout(function () {\\n                    if (document.activeElement !== (_this.inputRef && _this.inputRef.inputRef)) {\\n                        _this.setState({\\n                            focus: false\\n                        });\\n                    }\\n                }, 200);\\n            }\\n            if (_this.props.onBlur) {\\n                _this.props.onBlur(value);\\n            }\\n        };\\n        _this.clearInput = function () {\\n            if (_this.props.type !== 'password' && _this.props.updatePlaceholder) {\\n                _this.setState({\\n                    placeholder: _this.props.value\\n                });\\n            }\\n            _this.setState({\\n                value: ''\\n            });\\n            if (_this.props.onChange) {\\n                _this.props.onChange('');\\n            }\\n            _this.focus();\\n        };\\n        // this is instance method for user to use\\n        _this.focus = function () {\\n            if (_this.inputRef) {\\n                _this.inputRef.focus();\\n            }\\n        };\\n        // calculate the position of the caret\\n        _this.calcPos = function (prePos, preCtrlVal, rawVal, ctrlVal, placeholderChars, maskReg) {\\n            var editLength = rawVal.length - preCtrlVal.length;\\n            var isAddition = editLength > 0;\\n            var pos = prePos;\\n            if (isAddition) {\\n                var additionStr = rawVal.substr(pos - editLength, editLength);\\n                var ctrlCharCount = additionStr.replace(maskReg, '').length;\\n                pos -= editLength - ctrlCharCount;\\n                var placeholderCharCount = 0;\\n                while (ctrlCharCount > 0) {\\n                    if (placeholderChars.indexOf(ctrlVal.charAt(pos - ctrlCharCount + placeholderCharCount)) === -1) {\\n                        ctrlCharCount--;\\n                    } else {\\n                        placeholderCharCount++;\\n                    }\\n                }\\n                pos += placeholderCharCount;\\n            }\\n            return pos;\\n        };\\n        _this.state = {\\n            placeholder: props.placeholder,\\n            value: normalizeValue(props.value || props.defaultValue)\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(InputItem, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if ('placeholder' in nextProps && !nextProps.updatePlaceholder) {\\n                this.setState({\\n                    placeholder: nextProps.placeholder\\n                });\\n            }\\n            if ('value' in nextProps) {\\n                this.setState({\\n                    value: nextProps.value\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            if (this.debounceTimeout) {\\n                window.clearTimeout(this.debounceTimeout);\\n                this.debounceTimeout = null;\\n            }\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _classnames,\\n                _classnames2,\\n                _this2 = this;\\n\\n            var props = extends_default()({}, this.props);\\n            delete props.updatePlaceholder;\\n\\n            var prefixCls = props.prefixCls,\\n                prefixListCls = props.prefixListCls,\\n                editable = props.editable,\\n                style = props.style,\\n                clear = props.clear,\\n                children = props.children,\\n                error = props.error,\\n                className = props.className,\\n                extra = props.extra,\\n                labelNumber = props.labelNumber,\\n                type = props.type,\\n                onExtraClick = props.onExtraClick,\\n                onErrorClick = props.onErrorClick,\\n                moneyKeyboardAlign = props.moneyKeyboardAlign,\\n                moneyKeyboardWrapProps = props.moneyKeyboardWrapProps,\\n                moneyKeyboardHeader = props.moneyKeyboardHeader,\\n                onVirtualKeyboardConfirm = props.onVirtualKeyboardConfirm,\\n                restProps = input_item_rest(props, [\\\"prefixCls\\\", \\\"prefixListCls\\\", \\\"editable\\\", \\\"style\\\", \\\"clear\\\", \\\"children\\\", \\\"error\\\", \\\"className\\\", \\\"extra\\\", \\\"labelNumber\\\", \\\"type\\\", \\\"onExtraClick\\\", \\\"onErrorClick\\\", \\\"moneyKeyboardAlign\\\", \\\"moneyKeyboardWrapProps\\\", \\\"moneyKeyboardHeader\\\", \\\"onVirtualKeyboardConfirm\\\"]);\\n\\n            var name = restProps.name,\\n                disabled = restProps.disabled,\\n                maxLength = restProps.maxLength;\\n            var value = this.state.value;\\n            // tslint:disable-next-line:variable-name\\n\\n            var _locale = getComponentLocale(this.props, this.context, 'InputItem', function () {\\n                return __webpack_require__(/*! ./locale/zh_CN */ \\\"3CTM\\\");\\n            });\\n            var confirmLabel = _locale.confirmLabel,\\n                backspaceLabel = _locale.backspaceLabel,\\n                cancelKeyboardLabel = _locale.cancelKeyboardLabel;\\n            var _state = this.state,\\n                focus = _state.focus,\\n                placeholder = _state.placeholder;\\n\\n            var wrapCls = classnames_default()(prefixListCls + '-item', prefixCls + '-item', prefixListCls + '-item-middle', className, (_classnames = {}, defineProperty_default()(_classnames, prefixCls + '-disabled', disabled), defineProperty_default()(_classnames, prefixCls + '-error', error), defineProperty_default()(_classnames, prefixCls + '-focus', focus), defineProperty_default()(_classnames, prefixCls + '-android', focus), _classnames));\\n            var labelCls = classnames_default()(prefixCls + '-label', (_classnames2 = {}, defineProperty_default()(_classnames2, prefixCls + '-label-2', labelNumber === 2), defineProperty_default()(_classnames2, prefixCls + '-label-3', labelNumber === 3), defineProperty_default()(_classnames2, prefixCls + '-label-4', labelNumber === 4), defineProperty_default()(_classnames2, prefixCls + '-label-5', labelNumber === 5), defineProperty_default()(_classnames2, prefixCls + '-label-6', labelNumber === 6), defineProperty_default()(_classnames2, prefixCls + '-label-7', labelNumber === 7), _classnames2));\\n            var controlCls = prefixCls + '-control';\\n            var inputType = 'text';\\n            if (type === 'bankCard' || type === 'phone') {\\n                inputType = 'tel';\\n            } else if (type === 'password') {\\n                inputType = 'password';\\n            } else if (type === 'digit') {\\n                inputType = 'number';\\n            } else if (type !== 'text' && type !== 'number') {\\n                inputType = type;\\n            }\\n            var patternProps = void 0;\\n            if (type === 'number') {\\n                patternProps = {\\n                    pattern: '[0-9]*'\\n                };\\n            }\\n            var classNameProps = void 0;\\n            if (type === 'digit') {\\n                classNameProps = {\\n                    className: 'h5numInput'\\n                };\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: wrapCls },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixListCls + '-line' },\\n                    children ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: labelCls },\\n                        children\\n                    ) : null,\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: controlCls },\\n                        type === 'money' ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(CustomInput, { value: normalizeValue(value), type: type, ref: function ref(el) {\\n                                return _this2.inputRef = el;\\n                            }, maxLength: maxLength, placeholder: placeholder, onChange: this.onInputChange, onFocus: this.onInputFocus, onBlur: this.onInputBlur, onVirtualKeyboardConfirm: onVirtualKeyboardConfirm, disabled: disabled, editable: editable, prefixCls: prefixCls, style: style, confirmLabel: confirmLabel, backspaceLabel: backspaceLabel, cancelKeyboardLabel: cancelKeyboardLabel, moneyKeyboardAlign: moneyKeyboardAlign, moneyKeyboardWrapProps: moneyKeyboardWrapProps, moneyKeyboardHeader: moneyKeyboardHeader }) : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(input_item_Input, extends_default()({}, patternProps, restProps, classNameProps, { value: normalizeValue(value), defaultValue: undefined, ref: function ref(el) {\\n                                return _this2.inputRef = el;\\n                            }, style: style, type: inputType, maxLength: maxLength, name: name, placeholder: placeholder, onChange: this.onInputChange, onFocus: this.onInputFocus, onBlur: this.onInputBlur, readOnly: !editable, disabled: disabled }))\\n                    ),\\n                    clear && editable && !disabled && value && ('' + value).length > 0 ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        rmc_feedback_es[\\\"default\\\"],\\n                        { activeClassName: prefixCls + '-clear-active' },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-clear', onClick: this.clearInput })\\n                    ) : null,\\n                    error ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-error-extra', onClick: onErrorClick }) : null,\\n                    extra !== '' ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-extra', onClick: onExtraClick },\\n                        extra\\n                    ) : null\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return InputItem;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\ninput_item_InputItem.defaultProps = {\\n    prefixCls: 'am-input',\\n    prefixListCls: 'am-list',\\n    type: 'text',\\n    editable: true,\\n    disabled: false,\\n    placeholder: '',\\n    clear: false,\\n    onChange: input_item_noop,\\n    onBlur: input_item_noop,\\n    onFocus: input_item_noop,\\n    extra: '',\\n    onExtraClick: input_item_noop,\\n    error: false,\\n    onErrorClick: input_item_noop,\\n    onVirtualKeyboardConfirm: input_item_noop,\\n    labelNumber: 5,\\n    updatePlaceholder: false,\\n    moneyKeyboardAlign: 'right',\\n    moneyKeyboardWrapProps: {},\\n    moneyKeyboardHeader: null\\n};\\ninput_item_InputItem.contextTypes = {\\n    antLocale: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\n/* harmony default export */ var input_item = (input_item_InputItem);\\n// EXTERNAL MODULE: ./node_modules/fbjs/lib/invariant.js\\nvar invariant = __webpack_require__(\\\"2NuI\\\");\\nvar invariant_default = /*#__PURE__*/__webpack_require__.n(invariant);\\n\\n// EXTERNAL MODULE: ./node_modules/fbjs/lib/isEmpty.js\\nvar isEmpty = __webpack_require__(\\\"Y9q/\\\");\\nvar isEmpty_default = /*#__PURE__*/__webpack_require__.n(isEmpty);\\n\\n// EXTERNAL MODULE: delegated ./node_modules/warning/warning.js from dll-reference _dll_vendor_887801ca211dada7a6b9\\nvar warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9 = __webpack_require__(\\\"2W6z\\\");\\nvar warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default = /*#__PURE__*/__webpack_require__.n(warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9);\\n\\n// CONCATENATED MODULE: ./node_modules/rmc-list-view/es/ListViewDataSource.js\\n\\n\\n\\n\\n\\n\\nfunction defaultGetRowData(dataBlob, sectionID, rowID) {\\n  return dataBlob[sectionID][rowID];\\n}\\n\\nfunction defaultGetSectionHeaderData(dataBlob, sectionID) {\\n  return dataBlob[sectionID];\\n}\\n\\n// type differType = (data1, data2) => bool;\\n//\\n// type ParamType = {\\n//   rowHasChanged: differType;\\n//   getRowData: ?typeof defaultGetRowData;\\n//   sectionHeaderHasChanged: ?differType;\\n//   getSectionHeaderData: ?typeof defaultGetSectionHeaderData;\\n// }\\n\\n/**\\n * Provides efficient data processing and access to the\\n * `ListView` component.  A `ListViewDataSource` is created with functions for\\n * extracting data from the input blob, and comparing elements (with default\\n * implementations for convenience).  The input blob can be as simple as an\\n * array of strings, or an object with rows nested inside section objects.\\n *\\n * To update the data in the datasource, use `cloneWithRows` (or\\n * `cloneWithRowsAndSections` if you care about sections).  The data in the\\n * data source is immutable, so you can't modify it directly.  The clone methods\\n * suck in the new data and compute a diff for each row so ListView knows\\n * whether to re-render it or not.\\n *\\n * In this example, a component receives data in chunks, handled by\\n * `_onDataArrived`, which concats the new data onto the old data and updates the\\n * data source.  We use `concat` to create a new array - mutating `this._data`,\\n * e.g. with `this._data.push(newRowData)`, would be an error. `_rowHasChanged`\\n * understands the shape of the row data and knows how to efficiently compare\\n * it.\\n *\\n * ```\\n * getInitialState: function() {\\n *   var ds = new ListViewDataSource({rowHasChanged: this._rowHasChanged});\\n *   return {ds};\\n * },\\n * _onDataArrived(newData) {\\n *   this._data = this._data.concat(newData);\\n *   this.setState({\\n *     ds: this.state.ds.cloneWithRows(this._data)\\n *   });\\n * }\\n * ```\\n */\\n\\nvar ListViewDataSource_ListViewDataSource = function () {\\n\\n  /**\\n   * You can provide custom extraction and `hasChanged` functions for section\\n   * headers and rows.  If absent, data will be extracted with the\\n   * `defaultGetRowData` and `defaultGetSectionHeaderData` functions.\\n   *\\n   * The default extractor expects data of one of the following forms:\\n   *\\n   *      { sectionID_1: { rowID_1: <rowData1>, ... }, ... }\\n   *\\n   *    or\\n   *\\n   *      { sectionID_1: [ <rowData1>, <rowData2>, ... ], ... }\\n   *\\n   *    or\\n   *\\n   *      [ [ <rowData1>, <rowData2>, ... ], ... ]\\n   *\\n   * The constructor takes in a params argument that can contain any of the\\n   * following:\\n   *\\n   * - getRowData(dataBlob, sectionID, rowID);\\n   * - getSectionHeaderData(dataBlob, sectionID);\\n   * - rowHasChanged(prevRowData, nextRowData);\\n   * - sectionHeaderHasChanged(prevSectionData, nextSectionData);\\n   */\\n  function ListViewDataSource(params) {\\n    classCallCheck_default()(this, ListViewDataSource);\\n\\n    invariant_default()(params && typeof params.rowHasChanged === 'function', 'Must provide a rowHasChanged function.');\\n    this._rowHasChanged = params.rowHasChanged;\\n    this._getRowData = params.getRowData || defaultGetRowData;\\n    this._sectionHeaderHasChanged = params.sectionHeaderHasChanged;\\n    this._getSectionHeaderData = params.getSectionHeaderData || defaultGetSectionHeaderData;\\n\\n    this._dataBlob = null;\\n    this._dirtyRows = [];\\n    this._dirtySections = [];\\n    this._cachedRowCount = 0;\\n\\n    // These two private variables are accessed by outsiders because ListView\\n    // uses them to iterate over the data in this class.\\n    this.rowIdentities = [];\\n    this.sectionIdentities = [];\\n  }\\n\\n  /**\\n   * Clones this `ListViewDataSource` with the specified `dataBlob` and\\n   * `rowIdentities`. The `dataBlob` is just an arbitrary blob of data. At\\n   * construction an extractor to get the interesting information was defined\\n   * (or the default was used).\\n   *\\n   * The `rowIdentities` is is a 2D array of identifiers for rows.\\n   * ie. [['a1', 'a2'], ['b1', 'b2', 'b3'], ...].  If not provided, it's\\n   * assumed that the keys of the section data are the row identities.\\n   *\\n   * Note: This function does NOT clone the data in this data source. It simply\\n   * passes the functions defined at construction to a new data source with\\n   * the data specified. If you wish to maintain the existing data you must\\n   * handle merging of old and new data separately and then pass that into\\n   * this function as the `dataBlob`.\\n   */\\n\\n\\n  createClass_default()(ListViewDataSource, [{\\n    key: 'cloneWithRows',\\n    value: function cloneWithRows(dataBlob, rowIdentities) {\\n      var rowIds = rowIdentities ? [rowIdentities] : null;\\n      if (!this._sectionHeaderHasChanged) {\\n        this._sectionHeaderHasChanged = function () {\\n          return false;\\n        };\\n      }\\n      return this.cloneWithRowsAndSections({ s1: dataBlob }, ['s1'], rowIds);\\n    }\\n\\n    /**\\n     * This performs the same function as the `cloneWithRows` function but here\\n     * you also specify what your `sectionIdentities` are. If you don't care\\n     * about sections you should safely be able to use `cloneWithRows`.\\n     *\\n     * `sectionIdentities` is an array of identifiers for  sections.\\n     * ie. ['s1', 's2', ...].  If not provided, it's assumed that the\\n     * keys of dataBlob are the section identities.\\n     *\\n     * Note: this returns a new object!\\n     */\\n\\n  }, {\\n    key: 'cloneWithRowsAndSections',\\n    value: function cloneWithRowsAndSections(dataBlob, sectionIdentities, rowIdentities) {\\n      invariant_default()(typeof this._sectionHeaderHasChanged === 'function', 'Must provide a sectionHeaderHasChanged function with section data.');\\n      invariant_default()(!sectionIdentities || !rowIdentities || sectionIdentities.length === rowIdentities.length, 'row and section ids lengths must be the same');\\n\\n      var newSource = new ListViewDataSource({\\n        getRowData: this._getRowData,\\n        getSectionHeaderData: this._getSectionHeaderData,\\n        rowHasChanged: this._rowHasChanged,\\n        sectionHeaderHasChanged: this._sectionHeaderHasChanged\\n      });\\n      newSource._dataBlob = dataBlob;\\n      if (sectionIdentities) {\\n        newSource.sectionIdentities = sectionIdentities;\\n      } else {\\n        newSource.sectionIdentities = Object.keys(dataBlob);\\n      }\\n      if (rowIdentities) {\\n        newSource.rowIdentities = rowIdentities;\\n      } else {\\n        newSource.rowIdentities = [];\\n        newSource.sectionIdentities.forEach(function (sectionID) {\\n          newSource.rowIdentities.push(Object.keys(dataBlob[sectionID]));\\n        });\\n      }\\n      newSource._cachedRowCount = countRows(newSource.rowIdentities);\\n\\n      newSource._calculateDirtyArrays(this._dataBlob, this.sectionIdentities, this.rowIdentities);\\n\\n      return newSource;\\n    }\\n  }, {\\n    key: 'getRowCount',\\n    value: function getRowCount() {\\n      return this._cachedRowCount;\\n    }\\n  }, {\\n    key: 'getRowAndSectionCount',\\n    value: function getRowAndSectionCount() {\\n      return this._cachedRowCount + this.sectionIdentities.length;\\n    }\\n\\n    /**\\n     * Returns if the row is dirtied and needs to be rerendered\\n     */\\n\\n  }, {\\n    key: 'rowShouldUpdate',\\n    value: function rowShouldUpdate(sectionIndex, rowIndex) {\\n      var needsUpdate = this._dirtyRows[sectionIndex][rowIndex];\\n      warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default()(needsUpdate !== undefined, 'missing dirtyBit for section, row: ' + sectionIndex + ', ' + rowIndex);\\n      return needsUpdate;\\n    }\\n\\n    /**\\n     * Gets the data required to render the row.\\n     */\\n\\n  }, {\\n    key: 'getRowData',\\n    value: function getRowData(sectionIndex, rowIndex) {\\n      var sectionID = this.sectionIdentities[sectionIndex];\\n      var rowID = this.rowIdentities[sectionIndex][rowIndex];\\n      warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default()(sectionID !== undefined && rowID !== undefined, 'rendering invalid section, row: ' + sectionIndex + ', ' + rowIndex);\\n      return this._getRowData(this._dataBlob, sectionID, rowID);\\n    }\\n\\n    /**\\n     * Gets the rowID at index provided if the dataSource arrays were flattened,\\n     * or null of out of range indexes.\\n     */\\n\\n  }, {\\n    key: 'getRowIDForFlatIndex',\\n    value: function getRowIDForFlatIndex(index) {\\n      var accessIndex = index;\\n      for (var ii = 0; ii < this.sectionIdentities.length; ii++) {\\n        if (accessIndex >= this.rowIdentities[ii].length) {\\n          accessIndex -= this.rowIdentities[ii].length;\\n        } else {\\n          return this.rowIdentities[ii][accessIndex];\\n        }\\n      }\\n      return null;\\n    }\\n\\n    /**\\n     * Gets the sectionID at index provided if the dataSource arrays were flattened,\\n     * or null for out of range indexes.\\n     */\\n\\n  }, {\\n    key: 'getSectionIDForFlatIndex',\\n    value: function getSectionIDForFlatIndex(index) {\\n      var accessIndex = index;\\n      for (var ii = 0; ii < this.sectionIdentities.length; ii++) {\\n        if (accessIndex >= this.rowIdentities[ii].length) {\\n          accessIndex -= this.rowIdentities[ii].length;\\n        } else {\\n          return this.sectionIdentities[ii];\\n        }\\n      }\\n      return null;\\n    }\\n\\n    /**\\n     * Returns an array containing the number of rows in each section\\n     */\\n\\n  }, {\\n    key: 'getSectionLengths',\\n    value: function getSectionLengths() {\\n      var results = [];\\n      for (var ii = 0; ii < this.sectionIdentities.length; ii++) {\\n        results.push(this.rowIdentities[ii].length);\\n      }\\n      return results;\\n    }\\n\\n    /**\\n     * Returns if the section header is dirtied and needs to be rerendered\\n     */\\n\\n  }, {\\n    key: 'sectionHeaderShouldUpdate',\\n    value: function sectionHeaderShouldUpdate(sectionIndex) {\\n      var needsUpdate = this._dirtySections[sectionIndex];\\n      warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default()(needsUpdate !== undefined, 'missing dirtyBit for section: ' + sectionIndex);\\n      return needsUpdate;\\n    }\\n\\n    /**\\n     * Gets the data required to render the section header\\n     */\\n\\n  }, {\\n    key: 'getSectionHeaderData',\\n    value: function getSectionHeaderData(sectionIndex) {\\n      if (!this._getSectionHeaderData) {\\n        return null;\\n      }\\n      var sectionID = this.sectionIdentities[sectionIndex];\\n      warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default()(sectionID !== undefined, 'renderSection called on invalid section: ' + sectionIndex);\\n      return this._getSectionHeaderData(this._dataBlob, sectionID);\\n    }\\n\\n    /**\\n     * Private members and methods.\\n     */\\n\\n    // These two 'protected' variables are accessed by ListView to iterate over\\n    // the data in this class.\\n\\n  }, {\\n    key: '_calculateDirtyArrays',\\n    value: function _calculateDirtyArrays(prevDataBlob, prevSectionIDs, prevRowIDs) {\\n      // construct a hashmap of the existing (old) id arrays\\n      var prevSectionsHash = keyedDictionaryFromArray(prevSectionIDs);\\n      var prevRowsHash = {};\\n      for (var ii = 0; ii < prevRowIDs.length; ii++) {\\n        var sectionID = prevSectionIDs[ii];\\n        warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default()(!prevRowsHash[sectionID], 'SectionID appears more than once: ' + sectionID);\\n        prevRowsHash[sectionID] = keyedDictionaryFromArray(prevRowIDs[ii]);\\n      }\\n\\n      // compare the 2 identity array and get the dirtied rows\\n      this._dirtySections = [];\\n      this._dirtyRows = [];\\n\\n      var dirty;\\n      for (var sIndex = 0; sIndex < this.sectionIdentities.length; sIndex++) {\\n        var sectionID = this.sectionIdentities[sIndex];\\n        // dirty if the sectionHeader is new or _sectionHasChanged is true\\n        dirty = !prevSectionsHash[sectionID];\\n        var sectionHeaderHasChanged = this._sectionHeaderHasChanged;\\n        if (!dirty && sectionHeaderHasChanged) {\\n          dirty = sectionHeaderHasChanged(this._getSectionHeaderData(prevDataBlob, sectionID), this._getSectionHeaderData(this._dataBlob, sectionID));\\n        }\\n        this._dirtySections.push(!!dirty);\\n\\n        this._dirtyRows[sIndex] = [];\\n        for (var rIndex = 0; rIndex < this.rowIdentities[sIndex].length; rIndex++) {\\n          var rowID = this.rowIdentities[sIndex][rIndex];\\n          // dirty if the section is new, row is new or _rowHasChanged is true\\n          dirty = !prevSectionsHash[sectionID] || !prevRowsHash[sectionID][rowID] || this._rowHasChanged(this._getRowData(prevDataBlob, sectionID, rowID), this._getRowData(this._dataBlob, sectionID, rowID));\\n          this._dirtyRows[sIndex].push(!!dirty);\\n        }\\n      }\\n    }\\n  }]);\\n\\n  return ListViewDataSource;\\n}();\\n\\nfunction countRows(allRowIDs) {\\n  var totalRows = 0;\\n  for (var sectionIdx = 0; sectionIdx < allRowIDs.length; sectionIdx++) {\\n    var rowIDs = allRowIDs[sectionIdx];\\n    totalRows += rowIDs.length;\\n  }\\n  return totalRows;\\n}\\n\\nfunction keyedDictionaryFromArray(arr) {\\n  if (isEmpty_default()(arr)) {\\n    return {};\\n  }\\n  var result = {};\\n  for (var ii = 0; ii < arr.length; ii++) {\\n    var key = arr[ii];\\n    warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default()(!result[key], 'Value appears more than once in array: ' + key);\\n    result[key] = true;\\n  }\\n  return result;\\n}\\n\\n// module.exports = ListViewDataSource;\\n/* harmony default export */ var es_ListViewDataSource = (ListViewDataSource_ListViewDataSource);\\n// CONCATENATED MODULE: ./node_modules/rmc-list-view/es/util.js\\nfunction getOffsetTop(elem) {\\n  var offsetTop = 0;\\n  /* eslint no-cond-assign: 0 */\\n  do {\\n    if (!isNaN(elem.offsetTop)) {\\n      offsetTop += elem.offsetTop;\\n    }\\n  } while (elem = elem.offsetParent);\\n  return offsetTop;\\n}\\n\\nfunction _event(e) {\\n  if (e.touches && e.touches.length) {\\n    return e.touches[0];\\n  }\\n  if (e.changedTouches && e.changedTouches.length) {\\n    return e.changedTouches[0];\\n  }\\n  return e;\\n}\\n\\nfunction throttle(fn, delay) {\\n  var delayFlag = true;\\n  var firstInvoke = true;\\n  // console.log('exec once');\\n  return function _throttle(e) {\\n    if (delayFlag) {\\n      delayFlag = false;\\n      setTimeout(function () {\\n        delayFlag = true;\\n        // console.log('exec delay time');\\n        fn(e);\\n      }, delay);\\n      if (firstInvoke) {\\n        // console.log('first invoke');\\n        fn(e);\\n        firstInvoke = false;\\n      }\\n    }\\n  };\\n}\\n\\nfunction setTransform(nodeStyle, value) {\\n  nodeStyle.transform = value;\\n  nodeStyle.webkitTransform = value;\\n  nodeStyle.MozTransform = value;\\n}\\n\\nfunction setTransformOrigin(nodeStyle, value) {\\n  nodeStyle.transformOrigin = value;\\n  nodeStyle.webkitTransformOrigin = value;\\n  nodeStyle.MozTransformOrigin = value;\\n}\\n// CONCATENATED MODULE: ./node_modules/rmc-list-view/es/ScrollView.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n// const SCROLLVIEW = 'ScrollViewRef';\\n// const INNERVIEW = 'InnerScrollViewRef';\\n\\n// https://github.com/facebook/react-native/blob/0.26-stable/Libraries/Components/ScrollView/ScrollView.js\\n\\n/* eslint react/prop-types: 0, react/sort-comp: 0, no-unused-expressions: 0 */\\n\\nvar propTypes = {\\n  className: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  prefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  listPrefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  listViewPrefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  style: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  contentContainerStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  onScroll: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func\\n};\\n\\nvar ScrollView_ScrollView = function (_React$Component) {\\n  inherits_default()(ScrollView, _React$Component);\\n\\n  function ScrollView() {\\n    var _ref;\\n\\n    var _temp, _this, _ret;\\n\\n    classCallCheck_default()(this, ScrollView);\\n\\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\\n      args[_key] = arguments[_key];\\n    }\\n\\n    return _ret = (_temp = (_this = possibleConstructorReturn_default()(this, (_ref = ScrollView.__proto__ || Object.getPrototypeOf(ScrollView)).call.apply(_ref, [this].concat(args))), _this), ScrollView_initialiseProps.call(_this), _temp), possibleConstructorReturn_default()(_this, _ret);\\n  }\\n\\n  createClass_default()(ScrollView, [{\\n    key: 'componentWillUpdate',\\n    value: function componentWillUpdate(nextProps) {\\n      // https://github.com/ant-design/ant-design-mobile/issues/1480\\n      // https://stackoverflow.com/questions/1386696/make-scrollleft-scrolltop-changes-not-trigger-scroll-event\\n      //  dataSource  ListView componentWillReceiveProps\\n      //  scrollTop  scroll \\n      if ((this.props.dataSource !== nextProps.dataSource || this.props.initialListSize !== nextProps.initialListSize) && this.handleScroll) {\\n        // console.log('componentWillUpdate');\\n        if (this.props.useBodyScroll) {\\n          window.removeEventListener('scroll', this.handleScroll);\\n        } else {\\n          this.ScrollViewRef.removeEventListener('scroll', this.handleScroll);\\n        }\\n      }\\n    }\\n  }, {\\n    key: 'componentDidUpdate',\\n    value: function componentDidUpdate(prevProps) {\\n      var _this2 = this;\\n\\n      // handle componentWillUpdate accordingly\\n      if ((this.props.dataSource !== prevProps.dataSource || this.props.initialListSize !== prevProps.initialListSize) && this.handleScroll) {\\n        setTimeout(function () {\\n          if (_this2.props.useBodyScroll) {\\n            window.addEventListener('scroll', _this2.handleScroll);\\n          } else {\\n            _this2.ScrollViewRef.addEventListener('scroll', _this2.handleScroll);\\n          }\\n        }, 0);\\n      }\\n    }\\n  }, {\\n    key: 'componentDidMount',\\n    value: function componentDidMount() {\\n      var _this3 = this;\\n\\n      var handleScroll = function handleScroll(e) {\\n        return _this3.props.onScroll && _this3.props.onScroll(e, _this3.getMetrics());\\n      };\\n      if (this.props.scrollEventThrottle) {\\n        handleScroll = throttle(handleScroll, this.props.scrollEventThrottle);\\n      }\\n      this.handleScroll = handleScroll;\\n\\n      // IE supports onresize on all HTML elements.\\n      // In all other Browsers the onresize is only available at the window object\\n      this.onLayout = function () {\\n        return _this3.props.onLayout({\\n          nativeEvent: { layout: { width: window.innerWidth, height: window.innerHeight } }\\n        });\\n      };\\n\\n      if (this.props.useBodyScroll) {\\n        window.addEventListener('scroll', this.handleScroll);\\n        window.addEventListener('resize', this.onLayout);\\n      } else {\\n        this.ScrollViewRef.addEventListener('scroll', this.handleScroll);\\n      }\\n    }\\n  }, {\\n    key: 'componentWillUnmount',\\n    value: function componentWillUnmount() {\\n      if (this.props.useBodyScroll) {\\n        window.removeEventListener('scroll', this.handleScroll);\\n        window.removeEventListener('resize', this.onLayout);\\n      } else {\\n        this.ScrollViewRef.removeEventListener('scroll', this.handleScroll);\\n      }\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this4 = this;\\n\\n      var _props = this.props,\\n          children = _props.children,\\n          className = _props.className,\\n          prefixCls = _props.prefixCls,\\n          listPrefixCls = _props.listPrefixCls,\\n          listViewPrefixCls = _props.listViewPrefixCls,\\n          _props$style = _props.style,\\n          style = _props$style === undefined ? {} : _props$style,\\n          _props$contentContain = _props.contentContainerStyle,\\n          contentContainerStyle = _props$contentContain === undefined ? {} : _props$contentContain,\\n          useBodyScroll = _props.useBodyScroll,\\n          pullToRefresh = _props.pullToRefresh;\\n\\n\\n      var styleBase = {\\n        position: 'relative',\\n        overflow: 'auto',\\n        WebkitOverflowScrolling: 'touch'\\n      };\\n      var preCls = prefixCls || listViewPrefixCls || '';\\n\\n      var containerProps = {\\n        ref: function ref(el) {\\n          return _this4.ScrollViewRef = el || _this4.ScrollViewRef;\\n        },\\n        style: extends_default()({}, useBodyScroll ? {} : styleBase, style),\\n        className: classnames_default()(className, preCls + '-scrollview')\\n      };\\n      var contentContainerProps = {\\n        ref: function ref(el) {\\n          return _this4.InnerScrollViewRef = el;\\n        },\\n        style: extends_default()({ position: 'absolute', minWidth: '100%' }, contentContainerStyle),\\n        className: classnames_default()(preCls + '-scrollview-content', listPrefixCls)\\n      };\\n\\n      var clonePullToRefresh = function clonePullToRefresh(isBody) {\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(pullToRefresh, {\\n          getScrollContainer: isBody ? function () {\\n            return document.body;\\n          } : function () {\\n            return _this4.ScrollViewRef;\\n          }\\n        }, children);\\n      };\\n\\n      if (useBodyScroll) {\\n        if (pullToRefresh) {\\n          return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            'div',\\n            containerProps,\\n            clonePullToRefresh(true)\\n          );\\n        }\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          'div',\\n          containerProps,\\n          children\\n        );\\n      }\\n\\n      if (pullToRefresh) {\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          'div',\\n          containerProps,\\n          reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            'div',\\n            contentContainerProps,\\n            clonePullToRefresh()\\n          )\\n        );\\n      }\\n\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        containerProps,\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          'div',\\n          contentContainerProps,\\n          children\\n        )\\n      );\\n    }\\n  }]);\\n\\n  return ScrollView;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nScrollView_ScrollView.propTypes = propTypes;\\n\\nvar ScrollView_initialiseProps = function _initialiseProps() {\\n  var _this5 = this;\\n\\n  this.getMetrics = function () {\\n    var isVertical = !_this5.props.horizontal;\\n    if (_this5.props.useBodyScroll) {\\n      // In chrome61 `document.body.scrollTop` is invalid,\\n      // and add new `document.scrollingElement`(chrome61, iOS support).\\n      // In old-android-browser and iOS `document.documentElement.scrollTop` is invalid.\\n      var scrollNode = document.scrollingElement ? document.scrollingElement : document.body;\\n      // todos: Why sometimes do not have `this.ScrollViewRef` ?\\n      return {\\n        visibleLength: window[isVertical ? 'innerHeight' : 'innerWidth'],\\n        contentLength: _this5.ScrollViewRef ? _this5.ScrollViewRef[isVertical ? 'scrollHeight' : 'scrollWidth'] : 0,\\n        offset: scrollNode[isVertical ? 'scrollTop' : 'scrollLeft']\\n      };\\n    }\\n    return {\\n      visibleLength: _this5.ScrollViewRef[isVertical ? 'offsetHeight' : 'offsetWidth'],\\n      contentLength: _this5.ScrollViewRef[isVertical ? 'scrollHeight' : 'scrollWidth'],\\n      offset: _this5.ScrollViewRef[isVertical ? 'scrollTop' : 'scrollLeft']\\n    };\\n  };\\n\\n  this.getInnerViewNode = function () {\\n    return _this5.InnerScrollViewRef;\\n  };\\n\\n  this.scrollTo = function () {\\n    if (_this5.props.useBodyScroll) {\\n      var _window;\\n\\n      (_window = window).scrollTo.apply(_window, arguments);\\n    } else {\\n      _this5.ScrollViewRef.scrollLeft = arguments.length <= 0 ? undefined : arguments[0];\\n      _this5.ScrollViewRef.scrollTop = arguments.length <= 1 ? undefined : arguments[1];\\n    }\\n  };\\n};\\n\\n/* harmony default export */ var es_ScrollView = (ScrollView_ScrollView);\\n// CONCATENATED MODULE: ./node_modules/rmc-list-view/es/ListView.js\\n\\n\\n\\n\\n\\n\\n/* eslint no-unused-vars: 0, react/no-multi-comp: 0\\nreact/prop-types: 0, react/sort-comp: 0, no-unused-expressions: 0 */\\n\\n\\n\\n\\n\\n\\nvar DEFAULT_PAGE_SIZE = 1;\\nvar DEFAULT_INITIAL_ROWS = 10;\\nvar DEFAULT_SCROLL_RENDER_AHEAD = 1000;\\nvar DEFAULT_END_REACHED_THRESHOLD = 1000;\\nvar DEFAULT_SCROLL_CALLBACK_THROTTLE = 50;\\n// const SCROLLVIEW_REF = 'ListViewRef';\\n\\nvar ListView_StaticRenderer = function (_React$Component) {\\n  inherits_default()(StaticRenderer, _React$Component);\\n\\n  function StaticRenderer() {\\n    classCallCheck_default()(this, StaticRenderer);\\n\\n    return possibleConstructorReturn_default()(this, (StaticRenderer.__proto__ || Object.getPrototypeOf(StaticRenderer)).apply(this, arguments));\\n  }\\n\\n  createClass_default()(StaticRenderer, [{\\n    key: 'shouldComponentUpdate',\\n    value: function shouldComponentUpdate(nextProps) {\\n      return nextProps.shouldUpdate;\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      return this.props.render();\\n    }\\n  }]);\\n\\n  return StaticRenderer;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n// https://github.com/facebook/react-native/blob/0.26-stable/Libraries/CustomComponents/ListView/ListView.js\\n\\n\\nvar ListView_ListView = function (_React$Component2) {\\n  inherits_default()(ListView, _React$Component2);\\n\\n  function ListView() {\\n    var _ref;\\n\\n    var _temp, _this2, _ret;\\n\\n    classCallCheck_default()(this, ListView);\\n\\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\\n      args[_key] = arguments[_key];\\n    }\\n\\n    return _ret = (_temp = (_this2 = possibleConstructorReturn_default()(this, (_ref = ListView.__proto__ || Object.getPrototypeOf(ListView)).call.apply(_ref, [this].concat(args))), _this2), ListView_initialiseProps.call(_this2), _temp), possibleConstructorReturn_default()(_this2, _ret);\\n  }\\n\\n  /**\\n   * Exports some data, e.g. for perf investigations or analytics.\\n   */\\n\\n\\n  createClass_default()(ListView, [{\\n    key: 'componentWillMount',\\n    value: function componentWillMount() {\\n      // this data should never trigger a render pass, so don't put in state\\n      this.scrollProperties = {\\n        visibleLength: null,\\n        contentLength: null,\\n        offset: 0\\n      };\\n      this._childFrames = [];\\n      this._visibleRows = {};\\n      this._prevRenderedRowsCount = 0;\\n      this._sentEndForContentLength = null;\\n    }\\n  }, {\\n    key: 'componentWillReceiveProps',\\n    value: function componentWillReceiveProps(nextProps) {\\n      var _this3 = this;\\n\\n      if (this.props.dataSource !== nextProps.dataSource || this.props.initialListSize !== nextProps.initialListSize) {\\n        this.setState(function (state, props) {\\n          _this3._prevRenderedRowsCount = 0;\\n          return {\\n            curRenderedRowsCount: Math.min(Math.max(state.curRenderedRowsCount, nextProps.initialListSize // for preact\\n            ), nextProps.dataSource.getRowCount() // for preact\\n            )\\n          };\\n        }, function () {\\n          return _this3._renderMoreRowsIfNeeded();\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this4 = this;\\n\\n      var dataSource = this.props.dataSource;\\n      var allRowIDs = dataSource.rowIdentities;\\n      var bodyComponents = [];\\n      var rowCount = 0;\\n\\n      for (var sectionIdx = 0; sectionIdx < allRowIDs.length; sectionIdx++) {\\n        var sectionID = dataSource.sectionIdentities[sectionIdx];\\n        var rowIDs = allRowIDs[sectionIdx];\\n        if (rowIDs.length === 0) {\\n          continue;\\n        }\\n\\n        var renderSectionHeader = void 0;\\n        if (this.props.renderSectionHeader) {\\n          var shouldUpdateHeader = rowCount >= this._prevRenderedRowsCount && dataSource.sectionHeaderShouldUpdate(sectionIdx);\\n\\n          renderSectionHeader = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(ListView_StaticRenderer, {\\n            key: 's_' + sectionID,\\n            shouldUpdate: !!shouldUpdateHeader,\\n            render: this.props.renderSectionHeader.bind(null, dataSource.getSectionHeaderData(sectionIdx), sectionID)\\n          });\\n        }\\n\\n        var sectionBody = [];\\n        for (var rowIdx = 0; rowIdx < rowIDs.length; rowIdx++) {\\n          var rowID = rowIDs[rowIdx];\\n          var comboID = sectionID + '_' + rowID;\\n          var shouldUpdateRow = rowCount >= this._prevRenderedRowsCount && dataSource.rowShouldUpdate(sectionIdx, rowIdx);\\n          var row = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(ListView_StaticRenderer, {\\n            key: 'r_' + comboID,\\n            shouldUpdate: !!shouldUpdateRow,\\n            render: this.props.renderRow.bind(null, dataSource.getRowData(sectionIdx, rowIdx), sectionID, rowID, this.onRowHighlighted)\\n          });\\n          sectionBody.push(row);\\n\\n          if (this.props.renderSeparator && (rowIdx !== rowIDs.length - 1 || sectionIdx === allRowIDs.length - 1)) {\\n            var adjacentRowHighlighted = this.state.highlightedRow.sectionID === sectionID && (this.state.highlightedRow.rowID === rowID || this.state.highlightedRow.rowID === rowIDs[rowIdx + 1]);\\n            var separator = this.props.renderSeparator(sectionID, rowID, adjacentRowHighlighted);\\n            if (separator) {\\n              sectionBody.push(separator);\\n            }\\n          }\\n          if (++rowCount === this.state.curRenderedRowsCount) {\\n            break;\\n          }\\n        }\\n\\n        var rowsAndSeparators = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(this.props.renderSectionBodyWrapper(sectionID), {\\n          className: this.props.sectionBodyClassName\\n        }, sectionBody);\\n\\n        if (this.props.renderSectionWrapper) {\\n          bodyComponents.push(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(this.props.renderSectionWrapper(sectionID), {}, renderSectionHeader, rowsAndSeparators));\\n        } else {\\n          bodyComponents.push(renderSectionHeader);\\n          bodyComponents.push(rowsAndSeparators);\\n        }\\n        if (rowCount >= this.state.curRenderedRowsCount) {\\n          break;\\n        }\\n      }\\n\\n      var _props = this.props,\\n          renderScrollComponent = _props.renderScrollComponent,\\n          props = objectWithoutProperties_default()(_props, ['renderScrollComponent']);\\n\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(renderScrollComponent(extends_default()({}, props, { onScroll: this._onScroll })), {\\n        ref: function ref(el) {\\n          return _this4.ListViewRef = el;\\n        },\\n        onContentSizeChange: this._onContentSizeChange,\\n        onLayout: this._onLayout\\n      }, this.props.renderHeader ? this.props.renderHeader() : null, reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(props.renderBodyComponent(), {}, bodyComponents), this.props.renderFooter ? this.props.renderFooter() : null, props.children);\\n    }\\n  }]);\\n\\n  return ListView;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nListView_ListView.DataSource = es_ListViewDataSource;\\nListView_ListView.propTypes = extends_default()({}, es_ScrollView.propTypes, {\\n  dataSource: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.instanceOf(es_ListViewDataSource).isRequired,\\n  renderSeparator: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  renderRow: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func.isRequired,\\n  initialListSize: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  onEndReached: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  onEndReachedThreshold: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  pageSize: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  renderFooter: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  renderHeader: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  renderSectionHeader: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  renderScrollComponent: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  scrollRenderAheadDistance: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  onChangeVisibleRows: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  scrollEventThrottle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  // another added\\n  renderBodyComponent: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  renderSectionWrapper: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  renderSectionBodyWrapper: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  sectionBodyClassName: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  listViewPrefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  useBodyScroll: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool\\n});\\nListView_ListView.defaultProps = {\\n  initialListSize: DEFAULT_INITIAL_ROWS,\\n  pageSize: DEFAULT_PAGE_SIZE,\\n  renderScrollComponent: function renderScrollComponent(props) {\\n    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_ScrollView, props);\\n  },\\n  renderBodyComponent: function renderBodyComponent() {\\n    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', null);\\n  },\\n  renderSectionBodyWrapper: function renderSectionBodyWrapper(sectionID) {\\n    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { key: sectionID });\\n  },\\n  sectionBodyClassName: 'list-view-section-body',\\n  listViewPrefixCls: 'rmc-list-view',\\n  scrollRenderAheadDistance: DEFAULT_SCROLL_RENDER_AHEAD,\\n  onEndReachedThreshold: DEFAULT_END_REACHED_THRESHOLD,\\n  scrollEventThrottle: DEFAULT_SCROLL_CALLBACK_THROTTLE,\\n  scrollerOptions: {}\\n};\\n\\nvar ListView_initialiseProps = function _initialiseProps() {\\n  var _this5 = this;\\n\\n  this.state = {\\n    curRenderedRowsCount: this.props.initialListSize,\\n    highlightedRow: {} };\\n\\n  this.getMetrics = function () {\\n    return {\\n      contentLength: _this5.scrollProperties.contentLength,\\n      totalRows: _this5.props.dataSource.getRowCount(),\\n      renderedRows: _this5.state.curRenderedRowsCount,\\n      visibleRows: Object.keys(_this5._visibleRows).length\\n    };\\n  };\\n\\n  this.getInnerViewNode = function () {\\n    return _this5.ListViewRef.getInnerViewNode();\\n  };\\n\\n  this.scrollTo = function () {\\n    var _ListViewRef;\\n\\n    _this5.ListViewRef && _this5.ListViewRef.scrollTo && (_ListViewRef = _this5.ListViewRef).scrollTo.apply(_ListViewRef, arguments);\\n  };\\n\\n  this.onRowHighlighted = function (sectionID, rowID) {\\n    _this5.setState({ highlightedRow: { sectionID: sectionID, rowID: rowID } });\\n  };\\n\\n  this._onContentSizeChange = function (width, height) {\\n    var contentLength = !_this5.props.horizontal ? height : width;\\n    if (contentLength !== _this5.scrollProperties.contentLength) {\\n      _this5.scrollProperties.contentLength = contentLength;\\n      _this5._renderMoreRowsIfNeeded();\\n    }\\n    _this5.props.onContentSizeChange && _this5.props.onContentSizeChange(width, height);\\n  };\\n\\n  this._onLayout = function (event) {\\n    var _event$nativeEvent$la = event.nativeEvent.layout,\\n        width = _event$nativeEvent$la.width,\\n        height = _event$nativeEvent$la.height;\\n\\n    var visibleLength = !_this5.props.horizontal ? height : width;\\n    if (visibleLength !== _this5.scrollProperties.visibleLength) {\\n      _this5.scrollProperties.visibleLength = visibleLength;\\n      _this5._renderMoreRowsIfNeeded();\\n    }\\n    _this5.props.onLayout && _this5.props.onLayout(event);\\n  };\\n\\n  this._maybeCallOnEndReached = function (event) {\\n    // console.log(this.scrollProperties, this._getDistanceFromEnd(this.scrollProperties));\\n    if (_this5.props.onEndReached && _this5.scrollProperties.contentLength !== _this5._sentEndForContentLength && _this5._getDistanceFromEnd(_this5.scrollProperties) < _this5.props.onEndReachedThreshold && _this5.state.curRenderedRowsCount === _this5.props.dataSource.getRowCount()) {\\n      _this5._sentEndForContentLength = _this5.scrollProperties.contentLength;\\n      _this5.props.onEndReached(event);\\n      return true;\\n    }\\n    return false;\\n  };\\n\\n  this._renderMoreRowsIfNeeded = function () {\\n    if (_this5.scrollProperties.contentLength === null || _this5.scrollProperties.visibleLength === null || _this5.state.curRenderedRowsCount === _this5.props.dataSource.getRowCount()) {\\n      _this5._maybeCallOnEndReached();\\n      return;\\n    }\\n\\n    var distanceFromEnd = _this5._getDistanceFromEnd(_this5.scrollProperties);\\n    // console.log(distanceFromEnd, this.props.scrollRenderAheadDistance);\\n    if (distanceFromEnd < _this5.props.scrollRenderAheadDistance) {\\n      _this5._pageInNewRows();\\n    }\\n  };\\n\\n  this._pageInNewRows = function () {\\n    _this5.setState(function (state, props) {\\n      var rowsToRender = Math.min(state.curRenderedRowsCount + props.pageSize, props.dataSource.getRowCount());\\n      _this5._prevRenderedRowsCount = state.curRenderedRowsCount;\\n      return {\\n        curRenderedRowsCount: rowsToRender\\n      };\\n    }, function () {\\n      _this5._prevRenderedRowsCount = _this5.state.curRenderedRowsCount;\\n    });\\n  };\\n\\n  this._getDistanceFromEnd = function (scrollProperties) {\\n    return scrollProperties.contentLength - scrollProperties.visibleLength - scrollProperties.offset;\\n  };\\n\\n  this._onScroll = function (e, metrics) {\\n    // when the ListView is destroyed,\\n    // but also will trigger scroll event after `scrollEventThrottle`\\n    if (!_this5.ListViewRef) {\\n      return;\\n    }\\n\\n    _this5.scrollProperties = metrics;\\n\\n    if (!_this5._maybeCallOnEndReached(e)) {\\n      _this5._renderMoreRowsIfNeeded();\\n    }\\n\\n    if (_this5.props.onEndReached && _this5._getDistanceFromEnd(_this5.scrollProperties) > _this5.props.onEndReachedThreshold) {\\n      // Scrolled out of the end zone, so it should be able to trigger again.\\n      _this5._sentEndForContentLength = null;\\n    }\\n\\n    _this5.props.onScroll && _this5.props.onScroll(e);\\n  };\\n};\\n\\n/* harmony default export */ var es_ListView = (ListView_ListView);\\n// CONCATENATED MODULE: ./node_modules/rmc-list-view/es/Indexed.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfunction setDocumentScrollTop(val) {\\n  window.document.body.scrollTop = val; // chrome61 is invalid\\n  window.document.documentElement.scrollTop = val;\\n}\\n\\n/* eslint react/prop-types: 0 */\\n\\nvar Indexed_IndexedList = function (_React$Component) {\\n  inherits_default()(IndexedList, _React$Component);\\n\\n  function IndexedList(props) {\\n    classCallCheck_default()(this, IndexedList);\\n\\n    var _this = possibleConstructorReturn_default()(this, (IndexedList.__proto__ || Object.getPrototypeOf(IndexedList)).call(this, props));\\n\\n    Indexed_initialiseProps.call(_this);\\n\\n    _this.state = {\\n      pageSize: props.pageSize,\\n      _delay: false\\n    };\\n    return _this;\\n  }\\n\\n  createClass_default()(IndexedList, [{\\n    key: 'componentDidMount',\\n    value: function componentDidMount() {\\n      this.dataChange(this.props);\\n      // handle quickSearchBar\\n      this.getQsInfo();\\n    }\\n  }, {\\n    key: 'componentWillReceiveProps',\\n    value: function componentWillReceiveProps(nextProps) {\\n      if (this.props.dataSource !== nextProps.dataSource) {\\n        this.dataChange(nextProps);\\n      }\\n    }\\n  }, {\\n    key: 'componentDidUpdate',\\n    value: function componentDidUpdate() {\\n      this.getQsInfo();\\n    }\\n  }, {\\n    key: 'componentWillUnmount',\\n    value: function componentWillUnmount() {\\n      if (this._timer) {\\n        clearTimeout(this._timer);\\n      }\\n      this._hCache = null;\\n    }\\n  }, {\\n    key: 'renderQuickSearchBar',\\n    value: function renderQuickSearchBar(quickSearchBarTop, quickSearchBarStyle) {\\n      var _this2 = this;\\n\\n      var _props = this.props,\\n          dataSource = _props.dataSource,\\n          prefixCls = _props.prefixCls;\\n\\n      var sectionKvs = dataSource.sectionIdentities.map(function (i) {\\n        return {\\n          value: i,\\n          label: dataSource._getSectionHeaderData(dataSource._dataBlob, i)\\n        };\\n      });\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'ul',\\n        {\\n          ref: function ref(el) {\\n            return _this2.quickSearchBarRef = el;\\n          },\\n          className: prefixCls + '-quick-search-bar', style: quickSearchBarStyle,\\n          onTouchStart: this.onTouchStart,\\n          onTouchMove: this.onTouchMove,\\n          onTouchEnd: this.onTouchEnd,\\n          onTouchCancel: this.onTouchEnd\\n        },\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          'li',\\n          { 'data-qf-target': quickSearchBarTop.value,\\n            onClick: function onClick() {\\n              return _this2.onQuickSearchTop(undefined, quickSearchBarTop.value);\\n            }\\n          },\\n          quickSearchBarTop.label\\n        ),\\n        sectionKvs.map(function (i) {\\n          return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            'li',\\n            { key: i.value, 'data-qf-target': i.value,\\n              onClick: function onClick() {\\n                return _this2.onQuickSearch(i.value);\\n              }\\n            },\\n            i.label\\n          );\\n        })\\n      );\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this3 = this,\\n          _classNames;\\n\\n      var _state = this.state,\\n          _delay = _state._delay,\\n          pageSize = _state.pageSize;\\n\\n      var _props2 = this.props,\\n          className = _props2.className,\\n          prefixCls = _props2.prefixCls,\\n          children = _props2.children,\\n          quickSearchBarTop = _props2.quickSearchBarTop,\\n          quickSearchBarStyle = _props2.quickSearchBarStyle,\\n          _props2$initialListSi = _props2.initialListSize,\\n          initialListSize = _props2$initialListSi === undefined ? Math.min(20, this.props.dataSource.getRowCount()) : _props2$initialListSi,\\n          showQuickSearchIndicator = _props2.showQuickSearchIndicator,\\n          _renderSectionHeader = _props2.renderSectionHeader,\\n          sectionHeaderClassName = _props2.sectionHeaderClassName,\\n          other = objectWithoutProperties_default()(_props2, ['className', 'prefixCls', 'children', 'quickSearchBarTop', 'quickSearchBarStyle', 'initialListSize', 'showQuickSearchIndicator', 'renderSectionHeader', 'sectionHeaderClassName']);\\n\\n      // initialListSize={this.props.dataSource.getRowCount()}\\n\\n\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        { className: prefixCls + '-container' },\\n        _delay && this.props.delayActivityIndicator,\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          es_ListView,\\n          extends_default()({}, other, {\\n            ref: function ref(el) {\\n              return _this3.indexedListViewRef = el;\\n            },\\n            className: classnames_default()(prefixCls, className),\\n            initialListSize: initialListSize,\\n            pageSize: pageSize,\\n            renderSectionHeader: function renderSectionHeader(sectionData, sectionID) {\\n              return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(_renderSectionHeader(sectionData, sectionID), {\\n                ref: function ref(c) {\\n                  return _this3.sectionComponents[sectionID] = c;\\n                },\\n                className: sectionHeaderClassName || prefixCls + '-section-header'\\n              });\\n            }\\n          }),\\n          children\\n        ),\\n        this.renderQuickSearchBar(quickSearchBarTop, quickSearchBarStyle),\\n        showQuickSearchIndicator ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: classnames_default()((_classNames = {}, defineProperty_default()(_classNames, prefixCls + '-qsindicator', true), defineProperty_default()(_classNames, prefixCls + '-qsindicator-hide', !showQuickSearchIndicator || !this.state.showQuickSearchIndicator), _classNames)), ref: function ref(el) {\\n            return _this3.qsIndicatorRef = el;\\n          }\\n        }) : null\\n      );\\n    }\\n  }]);\\n\\n  return IndexedList;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nIndexed_IndexedList.propTypes = extends_default()({}, es_ListView.propTypes, {\\n  children: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.any,\\n  prefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  className: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  sectionHeaderClassName: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  quickSearchBarTop: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  quickSearchBarStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  onQuickSearch: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  showQuickSearchIndicator: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool\\n});\\nIndexed_IndexedList.defaultProps = {\\n  prefixCls: 'rmc-indexed-list',\\n  quickSearchBarTop: { value: '#', label: '#' },\\n  onQuickSearch: function onQuickSearch() {},\\n  showQuickSearchIndicator: false,\\n  delayTime: 100,\\n  // delayActivityIndicator: <div style={{padding: 5, textAlign: 'center'}}>rendering more</div>,\\n  delayActivityIndicator: ''\\n};\\n\\nvar Indexed_initialiseProps = function _initialiseProps() {\\n  var _this4 = this;\\n\\n  this.onQuickSearchTop = function (sectionID, topId) {\\n    if (_this4.props.useBodyScroll) {\\n      setDocumentScrollTop(0);\\n    } else {\\n      react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.findDOMNode(_this4.indexedListViewRef.ListViewRef).scrollTop = 0;\\n    }\\n    _this4.props.onQuickSearch(sectionID, topId);\\n  };\\n\\n  this.onQuickSearch = function (sectionID) {\\n    var lv = react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.findDOMNode(_this4.indexedListViewRef.ListViewRef);\\n    var sec = react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.findDOMNode(_this4.sectionComponents[sectionID]);\\n    if (_this4.props.useBodyScroll) {\\n      setDocumentScrollTop(sec.getBoundingClientRect().top - lv.getBoundingClientRect().top + getOffsetTop(lv));\\n    } else {\\n      lv.scrollTop += sec.getBoundingClientRect().top - lv.getBoundingClientRect().top;\\n    }\\n    _this4.props.onQuickSearch(sectionID);\\n  };\\n\\n  this.onTouchStart = function (e) {\\n    _this4._target = e.target;\\n    _this4._basePos = _this4.quickSearchBarRef.getBoundingClientRect();\\n    document.addEventListener('touchmove', _this4._disableParent, false);\\n    document.body.className = document.body.className + ' ' + _this4.props.prefixCls + '-qsb-moving';\\n    _this4.updateIndicator(_this4._target);\\n  };\\n\\n  this.onTouchMove = function (e) {\\n    e.preventDefault();\\n    if (_this4._target) {\\n      var ex = _event(e);\\n      var basePos = _this4._basePos;\\n      var _pos = void 0;\\n      if (ex.clientY >= basePos.top && ex.clientY <= basePos.top + _this4._qsHeight) {\\n        _pos = Math.floor((ex.clientY - basePos.top) / _this4._avgH);\\n        var target = void 0;\\n        if (_pos in _this4._hCache) {\\n          target = _this4._hCache[_pos][0];\\n        }\\n        if (target) {\\n          var overValue = target.getAttribute('data-qf-target');\\n          if (_this4._target !== target) {\\n            if (_this4.props.quickSearchBarTop.value === overValue) {\\n              _this4.onQuickSearchTop(undefined, overValue);\\n            } else {\\n              _this4.onQuickSearch(overValue);\\n            }\\n            _this4.updateIndicator(target);\\n          }\\n          _this4._target = target;\\n        }\\n      }\\n    }\\n  };\\n\\n  this.onTouchEnd = function () {\\n    if (!_this4._target) {\\n      return;\\n    }\\n    document.removeEventListener('touchmove', _this4._disableParent, false);\\n    document.body.className = document.body.className.replace(new RegExp('\\\\\\\\s*' + _this4.props.prefixCls + '-qsb-moving', 'g'), '');\\n    _this4.updateIndicator(_this4._target, true);\\n    _this4._target = null;\\n  };\\n\\n  this.getQsInfo = function () {\\n    var quickSearchBar = _this4.quickSearchBarRef;\\n    var height = quickSearchBar.offsetHeight;\\n    var hCache = [];\\n    [].slice.call(quickSearchBar.querySelectorAll('[data-qf-target]')).forEach(function (d) {\\n      hCache.push([d]);\\n    });\\n    var _avgH = height / hCache.length;\\n    var _top = 0;\\n    for (var i = 0, len = hCache.length; i < len; i++) {\\n      _top = i * _avgH;\\n      hCache[i][1] = [_top, _top + _avgH];\\n    }\\n    _this4._qsHeight = height;\\n    _this4._avgH = _avgH;\\n    _this4._hCache = hCache;\\n  };\\n\\n  this.sectionComponents = {};\\n\\n  this.dataChange = function (props) {\\n    // delay render more\\n    var rowCount = props.dataSource.getRowCount();\\n    if (!rowCount) {\\n      return;\\n    }\\n    _this4.setState({\\n      _delay: true\\n    });\\n    if (_this4._timer) {\\n      clearTimeout(_this4._timer);\\n    }\\n    _this4._timer = setTimeout(function () {\\n      _this4.setState({\\n        pageSize: rowCount,\\n        _delay: false\\n      }, function () {\\n        return _this4.indexedListViewRef._pageInNewRows();\\n      });\\n    }, props.delayTime);\\n  };\\n\\n  this.updateIndicator = function (ele, end) {\\n    var el = ele;\\n    if (!el.getAttribute('data-qf-target')) {\\n      el = el.parentNode;\\n    }\\n    if (_this4.props.showQuickSearchIndicator) {\\n      _this4.qsIndicatorRef.innerText = el.innerText.trim();\\n      _this4.setState({\\n        showQuickSearchIndicator: true\\n      });\\n      if (_this4._indicatorTimer) {\\n        clearTimeout(_this4._indicatorTimer);\\n      }\\n      _this4._indicatorTimer = setTimeout(function () {\\n        _this4.setState({\\n          showQuickSearchIndicator: false\\n        });\\n      }, 1000);\\n    }\\n\\n    var cls = _this4.props.prefixCls + '-quick-search-bar-over';\\n    // can not use setState to change className, it has a big performance issue!\\n    _this4._hCache.forEach(function (d) {\\n      d[0].className = d[0].className.replace(cls, '');\\n    });\\n    if (!end) {\\n      el.className = el.className + ' ' + cls;\\n    }\\n  };\\n\\n  this._disableParent = function (e) {\\n    e.preventDefault();\\n    e.stopPropagation();\\n  };\\n};\\n\\n/* harmony default export */ var Indexed = (Indexed_IndexedList);\\n// CONCATENATED MODULE: ./node_modules/rmc-list-view/es/index.js\\n// export this package's api\\n\\n\\n\\nes_ListView.IndexedList = Indexed;\\nvar DataSource = es_ListView.DataSource;\\n\\n\\n/* harmony default export */ var rmc_list_view_es = (es_ListView);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/list-view/handleProps.js\\nvar handleProps_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n/* tslint:disable:no-unused-variable */\\n\\n/* tslint:enable:no-unused-variable */\\n\\nvar handleProps_Item = list.Item;\\n\\nfunction handleProps(props, isIndexed) {\\n    var renderHeader = props.renderHeader,\\n        renderFooter = props.renderFooter,\\n        renderSectionHeader = props.renderSectionHeader,\\n        renderBodyComponent = props.renderBodyComponent,\\n        restProps = handleProps_rest(props, [\\\"renderHeader\\\", \\\"renderFooter\\\", \\\"renderSectionHeader\\\", \\\"renderBodyComponent\\\"]);\\n\\n    var listPrefixCls = props.listPrefixCls;\\n    var extraProps = {\\n        renderHeader: null,\\n        renderFooter: null,\\n        renderSectionHeader: null,\\n        renderBodyComponent: renderBodyComponent || function () {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: listPrefixCls + '-body' });\\n        }\\n    };\\n    if (renderHeader) {\\n        extraProps.renderHeader = function () {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: listPrefixCls + '-header' },\\n                renderHeader()\\n            );\\n        };\\n    }\\n    if (renderFooter) {\\n        extraProps.renderFooter = function () {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: listPrefixCls + '-footer' },\\n                renderFooter()\\n            );\\n        };\\n    }\\n    if (renderSectionHeader) {\\n        extraProps.renderSectionHeader = isIndexed ? function (sectionData, sectionID) {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                null,\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    handleProps_Item,\\n                    { prefixCls: listPrefixCls },\\n                    renderSectionHeader(sectionData, sectionID)\\n                )\\n            );\\n        } : function (sectionData, sectionID) {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                handleProps_Item,\\n                { prefixCls: listPrefixCls },\\n                renderSectionHeader(sectionData, sectionID)\\n            );\\n        };\\n    }\\n    return { restProps: restProps, extraProps: extraProps };\\n}\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/list-view/Indexed.js\\n\\n\\n\\n\\n\\n\\n\\n\\nvar list_view_Indexed_IndexedList = rmc_list_view_es.IndexedList;\\n\\nvar Indexed_MIndexedList = function (_React$Component) {\\n    inherits_default()(MIndexedList, _React$Component);\\n\\n    function MIndexedList() {\\n        classCallCheck_default()(this, MIndexedList);\\n\\n        return possibleConstructorReturn_default()(this, (MIndexedList.__proto__ || Object.getPrototypeOf(MIndexedList)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(MIndexedList, [{\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                listPrefixCls = _props.listPrefixCls;\\n\\n            var _handleProps = handleProps(this.props, true),\\n                restProps = _handleProps.restProps,\\n                extraProps = _handleProps.extraProps;\\n\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                list_view_Indexed_IndexedList,\\n                extends_default()({ ref: function ref(el) {\\n                        return _this2.indexedListRef = el;\\n                    }, sectionHeaderClassName: prefixCls + '-section-header ' + listPrefixCls + '-body', sectionBodyClassName: prefixCls + '-section-body ' + listPrefixCls + '-body' }, restProps, extraProps),\\n                this.props.children\\n            );\\n        }\\n    }]);\\n\\n    return MIndexedList;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var list_view_Indexed = (Indexed_MIndexedList);\\n\\nIndexed_MIndexedList.defaultProps = {\\n    prefixCls: 'am-indexed-list',\\n    listPrefixCls: 'am-list',\\n    listViewPrefixCls: 'am-list-view'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/list-view/index.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar list_view_ListView = function (_React$Component) {\\n    inherits_default()(ListView, _React$Component);\\n\\n    function ListView() {\\n        classCallCheck_default()(this, ListView);\\n\\n        var _this = possibleConstructorReturn_default()(this, (ListView.__proto__ || Object.getPrototypeOf(ListView)).apply(this, arguments));\\n\\n        _this.scrollTo = function () {\\n            var _this$listviewRef;\\n\\n            return (_this$listviewRef = _this.listviewRef).scrollTo.apply(_this$listviewRef, arguments);\\n        };\\n        _this.getInnerViewNode = function () {\\n            return _this.listviewRef.getInnerViewNode();\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(ListView, [{\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _handleProps = handleProps(this.props, false),\\n                restProps = _handleProps.restProps,\\n                extraProps = _handleProps.extraProps;\\n\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(rmc_list_view_es, extends_default()({ ref: function ref(el) {\\n                    return _this2.listviewRef = el;\\n                } }, restProps, extraProps));\\n        }\\n    }]);\\n\\n    return ListView;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var list_view = (list_view_ListView);\\n\\nlist_view_ListView.defaultProps = {\\n    prefixCls: 'am-list-view',\\n    listPrefixCls: 'am-list'\\n};\\nlist_view_ListView.DataSource = rmc_list_view_es.DataSource;\\nlist_view_ListView.IndexedList = list_view_Indexed;\\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/toConsumableArray.js\\nvar toConsumableArray = __webpack_require__(\\\"m1cH\\\");\\nvar toConsumableArray_default = /*#__PURE__*/__webpack_require__.n(toConsumableArray);\\n\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/radio/Radio.js\\n\\n\\n\\n\\n\\nvar Radio_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\nvar Radio_Radio = function (_React$Component) {\\n    inherits_default()(Radio, _React$Component);\\n\\n    function Radio() {\\n        classCallCheck_default()(this, Radio);\\n\\n        return possibleConstructorReturn_default()(this, (Radio.__proto__ || Object.getPrototypeOf(Radio)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Radio, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                className = _a.className,\\n                style = _a.style,\\n                restProps = Radio_rest(_a, [\\\"className\\\", \\\"style\\\"]);var prefixCls = restProps.prefixCls,\\n                children = restProps.children;\\n\\n            var wrapCls = classnames_default()(prefixCls + '-wrapper', className);\\n            if ('class' in restProps) {\\n                // Todo https://github.com/developit/preact-compat/issues/422\\n                /* tslint:disable:no-string-literal */\\n                delete restProps['class'];\\n            }\\n            var mark = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'label',\\n                { className: wrapCls, style: style },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Checkbox, extends_default()({}, restProps, { type: 'radio' })),\\n                children\\n            );\\n            if (this.props.wrapLabel) {\\n                return mark;\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Checkbox, extends_default()({}, this.props, { type: 'radio' }));\\n        }\\n    }]);\\n\\n    return Radio;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var radio_Radio = (Radio_Radio);\\n\\nRadio_Radio.defaultProps = {\\n    prefixCls: 'am-radio',\\n    wrapLabel: true\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/radio/RadioItem.js\\n\\n\\n\\n\\n\\n\\nvar RadioItem_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\nvar RadioItem_ListItem = list.Item;\\nfunction RadioItem_noop() {}\\n\\nvar RadioItem_RadioItem = function (_React$Component) {\\n    inherits_default()(RadioItem, _React$Component);\\n\\n    function RadioItem() {\\n        classCallCheck_default()(this, RadioItem);\\n\\n        return possibleConstructorReturn_default()(this, (RadioItem.__proto__ || Object.getPrototypeOf(RadioItem)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(RadioItem, [{\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _a = this.props,\\n                listPrefixCls = _a.listPrefixCls,\\n                onChange = _a.onChange,\\n                disabled = _a.disabled,\\n                radioProps = _a.radioProps,\\n                onClick = _a.onClick,\\n                otherProps = RadioItem_rest(_a, [\\\"listPrefixCls\\\", \\\"onChange\\\", \\\"disabled\\\", \\\"radioProps\\\", \\\"onClick\\\"]);var prefixCls = otherProps.prefixCls,\\n                className = otherProps.className,\\n                children = otherProps.children;\\n\\n            var wrapCls = classnames_default()(prefixCls + '-item', className, defineProperty_default()({}, prefixCls + '-item-disabled', disabled === true));\\n            // Note: if not omit `onChange`, it will trigger twice on check listitem\\n            if (!disabled) {\\n                otherProps.onClick = onClick || RadioItem_noop;\\n            }\\n            var extraProps = {};\\n            ['name', 'defaultChecked', 'checked', 'onChange', 'disabled'].forEach(function (i) {\\n                if (i in _this2.props) {\\n                    extraProps[i] = _this2.props[i];\\n                }\\n            });\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                RadioItem_ListItem,\\n                extends_default()({}, otherProps, { prefixCls: listPrefixCls, className: wrapCls, extra: reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(radio_Radio, extends_default()({}, radioProps, extraProps)) }),\\n                children\\n            );\\n        }\\n    }]);\\n\\n    return RadioItem;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var radio_RadioItem = (RadioItem_RadioItem);\\n\\nRadioItem_RadioItem.defaultProps = {\\n    prefixCls: 'am-radio',\\n    listPrefixCls: 'am-list',\\n    radioProps: {}\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/radio/index.js\\n\\n\\nradio_Radio.RadioItem = radio_RadioItem;\\n/* harmony default export */ var es_radio = (radio_Radio);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/menu/SubMenu.js\\n\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\n\\nfunction SubMenu(props) {\\n    var onClick = function onClick(dataItem) {\\n        if (props.onSel) {\\n            props.onSel(dataItem);\\n        }\\n    };\\n    var subMenuPrefixCls = props.subMenuPrefixCls,\\n        radioPrefixCls = props.radioPrefixCls,\\n        subMenuData = props.subMenuData,\\n        showSelect = props.showSelect,\\n        selItem = props.selItem,\\n        multiSelect = props.multiSelect;\\n\\n    var selected = function selected(dataItem) {\\n        return showSelect && selItem.length > 0 && selItem.indexOf(dataItem.value) !== -1;\\n    };\\n    var ItemComponent = !multiSelect ? es_radio : es_checkbox;\\n    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        list,\\n        { style: { paddingTop: 0 }, className: subMenuPrefixCls },\\n        subMenuData.map(function (dataItem, idx) {\\n            var _classnames;\\n\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                list.Item,\\n                { className: classnames_default()(radioPrefixCls + '-item', (_classnames = {}, defineProperty_default()(_classnames, subMenuPrefixCls + '-item-selected', selected(dataItem)), defineProperty_default()(_classnames, subMenuPrefixCls + '-item-disabled', dataItem.disabled), _classnames)), key: idx, extra: reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(ItemComponent, { checked: selected(dataItem), disabled: dataItem.disabled, onChange: function onChange() {\\n                            return onClick(dataItem);\\n                        } }) },\\n                dataItem.label\\n            );\\n        })\\n    );\\n}\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/menu/index.js\\n\\n\\n\\n\\n\\n\\n\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar menu_Menu = function (_React$Component) {\\n    inherits_default()(Menu, _React$Component);\\n\\n    function Menu(props) {\\n        classCallCheck_default()(this, Menu);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Menu.__proto__ || Object.getPrototypeOf(Menu)).call(this, props));\\n\\n        _this.onMenuOk = function () {\\n            var onOk = _this.props.onOk;\\n\\n            if (onOk) {\\n                onOk(_this.state.value);\\n            }\\n        };\\n        _this.onMenuCancel = function () {\\n            var onCancel = _this.props.onCancel;\\n\\n            if (onCancel) {\\n                onCancel();\\n            }\\n        };\\n        _this.onClickFirstLevelItem = function (dataItem) {\\n            var onChange = _this.props.onChange;\\n\\n            _this.setState({\\n                firstLevelSelectValue: dataItem.value\\n            });\\n            if (dataItem.isLeaf && onChange) {\\n                onChange([dataItem.value]);\\n            }\\n        };\\n        _this.getSelectValue = function (dataItem) {\\n            var _this$props = _this.props,\\n                level = _this$props.level,\\n                multiSelect = _this$props.multiSelect;\\n\\n            if (multiSelect) {\\n                var _this$state = _this.state,\\n                    value = _this$state.value,\\n                    firstLevelSelectValue = _this$state.firstLevelSelectValue;\\n\\n                if (value && value.length > 0) {\\n                    if (level === 2 && value[0] !== firstLevelSelectValue) {\\n                        /* if level is 2, when first level is reselect, reset submenu array */\\n                        return [firstLevelSelectValue, [dataItem.value]];\\n                    } else {\\n                        /* if level is 1, or first level isn't changed when level is 2, just do add or delete for submenu array  */\\n                        var chosenValues = level === 2 ? value[1] : value; // FIXME: hack type\\n                        var existIndex = chosenValues.indexOf(dataItem.value);\\n                        if (existIndex === -1) {\\n                            chosenValues.push(dataItem.value);\\n                        } else {\\n                            chosenValues.splice(existIndex, 1);\\n                        }\\n                        return value;\\n                    }\\n                } else {\\n                    /* if value is not exist before, init value */\\n                    return level === 2 ? [firstLevelSelectValue, [dataItem.value]] : [dataItem.value];\\n                }\\n            }\\n            return level === 2 ? [_this.state.firstLevelSelectValue, dataItem.value] : [dataItem.value];\\n        };\\n        _this.onClickSubMenuItem = function (dataItem) {\\n            var onChange = _this.props.onChange;\\n\\n            var value = _this.getSelectValue(dataItem);\\n            _this.setState({ value: value });\\n            setTimeout(function () {\\n                // if onChange will close the menu, set a little time to show its selection state.\\n                if (onChange) {\\n                    onChange(value);\\n                }\\n            }, 300);\\n        };\\n        _this.state = {\\n            firstLevelSelectValue: _this.getNewFsv(props),\\n            value: props.value,\\n            height: props.height\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Menu, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if (nextProps.value !== this.props.value) {\\n                this.setState({\\n                    firstLevelSelectValue: this.getNewFsv(nextProps),\\n                    value: nextProps.value\\n                });\\n            }\\n            if (this.props.height !== nextProps.height) {\\n                this.setState({\\n                    height: nextProps.height\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            if (!('height' in this.props)) {\\n                this.setState({\\n                    height: Math.round(document.documentElement.clientHeight / 2)\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'getNewFsv',\\n        value: function getNewFsv(props) {\\n            var value = props.value,\\n                data = props.data;\\n\\n            var firstValue = '';\\n            if (value && value.length) {\\n                // if has init path, chose init first value\\n                firstValue = value[0]; // this is a contract\\n            } else if (data && data.length && !data[0].isLeaf) {\\n                // chose the first menu item if it's not leaf.\\n                firstValue = data[0].value;\\n            }\\n            return firstValue;\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _props = this.props,\\n                className = _props.className,\\n                style = _props.style,\\n                _props$data = _props.data,\\n                data = _props$data === undefined ? [] : _props$data,\\n                prefixCls = _props.prefixCls,\\n                level = _props.level,\\n                multiSelect = _props.multiSelect,\\n                multiSelectMenuBtnsCls = _props.multiSelectMenuBtnsCls,\\n                MenuSelectContanerPrefixCls = _props.MenuSelectContanerPrefixCls;\\n            var _state = this.state,\\n                firstLevelSelectValue = _state.firstLevelSelectValue,\\n                value = _state.value,\\n                height = _state.height;\\n\\n            var subMenuData = data; // menu only has one level as init\\n            if (level === 2) {\\n                var parent = data;\\n                if (firstLevelSelectValue && firstLevelSelectValue !== '') {\\n                    parent = data.filter(function (dataItem) {\\n                        return dataItem.value === firstLevelSelectValue;\\n                    });\\n                }\\n                // tslint:disable-next-line:prefer-conditional-expression\\n                if (parent[0] && parent[0].children && parent[0].isLeaf !== true) {\\n                    subMenuData = parent[0].children;\\n                } else {\\n                    subMenuData = [];\\n                }\\n            }\\n            var subValue = value && value.length > 0 && [].concat(toConsumableArray_default()(value)) || [];\\n            if (level === 2 && subValue.length > 1) {\\n                subValue.shift();\\n                if (multiSelect) {\\n                    /* example: [[1,2,3]] -> [1,2,3] */\\n                    subValue = subValue[0]; // FIXME: hack type\\n                }\\n            }\\n            var parentValue = value && value.length > 1 && level === 2 ? value[0] : null;\\n            var subSelInitItem = subMenuData.filter(function (dataItem) {\\n                return subValue.indexOf(dataItem.value) !== -1;\\n            }).map(function (item) {\\n                return item.value;\\n            });\\n            var showSelect = true;\\n            if (level === 2 && parentValue !== firstLevelSelectValue) {\\n                showSelect = false;\\n            }\\n            // tslint:disable-next-line:variable-name\\n            var _locale = getComponentLocale(this.props, this.context, 'Menu', function () {\\n                return __webpack_require__(/*! ./locale/zh_CN */ \\\"D0FO\\\");\\n            });\\n            var heightStyle = height !== undefined ? {\\n                height: height + 'px'\\n            } : {};\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                flex,\\n                { className: classnames_default()(prefixCls, defineProperty_default()({}, className, !!className)), style: extends_default()({}, style, heightStyle), direction: 'column', align: 'stretch' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    flex,\\n                    { align: 'start', className: classnames_default()(defineProperty_default()({}, MenuSelectContanerPrefixCls, true)) },\\n                    level === 2 && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        flex.Item,\\n                        null,\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            list,\\n                            { role: 'tablist' },\\n                            data.map(function (dataItem, index) {\\n                                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                                    list.Item,\\n                                    { className: dataItem.value === firstLevelSelectValue ? prefixCls + '-selected' : '', onClick: function onClick() {\\n                                            return _this2.onClickFirstLevelItem(dataItem);\\n                                        }, key: 'listitem-1-' + index, role: 'tab', 'aria-selected': dataItem.value === firstLevelSelectValue },\\n                                    dataItem.label\\n                                );\\n                            })\\n                        )\\n                    ),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        flex.Item,\\n                        { role: 'tabpanel', 'aria-hidden': 'false', className: MenuSelectContanerPrefixCls + '-submenu' },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(SubMenu, { subMenuPrefixCls: this.props.subMenuPrefixCls, radioPrefixCls: this.props.radioPrefixCls, subMenuData: subMenuData, selItem: subSelInitItem, onSel: this.onClickSubMenuItem, showSelect: showSelect, multiSelect: multiSelect })\\n                    )\\n                ),\\n                multiSelect && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: multiSelectMenuBtnsCls },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        es_button,\\n                        { inline: true, className: multiSelectMenuBtnsCls + '-btn', onClick: this.onMenuCancel },\\n                        _locale.cancelText\\n                    ),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        es_button,\\n                        { inline: true, type: 'primary', className: multiSelectMenuBtnsCls + '-btn', onClick: this.onMenuOk },\\n                        _locale.okText\\n                    )\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return Menu;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var menu = (menu_Menu);\\n\\nmenu_Menu.defaultProps = {\\n    prefixCls: 'am-menu',\\n    subMenuPrefixCls: 'am-sub-menu',\\n    radioPrefixCls: 'am-radio',\\n    multiSelectMenuBtnsCls: 'am-multi-select-btns',\\n    MenuSelectContanerPrefixCls: 'am-menu-select-container',\\n    data: [],\\n    level: 2,\\n    onChange: function onChange() {},\\n    onOk: function onOk() {},\\n    onCancel: function onCancel() {},\\n    multiSelect: false\\n};\\nmenu_Menu.contextTypes = {\\n    antLocale: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/_util/closest.js\\nfunction closest(el, selector) {\\n    var matchesSelector = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;\\n    var p = el;\\n    while (p) {\\n        if (matchesSelector.call(p, selector)) {\\n            return p;\\n        }\\n        p = p.parentElement;\\n    }\\n    return null;\\n}\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/modal/Modal.js\\n\\n\\n\\n\\n\\n\\nvar Modal_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\nvar Modal_ModalComponent = function (_React$Component) {\\n    inherits_default()(ModalComponent, _React$Component);\\n\\n    function ModalComponent() {\\n        classCallCheck_default()(this, ModalComponent);\\n\\n        return possibleConstructorReturn_default()(this, (ModalComponent.__proto__ || Object.getPrototypeOf(ModalComponent)).apply(this, arguments));\\n    }\\n\\n    return ModalComponent;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nvar Modal_Modal = function (_ModalComponent) {\\n    inherits_default()(Modal, _ModalComponent);\\n\\n    function Modal() {\\n        classCallCheck_default()(this, Modal);\\n\\n        return possibleConstructorReturn_default()(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Modal, [{\\n        key: 'renderFooterButton',\\n        value: function renderFooterButton(button, prefixCls, i) {\\n            var buttonStyle = {};\\n            if (button.style) {\\n                buttonStyle = button.style;\\n                if (typeof buttonStyle === 'string') {\\n                    var styleMap = {\\n                        cancel: {},\\n                        'default': {},\\n                        destructive: { color: 'red' }\\n                    };\\n                    buttonStyle = styleMap[buttonStyle] || {};\\n                }\\n            }\\n            var onClickFn = function onClickFn(e) {\\n                e.preventDefault();\\n                if (button.onPress) {\\n                    button.onPress();\\n                }\\n            };\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_feedback_es[\\\"default\\\"],\\n                { activeClassName: prefixCls + '-button-active', key: i },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'a',\\n                    { className: prefixCls + '-button', role: 'button', style: buttonStyle, onClick: onClickFn },\\n                    button.text || 'Button'\\n                )\\n            );\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this3 = this,\\n                _classnames2;\\n\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                className = _a.className,\\n                wrapClassName = _a.wrapClassName,\\n                transitionName = _a.transitionName,\\n                maskTransitionName = _a.maskTransitionName,\\n                style = _a.style,\\n                platform = _a.platform,\\n                _a$footer = _a.footer,\\n                footer = _a$footer === undefined ? [] : _a$footer,\\n                operation = _a.operation,\\n                animated = _a.animated,\\n                transparent = _a.transparent,\\n                popup = _a.popup,\\n                animationType = _a.animationType,\\n                restProps = Modal_rest(_a, [\\\"prefixCls\\\", \\\"className\\\", \\\"wrapClassName\\\", \\\"transitionName\\\", \\\"maskTransitionName\\\", \\\"style\\\", \\\"platform\\\", \\\"footer\\\", \\\"operation\\\", \\\"animated\\\", \\\"transparent\\\", \\\"popup\\\", \\\"animationType\\\"]);\\n            var btnGroupClass = classnames_default()(prefixCls + '-button-group-' + (footer.length === 2 && !operation ? 'h' : 'v'), prefixCls + '-button-group-' + (operation ? 'operation' : 'normal'));\\n            var footerDom = footer.length ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: btnGroupClass, role: 'group' },\\n                footer.map(function (button, i) {\\n                    return (\\n                        // tslint:disable-next-line:jsx-no-multiline-js\\n                        _this3.renderFooterButton(button, prefixCls, i)\\n                    );\\n                })\\n            ) : null;\\n            var transName = void 0;\\n            var maskTransName = void 0;\\n            if (animated) {\\n                // tslint:disable-next-line:prefer-conditional-expression\\n                if (transparent) {\\n                    transName = maskTransName = 'am-fade';\\n                } else {\\n                    transName = maskTransName = 'am-slide-up';\\n                }\\n                if (popup) {\\n                    transName = animationType === 'slide-up' ? 'am-slide-up' : 'am-slide-down';\\n                    maskTransName = 'am-fade';\\n                }\\n            }\\n            var wrapCls = classnames_default()(wrapClassName, defineProperty_default()({}, prefixCls + '-wrap-popup', popup));\\n            var cls = classnames_default()(className, (_classnames2 = {}, defineProperty_default()(_classnames2, prefixCls + '-transparent', transparent), defineProperty_default()(_classnames2, prefixCls + '-popup', popup), defineProperty_default()(_classnames2, prefixCls + '-popup-' + animationType, popup && animationType), defineProperty_default()(_classnames2, prefixCls + '-android', platform === 'android'), _classnames2));\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_DialogWrap, extends_default()({}, restProps, { prefixCls: prefixCls, className: cls, wrapClassName: wrapCls, transitionName: transitionName || transName, maskTransitionName: maskTransitionName || maskTransName, style: style, footer: footerDom }));\\n        }\\n    }]);\\n\\n    return Modal;\\n}(Modal_ModalComponent);\\n\\n/* harmony default export */ var modal_Modal = (Modal_Modal);\\n\\nModal_Modal.defaultProps = {\\n    prefixCls: 'am-modal',\\n    transparent: false,\\n    popup: false,\\n    animationType: 'slide-down',\\n    animated: true,\\n    style: {},\\n    onShow: function onShow() {},\\n\\n    footer: [],\\n    closable: false,\\n    operation: false,\\n    platform: 'ios'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/modal/alert.js\\n\\n\\n\\n\\nfunction alert_alert(title, message) {\\n    var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [{ text: '' }];\\n    var platform = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'ios';\\n\\n    var closed = false;\\n    if (!title && !message) {\\n        // console.log('Must specify either an alert title, or message, or both');\\n        return {\\n            close: function close() {}\\n        };\\n    }\\n    var div = document.createElement('div');\\n    document.body.appendChild(div);\\n    function close() {\\n        react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unmountComponentAtNode(div);\\n        if (div && div.parentNode) {\\n            div.parentNode.removeChild(div);\\n        }\\n    }\\n    var footer = actions.map(function (button) {\\n        // tslint:disable-next-line:only-arrow-functions\\n        var orginPress = button.onPress || function () {};\\n        button.onPress = function () {\\n            if (closed) {\\n                return;\\n            }\\n            var res = orginPress();\\n            if (res && res.then) {\\n                res.then(function () {\\n                    closed = true;\\n                    close();\\n                })['catch'](function () {});\\n            } else {\\n                closed = true;\\n                close();\\n            }\\n        };\\n        return button;\\n    });\\n    var prefixCls = 'am-modal';\\n    function onWrapTouchStart(e) {\\n        if (!/iPhone|iPod|iPad/i.test(navigator.userAgent)) {\\n            return;\\n        }\\n        var pNode = closest(e.target, '.' + prefixCls + '-footer');\\n        if (!pNode) {\\n            e.preventDefault();\\n        }\\n    }\\n    react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.render(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        modal_Modal,\\n        { visible: true, transparent: true, title: title, transitionName: 'am-zoom', closable: false, maskClosable: false, footer: footer, maskTransitionName: 'am-fade', platform: platform, wrapProps: { onTouchStart: onWrapTouchStart } },\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            'div',\\n            { className: prefixCls + '-alert-content' },\\n            message\\n        )\\n    ), div);\\n    return {\\n        close: close\\n    };\\n}\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/modal/operation.js\\n\\n\\n\\n\\nfunction operation_operation() {\\n    var actions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [{ text: '' }];\\n    var platform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'ios';\\n\\n    var closed = false;\\n    var prefixCls = 'am-modal';\\n    var div = document.createElement('div');\\n    document.body.appendChild(div);\\n    function close() {\\n        react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unmountComponentAtNode(div);\\n        if (div && div.parentNode) {\\n            div.parentNode.removeChild(div);\\n        }\\n    }\\n    var footer = actions.map(function (button) {\\n        // tslint:disable-next-line:only-arrow-functions\\n        var orginPress = button.onPress || function () {};\\n        button.onPress = function () {\\n            if (closed) {\\n                return;\\n            }\\n            var res = orginPress();\\n            if (res && res.then) {\\n                res.then(function () {\\n                    closed = true;\\n                    close();\\n                })['catch'](function () {});\\n            } else {\\n                closed = true;\\n                close();\\n            }\\n        };\\n        return button;\\n    });\\n    function onWrapTouchStart(e) {\\n        if (!/iPhone|iPod|iPad/i.test(navigator.userAgent)) {\\n            return;\\n        }\\n        var pNode = closest(e.target, '.am-modal-footer');\\n        if (!pNode) {\\n            e.preventDefault();\\n        }\\n    }\\n    react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.render(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(modal_Modal, { visible: true, operation: true, transparent: true, prefixCls: prefixCls, transitionName: 'am-zoom', closable: false, maskClosable: true, onClose: close, footer: footer, maskTransitionName: 'am-fade', className: 'am-modal-operation', platform: platform, wrapProps: { onTouchStart: onWrapTouchStart } }), div);\\n    return {\\n        close: close\\n    };\\n}\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/modal/prompt.js\\n\\n\\n\\n\\nfunction prompt_prompt(title, message, callbackOrActions) {\\n    var type = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'default';\\n    var defaultValue = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '';\\n    var placeholders = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : ['', ''];\\n    var platform = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 'ios';\\n\\n    var closed = false;\\n    defaultValue = typeof defaultValue === 'string' ? defaultValue : typeof defaultValue === 'number' ? '' + defaultValue : '';\\n    if (!callbackOrActions) {\\n        // console.log('Must specify callbackOrActions');\\n        return {\\n            close: function close() {}\\n        };\\n    }\\n    var prefixCls = 'am-modal';\\n    var data = {\\n        text: defaultValue\\n    };\\n    function onChange(e) {\\n        var target = e.target;\\n        var inputType = target.getAttribute('type');\\n        if (inputType !== null) {\\n            data[inputType] = target.value;\\n        }\\n    }\\n    // hotfix issue: https://github.com/ant-design/ant-design-mobile/issues/2177\\n    function onClick(e) {\\n        var target = e.currentTarget || e.target;\\n        if (target) {\\n            target.focus();\\n        }\\n    }\\n    var inputDom = void 0;\\n    var focusFn = function focusFn(input) {\\n        setTimeout(function () {\\n            if (input) {\\n                input.focus();\\n            }\\n        }, 500);\\n    };\\n    switch (type) {\\n        case 'login-password':\\n            inputDom = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: prefixCls + '-input-container' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-input' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'label',\\n                        null,\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('input', { type: 'text', defaultValue: data.text, ref: function ref(input) {\\n                                return focusFn(input);\\n                            }, onClick: onClick, onChange: onChange, placeholder: placeholders[0] })\\n                    )\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-input' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'label',\\n                        null,\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('input', { type: 'password', defaultValue: data.password, onClick: onClick, onChange: onChange, placeholder: placeholders[1] })\\n                    )\\n                )\\n            );\\n            break;\\n        case 'secure-text':\\n            inputDom = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: prefixCls + '-input-container' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-input' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'label',\\n                        null,\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('input', { type: 'password', defaultValue: data.password, ref: function ref(input) {\\n                                return focusFn(input);\\n                            }, onClick: onClick, onChange: onChange, placeholder: placeholders[0] })\\n                    )\\n                )\\n            );\\n            break;\\n        case 'default':\\n        default:\\n            inputDom = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: prefixCls + '-input-container' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-input' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'label',\\n                        null,\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('input', { type: 'text', defaultValue: data.text, ref: function ref(input) {\\n                                return focusFn(input);\\n                            }, onClick: onClick, onChange: onChange, placeholder: placeholders[0] })\\n                    )\\n                )\\n            );\\n    }\\n    var content = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        null,\\n        message,\\n        inputDom\\n    );\\n    var div = document.createElement('div');\\n    document.body.appendChild(div);\\n    function close() {\\n        react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unmountComponentAtNode(div);\\n        if (div && div.parentNode) {\\n            div.parentNode.removeChild(div);\\n        }\\n    }\\n    function handleConfirm(callback) {\\n        if (typeof callback !== 'function') {\\n            return;\\n        }\\n        var _data$text = data.text,\\n            text = _data$text === undefined ? '' : _data$text,\\n            _data$password = data.password,\\n            password = _data$password === undefined ? '' : _data$password;\\n\\n        var callbackArgs = type === 'login-password' ? [text, password] : type === 'secure-text' ? [password] : [text];\\n        return callback.apply(undefined, callbackArgs);\\n    }\\n    var actions = void 0;\\n    if (typeof callbackOrActions === 'function') {\\n        actions = [{\\n            text: '',\\n            onPress: function onPress() {}\\n        }, {\\n            text: '',\\n            onPress: function onPress() {\\n                handleConfirm(callbackOrActions);\\n            }\\n        }];\\n    } else {\\n        actions = callbackOrActions.map(function (item) {\\n            return {\\n                text: item.text,\\n                onPress: function onPress() {\\n                    return handleConfirm(item.onPress);\\n                }\\n            };\\n        });\\n    }\\n    var footer = actions.map(function (button) {\\n        // tslint:disable-next-line:only-arrow-functions\\n        var orginPress = button.onPress || function () {};\\n        button.onPress = function () {\\n            if (closed) {\\n                return;\\n            }\\n            var res = orginPress();\\n            if (res && res.then) {\\n                res.then(function () {\\n                    closed = true;\\n                    close();\\n                })['catch'](function () {});\\n            } else {\\n                closed = true;\\n                close();\\n            }\\n        };\\n        return button;\\n    });\\n    function onWrapTouchStart(e) {\\n        // exclude input element for focus\\n        if (!/iPhone|iPod|iPad/i.test(navigator.userAgent)) {\\n            return;\\n        }\\n        var pNode = closest(e.target, '.' + prefixCls + '-content');\\n        if (!pNode) {\\n            e.preventDefault();\\n        }\\n    }\\n    react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.render(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        modal_Modal,\\n        { visible: true, transparent: true, prefixCls: prefixCls, title: title, closable: false, maskClosable: false, transitionName: 'am-zoom', footer: footer, maskTransitionName: 'am-fade', platform: platform, wrapProps: { onTouchStart: onWrapTouchStart } },\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n            'div',\\n            { className: prefixCls + '-propmt-content' },\\n            content\\n        )\\n    ), div);\\n    return {\\n        close: close\\n    };\\n}\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/modal/index.js\\n\\n\\n\\n\\nmodal_Modal.alert = alert_alert;\\nmodal_Modal.prompt = prompt_prompt;\\nmodal_Modal.operation = operation_operation;\\n/* harmony default export */ var modal = (modal_Modal);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/nav-bar/index.js\\n\\n\\n\\n\\n\\nvar nav_bar_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nvar nav_bar_NavBar = function (_React$Component) {\\n    inherits_default()(NavBar, _React$Component);\\n\\n    function NavBar() {\\n        classCallCheck_default()(this, NavBar);\\n\\n        return possibleConstructorReturn_default()(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(NavBar, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                className = _a.className,\\n                children = _a.children,\\n                mode = _a.mode,\\n                icon = _a.icon,\\n                onLeftClick = _a.onLeftClick,\\n                leftContent = _a.leftContent,\\n                rightContent = _a.rightContent,\\n                restProps = nav_bar_rest(_a, [\\\"prefixCls\\\", \\\"className\\\", \\\"children\\\", \\\"mode\\\", \\\"icon\\\", \\\"onLeftClick\\\", \\\"leftContent\\\", \\\"rightContent\\\"]);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({}, restProps, { className: classnames_default()(className, prefixCls, prefixCls + '-' + mode) }),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-left', role: 'button', onClick: onLeftClick },\\n                    icon ?\\n                    // tslint:disable-next-line:jsx-no-multiline-js\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'span',\\n                        { className: prefixCls + '-left-icon', 'aria-hidden': 'true' },\\n                        icon\\n                    ) : null,\\n                    leftContent\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-title' },\\n                    children\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-right' },\\n                    rightContent\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return NavBar;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var nav_bar = (nav_bar_NavBar);\\n\\nnav_bar_NavBar.defaultProps = {\\n    prefixCls: 'am-navbar',\\n    mode: 'dark',\\n    onLeftClick: function onLeftClick() {}\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/notice-bar/Marquee.js\\n\\n\\n\\n\\n\\n/*\\n * https://github.com/jasonslyvia/react-marquee\\n * remove PC\\n * support React Element for text prop\\n*/\\n\\n\\n\\nvar Marquee_Marquee = function (_React$Component) {\\n    inherits_default()(Marquee, _React$Component);\\n\\n    function Marquee() {\\n        classCallCheck_default()(this, Marquee);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Marquee.__proto__ || Object.getPrototypeOf(Marquee)).apply(this, arguments));\\n\\n        _this.state = {\\n            animatedWidth: 0,\\n            overflowWidth: 0\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Marquee, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            this._measureText();\\n            this._startAnimation();\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate() {\\n            this._measureText();\\n            if (!this._marqueeTimer) {\\n                this._startAnimation();\\n            }\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            clearTimeout(this._marqueeTimer);\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                className = _props.className,\\n                text = _props.text;\\n\\n            var style = extends_default()({ position: 'relative', right: this.state.animatedWidth, whiteSpace: 'nowrap', display: 'inline-block' }, this.props.style);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: prefixCls + '-marquee-wrap ' + className, style: { overflow: 'hidden' }, role: 'marquee' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { ref: function ref(el) {\\n                            return _this2.textRef = el;\\n                        }, className: prefixCls + '-marquee', style: style },\\n                    text\\n                )\\n            );\\n        }\\n    }, {\\n        key: '_startAnimation',\\n        value: function _startAnimation() {\\n            var _this3 = this;\\n\\n            if (this._marqueeTimer) {\\n                window.clearTimeout(this._marqueeTimer);\\n            }\\n            var fps = this.props.fps;\\n            var TIMEOUT = 1 / fps * 1000;\\n            var isLeading = this.state.animatedWidth === 0;\\n            var timeout = isLeading ? this.props.leading : TIMEOUT;\\n            var animate = function animate() {\\n                var overflowWidth = _this3.state.overflowWidth;\\n\\n                var animatedWidth = _this3.state.animatedWidth + 1;\\n                var isRoundOver = animatedWidth > overflowWidth;\\n                if (isRoundOver) {\\n                    if (_this3.props.loop) {\\n                        animatedWidth = 0;\\n                    } else {\\n                        return;\\n                    }\\n                }\\n                if (isRoundOver && _this3.props.trailing) {\\n                    _this3._marqueeTimer = window.setTimeout(function () {\\n                        _this3.setState({\\n                            animatedWidth: animatedWidth\\n                        });\\n                        _this3._marqueeTimer = window.setTimeout(animate, TIMEOUT);\\n                    }, _this3.props.trailing);\\n                } else {\\n                    _this3.setState({\\n                        animatedWidth: animatedWidth\\n                    });\\n                    _this3._marqueeTimer = window.setTimeout(animate, TIMEOUT);\\n                }\\n            };\\n            if (this.state.overflowWidth !== 0) {\\n                this._marqueeTimer = window.setTimeout(animate, timeout);\\n            }\\n        }\\n    }, {\\n        key: '_measureText',\\n        value: function _measureText() {\\n            var container = react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.findDOMNode(this);\\n            var node = this.textRef;\\n            if (container && node) {\\n                var containerWidth = container.offsetWidth;\\n                var textWidth = node.offsetWidth;\\n                var overflowWidth = textWidth - containerWidth;\\n                if (overflowWidth !== this.state.overflowWidth) {\\n                    this.setState({\\n                        overflowWidth: overflowWidth\\n                    });\\n                }\\n            }\\n        }\\n    }]);\\n\\n    return Marquee;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var notice_bar_Marquee = (Marquee_Marquee);\\n\\nMarquee_Marquee.defaultProps = {\\n    text: '',\\n    loop: false,\\n    leading: 500,\\n    trailing: 800,\\n    fps: 40,\\n    className: ''\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/notice-bar/index.js\\n\\n\\n\\n\\n\\nvar notice_bar_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\n\\nvar notice_bar_NoticeBar = function (_React$Component) {\\n    inherits_default()(NoticeBar, _React$Component);\\n\\n    function NoticeBar(props) {\\n        classCallCheck_default()(this, NoticeBar);\\n\\n        var _this = possibleConstructorReturn_default()(this, (NoticeBar.__proto__ || Object.getPrototypeOf(NoticeBar)).call(this, props));\\n\\n        _this.onClick = function () {\\n            var _this$props = _this.props,\\n                mode = _this$props.mode,\\n                onClick = _this$props.onClick;\\n\\n            if (onClick) {\\n                onClick();\\n            }\\n            if (mode === 'closable') {\\n                _this.setState({\\n                    show: false\\n                });\\n            }\\n        };\\n        _this.state = {\\n            show: true\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(NoticeBar, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                mode = _a.mode,\\n                icon = _a.icon,\\n                onClick = _a.onClick,\\n                children = _a.children,\\n                className = _a.className,\\n                prefixCls = _a.prefixCls,\\n                action = _a.action,\\n                marqueeProps = _a.marqueeProps,\\n                restProps = notice_bar_rest(_a, [\\\"mode\\\", \\\"icon\\\", \\\"onClick\\\", \\\"children\\\", \\\"className\\\", \\\"prefixCls\\\", \\\"action\\\", \\\"marqueeProps\\\"]);\\n            var extraProps = {};\\n            var operationDom = null;\\n            if (mode === 'closable') {\\n                operationDom = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-operation', onClick: this.onClick, role: 'button', 'aria-label': 'close' },\\n                    action ? action : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_icon, { type: 'cross', size: 'md' })\\n                );\\n            } else {\\n                if (mode === 'link') {\\n                    operationDom = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-operation', role: 'button', 'aria-label': 'go to detail' },\\n                        action ? action : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_icon, { type: 'right', size: 'md' })\\n                    );\\n                }\\n                extraProps.onClick = onClick;\\n            }\\n            var wrapCls = classnames_default()(prefixCls, className);\\n            return this.state.show ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({ className: wrapCls }, restProps, extraProps, { role: 'alert' }),\\n                icon &&\\n                // tslint:disable-next-line:jsx-no-multiline-js\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-icon', 'aria-hidden': 'true' },\\n                    icon\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-content' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(notice_bar_Marquee, extends_default()({ prefixCls: prefixCls, text: children }, marqueeProps))\\n                ),\\n                operationDom\\n            ) : null;\\n        }\\n    }]);\\n\\n    return NoticeBar;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var notice_bar = (notice_bar_NoticeBar);\\n\\nnotice_bar_NoticeBar.defaultProps = {\\n    prefixCls: 'am-notice-bar',\\n    mode: '',\\n    icon: reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_icon, { type: 'voice', size: 'xxs' }),\\n    onClick: function onClick() {}\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/pagination/index.js\\n\\n\\n\\n\\n\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\n\\n\\n\\nvar pagination_Pagination = function (_React$Component) {\\n    inherits_default()(Pagination, _React$Component);\\n\\n    function Pagination(props) {\\n        classCallCheck_default()(this, Pagination);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Pagination.__proto__ || Object.getPrototypeOf(Pagination)).call(this, props));\\n\\n        _this.state = {\\n            current: props.current\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Pagination, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if (nextProps.current !== this.state.current) {\\n                this.setState({\\n                    current: nextProps.current\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'onChange',\\n        value: function onChange(p) {\\n            this.setState({\\n                current: p\\n            });\\n            if (this.props.onChange) {\\n                this.props.onChange(p);\\n            }\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                className = _props.className,\\n                style = _props.style,\\n                mode = _props.mode,\\n                total = _props.total,\\n                simple = _props.simple;\\n            var current = this.state.current;\\n\\n            var locale = getComponentLocale(this.props, this.context, 'Pagination', function () {\\n                return __webpack_require__(/*! ./locale/zh_CN */ \\\"g3cW\\\");\\n            });\\n            var prevText = locale.prevText,\\n                nextText = locale.nextText;\\n\\n            var markup = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                flex,\\n                null,\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    flex.Item,\\n                    { className: prefixCls + '-wrap-btn ' + prefixCls + '-wrap-btn-prev' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        es_button,\\n                        { inline: true, disabled: current <= 1, onClick: function onClick() {\\n                                return _this2.onChange(current - 1);\\n                            } },\\n                        prevText\\n                    )\\n                ),\\n                this.props.children ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    flex.Item,\\n                    null,\\n                    this.props.children\\n                ) : !simple && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    flex.Item,\\n                    { className: prefixCls + '-wrap', 'aria-live': 'assertive' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'span',\\n                        { className: 'active' },\\n                        current\\n                    ),\\n                    '/',\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'span',\\n                        null,\\n                        total\\n                    )\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    flex.Item,\\n                    { className: prefixCls + '-wrap-btn ' + prefixCls + '-wrap-btn-next' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        es_button,\\n                        { inline: true, disabled: current >= total, onClick: function onClick() {\\n                                return _this2.onChange(_this2.state.current + 1);\\n                            } },\\n                        nextText\\n                    )\\n                )\\n            );\\n            if (mode === 'number') {\\n                markup = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-wrap' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'span',\\n                        { className: 'active' },\\n                        current\\n                    ),\\n                    '/',\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'span',\\n                        null,\\n                        total\\n                    )\\n                );\\n            } else if (mode === 'pointer') {\\n                var arr = [];\\n                for (var i = 0; i < total; i++) {\\n                    arr.push(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { key: 'dot-' + i, className: classnames_default()(prefixCls + '-wrap-dot', defineProperty_default()({}, prefixCls + '-wrap-dot-active', i + 1 === current)) },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', null)\\n                    ));\\n                }\\n                markup = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-wrap' },\\n                    arr\\n                );\\n            }\\n            var cls = classnames_default()(prefixCls, className);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: cls, style: style },\\n                markup\\n            );\\n        }\\n    }]);\\n\\n    return Pagination;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var pagination = (pagination_Pagination);\\n\\npagination_Pagination.defaultProps = {\\n    prefixCls: 'am-pagination',\\n    mode: 'button',\\n    current: 1,\\n    total: 0,\\n    simple: false,\\n    onChange: function onChange() {}\\n};\\npagination_Pagination.contextTypes = {\\n    antLocale: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\n// EXTERNAL MODULE: ./node_modules/array-tree-filter/lib/index.js\\nvar lib = __webpack_require__(\\\"uK0f\\\");\\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\\n\\n// CONCATENATED MODULE: ./node_modules/rmc-cascader/es/Cascader.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Cascader_Cascader = function (_React$Component) {\\n    inherits_default()(Cascader, _React$Component);\\n\\n    function Cascader() {\\n        classCallCheck_default()(this, Cascader);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Cascader.__proto__ || Object.getPrototypeOf(Cascader)).apply(this, arguments));\\n\\n        _this.state = {\\n            value: _this.getValue(_this.props.data, _this.props.defaultValue || _this.props.value)\\n        };\\n        _this.onValueChange = function (value, index) {\\n            var children = lib_default()(_this.props.data, function (c, level) {\\n                return level <= index && c.value === value[level];\\n            });\\n            var data = children[index];\\n            var i = void 0;\\n            for (i = index + 1; data && data.children && data.children.length && i < _this.props.cols; i++) {\\n                data = data.children[0];\\n                value[i] = data.value;\\n            }\\n            value.length = i;\\n            _this.setState({ value: value });\\n            if (_this.props.onChange) {\\n                _this.props.onChange(value);\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Cascader, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if ('value' in nextProps) {\\n                this.setState({\\n                    value: this.getValue(nextProps.data, nextProps.value)\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'getValue',\\n        value: function getValue(d, val) {\\n            var data = d || this.props.data;\\n            var value = val || this.props.value || this.props.defaultValue;\\n            if (!value || !value.length || value.indexOf(undefined) > -1) {\\n                value = [];\\n                for (var i = 0; i < this.props.cols; i++) {\\n                    if (data && data.length) {\\n                        value[i] = data[0].value;\\n                        data = data[0].children;\\n                    }\\n                }\\n            }\\n            return value;\\n        }\\n    }, {\\n        key: 'getCols',\\n        value: function getCols() {\\n            var _props = this.props,\\n                data = _props.data,\\n                cols = _props.cols,\\n                pickerPrefixCls = _props.pickerPrefixCls,\\n                disabled = _props.disabled,\\n                pickerItemStyle = _props.pickerItemStyle,\\n                indicatorStyle = _props.indicatorStyle;\\n\\n            var value = this.state.value;\\n            var childrenTree = lib_default()(data, function (c, level) {\\n                return c.value === value[level];\\n            }).map(function (c) {\\n                return c.children;\\n            });\\n                        var needPad = cols - childrenTree.length;\\n            if (needPad > 0) {\\n                for (var i = 0; i < needPad; i++) {\\n                    childrenTree.push([]);\\n                }\\n            }\\n            childrenTree.length = cols - 1;\\n            childrenTree.unshift(data);\\n            return childrenTree.map(function () {\\n                var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\\n                var level = arguments[1];\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(Picker_default.a, { key: level, prefixCls: pickerPrefixCls, style: { flex: 1 }, disabled: disabled, itemStyle: pickerItemStyle, indicatorStyle: indicatorStyle }, children.map(function (item) {\\n                    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(Picker_default.a.Item, { value: item.value, key: item.value }, item.label);\\n                }));\\n            });\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var props = this.props;\\n            var prefixCls = props.prefixCls,\\n                className = props.className,\\n                rootNativeProps = props.rootNativeProps,\\n                style = props.style;\\n\\n            var cols = this.getCols();\\n            var multiStyle = extends_default()({ flexDirection: 'row', alignItems: 'center' }, style);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_MultiPicker, { style: multiStyle, prefixCls: prefixCls, className: className, selectedValue: this.state.value, rootNativeProps: rootNativeProps, onValueChange: this.onValueChange, onScrollChange: props.onScrollChange }, cols);\\n        }\\n    }]);\\n\\n    return Cascader;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nCascader_Cascader.defaultProps = {\\n    cols: 3,\\n    prefixCls: 'rmc-cascader',\\n    pickerPrefixCls: 'rmc-picker',\\n    data: [],\\n    disabled: false\\n};\\n/* harmony default export */ var es_Cascader = (Cascader_Cascader);\\n// CONCATENATED MODULE: ./node_modules/rmc-cascader/es/Popup.js\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Popup_PopupCascader = function (_React$Component) {\\n    inherits_default()(PopupCascader, _React$Component);\\n\\n    function PopupCascader() {\\n        classCallCheck_default()(this, PopupCascader);\\n\\n        var _this = possibleConstructorReturn_default()(this, (PopupCascader.__proto__ || Object.getPrototypeOf(PopupCascader)).apply(this, arguments));\\n\\n        _this.onOk = function (v) {\\n            var _this$props = _this.props,\\n                onChange = _this$props.onChange,\\n                onOk = _this$props.onOk;\\n\\n            if (onChange) {\\n                onChange(v);\\n            }\\n            if (onOk) {\\n                onOk(v);\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(PopupCascader, [{\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Popup, extends_default()({ picker: this.props.cascader }, this.props, { onOk: this.onOk }));\\n        }\\n    }]);\\n\\n    return PopupCascader;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nPopup_PopupCascader.defaultProps = {\\n    pickerValueProp: 'value',\\n    pickerValueChangeProp: 'onChange'\\n};\\n/* harmony default export */ var rmc_cascader_es_Popup = (Popup_PopupCascader);\\n// CONCATENATED MODULE: ./node_modules/rmc-picker/es/PickerMixin.js\\n\\n\\n\\n\\n\\n/* tslint:disable:no-console */\\n\\nvar PickerMixin_Item = function Item(_props) {\\n    return null;\\n};\\n/* harmony default export */ var PickerMixin = (function (ComposedComponent) {\\n    return _a = function (_React$Component) {\\n        inherits_default()(_a, _React$Component);\\n\\n        function _a() {\\n            classCallCheck_default()(this, _a);\\n\\n            var _this = possibleConstructorReturn_default()(this, (_a.__proto__ || Object.getPrototypeOf(_a)).apply(this, arguments));\\n\\n            _this.select = function (value, itemHeight, scrollTo) {\\n                var children = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.toArray(_this.props.children);\\n                for (var i = 0, len = children.length; i < len; i++) {\\n                    if (children[i].props.value === value) {\\n                        _this.selectByIndex(i, itemHeight, scrollTo);\\n                        return;\\n                    }\\n                }\\n                _this.selectByIndex(0, itemHeight, scrollTo);\\n            };\\n            _this.doScrollingComplete = function (top, itemHeight, fireValueChange) {\\n                var children = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.toArray(_this.props.children);\\n                var index = _this.computeChildIndex(top, itemHeight, children.length);\\n                var child = children[index];\\n                if (child) {\\n                    fireValueChange(child.props.value);\\n                } else if (console.warn) {\\n                    console.warn('child not found', children, index);\\n                }\\n            };\\n            return _this;\\n        }\\n\\n        createClass_default()(_a, [{\\n            key: 'selectByIndex',\\n            value: function selectByIndex(index, itemHeight, zscrollTo) {\\n                if (index < 0 || index >= reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(this.props.children) || !itemHeight) {\\n                    return;\\n                }\\n                zscrollTo(index * itemHeight);\\n            }\\n        }, {\\n            key: 'computeChildIndex',\\n            value: function computeChildIndex(top, itemHeight, childrenLength) {\\n                var index = Math.round(top / itemHeight);\\n                return Math.min(index, childrenLength - 1);\\n            }\\n        }, {\\n            key: 'render',\\n            value: function render() {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(ComposedComponent, extends_default()({}, this.props, { doScrollingComplete: this.doScrollingComplete, computeChildIndex: this.computeChildIndex, select: this.select }));\\n            }\\n        }]);\\n\\n        return _a;\\n    }(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component), _a.Item = PickerMixin_Item, _a;\\n    var _a;\\n});\\n// CONCATENATED MODULE: ./node_modules/rmc-picker/es/Picker.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Picker_Picker = function (_React$Component) {\\n    inherits_default()(Picker, _React$Component);\\n\\n    function Picker(props) {\\n        classCallCheck_default()(this, Picker);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Picker.__proto__ || Object.getPrototypeOf(Picker)).call(this, props));\\n\\n        _this.scrollHanders = function () {\\n            var scrollY = -1;\\n            var lastY = 0;\\n            var startY = 0;\\n            var scrollDisabled = false;\\n            var isMoving = false;\\n            var setTransform = function setTransform(nodeStyle, value) {\\n                nodeStyle.transform = value;\\n                nodeStyle.webkitTransform = value;\\n            };\\n            var setTransition = function setTransition(nodeStyle, value) {\\n                nodeStyle.transition = value;\\n                nodeStyle.webkitTransition = value;\\n            };\\n            var scrollTo = function scrollTo(_x, y) {\\n                var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : .3;\\n\\n                if (scrollY !== y) {\\n                    scrollY = y;\\n                    if (time && !_this.props.noAnimate) {\\n                        setTransition(_this.contentRef.style, 'cubic-bezier(0,0,0.2,1.15) ' + time + 's');\\n                    }\\n                    setTransform(_this.contentRef.style, 'translate3d(0,' + -y + 'px,0)');\\n                    setTimeout(function () {\\n                        _this.scrollingComplete();\\n                        if (_this.contentRef) {\\n                            setTransition(_this.contentRef.style, '');\\n                        }\\n                    }, +time * 1000);\\n                }\\n            };\\n            var Velocity = function () {\\n                var minInterval = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;\\n                var maxInterval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\\n\\n                var _time = 0;\\n                var _y = 0;\\n                var _velocity = 0;\\n                var recorder = {\\n                    record: function record(y) {\\n                        var now = +new Date();\\n                        _velocity = (y - _y) / (now - _time);\\n                        if (now - _time >= minInterval) {\\n                            _velocity = now - _time <= maxInterval ? _velocity : 0;\\n                            _y = y;\\n                            _time = now;\\n                        }\\n                    },\\n                    getVelocity: function getVelocity(y) {\\n                        if (y !== _y) {\\n                            recorder.record(y);\\n                        }\\n                        return _velocity;\\n                    }\\n                };\\n                return recorder;\\n            }();\\n            var onFinish = function onFinish() {\\n                isMoving = false;\\n                var targetY = scrollY;\\n                var height = (_this.props.children.length - 1) * _this.itemHeight;\\n                var time = .3;\\n                var velocity = Velocity.getVelocity(targetY) * 4;\\n                if (velocity) {\\n                    targetY = velocity * 40 + targetY;\\n                    time = Math.abs(velocity) * .1;\\n                }\\n                if (targetY % _this.itemHeight !== 0) {\\n                    targetY = Math.round(targetY / _this.itemHeight) * _this.itemHeight;\\n                }\\n                if (targetY < 0) {\\n                    targetY = 0;\\n                } else if (targetY > height) {\\n                    targetY = height;\\n                }\\n                scrollTo(0, targetY, time < .3 ? .3 : time);\\n                _this.onScrollChange();\\n            };\\n            var onStart = function onStart(y) {\\n                if (scrollDisabled) {\\n                    return;\\n                }\\n                isMoving = true;\\n                startY = y;\\n                lastY = scrollY;\\n            };\\n            var onMove = function onMove(y) {\\n                if (scrollDisabled || !isMoving) {\\n                    return;\\n                }\\n                scrollY = lastY - y + startY;\\n                Velocity.record(scrollY);\\n                _this.onScrollChange();\\n                setTransform(_this.contentRef.style, 'translate3d(0,' + -scrollY + 'px,0)');\\n            };\\n            return {\\n                touchstart: function touchstart(evt) {\\n                    return onStart(evt.touches[0].screenY);\\n                },\\n                mousedown: function mousedown(evt) {\\n                    return onStart(evt.screenY);\\n                },\\n                touchmove: function touchmove(evt) {\\n                    evt.preventDefault();\\n                    onMove(evt.touches[0].screenY);\\n                },\\n                mousemove: function mousemove(evt) {\\n                    evt.preventDefault();\\n                    onMove(evt.screenY);\\n                },\\n                touchend: function touchend() {\\n                    return onFinish();\\n                },\\n                touchcancel: function touchcancel() {\\n                    return onFinish();\\n                },\\n                mouseup: function mouseup() {\\n                    return onFinish();\\n                },\\n                getValue: function getValue() {\\n                    return scrollY;\\n                },\\n                scrollTo: scrollTo,\\n                setDisabled: function setDisabled() {\\n                    var disabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\\n\\n                    scrollDisabled = disabled;\\n                }\\n            };\\n        }();\\n        _this.scrollTo = function (top) {\\n            _this.scrollHanders.scrollTo(0, top);\\n        };\\n        _this.scrollToWithoutAnimation = function (top) {\\n            _this.scrollHanders.scrollTo(0, top, 0);\\n        };\\n        _this.fireValueChange = function (selectedValue) {\\n            if (selectedValue !== _this.state.selectedValue) {\\n                if (!('selectedValue' in _this.props)) {\\n                    _this.setState({\\n                        selectedValue: selectedValue\\n                    });\\n                }\\n                if (_this.props.onValueChange) {\\n                    _this.props.onValueChange(selectedValue);\\n                }\\n            }\\n        };\\n        _this.onScrollChange = function () {\\n            var top = _this.scrollHanders.getValue();\\n            if (top >= 0) {\\n                var children = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.toArray(_this.props.children);\\n                var index = _this.props.computeChildIndex(top, _this.itemHeight, children.length);\\n                if (_this.scrollValue !== index) {\\n                    _this.scrollValue = index;\\n                    var child = children[index];\\n                    if (child && _this.props.onScrollChange) {\\n                        _this.props.onScrollChange(child.props.value);\\n                    } else if (!child && console.warn) {\\n                        console.warn('child not found', children, index);\\n                    }\\n                }\\n            }\\n        };\\n        _this.scrollingComplete = function () {\\n            var top = _this.scrollHanders.getValue();\\n            if (top >= 0) {\\n                _this.props.doScrollingComplete(top, _this.itemHeight, _this.fireValueChange);\\n            }\\n        };\\n        var selectedValueState = void 0;\\n        var _this$props = _this.props,\\n            selectedValue = _this$props.selectedValue,\\n            defaultSelectedValue = _this$props.defaultSelectedValue;\\n\\n        if (selectedValue !== undefined) {\\n            selectedValueState = selectedValue;\\n        } else if (defaultSelectedValue !== undefined) {\\n            selectedValueState = defaultSelectedValue;\\n        } else {\\n            var children = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.toArray(_this.props.children);\\n            selectedValueState = children && children[0] && children[0].props.value;\\n        }\\n        _this.state = {\\n            selectedValue: selectedValueState\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Picker, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            var _this2 = this;\\n\\n            var contentRef = this.contentRef,\\n                indicatorRef = this.indicatorRef,\\n                maskRef = this.maskRef,\\n                rootRef = this.rootRef;\\n\\n            var rootHeight = rootRef.getBoundingClientRect().height;\\n            // https://github.com/react-component/m-picker/issues/18\\n            var itemHeight = this.itemHeight = indicatorRef.getBoundingClientRect().height;\\n            var num = Math.floor(rootHeight / itemHeight);\\n            if (num % 2 === 0) {\\n                num--;\\n            }\\n            num--;\\n            num /= 2;\\n            contentRef.style.padding = itemHeight * num + 'px 0';\\n            indicatorRef.style.top = itemHeight * num + 'px';\\n            maskRef.style.backgroundSize = '100% ' + itemHeight * num + 'px';\\n            this.scrollHanders.setDisabled(this.props.disabled);\\n            this.props.select(this.state.selectedValue, this.itemHeight, this.scrollTo);\\n            var passiveSupported = this.passiveSupported();\\n            var willPreventDefault = passiveSupported ? { passive: false } : false;\\n            var willNotPreventDefault = passiveSupported ? { passive: true } : false;\\n            Object.keys(this.scrollHanders).forEach(function (key) {\\n                if (key.indexOf('touch') === 0 || key.indexOf('mouse') === 0) {\\n                    var pd = key.indexOf('move') >= 0 ? willPreventDefault : willNotPreventDefault;\\n                    rootRef.addEventListener(key, _this2.scrollHanders[key], pd);\\n                }\\n            });\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            var _this3 = this;\\n\\n            Object.keys(this.scrollHanders).forEach(function (key) {\\n                if (key.indexOf('touch') === 0 || key.indexOf('mouse') === 0) {\\n                    _this3.rootRef.removeEventListener(key, _this3.scrollHanders[key]);\\n                }\\n            });\\n        }\\n    }, {\\n        key: 'passiveSupported',\\n        value: function passiveSupported() {\\n            var passiveSupported = false;\\n            try {\\n                var options = Object.defineProperty({}, 'passive', {\\n                    get: function get() {\\n                        passiveSupported = true;\\n                    }\\n                });\\n                window.addEventListener('test', null, options);\\n            } catch (err) {}\\n            return passiveSupported;\\n        }\\n    }, {\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            var _this4 = this;\\n\\n            if ('selectedValue' in nextProps) {\\n                if (this.state.selectedValue !== nextProps.selectedValue) {\\n                    this.setState({\\n                        selectedValue: nextProps.selectedValue\\n                    }, function () {\\n                        _this4.props.select(nextProps.selectedValue, _this4.itemHeight, nextProps.noAnimate ? _this4.scrollToWithoutAnimation : _this4.scrollTo);\\n                    });\\n                }\\n            }\\n            this.scrollHanders.setDisabled(nextProps.disabled);\\n        }\\n    }, {\\n        key: 'shouldComponentUpdate',\\n        value: function shouldComponentUpdate(nextProps, nextState) {\\n            return this.state.selectedValue !== nextState.selectedValue || this.props.children !== nextProps.children;\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate() {\\n            this.props.select(this.state.selectedValue, this.itemHeight, this.scrollToWithoutAnimation);\\n        }\\n    }, {\\n        key: 'getValue',\\n        value: function getValue() {\\n            if ('selectedValue' in this.props) {\\n                return this.props.selectedValue;\\n            }\\n            var children = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.toArray(this.props.children);\\n            return children && children[0] && children[0].props.value;\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _pickerCls,\\n                _this5 = this;\\n\\n            var props = this.props;\\n            var prefixCls = props.prefixCls,\\n                itemStyle = props.itemStyle,\\n                indicatorStyle = props.indicatorStyle,\\n                _props$indicatorClass = props.indicatorClassName,\\n                indicatorClassName = _props$indicatorClass === undefined ? '' : _props$indicatorClass,\\n                children = props.children;\\n            var selectedValue = this.state.selectedValue;\\n\\n            var itemClassName = prefixCls + '-item';\\n            var selectedItemClassName = itemClassName + ' ' + prefixCls + '-item-selected';\\n            var map = function map(item) {\\n                var _item$props = item.props,\\n                    _item$props$className = _item$props.className,\\n                    className = _item$props$className === undefined ? '' : _item$props$className,\\n                    style = _item$props.style,\\n                    value = _item$props.value;\\n\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { style: extends_default()({}, itemStyle, style), className: (selectedValue === value ? selectedItemClassName : itemClassName) + ' ' + className, key: value },\\n                    item.children || item.props.children\\n                );\\n            };\\n            // compatibility for preact\\n            var items = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.map(children, map) : [].concat(children).map(map);\\n            var pickerCls = (_pickerCls = {}, defineProperty_default()(_pickerCls, props.className, !!props.className), defineProperty_default()(_pickerCls, prefixCls, true), _pickerCls);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: classnames_default()(pickerCls), ref: function ref(el) {\\n                        return _this5.rootRef = el;\\n                    }, style: this.props.style },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-mask', ref: function ref(el) {\\n                        return _this5.maskRef = el;\\n                    } }),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-indicator ' + indicatorClassName, ref: function ref(el) {\\n                        return _this5.indicatorRef = el;\\n                    }, style: indicatorStyle }),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-content', ref: function ref(el) {\\n                            return _this5.contentRef = el;\\n                        } },\\n                    items\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return Picker;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nPicker_Picker.defaultProps = {\\n    prefixCls: 'rmc-picker'\\n};\\n/* harmony default export */ var es_Picker = (PickerMixin(Picker_Picker));\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/picker/AbstractPicker.js\\n\\n\\n\\n\\n\\nvar AbstractPicker_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\n\\n\\n\\nfunction getDefaultProps() {\\n    var defaultFormat = function defaultFormat(values) {\\n        // label is JSX.Element or other\\n        if (values.length > 0 && typeof values[0] !== 'string') {\\n            return values;\\n        }\\n        return values.join(',');\\n    };\\n    return {\\n        triggerType: 'onClick',\\n        prefixCls: 'am-picker',\\n        pickerPrefixCls: 'am-picker-col',\\n        popupPrefixCls: 'am-picker-popup',\\n        format: defaultFormat,\\n        cols: 3,\\n        cascade: true,\\n        title: ''\\n    };\\n}\\n\\nvar AbstractPicker_AbstractPicker = function (_React$Component) {\\n    inherits_default()(AbstractPicker, _React$Component);\\n\\n    function AbstractPicker() {\\n        classCallCheck_default()(this, AbstractPicker);\\n\\n        var _this = possibleConstructorReturn_default()(this, (AbstractPicker.__proto__ || Object.getPrototypeOf(AbstractPicker)).apply(this, arguments));\\n\\n        _this.getSel = function () {\\n            var value = _this.props.value || [];\\n            var treeChildren = void 0;\\n            var data = _this.props.data;\\n\\n            if (_this.props.cascade) {\\n                treeChildren = lib_default()(data, function (c, level) {\\n                    return c.value === value[level];\\n                });\\n            } else {\\n                treeChildren = value.map(function (v, i) {\\n                    return data[i].filter(function (d) {\\n                        return d.value === v;\\n                    })[0];\\n                });\\n            }\\n            return _this.props.format && _this.props.format(treeChildren.map(function (v) {\\n                return v.label;\\n            }));\\n        };\\n        _this.getPickerCol = function () {\\n            var _this$props = _this.props,\\n                data = _this$props.data,\\n                pickerPrefixCls = _this$props.pickerPrefixCls,\\n                itemStyle = _this$props.itemStyle,\\n                indicatorStyle = _this$props.indicatorStyle;\\n\\n            return data.map(function (col, index) {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    es_Picker,\\n                    { key: index, prefixCls: pickerPrefixCls, style: { flex: 1 }, itemStyle: itemStyle, indicatorStyle: indicatorStyle },\\n                    col.map(function (item) {\\n                        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            es_Picker.Item,\\n                            { key: item.value, value: item.value },\\n                            item.label\\n                        );\\n                    })\\n                );\\n            });\\n        };\\n        _this.onOk = function (v) {\\n            if (_this.scrollValue !== undefined) {\\n                v = _this.scrollValue;\\n            }\\n            if (_this.props.onChange) {\\n                _this.props.onChange(v);\\n            }\\n            if (_this.props.onOk) {\\n                _this.props.onOk(v);\\n            }\\n        };\\n        _this.setScrollValue = function (v) {\\n            _this.scrollValue = v;\\n        };\\n        _this.setCasecadeScrollValue = function (v) {\\n            // \\n            if (v && _this.scrollValue) {\\n                var length = _this.scrollValue.length;\\n                if (length === v.length && _this.scrollValue[length - 1] === v[length - 1]) {\\n                    return;\\n                }\\n            }\\n            _this.setScrollValue(v);\\n        };\\n        _this.fixOnOk = function (cascader) {\\n            if (cascader && cascader.onOk !== _this.onOk) {\\n                cascader.onOk = _this.onOk;\\n                cascader.forceUpdate();\\n            }\\n        };\\n        _this.onPickerChange = function (v) {\\n            _this.setScrollValue(v);\\n            if (_this.props.onPickerChange) {\\n                _this.props.onPickerChange(v);\\n            }\\n        };\\n        _this.onVisibleChange = function (visible) {\\n            _this.setScrollValue(undefined);\\n            if (_this.props.onVisibleChange) {\\n                _this.props.onVisibleChange(visible);\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(AbstractPicker, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                children = _a.children,\\n                _a$value = _a.value,\\n                value = _a$value === undefined ? [] : _a$value,\\n                popupPrefixCls = _a.popupPrefixCls,\\n                itemStyle = _a.itemStyle,\\n                indicatorStyle = _a.indicatorStyle,\\n                okText = _a.okText,\\n                dismissText = _a.dismissText,\\n                extra = _a.extra,\\n                cascade = _a.cascade,\\n                prefixCls = _a.prefixCls,\\n                pickerPrefixCls = _a.pickerPrefixCls,\\n                data = _a.data,\\n                cols = _a.cols,\\n                onOk = _a.onOk,\\n                restProps = AbstractPicker_rest(_a, [\\\"children\\\", \\\"value\\\", \\\"popupPrefixCls\\\", \\\"itemStyle\\\", \\\"indicatorStyle\\\", \\\"okText\\\", \\\"dismissText\\\", \\\"extra\\\", \\\"cascade\\\", \\\"prefixCls\\\", \\\"pickerPrefixCls\\\", \\\"data\\\", \\\"cols\\\", \\\"onOk\\\"]);\\n            // tslint:disable-next-line:variable-name\\n            var _locale = getComponentLocale(this.props, this.context, 'Picker', function () {\\n                return __webpack_require__(/*! ./locale/zh_CN */ \\\"zVbs\\\");\\n            });\\n            var cascader = void 0;\\n            var popupMoreProps = {};\\n            if (cascade) {\\n                cascader = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Cascader, { prefixCls: prefixCls, pickerPrefixCls: pickerPrefixCls, data: data, cols: cols, onChange: this.onPickerChange, onScrollChange: this.setCasecadeScrollValue, pickerItemStyle: itemStyle, indicatorStyle: indicatorStyle });\\n            } else {\\n                cascader = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    es_MultiPicker,\\n                    { style: { flexDirection: 'row', alignItems: 'center' }, prefixCls: prefixCls, onScrollChange: this.setScrollValue },\\n                    this.getPickerCol()\\n                );\\n                popupMoreProps = {\\n                    pickerValueProp: 'selectedValue',\\n                    pickerValueChangeProp: 'onValueChange'\\n                };\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_cascader_es_Popup,\\n                extends_default()({ cascader: cascader }, this.popupProps, restProps, { prefixCls: popupPrefixCls, value: value, dismissText: dismissText || _locale.dismissText, okText: okText || _locale.okText }, popupMoreProps, { ref: this.fixOnOk, onVisibleChange: this.onVisibleChange }),\\n                children && typeof children !== 'string' && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.isValidElement(children) && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(children, {\\n                    extra: this.getSel() || extra || _locale.extra\\n                })\\n            );\\n        }\\n    }]);\\n\\n    return AbstractPicker;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var picker_AbstractPicker = (AbstractPicker_AbstractPicker);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/picker/popupProps.js\\n/* harmony default export */ var popupProps = ({\\n    WrapComponent: 'div',\\n    transitionName: 'am-slide-up',\\n    maskTransitionName: 'am-fade'\\n});\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/picker/index.js\\n\\n\\n\\n\\n\\n\\n\\n// TODO:\\n// fix error TS4026:Public static property 'defaultProps' of exported class has or is using name 'React.ReactElement'\\n// fix error TS6133: 'React' is declared but its value is never read.\\nvar nonsense = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', null);\\n\\nvar picker_Picker = function (_AbstractPicker) {\\n    inherits_default()(Picker, _AbstractPicker);\\n\\n    function Picker() {\\n        classCallCheck_default()(this, Picker);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Picker.__proto__ || Object.getPrototypeOf(Picker)).apply(this, arguments));\\n\\n        _this.popupProps = popupProps;\\n        return _this;\\n    }\\n\\n    return Picker;\\n}(picker_AbstractPicker);\\n\\n/* harmony default export */ var es_picker = (picker_Picker);\\n\\npicker_Picker.defaultProps = getDefaultProps();\\npicker_Picker.contextTypes = {\\n    antLocale: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/picker-view/PickerView.js\\n\\n\\n\\n\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\nfunction PickerView_getDefaultProps() {\\n    return {\\n        prefixCls: 'am-picker',\\n        pickerPrefixCls: 'am-picker-col',\\n        cols: 3,\\n        cascade: true,\\n        value: [],\\n        onChange: function onChange() {}\\n    };\\n}\\n\\nvar PickerView_PickerView = function (_React$Component) {\\n    inherits_default()(PickerView, _React$Component);\\n\\n    function PickerView() {\\n        classCallCheck_default()(this, PickerView);\\n\\n        var _this = possibleConstructorReturn_default()(this, (PickerView.__proto__ || Object.getPrototypeOf(PickerView)).apply(this, arguments));\\n\\n        _this.isMultiPicker = function () {\\n            if (!_this.props.data) {\\n                return false;\\n            }\\n            return Array.isArray(_this.props.data[0]);\\n        };\\n        _this.getCol = function () {\\n            var _this$props = _this.props,\\n                data = _this$props.data,\\n                pickerPrefixCls = _this$props.pickerPrefixCls,\\n                indicatorStyle = _this$props.indicatorStyle,\\n                itemStyle = _this$props.itemStyle;\\n\\n            var formattedData = _this.isMultiPicker() ? data : [data];\\n            return formattedData.map(function (col, index) {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    es_Picker,\\n                    { key: index, prefixCls: pickerPrefixCls, style: { flex: 1 }, indicatorStyle: indicatorStyle, itemStyle: itemStyle },\\n                    col.map(function (item) {\\n                        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            es_Picker.Item,\\n                            { key: item.value, value: item.value },\\n                            item.label\\n                        );\\n                    })\\n                );\\n            });\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(PickerView, [{\\n        key: 'render',\\n        value: function render() {\\n            // tslint:disable-next-line:no-this-assignment\\n            var props = this.props;\\n\\n            var picker = void 0;\\n            if (props.cascade) {\\n                picker = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Cascader, { prefixCls: props.prefixCls, pickerPrefixCls: props.pickerPrefixCls, data: props.data, value: props.value, onChange: props.onChange, onScrollChange: props.onScrollChange, cols: props.cols, indicatorStyle: props.indicatorStyle, pickerItemStyle: props.itemStyle });\\n            } else {\\n                picker = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    es_MultiPicker,\\n                    { prefixCls: props.prefixCls, selectedValue: props.value, onValueChange: props.onChange, onScrollChange: props.onScrollChange, style: { flexDirection: 'row' } },\\n                    this.getCol()\\n                );\\n            }\\n            return picker;\\n        }\\n    }]);\\n\\n    return PickerView;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var picker_view_PickerView = (PickerView_PickerView);\\n\\nPickerView_PickerView.defaultProps = PickerView_getDefaultProps();\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/picker-view/index.js\\n\\n/* harmony default export */ var picker_view = (picker_view_PickerView);\\n// CONCATENATED MODULE: ./node_modules/rc-util/es/Dom/contains.js\\nfunction contains(root, n) {\\n  var node = n;\\n  while (node) {\\n    if (node === root) {\\n      return true;\\n    }\\n    node = node.parentNode;\\n  }\\n\\n  return false;\\n}\\n// EXTERNAL MODULE: ./node_modules/rc-util/lib/Dom/addEventListener.js\\nvar Dom_addEventListener = __webpack_require__(\\\"rsGM\\\");\\nvar addEventListener_default = /*#__PURE__*/__webpack_require__.n(Dom_addEventListener);\\n\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/propertyUtils.js\\nvar vendorPrefix = void 0;\\n\\nvar jsCssMap = {\\n  Webkit: '-webkit-',\\n  Moz: '-moz-',\\n  // IE did it wrong again ...\\n  ms: '-ms-',\\n  O: '-o-'\\n};\\n\\nfunction getVendorPrefix() {\\n  if (vendorPrefix !== undefined) {\\n    return vendorPrefix;\\n  }\\n  vendorPrefix = '';\\n  var style = document.createElement('p').style;\\n  var testProp = 'Transform';\\n  for (var key in jsCssMap) {\\n    if (key + testProp in style) {\\n      vendorPrefix = key;\\n    }\\n  }\\n  return vendorPrefix;\\n}\\n\\nfunction getTransitionName() {\\n  return getVendorPrefix() ? getVendorPrefix() + 'TransitionProperty' : 'transitionProperty';\\n}\\n\\nfunction getTransformName() {\\n  return getVendorPrefix() ? getVendorPrefix() + 'Transform' : 'transform';\\n}\\n\\nfunction setTransitionProperty(node, value) {\\n  var name = getTransitionName();\\n  if (name) {\\n    node.style[name] = value;\\n    if (name !== 'transitionProperty') {\\n      node.style.transitionProperty = value;\\n    }\\n  }\\n}\\n\\nfunction propertyUtils_setTransform(node, value) {\\n  var name = getTransformName();\\n  if (name) {\\n    node.style[name] = value;\\n    if (name !== 'transform') {\\n      node.style.transform = value;\\n    }\\n  }\\n}\\n\\nfunction getTransitionProperty(node) {\\n  return node.style.transitionProperty || node.style[getTransitionName()];\\n}\\n\\nfunction getTransformXY(node) {\\n  var style = window.getComputedStyle(node, null);\\n  var transform = style.getPropertyValue('transform') || style.getPropertyValue(getTransformName());\\n  if (transform && transform !== 'none') {\\n    var matrix = transform.replace(/[^0-9\\\\-.,]/g, '').split(',');\\n    return { x: parseFloat(matrix[12] || matrix[4], 0), y: parseFloat(matrix[13] || matrix[5], 0) };\\n  }\\n  return {\\n    x: 0,\\n    y: 0\\n  };\\n}\\n\\nvar matrix2d = /matrix\\\\((.*)\\\\)/;\\nvar matrix3d = /matrix3d\\\\((.*)\\\\)/;\\n\\nfunction setTransformXY(node, xy) {\\n  var style = window.getComputedStyle(node, null);\\n  var transform = style.getPropertyValue('transform') || style.getPropertyValue(getTransformName());\\n  if (transform && transform !== 'none') {\\n    var arr = void 0;\\n    var match2d = transform.match(matrix2d);\\n    if (match2d) {\\n      match2d = match2d[1];\\n      arr = match2d.split(',').map(function (item) {\\n        return parseFloat(item, 10);\\n      });\\n      arr[4] = xy.x;\\n      arr[5] = xy.y;\\n      propertyUtils_setTransform(node, 'matrix(' + arr.join(',') + ')');\\n    } else {\\n      var match3d = transform.match(matrix3d)[1];\\n      arr = match3d.split(',').map(function (item) {\\n        return parseFloat(item, 10);\\n      });\\n      arr[12] = xy.x;\\n      arr[13] = xy.y;\\n      propertyUtils_setTransform(node, 'matrix3d(' + arr.join(',') + ')');\\n    }\\n  } else {\\n    propertyUtils_setTransform(node, 'translateX(' + xy.x + 'px) translateY(' + xy.y + 'px) translateZ(0)');\\n  }\\n}\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/utils.js\\nvar _typeof = typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; };\\n\\n\\n\\nvar RE_NUM = /[\\\\-+]?(?:\\\\d*\\\\.|)\\\\d+(?:[eE][\\\\-+]?\\\\d+|)/.source;\\n\\nvar getComputedStyleX = void 0;\\n\\n// https://stackoverflow.com/a/3485654/3040605\\nfunction forceRelayout(elem) {\\n  var originalStyle = elem.style.display;\\n  elem.style.display = 'none';\\n  elem.offsetHeight; // eslint-disable-line\\n  elem.style.display = originalStyle;\\n}\\n\\nfunction css(el, name, v) {\\n  var value = v;\\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\\n    for (var i in name) {\\n      if (name.hasOwnProperty(i)) {\\n        css(el, i, name[i]);\\n      }\\n    }\\n    return undefined;\\n  }\\n  if (typeof value !== 'undefined') {\\n    if (typeof value === 'number') {\\n      value = value + 'px';\\n    }\\n    el.style[name] = value;\\n    return undefined;\\n  }\\n  return getComputedStyleX(el, name);\\n}\\n\\nfunction getClientPosition(elem) {\\n  var box = void 0;\\n  var x = void 0;\\n  var y = void 0;\\n  var doc = elem.ownerDocument;\\n  var body = doc.body;\\n  var docElem = doc && doc.documentElement;\\n  //  GBS A-Grade Browsers  getBoundingClientRect \\n  box = elem.getBoundingClientRect();\\n\\n  // jQuery  docElem.clientLeft/clientTop\\n  //  html  body /\\n  // ie6  html  margin  html  margin\\n\\n  x = box.left;\\n  y = box.top;\\n\\n  // In IE, most of the time, 2 extra pixels are added to the top and left\\n  // due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and\\n  // IE6 standards mode, this border can be overridden by setting the\\n  // document element's border to zero -- thus, we cannot rely on the\\n  // offset always being 2 pixels.\\n\\n  // In quirks mode, the offset can be determined by querying the body's\\n  // clientLeft/clientTop, but in standards mode, it is found by querying\\n  // the document element's clientLeft/clientTop.  Since we already called\\n  // getClientBoundingRect we have already forced a reflow, so it is not\\n  // too expensive just to query them all.\\n\\n  // ie  absolute \\n  //  documentElement ,quirks  body\\n  //  body  html   ie < 9 html  2px \\n  //  ie body html  ,ie  html,body \\n  //  ie  docElem.clientTop  border-top\\n  // ie7 html  2\\n  //  firefox/chrome/ie9  docElem.clientTop  border-top  0\\n\\n  x -= docElem.clientLeft || body.clientLeft || 0;\\n  y -= docElem.clientTop || body.clientTop || 0;\\n\\n  return {\\n    left: x,\\n    top: y\\n  };\\n}\\n\\nfunction getScroll(w, top) {\\n  var ret = w['page' + (top ? 'Y' : 'X') + 'Offset'];\\n  var method = 'scroll' + (top ? 'Top' : 'Left');\\n  if (typeof ret !== 'number') {\\n    var d = w.document;\\n    // ie6,7,8 standard mode\\n    ret = d.documentElement[method];\\n    if (typeof ret !== 'number') {\\n      // quirks mode\\n      ret = d.body[method];\\n    }\\n  }\\n  return ret;\\n}\\n\\nfunction getScrollLeft(w) {\\n  return getScroll(w);\\n}\\n\\nfunction getScrollTop(w) {\\n  return getScroll(w, true);\\n}\\n\\nfunction utils_getOffset(el) {\\n  var pos = getClientPosition(el);\\n  var doc = el.ownerDocument;\\n  var w = doc.defaultView || doc.parentWindow;\\n  pos.left += getScrollLeft(w);\\n  pos.top += getScrollTop(w);\\n  return pos;\\n}\\n\\n/**\\n * A crude way of determining if an object is a window\\n * @member util\\n */\\nfunction isWindow(obj) {\\n  // must use == for ie8\\n  /* eslint eqeqeq:0 */\\n  return obj !== null && obj !== undefined && obj == obj.window;\\n}\\n\\nfunction getDocument(node) {\\n  if (isWindow(node)) {\\n    return node.document;\\n  }\\n  if (node.nodeType === 9) {\\n    return node;\\n  }\\n  return node.ownerDocument;\\n}\\n\\nfunction _getComputedStyle(elem, name, cs) {\\n  var computedStyle = cs;\\n  var val = '';\\n  var d = getDocument(elem);\\n  computedStyle = computedStyle || d.defaultView.getComputedStyle(elem, null);\\n\\n  // https://github.com/kissyteam/kissy/issues/61\\n  if (computedStyle) {\\n    val = computedStyle.getPropertyValue(name) || computedStyle[name];\\n  }\\n\\n  return val;\\n}\\n\\nvar _RE_NUM_NO_PX = new RegExp('^(' + RE_NUM + ')(?!px)[a-z%]+$', 'i');\\nvar RE_POS = /^(top|right|bottom|left)$/;\\nvar CURRENT_STYLE = 'currentStyle';\\nvar RUNTIME_STYLE = 'runtimeStyle';\\nvar LEFT = 'left';\\nvar PX = 'px';\\n\\nfunction _getComputedStyleIE(elem, name) {\\n  // currentStyle maybe null\\n  // http://msdn.microsoft.com/en-us/library/ms535231.aspx\\n  var ret = elem[CURRENT_STYLE] && elem[CURRENT_STYLE][name];\\n\\n  //  width/height  pixelLeft  width/height \\n  // ! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook @2011-08-19\\n  //  ie  offset \\n  // borderWidth  borderWidth \\n\\n  // From the awesome hack by Dean Edwards\\n  // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\\n  // If we're not dealing with a regular pixel number\\n  // but a number that has a weird ending, we need to convert it to pixels\\n  // exclude left right for relativity\\n  if (_RE_NUM_NO_PX.test(ret) && !RE_POS.test(name)) {\\n    // Remember the original values\\n    var style = elem.style;\\n    var left = style[LEFT];\\n    var rsLeft = elem[RUNTIME_STYLE][LEFT];\\n\\n    // prevent flashing of content\\n    elem[RUNTIME_STYLE][LEFT] = elem[CURRENT_STYLE][LEFT];\\n\\n    // Put in the new values to get a computed value out\\n    style[LEFT] = name === 'fontSize' ? '1em' : ret || 0;\\n    ret = style.pixelLeft + PX;\\n\\n    // Revert the changed values\\n    style[LEFT] = left;\\n\\n    elem[RUNTIME_STYLE][LEFT] = rsLeft;\\n  }\\n  return ret === '' ? 'auto' : ret;\\n}\\n\\nif (typeof window !== 'undefined') {\\n  getComputedStyleX = window.getComputedStyle ? _getComputedStyle : _getComputedStyleIE;\\n}\\n\\nfunction getOffsetDirection(dir, option) {\\n  if (dir === 'left') {\\n    return option.useCssRight ? 'right' : dir;\\n  }\\n  return option.useCssBottom ? 'bottom' : dir;\\n}\\n\\nfunction oppositeOffsetDirection(dir) {\\n  if (dir === 'left') {\\n    return 'right';\\n  } else if (dir === 'right') {\\n    return 'left';\\n  } else if (dir === 'top') {\\n    return 'bottom';\\n  } else if (dir === 'bottom') {\\n    return 'top';\\n  }\\n}\\n\\n//  elem  elem.ownerDocument \\nfunction setLeftTop(elem, offset, option) {\\n  // set position first, in-case top/left are set even on static elem\\n  if (css(elem, 'position') === 'static') {\\n    elem.style.position = 'relative';\\n  }\\n  var presetH = -999;\\n  var presetV = -999;\\n  var horizontalProperty = getOffsetDirection('left', option);\\n  var verticalProperty = getOffsetDirection('top', option);\\n  var oppositeHorizontalProperty = oppositeOffsetDirection(horizontalProperty);\\n  var oppositeVerticalProperty = oppositeOffsetDirection(verticalProperty);\\n\\n  if (horizontalProperty !== 'left') {\\n    presetH = 999;\\n  }\\n\\n  if (verticalProperty !== 'top') {\\n    presetV = 999;\\n  }\\n  var originalTransition = '';\\n  var originalOffset = utils_getOffset(elem);\\n  if ('left' in offset || 'top' in offset) {\\n    originalTransition = getTransitionProperty(elem) || '';\\n    setTransitionProperty(elem, 'none');\\n  }\\n  if ('left' in offset) {\\n    elem.style[oppositeHorizontalProperty] = '';\\n    elem.style[horizontalProperty] = presetH + 'px';\\n  }\\n  if ('top' in offset) {\\n    elem.style[oppositeVerticalProperty] = '';\\n    elem.style[verticalProperty] = presetV + 'px';\\n  }\\n  // force relayout\\n  forceRelayout(elem);\\n  var old = utils_getOffset(elem);\\n  var originalStyle = {};\\n  for (var key in offset) {\\n    if (offset.hasOwnProperty(key)) {\\n      var dir = getOffsetDirection(key, option);\\n      var preset = key === 'left' ? presetH : presetV;\\n      var off = originalOffset[key] - old[key];\\n      if (dir === key) {\\n        originalStyle[dir] = preset + off;\\n      } else {\\n        originalStyle[dir] = preset - off;\\n      }\\n    }\\n  }\\n  css(elem, originalStyle);\\n  // force relayout\\n  forceRelayout(elem);\\n  if ('left' in offset || 'top' in offset) {\\n    setTransitionProperty(elem, originalTransition);\\n  }\\n  var ret = {};\\n  for (var _key in offset) {\\n    if (offset.hasOwnProperty(_key)) {\\n      var _dir = getOffsetDirection(_key, option);\\n      var _off = offset[_key] - originalOffset[_key];\\n      if (_key === _dir) {\\n        ret[_dir] = originalStyle[_dir] + _off;\\n      } else {\\n        ret[_dir] = originalStyle[_dir] - _off;\\n      }\\n    }\\n  }\\n  css(elem, ret);\\n}\\n\\nfunction utils_setTransform(elem, offset) {\\n  var originalOffset = utils_getOffset(elem);\\n  var originalXY = getTransformXY(elem);\\n  var resultXY = { x: originalXY.x, y: originalXY.y };\\n  if ('left' in offset) {\\n    resultXY.x = originalXY.x + offset.left - originalOffset.left;\\n  }\\n  if ('top' in offset) {\\n    resultXY.y = originalXY.y + offset.top - originalOffset.top;\\n  }\\n  setTransformXY(elem, resultXY);\\n}\\n\\nfunction setOffset(elem, offset, option) {\\n  if (option.ignoreShake) {\\n    var oriOffset = utils_getOffset(elem);\\n\\n    var oLeft = oriOffset.left.toFixed(0);\\n    var oTop = oriOffset.top.toFixed(0);\\n    var tLeft = offset.left.toFixed(0);\\n    var tTop = offset.top.toFixed(0);\\n\\n    if (oLeft === tLeft && oTop === tTop) {\\n      return;\\n    }\\n  }\\n\\n  if (option.useCssRight || option.useCssBottom) {\\n    setLeftTop(elem, offset, option);\\n  } else if (option.useCssTransform && getTransformName() in document.body.style) {\\n    utils_setTransform(elem, offset, option);\\n  } else {\\n    setLeftTop(elem, offset, option);\\n  }\\n}\\n\\nfunction each(arr, fn) {\\n  for (var i = 0; i < arr.length; i++) {\\n    fn(arr[i]);\\n  }\\n}\\n\\nfunction isBorderBoxFn(elem) {\\n  return getComputedStyleX(elem, 'boxSizing') === 'border-box';\\n}\\n\\nvar BOX_MODELS = ['margin', 'border', 'padding'];\\nvar CONTENT_INDEX = -1;\\nvar PADDING_INDEX = 2;\\nvar BORDER_INDEX = 1;\\nvar MARGIN_INDEX = 0;\\n\\nfunction swap(elem, options, callback) {\\n  var old = {};\\n  var style = elem.style;\\n  var name = void 0;\\n\\n  // Remember the old values, and insert the new ones\\n  for (name in options) {\\n    if (options.hasOwnProperty(name)) {\\n      old[name] = style[name];\\n      style[name] = options[name];\\n    }\\n  }\\n\\n  callback.call(elem);\\n\\n  // Revert the old values\\n  for (name in options) {\\n    if (options.hasOwnProperty(name)) {\\n      style[name] = old[name];\\n    }\\n  }\\n}\\n\\nfunction getPBMWidth(elem, props, which) {\\n  var value = 0;\\n  var prop = void 0;\\n  var j = void 0;\\n  var i = void 0;\\n  for (j = 0; j < props.length; j++) {\\n    prop = props[j];\\n    if (prop) {\\n      for (i = 0; i < which.length; i++) {\\n        var cssProp = void 0;\\n        if (prop === 'border') {\\n          cssProp = '' + prop + which[i] + 'Width';\\n        } else {\\n          cssProp = prop + which[i];\\n        }\\n        value += parseFloat(getComputedStyleX(elem, cssProp)) || 0;\\n      }\\n    }\\n  }\\n  return value;\\n}\\n\\nvar domUtils = {};\\n\\neach(['Width', 'Height'], function (name) {\\n  domUtils['doc' + name] = function (refWin) {\\n    var d = refWin.document;\\n    return Math.max(\\n    // firefox chrome documentElement.scrollHeight< body.scrollHeight\\n    // ie standard mode : documentElement.scrollHeight> body.scrollHeight\\n    d.documentElement['scroll' + name],\\n    // quirks : documentElement.scrollHeight \\n    d.body['scroll' + name], domUtils['viewport' + name](d));\\n  };\\n\\n  domUtils['viewport' + name] = function (win) {\\n    // pc browser includes scrollbar in window.innerWidth\\n    var prop = 'client' + name;\\n    var doc = win.document;\\n    var body = doc.body;\\n    var documentElement = doc.documentElement;\\n    var documentElementProp = documentElement[prop];\\n    //  documentElement\\n    // backcompat  body\\n    return doc.compatMode === 'CSS1Compat' && documentElementProp || body && body[prop] || documentElementProp;\\n  };\\n});\\n\\n/*\\n \\n @param elem\\n @param name\\n @param {String} [extra]  'padding' : (css width) + padding\\n 'border' : (css width) + padding + border\\n 'margin' : (css width) + padding + border + margin\\n */\\nfunction getWH(elem, name, ex) {\\n  var extra = ex;\\n  if (isWindow(elem)) {\\n    return name === 'width' ? domUtils.viewportWidth(elem) : domUtils.viewportHeight(elem);\\n  } else if (elem.nodeType === 9) {\\n    return name === 'width' ? domUtils.docWidth(elem) : domUtils.docHeight(elem);\\n  }\\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\\n  var borderBoxValue = name === 'width' ? elem.getBoundingClientRect().width : elem.getBoundingClientRect().height;\\n  var computedStyle = getComputedStyleX(elem);\\n  var isBorderBox = isBorderBoxFn(elem, computedStyle);\\n  var cssBoxValue = 0;\\n  if (borderBoxValue === null || borderBoxValue === undefined || borderBoxValue <= 0) {\\n    borderBoxValue = undefined;\\n    // Fall back to computed then un computed css if necessary\\n    cssBoxValue = getComputedStyleX(elem, name);\\n    if (cssBoxValue === null || cssBoxValue === undefined || Number(cssBoxValue) < 0) {\\n      cssBoxValue = elem.style[name] || 0;\\n    }\\n    // Normalize '', auto, and prepare for extra\\n    cssBoxValue = parseFloat(cssBoxValue) || 0;\\n  }\\n  if (extra === undefined) {\\n    extra = isBorderBox ? BORDER_INDEX : CONTENT_INDEX;\\n  }\\n  var borderBoxValueOrIsBorderBox = borderBoxValue !== undefined || isBorderBox;\\n  var val = borderBoxValue || cssBoxValue;\\n  if (extra === CONTENT_INDEX) {\\n    if (borderBoxValueOrIsBorderBox) {\\n      return val - getPBMWidth(elem, ['border', 'padding'], which, computedStyle);\\n    }\\n    return cssBoxValue;\\n  } else if (borderBoxValueOrIsBorderBox) {\\n    if (extra === BORDER_INDEX) {\\n      return val;\\n    }\\n    return val + (extra === PADDING_INDEX ? -getPBMWidth(elem, ['border'], which, computedStyle) : getPBMWidth(elem, ['margin'], which, computedStyle));\\n  }\\n  return cssBoxValue + getPBMWidth(elem, BOX_MODELS.slice(extra), which, computedStyle);\\n}\\n\\nvar cssShow = {\\n  position: 'absolute',\\n  visibility: 'hidden',\\n  display: 'block'\\n};\\n\\n// fix #119 : https://github.com/kissyteam/kissy/issues/119\\nfunction getWHIgnoreDisplay() {\\n  for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\\n    args[_key2] = arguments[_key2];\\n  }\\n\\n  var val = void 0;\\n  var elem = args[0];\\n  // in case elem is window\\n  // elem.offsetWidth === undefined\\n  if (elem.offsetWidth !== 0) {\\n    val = getWH.apply(undefined, args);\\n  } else {\\n    swap(elem, cssShow, function () {\\n      val = getWH.apply(undefined, args);\\n    });\\n  }\\n  return val;\\n}\\n\\neach(['width', 'height'], function (name) {\\n  var first = name.charAt(0).toUpperCase() + name.slice(1);\\n  domUtils['outer' + first] = function (el, includeMargin) {\\n    return el && getWHIgnoreDisplay(el, name, includeMargin ? MARGIN_INDEX : BORDER_INDEX);\\n  };\\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\\n\\n  domUtils[name] = function (elem, v) {\\n    var val = v;\\n    if (val !== undefined) {\\n      if (elem) {\\n        var computedStyle = getComputedStyleX(elem);\\n        var isBorderBox = isBorderBoxFn(elem);\\n        if (isBorderBox) {\\n          val += getPBMWidth(elem, ['padding', 'border'], which, computedStyle);\\n        }\\n        return css(elem, name, val);\\n      }\\n      return undefined;\\n    }\\n    return elem && getWHIgnoreDisplay(elem, name, CONTENT_INDEX);\\n  };\\n});\\n\\nfunction mix(to, from) {\\n  for (var i in from) {\\n    if (from.hasOwnProperty(i)) {\\n      to[i] = from[i];\\n    }\\n  }\\n  return to;\\n}\\n\\nvar utils = {\\n  getWindow: function getWindow(node) {\\n    if (node && node.document && node.setTimeout) {\\n      return node;\\n    }\\n    var doc = node.ownerDocument || node;\\n    return doc.defaultView || doc.parentWindow;\\n  },\\n\\n  getDocument: getDocument,\\n  offset: function offset(el, value, option) {\\n    if (typeof value !== 'undefined') {\\n      setOffset(el, value, option || {});\\n    } else {\\n      return utils_getOffset(el);\\n    }\\n  },\\n\\n  isWindow: isWindow,\\n  each: each,\\n  css: css,\\n  clone: function clone(obj) {\\n    var i = void 0;\\n    var ret = {};\\n    for (i in obj) {\\n      if (obj.hasOwnProperty(i)) {\\n        ret[i] = obj[i];\\n      }\\n    }\\n    var overflow = obj.overflow;\\n    if (overflow) {\\n      for (i in obj) {\\n        if (obj.hasOwnProperty(i)) {\\n          ret.overflow[i] = obj.overflow[i];\\n        }\\n      }\\n    }\\n    return ret;\\n  },\\n\\n  mix: mix,\\n  getWindowScrollLeft: function getWindowScrollLeft(w) {\\n    return getScrollLeft(w);\\n  },\\n  getWindowScrollTop: function getWindowScrollTop(w) {\\n    return getScrollTop(w);\\n  },\\n  merge: function merge() {\\n    var ret = {};\\n\\n    for (var _len2 = arguments.length, args = Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {\\n      args[_key3] = arguments[_key3];\\n    }\\n\\n    for (var i = 0; i < args.length; i++) {\\n      utils.mix(ret, args[i]);\\n    }\\n    return ret;\\n  },\\n\\n  viewportWidth: 0,\\n  viewportHeight: 0\\n};\\n\\nmix(utils, domUtils);\\n\\n/* harmony default export */ var es_utils = (utils);\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/getOffsetParent.js\\n\\n\\n/**\\n * \\n */\\n\\nfunction getOffsetParent(element) {\\n  if (es_utils.isWindow(element) || element.nodeType === 9) {\\n    return null;\\n  }\\n  // ie \\n  /*\\n   <div style=\\\"width: 50px;height: 100px;overflow: hidden\\\">\\n   <div style=\\\"width: 50px;height: 100px;position: relative;\\\" id=\\\"d6\\\">\\n    6  100px  50px<br/>\\n   </div>\\n   </div>\\n   */\\n  // element.offsetParent does the right thing in ie7 and below. Return parent with layout!\\n  //  In other browsers it only includes elements with position absolute, relative or\\n  // fixed, not elements with overflow set to auto or scroll.\\n  //        if (UA.ie && ieMode < 8) {\\n  //            return element.offsetParent;\\n  //        }\\n  //  offsetParent \\n  var doc = es_utils.getDocument(element);\\n  var body = doc.body;\\n  var parent = void 0;\\n  var positionStyle = es_utils.css(element, 'position');\\n  var skipStatic = positionStyle === 'fixed' || positionStyle === 'absolute';\\n\\n  if (!skipStatic) {\\n    return element.nodeName.toLowerCase() === 'html' ? null : element.parentNode;\\n  }\\n\\n  for (parent = element.parentNode; parent && parent !== body; parent = parent.parentNode) {\\n    positionStyle = es_utils.css(parent, 'position');\\n    if (positionStyle !== 'static') {\\n      return parent;\\n    }\\n  }\\n  return null;\\n}\\n\\n/* harmony default export */ var es_getOffsetParent = (getOffsetParent);\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/isAncestorFixed.js\\n\\n\\nfunction isAncestorFixed(element) {\\n  if (es_utils.isWindow(element) || element.nodeType === 9) {\\n    return false;\\n  }\\n\\n  var doc = es_utils.getDocument(element);\\n  var body = doc.body;\\n  var parent = null;\\n  for (parent = element.parentNode; parent && parent !== body; parent = parent.parentNode) {\\n    var positionStyle = es_utils.css(parent, 'position');\\n    if (positionStyle === 'fixed') {\\n      return true;\\n    }\\n  }\\n  return false;\\n}\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/getVisibleRectForElement.js\\n\\n\\n\\n\\n/**\\n * \\n */\\nfunction getVisibleRectForElement(element) {\\n  var visibleRect = {\\n    left: 0,\\n    right: Infinity,\\n    top: 0,\\n    bottom: Infinity\\n  };\\n  var el = es_getOffsetParent(element);\\n  var doc = es_utils.getDocument(element);\\n  var win = doc.defaultView || doc.parentWindow;\\n  var body = doc.body;\\n  var documentElement = doc.documentElement;\\n\\n  // Determine the size of the visible rect by climbing the dom accounting for\\n  // all scrollable containers.\\n  while (el) {\\n    // clientWidth is zero for inline block elements in ie.\\n    if ((navigator.userAgent.indexOf('MSIE') === -1 || el.clientWidth !== 0) &&\\n    // body may have overflow set on it, yet we still get the entire\\n    // viewport. In some browsers, el.offsetParent may be\\n    // document.documentElement, so check for that too.\\n    el !== body && el !== documentElement && es_utils.css(el, 'overflow') !== 'visible') {\\n      var pos = es_utils.offset(el);\\n      // add border\\n      pos.left += el.clientLeft;\\n      pos.top += el.clientTop;\\n      visibleRect.top = Math.max(visibleRect.top, pos.top);\\n      visibleRect.right = Math.min(visibleRect.right,\\n      // consider area without scrollBar\\n      pos.left + el.clientWidth);\\n      visibleRect.bottom = Math.min(visibleRect.bottom, pos.top + el.clientHeight);\\n      visibleRect.left = Math.max(visibleRect.left, pos.left);\\n    } else if (el === body || el === documentElement) {\\n      break;\\n    }\\n    el = es_getOffsetParent(el);\\n  }\\n\\n  // Set element position to fixed\\n  // make sure absolute element itself don't affect it's visible area\\n  // https://github.com/ant-design/ant-design/issues/7601\\n  var originalPosition = null;\\n  if (!es_utils.isWindow(element) && element.nodeType !== 9) {\\n    originalPosition = element.style.position;\\n    var position = es_utils.css(element, 'position');\\n    if (position === 'absolute') {\\n      element.style.position = 'fixed';\\n    }\\n  }\\n\\n  var scrollX = es_utils.getWindowScrollLeft(win);\\n  var scrollY = es_utils.getWindowScrollTop(win);\\n  var viewportWidth = es_utils.viewportWidth(win);\\n  var viewportHeight = es_utils.viewportHeight(win);\\n  var documentWidth = documentElement.scrollWidth;\\n  var documentHeight = documentElement.scrollHeight;\\n\\n  // scrollXXX on html is sync with body which means overflow: hidden on body gets wrong scrollXXX.\\n  // We should cut this ourself.\\n  var bodyStyle = window.getComputedStyle(body);\\n  if (bodyStyle.overflowX === 'hidden') {\\n    documentWidth = win.innerWidth;\\n  }\\n  if (bodyStyle.overflowY === 'hidden') {\\n    documentHeight = win.innerHeight;\\n  }\\n\\n  // Reset element position after calculate the visible area\\n  if (element.style) {\\n    element.style.position = originalPosition;\\n  }\\n\\n  if (isAncestorFixed(element)) {\\n    // Clip by viewport's size.\\n    visibleRect.left = Math.max(visibleRect.left, scrollX);\\n    visibleRect.top = Math.max(visibleRect.top, scrollY);\\n    visibleRect.right = Math.min(visibleRect.right, scrollX + viewportWidth);\\n    visibleRect.bottom = Math.min(visibleRect.bottom, scrollY + viewportHeight);\\n  } else {\\n    // Clip by document's size.\\n    var maxVisibleWidth = Math.max(documentWidth, scrollX + viewportWidth);\\n    visibleRect.right = Math.min(visibleRect.right, maxVisibleWidth);\\n\\n    var maxVisibleHeight = Math.max(documentHeight, scrollY + viewportHeight);\\n    visibleRect.bottom = Math.min(visibleRect.bottom, maxVisibleHeight);\\n  }\\n\\n  return visibleRect.top >= 0 && visibleRect.left >= 0 && visibleRect.bottom > visibleRect.top && visibleRect.right > visibleRect.left ? visibleRect : null;\\n}\\n\\n/* harmony default export */ var es_getVisibleRectForElement = (getVisibleRectForElement);\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/adjustForViewport.js\\n\\n\\nfunction adjustForViewport(elFuturePos, elRegion, visibleRect, overflow) {\\n  var pos = es_utils.clone(elFuturePos);\\n  var size = {\\n    width: elRegion.width,\\n    height: elRegion.height\\n  };\\n\\n  if (overflow.adjustX && pos.left < visibleRect.left) {\\n    pos.left = visibleRect.left;\\n  }\\n\\n  // Left edge inside and right edge outside viewport, try to resize it.\\n  if (overflow.resizeWidth && pos.left >= visibleRect.left && pos.left + size.width > visibleRect.right) {\\n    size.width -= pos.left + size.width - visibleRect.right;\\n  }\\n\\n  // Right edge outside viewport, try to move it.\\n  if (overflow.adjustX && pos.left + size.width > visibleRect.right) {\\n    // \\n    pos.left = Math.max(visibleRect.right - size.width, visibleRect.left);\\n  }\\n\\n  // Top edge outside viewport, try to move it.\\n  if (overflow.adjustY && pos.top < visibleRect.top) {\\n    pos.top = visibleRect.top;\\n  }\\n\\n  // Top edge inside and bottom edge outside viewport, try to resize it.\\n  if (overflow.resizeHeight && pos.top >= visibleRect.top && pos.top + size.height > visibleRect.bottom) {\\n    size.height -= pos.top + size.height - visibleRect.bottom;\\n  }\\n\\n  // Bottom edge outside viewport, try to move it.\\n  if (overflow.adjustY && pos.top + size.height > visibleRect.bottom) {\\n    // \\n    pos.top = Math.max(visibleRect.bottom - size.height, visibleRect.top);\\n  }\\n\\n  return es_utils.mix(pos, size);\\n}\\n\\n/* harmony default export */ var es_adjustForViewport = (adjustForViewport);\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/getRegion.js\\n\\n\\nfunction getRegion(node) {\\n  var offset = void 0;\\n  var w = void 0;\\n  var h = void 0;\\n  if (!es_utils.isWindow(node) && node.nodeType !== 9) {\\n    offset = es_utils.offset(node);\\n    w = es_utils.outerWidth(node);\\n    h = es_utils.outerHeight(node);\\n  } else {\\n    var win = es_utils.getWindow(node);\\n    offset = {\\n      left: es_utils.getWindowScrollLeft(win),\\n      top: es_utils.getWindowScrollTop(win)\\n    };\\n    w = es_utils.viewportWidth(win);\\n    h = es_utils.viewportHeight(win);\\n  }\\n  offset.width = w;\\n  offset.height = h;\\n  return offset;\\n}\\n\\n/* harmony default export */ var es_getRegion = (getRegion);\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/getAlignOffset.js\\n/**\\n *  node  align  \\n */\\n\\nfunction getAlignOffset(region, align) {\\n  var V = align.charAt(0);\\n  var H = align.charAt(1);\\n  var w = region.width;\\n  var h = region.height;\\n\\n  var x = region.left;\\n  var y = region.top;\\n\\n  if (V === 'c') {\\n    y += h / 2;\\n  } else if (V === 'b') {\\n    y += h;\\n  }\\n\\n  if (H === 'c') {\\n    x += w / 2;\\n  } else if (H === 'r') {\\n    x += w;\\n  }\\n\\n  return {\\n    left: x,\\n    top: y\\n  };\\n}\\n\\n/* harmony default export */ var es_getAlignOffset = (getAlignOffset);\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/getElFuturePos.js\\n\\n\\nfunction getElFuturePos(elRegion, refNodeRegion, points, offset, targetOffset) {\\n  var p1 = es_getAlignOffset(refNodeRegion, points[1]);\\n  var p2 = es_getAlignOffset(elRegion, points[0]);\\n  var diff = [p2.left - p1.left, p2.top - p1.top];\\n\\n  return {\\n    left: elRegion.left - diff[0] + offset[0] - targetOffset[0],\\n    top: elRegion.top - diff[1] + offset[1] - targetOffset[1]\\n  };\\n}\\n\\n/* harmony default export */ var es_getElFuturePos = (getElFuturePos);\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/align/align.js\\n/**\\n * align dom node flexibly\\n * @author yiminghe@gmail.com\\n */\\n\\n\\n\\n\\n\\n\\n\\n// http://yiminghe.iteye.com/blog/1124720\\n\\nfunction isFailX(elFuturePos, elRegion, visibleRect) {\\n  return elFuturePos.left < visibleRect.left || elFuturePos.left + elRegion.width > visibleRect.right;\\n}\\n\\nfunction isFailY(elFuturePos, elRegion, visibleRect) {\\n  return elFuturePos.top < visibleRect.top || elFuturePos.top + elRegion.height > visibleRect.bottom;\\n}\\n\\nfunction isCompleteFailX(elFuturePos, elRegion, visibleRect) {\\n  return elFuturePos.left > visibleRect.right || elFuturePos.left + elRegion.width < visibleRect.left;\\n}\\n\\nfunction isCompleteFailY(elFuturePos, elRegion, visibleRect) {\\n  return elFuturePos.top > visibleRect.bottom || elFuturePos.top + elRegion.height < visibleRect.top;\\n}\\n\\nfunction flip(points, reg, map) {\\n  var ret = [];\\n  es_utils.each(points, function (p) {\\n    ret.push(p.replace(reg, function (m) {\\n      return map[m];\\n    }));\\n  });\\n  return ret;\\n}\\n\\nfunction flipOffset(offset, index) {\\n  offset[index] = -offset[index];\\n  return offset;\\n}\\n\\nfunction convertOffset(str, offsetLen) {\\n  var n = void 0;\\n  if (/%$/.test(str)) {\\n    n = parseInt(str.substring(0, str.length - 1), 10) / 100 * offsetLen;\\n  } else {\\n    n = parseInt(str, 10);\\n  }\\n  return n || 0;\\n}\\n\\nfunction normalizeOffset(offset, el) {\\n  offset[0] = convertOffset(offset[0], el.width);\\n  offset[1] = convertOffset(offset[1], el.height);\\n}\\n\\n/**\\n * @param el\\n * @param tgtRegion : { left, top, width, height }\\n * @param align\\n */\\nfunction doAlign(el, tgtRegion, align, isTgtRegionVisible) {\\n  var points = align.points;\\n  var offset = align.offset || [0, 0];\\n  var targetOffset = align.targetOffset || [0, 0];\\n  var overflow = align.overflow;\\n  var source = align.source || el;\\n  offset = [].concat(offset);\\n  targetOffset = [].concat(targetOffset);\\n  overflow = overflow || {};\\n  var newOverflowCfg = {};\\n  var fail = 0;\\n  // \\n  var visibleRect = es_getVisibleRectForElement(source);\\n  // , left/top/width/height\\n  var elRegion = es_getRegion(source);\\n  //  offset \\n  normalizeOffset(offset, elRegion);\\n  normalizeOffset(targetOffset, tgtRegion);\\n  // \\n  var elFuturePos = es_getElFuturePos(elRegion, tgtRegion, points, offset, targetOffset);\\n  // \\n  var newElRegion = es_utils.merge(elRegion, elFuturePos);\\n\\n  // \\n  if (visibleRect && (overflow.adjustX || overflow.adjustY) && isTgtRegionVisible) {\\n    if (overflow.adjustX) {\\n      // \\n      if (isFailX(elFuturePos, elRegion, visibleRect)) {\\n        // \\n        var newPoints = flip(points, /[lr]/ig, {\\n          l: 'r',\\n          r: 'l'\\n        });\\n        // \\n        var newOffset = flipOffset(offset, 0);\\n        var newTargetOffset = flipOffset(targetOffset, 0);\\n        var newElFuturePos = es_getElFuturePos(elRegion, tgtRegion, newPoints, newOffset, newTargetOffset);\\n\\n        if (!isCompleteFailX(newElFuturePos, elRegion, visibleRect)) {\\n          fail = 1;\\n          points = newPoints;\\n          offset = newOffset;\\n          targetOffset = newTargetOffset;\\n        }\\n      }\\n    }\\n\\n    if (overflow.adjustY) {\\n      // \\n      if (isFailY(elFuturePos, elRegion, visibleRect)) {\\n        // \\n        var _newPoints = flip(points, /[tb]/ig, {\\n          t: 'b',\\n          b: 't'\\n        });\\n        // \\n        var _newOffset = flipOffset(offset, 1);\\n        var _newTargetOffset = flipOffset(targetOffset, 1);\\n        var _newElFuturePos = es_getElFuturePos(elRegion, tgtRegion, _newPoints, _newOffset, _newTargetOffset);\\n\\n        if (!isCompleteFailY(_newElFuturePos, elRegion, visibleRect)) {\\n          fail = 1;\\n          points = _newPoints;\\n          offset = _newOffset;\\n          targetOffset = _newTargetOffset;\\n        }\\n      }\\n    }\\n\\n    // \\n    if (fail) {\\n      elFuturePos = es_getElFuturePos(elRegion, tgtRegion, points, offset, targetOffset);\\n      es_utils.mix(newElRegion, elFuturePos);\\n    }\\n    var isStillFailX = isFailX(elFuturePos, elRegion, visibleRect);\\n    var isStillFailY = isFailY(elFuturePos, elRegion, visibleRect);\\n    // \\n    // 1. \\n    if (isStillFailX || isStillFailY) {\\n      points = align.points;\\n      offset = align.offset || [0, 0];\\n      targetOffset = align.targetOffset || [0, 0];\\n    }\\n    // 2. \\n    newOverflowCfg.adjustX = overflow.adjustX && isStillFailX;\\n    newOverflowCfg.adjustY = overflow.adjustY && isStillFailY;\\n\\n    // \\n    if (newOverflowCfg.adjustX || newOverflowCfg.adjustY) {\\n      newElRegion = es_adjustForViewport(elFuturePos, elRegion, visibleRect, newOverflowCfg);\\n    }\\n  }\\n\\n  // need judge to in case set fixed with in css on height auto element\\n  if (newElRegion.width !== elRegion.width) {\\n    es_utils.css(source, 'width', es_utils.width(source) + newElRegion.width - elRegion.width);\\n  }\\n\\n  if (newElRegion.height !== elRegion.height) {\\n    es_utils.css(source, 'height', es_utils.height(source) + newElRegion.height - elRegion.height);\\n  }\\n\\n  // https://github.com/kissyteam/kissy/issues/190\\n  //  left/top \\n  //  <div 'relative'><el absolute></div>\\n  es_utils.offset(source, {\\n    left: newElRegion.left,\\n    top: newElRegion.top\\n  }, {\\n    useCssRight: align.useCssRight,\\n    useCssBottom: align.useCssBottom,\\n    useCssTransform: align.useCssTransform,\\n    ignoreShake: align.ignoreShake\\n  });\\n\\n  return {\\n    points: points,\\n    offset: offset,\\n    targetOffset: targetOffset,\\n    overflow: newOverflowCfg\\n  };\\n}\\n\\n/* harmony default export */ var align_align = (doAlign);\\n/**\\n *  2012-04-26 yiminghe@gmail.com\\n *   - \\n *   -  resizeXX\\n *\\n *  2011-07-13 yiminghe@gmail.com note:\\n *   - \\n **/\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/align/alignElement.js\\n\\n\\n\\n\\n\\nfunction isOutOfVisibleRect(target) {\\n  var visibleRect = es_getVisibleRectForElement(target);\\n  var targetRegion = es_getRegion(target);\\n\\n  return !visibleRect || targetRegion.left + targetRegion.width <= visibleRect.left || targetRegion.top + targetRegion.height <= visibleRect.top || targetRegion.left >= visibleRect.right || targetRegion.top >= visibleRect.bottom;\\n}\\n\\nfunction alignElement(el, refNode, align) {\\n  var target = align.target || refNode;\\n  var refNodeRegion = es_getRegion(target);\\n\\n  var isTargetNotOutOfVisible = !isOutOfVisibleRect(target);\\n\\n  return align_align(el, refNodeRegion, align, isTargetNotOutOfVisible);\\n}\\n\\nalignElement.__getOffsetParent = es_getOffsetParent;\\n\\nalignElement.__getVisibleRectForElement = es_getVisibleRectForElement;\\n\\n/* harmony default export */ var align_alignElement = (alignElement);\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/align/alignPoint.js\\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\\n\\n\\n\\n\\n/**\\n * `tgtPoint`: { pageX, pageY } or { clientX, clientY }.\\n * If client position provided, will internal convert to page position.\\n */\\n\\nfunction alignPoint(el, tgtPoint, align) {\\n  var pageX = void 0;\\n  var pageY = void 0;\\n\\n  var doc = es_utils.getDocument(el);\\n  var win = doc.defaultView || doc.parentWindow;\\n\\n  var scrollX = es_utils.getWindowScrollLeft(win);\\n  var scrollY = es_utils.getWindowScrollTop(win);\\n  var viewportWidth = es_utils.viewportWidth(win);\\n  var viewportHeight = es_utils.viewportHeight(win);\\n\\n  if ('pageX' in tgtPoint) {\\n    pageX = tgtPoint.pageX;\\n  } else {\\n    pageX = scrollX + tgtPoint.clientX;\\n  }\\n\\n  if ('pageY' in tgtPoint) {\\n    pageY = tgtPoint.pageY;\\n  } else {\\n    pageY = scrollY + tgtPoint.clientY;\\n  }\\n\\n  var tgtRegion = {\\n    left: pageX,\\n    top: pageY,\\n    width: 0,\\n    height: 0\\n  };\\n\\n  var pointInView = pageX >= 0 && pageX <= scrollX + viewportWidth && pageY >= 0 && pageY <= scrollY + viewportHeight;\\n\\n  // Provide default target point\\n  var points = [align.points[0], 'cc'];\\n\\n  return align_align(el, tgtRegion, _extends({}, align, { points: points }), pointInView);\\n}\\n\\n/* harmony default export */ var align_alignPoint = (alignPoint);\\n// CONCATENATED MODULE: ./node_modules/dom-align/es/index.js\\n\\n\\n\\n\\n\\n/* harmony default export */ var dom_align_es = (align_alignElement);\\n// EXTERNAL MODULE: ./node_modules/add-dom-event-listener/lib/index.js\\nvar add_dom_event_listener_lib = __webpack_require__(\\\"LIAx\\\");\\nvar add_dom_event_listener_lib_default = /*#__PURE__*/__webpack_require__.n(add_dom_event_listener_lib);\\n\\n// CONCATENATED MODULE: ./node_modules/rc-util/es/Dom/addEventListener.js\\n\\n\\n\\nfunction addEventListenerWrap(target, eventType, cb, option) {\\n  /* eslint camelcase: 2 */\\n  var callback = react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unstable_batchedUpdates ? function run(e) {\\n    react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unstable_batchedUpdates(cb, e);\\n  } : cb;\\n  return add_dom_event_listener_lib_default()(target, eventType, callback, option);\\n}\\n// CONCATENATED MODULE: ./node_modules/rmc-align/es/isWindow.js\\n/* eslint no-eq-null: 0 */\\n/* eslint eqeqeq: 0 */\\n/* tslint:disable:triple-equals */\\nfunction isWindow_isWindow(obj) {\\n    return obj != null && obj == obj.window;\\n}\\n// CONCATENATED MODULE: ./node_modules/rmc-align/es/Align.js\\nvar Align_createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\nfunction Align_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction Align_possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return call && (typeof call === \\\"object\\\" || typeof call === \\\"function\\\") ? call : self; }\\n\\nfunction Align_inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function, not \\\" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\\n\\n\\n\\n\\n\\n\\nfunction buffer(fn, ms) {\\n    var timer = void 0;\\n    function clear() {\\n        if (timer) {\\n            clearTimeout(timer);\\n            timer = null;\\n        }\\n    }\\n    function bufferFn() {\\n        clear();\\n        timer = setTimeout(fn, ms);\\n    }\\n    bufferFn.clear = clear;\\n    return bufferFn;\\n}\\n\\nvar Align_Align = function (_Component) {\\n    Align_inherits(Align, _Component);\\n\\n    function Align() {\\n        Align_classCallCheck(this, Align);\\n\\n        var _this = Align_possibleConstructorReturn(this, (Align.__proto__ || Object.getPrototypeOf(Align)).apply(this, arguments));\\n\\n        _this.forceAlign = function () {\\n            var props = _this.props;\\n            if (!props.disabled) {\\n                var source = react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.findDOMNode(_this);\\n                props.onAlign(source, dom_align_es(source, props.target(), props.align));\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    Align_createClass(Align, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            var props = this.props;\\n                        this.forceAlign();\\n            if (!props.disabled && props.monitorWindowResize) {\\n                this.startMonitorWindowResize();\\n            }\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate(prevProps) {\\n            var reAlign = false;\\n            var props = this.props;\\n            if (!props.disabled) {\\n                if (prevProps.disabled || prevProps.align !== props.align) {\\n                    reAlign = true;\\n                } else {\\n                    var lastTarget = prevProps.target();\\n                    var currentTarget = props.target();\\n                    if (isWindow_isWindow(lastTarget) && isWindow_isWindow(currentTarget)) {\\n                        reAlign = false;\\n                    } else if (lastTarget !== currentTarget) {\\n                        reAlign = true;\\n                    }\\n                }\\n            }\\n            if (reAlign) {\\n                this.forceAlign();\\n            }\\n            if (props.monitorWindowResize && !props.disabled) {\\n                this.startMonitorWindowResize();\\n            } else {\\n                this.stopMonitorWindowResize();\\n            }\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            this.stopMonitorWindowResize();\\n        }\\n    }, {\\n        key: 'startMonitorWindowResize',\\n        value: function startMonitorWindowResize() {\\n            if (!this.resizeHandler) {\\n                this.bufferMonitor = buffer(this.forceAlign, this.props.monitorBufferTime);\\n                this.resizeHandler = addEventListenerWrap(window, 'resize', this.bufferMonitor);\\n            }\\n        }\\n    }, {\\n        key: 'stopMonitorWindowResize',\\n        value: function stopMonitorWindowResize() {\\n            if (this.resizeHandler) {\\n                this.bufferMonitor.clear();\\n                this.resizeHandler.remove();\\n                this.resizeHandler = null;\\n            }\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _props = this.props,\\n                childrenProps = _props.childrenProps,\\n                children = _props.children;\\n\\n            var child = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.only(children);\\n            if (childrenProps) {\\n                var newProps = {};\\n                for (var prop in childrenProps) {\\n                    if (childrenProps.hasOwnProperty(prop)) {\\n                        newProps[prop] = this.props[childrenProps[prop]];\\n                    }\\n                }\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(child, newProps);\\n            }\\n            return child;\\n        }\\n    }]);\\n\\n    return Align;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\nAlign_Align.defaultProps = {\\n    target: function target() {\\n        return window;\\n    },\\n    onAlign: function onAlign() {},\\n    monitorBufferTime: 50,\\n    monitorWindowResize: false,\\n    disabled: false\\n};\\n/* harmony default export */ var es_Align = (Align_Align);\\n// CONCATENATED MODULE: ./node_modules/rmc-align/es/index.js\\n// export this package's api\\n\\n/* harmony default export */ var rmc_align_es = (es_Align);\\n// CONCATENATED MODULE: ./node_modules/rmc-trigger/es/LazyRenderBox.js\\n\\n\\n\\n\\nvar LazyRenderBox_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\nvar es_LazyRenderBox_LazyRenderBox = function (_Component) {\\n    inherits_default()(LazyRenderBox, _Component);\\n\\n    function LazyRenderBox() {\\n        classCallCheck_default()(this, LazyRenderBox);\\n\\n        return possibleConstructorReturn_default()(this, (LazyRenderBox.__proto__ || Object.getPrototypeOf(LazyRenderBox)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(LazyRenderBox, [{\\n        key: \\\"shouldComponentUpdate\\\",\\n        value: function shouldComponentUpdate(nextProps) {\\n            return nextProps.hiddenClassName || nextProps.visible;\\n        }\\n    }, {\\n        key: \\\"render\\\",\\n        value: function render() {\\n            var _a = this.props,\\n                hiddenClassName = _a.hiddenClassName,\\n                visible = _a.visible,\\n                props = LazyRenderBox_rest(_a, [\\\"hiddenClassName\\\", \\\"visible\\\"]);\\n            if (hiddenClassName || reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.count(props.children) > 1) {\\n                if (!visible && hiddenClassName) {\\n                    props.className += \\\" \\\" + hiddenClassName;\\n                }\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\\"div\\\", props);\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.only(props.children);\\n        }\\n    }]);\\n\\n    return LazyRenderBox;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\n/* harmony default export */ var rmc_trigger_es_LazyRenderBox = (es_LazyRenderBox_LazyRenderBox);\\n// CONCATENATED MODULE: ./node_modules/rmc-trigger/es/PopupInner.js\\n\\n\\n\\n\\n\\n\\n\\nvar PopupInner_PopupInner = function (_Component) {\\n    inherits_default()(PopupInner, _Component);\\n\\n    function PopupInner() {\\n        classCallCheck_default()(this, PopupInner);\\n\\n        return possibleConstructorReturn_default()(this, (PopupInner.__proto__ || Object.getPrototypeOf(PopupInner)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(PopupInner, [{\\n        key: 'render',\\n        value: function render() {\\n            var props = this.props;\\n            var className = props.className;\\n            if (!props.visible) {\\n                className += ' ' + props.hiddenClassName;\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: className, style: props.style },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    rmc_trigger_es_LazyRenderBox,\\n                    { className: props.prefixCls + '-content', visible: props.visible },\\n                    props.children\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return PopupInner;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\n/* harmony default export */ var es_PopupInner = (PopupInner_PopupInner);\\n// CONCATENATED MODULE: ./node_modules/rmc-trigger/es/utils.js\\n\\nfunction isPointsEq(a1, a2) {\\n    return a1[0] === a2[0] && a1[1] === a2[1];\\n}\\nfunction getAlignFromPlacement(builtinPlacements, placementStr, align) {\\n    var baseAlign = builtinPlacements[placementStr] || {};\\n    return extends_default()({}, baseAlign, align);\\n}\\nfunction getPopupClassNameFromAlign(builtinPlacements, prefixCls, align) {\\n    var points = align.points;\\n    for (var placement in builtinPlacements) {\\n        if (builtinPlacements.hasOwnProperty(placement)) {\\n            if (isPointsEq(builtinPlacements[placement].points, points)) {\\n                return prefixCls + '-placement-' + placement;\\n            }\\n        }\\n    }\\n    return '';\\n}\\nfunction saveRef(name, component) {\\n    this[name] = component;\\n}\\n// CONCATENATED MODULE: ./node_modules/rmc-trigger/es/Popup.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Popup_Popup = function (_Component) {\\n    inherits_default()(Popup, _Component);\\n\\n    function Popup(props) {\\n        classCallCheck_default()(this, Popup);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Popup.__proto__ || Object.getPrototypeOf(Popup)).call(this, props));\\n\\n        _this.onAlign = function (popupDomNode, align) {\\n            var props = _this.props;\\n            var currentAlignClassName = props.getClassNameFromAlign(align);\\n            // FIX: https://github.com/react-component/trigger/issues/56\\n            // FIX: https://github.com/react-component/tooltip/issues/79\\n            if (_this.currentAlignClassName !== currentAlignClassName) {\\n                _this.currentAlignClassName = currentAlignClassName;\\n                popupDomNode.className = _this.getClassName(currentAlignClassName);\\n            }\\n            props.onAlign(popupDomNode, align);\\n        };\\n        _this.getTarget = function () {\\n            return _this.props.getRootDomNode();\\n        };\\n        _this.savePopupRef = saveRef.bind(_this, 'popupInstance');\\n        _this.saveAlignRef = saveRef.bind(_this, 'alignInstance');\\n        return _this;\\n    }\\n\\n    createClass_default()(Popup, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            this.rootNode = this.getPopupDomNode();\\n        }\\n    }, {\\n        key: 'getPopupDomNode',\\n        value: function getPopupDomNode() {\\n            return react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.findDOMNode(this.popupInstance);\\n        }\\n    }, {\\n        key: 'getMaskTransitionName',\\n        value: function getMaskTransitionName() {\\n            var props = this.props;\\n            var transitionName = props.maskTransitionName;\\n            var animation = props.maskAnimation;\\n            if (!transitionName && animation) {\\n                transitionName = props.prefixCls + '-' + animation;\\n            }\\n            return transitionName;\\n        }\\n    }, {\\n        key: 'getTransitionName',\\n        value: function getTransitionName() {\\n            var props = this.props;\\n            var transitionName = props.transitionName;\\n            if (!transitionName && props.animation) {\\n                transitionName = props.prefixCls + '-' + props.animation;\\n            }\\n            return transitionName;\\n        }\\n    }, {\\n        key: 'getClassName',\\n        value: function getClassName(currentAlignClassName) {\\n            return this.props.prefixCls + ' ' + this.props.className + ' ' + currentAlignClassName;\\n        }\\n    }, {\\n        key: 'getPopupElement',\\n        value: function getPopupElement() {\\n            var savePopupRef = this.savePopupRef,\\n                props = this.props;\\n            var align = props.align,\\n                style = props.style,\\n                visible = props.visible,\\n                prefixCls = props.prefixCls,\\n                destroyPopupOnHide = props.destroyPopupOnHide;\\n\\n            var className = this.getClassName(this.currentAlignClassName || props.getClassNameFromAlign(align));\\n            var hiddenClassName = prefixCls + '-hidden';\\n            if (!visible) {\\n                this.currentAlignClassName = null;\\n            }\\n            var newStyle = extends_default()({}, style, this.getZIndexStyle());\\n            var popupInnerProps = {\\n                className: className,\\n                prefixCls: prefixCls,\\n                ref: savePopupRef,\\n                style: newStyle\\n            };\\n            if (destroyPopupOnHide) {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    es_Animate,\\n                    { component: '', exclusive: true, transitionAppear: true, onAnimateLeave: props.onAnimateLeave, transitionName: this.getTransitionName() },\\n                    visible ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        rmc_align_es,\\n                        { target: this.getTarget, key: 'popup', ref: this.saveAlignRef, monitorWindowResize: true, align: align, onAlign: this.onAlign },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            es_PopupInner,\\n                            extends_default()({ visible: true }, popupInnerProps),\\n                            props.children\\n                        )\\n                    ) : null\\n                );\\n            }\\n            var alignOtherProps = {\\n                xVisible: visible\\n            };\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                es_Animate,\\n                { component: '', exclusive: true, transitionAppear: true, transitionName: this.getTransitionName(), onAnimateLeave: props.onAnimateLeave, showProp: 'xVisible' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    rmc_align_es,\\n                    extends_default()({ target: this.getTarget, key: 'popup', ref: this.saveAlignRef, monitorWindowResize: true }, alignOtherProps, { childrenProps: { visible: 'xVisible' }, disabled: !visible, align: align, onAlign: this.onAlign }),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        es_PopupInner,\\n                        extends_default()({ hiddenClassName: hiddenClassName }, popupInnerProps),\\n                        props.children\\n                    )\\n                )\\n            );\\n        }\\n    }, {\\n        key: 'getZIndexStyle',\\n        value: function getZIndexStyle() {\\n            var style = {};\\n            var props = this.props;\\n            if (props.zIndex !== undefined) {\\n                style.zIndex = props.zIndex;\\n            }\\n            return style;\\n        }\\n    }, {\\n        key: 'getMaskElement',\\n        value: function getMaskElement() {\\n            var props = this.props;\\n            var maskElement = void 0;\\n            if (props.mask) {\\n                var maskTransition = this.getMaskTransitionName();\\n                maskElement = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(rmc_trigger_es_LazyRenderBox, { style: this.getZIndexStyle(), key: 'mask', className: props.prefixCls + '-mask', hiddenClassName: props.prefixCls + '-mask-hidden', visible: props.visible });\\n                if (maskTransition) {\\n                    maskElement = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        es_Animate,\\n                        { key: 'mask', showProp: 'visible', transitionAppear: true, component: '', transitionName: maskTransition },\\n                        maskElement\\n                    );\\n                }\\n            }\\n            return maskElement;\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                null,\\n                this.getMaskElement(),\\n                this.getPopupElement()\\n            );\\n        }\\n    }]);\\n\\n    return Popup;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\n/* harmony default export */ var rmc_trigger_es_Popup = (Popup_Popup);\\n// CONCATENATED MODULE: ./node_modules/rmc-trigger/es/Trigger.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Trigger_IS_REACT_16 = !!reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createPortal;\\nfunction Trigger_noop() {}\\nfunction returnEmptyString() {\\n    return '';\\n}\\nfunction returnDocument() {\\n    return window.document;\\n}\\n\\nvar Trigger_Trigger = function (_React$Component) {\\n    inherits_default()(Trigger, _React$Component);\\n\\n    function Trigger() {\\n        classCallCheck_default()(this, Trigger);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Trigger.__proto__ || Object.getPrototypeOf(Trigger)).apply(this, arguments));\\n\\n        _this.onDocumentClick = function (event) {\\n            if (_this.props.mask && !_this.props.maskClosable) {\\n                return;\\n            }\\n            var target = event.target;\\n            var root = Object(react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"findDOMNode\\\"])(_this);\\n            var popupNode = _this.getPopupDomNode();\\n            if (!contains(root, target) && !contains(popupNode, target)) {\\n                _this.close();\\n            }\\n        };\\n        _this.getPopupAlign = function () {\\n            var props = _this.props;\\n            var popupPlacement = props.popupPlacement,\\n                popupAlign = props.popupAlign,\\n                builtinPlacements = props.builtinPlacements;\\n\\n            if (popupPlacement && builtinPlacements) {\\n                return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\\n            }\\n            return popupAlign;\\n        };\\n        _this.getRootDomNode = function () {\\n            return Object(react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"findDOMNode\\\"])(_this);\\n        };\\n        _this.getPopupClassNameFromAlign = function (align) {\\n            var className = [];\\n            var props = _this.props;\\n            var popupPlacement = props.popupPlacement,\\n                builtinPlacements = props.builtinPlacements,\\n                prefixCls = props.prefixCls;\\n\\n            if (popupPlacement && builtinPlacements) {\\n                className.push(getPopupClassNameFromAlign(builtinPlacements, prefixCls, align));\\n            }\\n            if (props.getPopupClassNameFromAlign) {\\n                className.push(props.getPopupClassNameFromAlign(align));\\n            }\\n            return className.join(' ');\\n        };\\n        _this.close = function () {\\n            if (_this.props.onClose) {\\n                _this.props.onClose();\\n            }\\n        };\\n        _this.onAnimateLeave = function () {\\n            if (_this.props.destroyPopupOnHide) {\\n                var container = _this._container;\\n                if (container) {\\n                    react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unmountComponentAtNode(container);\\n                    container.parentNode.removeChild(container);\\n                }\\n            }\\n        };\\n        _this.removeContainer = function () {\\n            var container = document.querySelector('#' + _this.props.prefixCls + '-container');\\n            if (container) {\\n                react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unmountComponentAtNode(container);\\n                container.parentNode.removeChild(container);\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Trigger, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            if (this.props.visible) {\\n                this.componentDidUpdate();\\n            }\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            if (this.props.visible) {\\n                if (!Trigger_IS_REACT_16) {\\n                    this.renderDialog(false);\\n                }\\n            }\\n            this.clearOutsideHandler();\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate() {\\n            var _this2 = this;\\n\\n            if (!Trigger_IS_REACT_16) {\\n                this.renderDialog(this.props.visible);\\n            }\\n            if (this.props.visible) {\\n                                if (!this.touchOutsideHandler) {\\n                                                            this.touchOutsideHandler = setTimeout(function () {\\n                        var currentDocument = _this2.props.getDocument();\\n                        _this2.touchOutsideHandler = addEventListener_default()(currentDocument, 'touchend', _this2.onDocumentClick);\\n                    });\\n                }\\n                return;\\n            }\\n            this.clearOutsideHandler();\\n        }\\n    }, {\\n        key: 'clearOutsideHandler',\\n        value: function clearOutsideHandler() {\\n            if (this.touchOutsideHandler) {\\n                if (this.touchOutsideHandler.remove) {\\n                    this.touchOutsideHandler.remove();\\n                }\\n                this.touchOutsideHandler = null;\\n            }\\n        }\\n    }, {\\n        key: 'getPopupDomNode',\\n        value: function getPopupDomNode() {\\n                        if (this._component && this._component.getPopupDomNode) {\\n                return this._component.getPopupDomNode();\\n            }\\n            return null;\\n        }\\n    }, {\\n        key: 'saveRef',\\n        value: function saveRef(el, visible) {\\n            this.popupRef = el;\\n            this._component = el;\\n            this.props.afterPopupVisibleChange(visible);\\n        }\\n    }, {\\n        key: 'getComponent',\\n        value: function getComponent(visible) {\\n            var _this3 = this;\\n\\n            var props = extends_default()({}, this.props);\\n            ['visible', 'onAnimateLeave'].forEach(function (key) {\\n                if (props.hasOwnProperty(key)) {\\n                    delete props[key];\\n                }\\n            });\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_trigger_es_Popup,\\n                { key: 'popup', ref: function ref(el) {\\n                        return _this3.saveRef(el, visible);\\n                    }, prefixCls: props.prefixCls, destroyPopupOnHide: props.destroyPopupOnHide, visible: visible, className: props.popupClassName, align: this.getPopupAlign(), onAlign: props.onPopupAlign, animation: props.popupAnimation, getClassNameFromAlign: this.getPopupClassNameFromAlign, getRootDomNode: this.getRootDomNode, style: props.popupStyle, mask: props.mask, zIndex: props.zIndex, transitionName: props.popupTransitionName, maskAnimation: props.maskAnimation, maskTransitionName: props.maskTransitionName, onAnimateLeave: this.onAnimateLeave },\\n                typeof props.popup === 'function' ? props.popup() : props.popup\\n            );\\n        }\\n    }, {\\n        key: 'getContainer',\\n        value: function getContainer() {\\n            if (!this._container) {\\n                var props = this.props;\\n                var popupContainer = document.createElement('div');\\n                                                popupContainer.style.position = 'absolute';\\n                popupContainer.style.top = '0';\\n                popupContainer.style.left = '0';\\n                popupContainer.style.width = '100%';\\n                var mountNode = props.getPopupContainer ? props.getPopupContainer(Object(react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"findDOMNode\\\"])(this)) : props.getDocument().body;\\n                mountNode.appendChild(popupContainer);\\n                this._container = popupContainer;\\n            }\\n            return this._container;\\n        }\\n    }, {\\n        key: 'renderDialog',\\n        value: function renderDialog(visible) {\\n            react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unstable_renderSubtreeIntoContainer(this, this.getComponent(visible), this.getContainer());\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var props = this.props;\\n            var children = props.children;\\n            var child = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.only(children);\\n            var newChildProps = {\\n                onClick: this.props.onTargetClick,\\n                key: 'trigger'\\n            };\\n            var trigger = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(child, newChildProps);\\n            if (!Trigger_IS_REACT_16) {\\n                return trigger;\\n            }\\n            var portal = void 0;\\n                        if (props.visible || this._component) {\\n                portal = react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createPortal(this.getComponent(props.visible), this.getContainer());\\n            }\\n            return [trigger, portal];\\n        }\\n    }]);\\n\\n    return Trigger;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_Trigger = (Trigger_Trigger);\\n\\nTrigger_Trigger.defaultProps = {\\n    prefixCls: 'rc-trigger-popup',\\n    getPopupClassNameFromAlign: returnEmptyString,\\n    getDocument: returnDocument,\\n    onPopupVisibleChange: Trigger_noop,\\n    afterPopupVisibleChange: Trigger_noop,\\n    onPopupAlign: Trigger_noop,\\n    popupClassName: '',\\n    popupStyle: {},\\n    destroyPopupOnHide: false,\\n    popupAlign: {},\\n    defaultPopupVisible: false,\\n    mask: false,\\n    maskClosable: true\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-trigger/es/index.js\\n\\n\\n\\n\\n\\n\\n\\nfunction es_noop() {}\\nfunction es_returnEmptyString() {\\n    return '';\\n}\\nfunction es_returnDocument() {\\n    return window.document;\\n}\\n\\nvar es_TriggerWrap = function (_React$Component) {\\n    inherits_default()(TriggerWrap, _React$Component);\\n\\n    function TriggerWrap(props) {\\n        classCallCheck_default()(this, TriggerWrap);\\n\\n        var _this = possibleConstructorReturn_default()(this, (TriggerWrap.__proto__ || Object.getPrototypeOf(TriggerWrap)).call(this, props));\\n\\n        _this.onTargetClick = function () {\\n            _this.setPopupVisible(!_this.state.popupVisible);\\n        };\\n        _this.onClose = function () {\\n            _this.setPopupVisible(false);\\n        };\\n        var popupVisible = void 0;\\n        if ('popupVisible' in props) {\\n            popupVisible = !!props.popupVisible;\\n        } else {\\n            popupVisible = !!props.defaultPopupVisible;\\n        }\\n        _this.state = {\\n            popupVisible: popupVisible\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(TriggerWrap, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if (nextProps.visible !== undefined) {\\n                this.setPopupVisible(nextProps.visible);\\n            }\\n        }\\n    }, {\\n        key: 'setPopupVisible',\\n        value: function setPopupVisible(visible) {\\n            if (this.state.popupVisible !== visible) {\\n                this.setState({\\n                    popupVisible: visible\\n                });\\n                this.props.onPopupVisibleChange(visible);\\n            }\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Trigger, extends_default()({ ref: function ref(el) {\\n                    return _this2.triggerRef = el;\\n                } }, this.props, { visible: this.state.popupVisible, onTargetClick: this.onTargetClick, onClose: this.onClose }));\\n        }\\n    }]);\\n\\n    return TriggerWrap;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nes_TriggerWrap.displayName = 'TriggerWrap';\\nes_TriggerWrap.defaultProps = {\\n    prefixCls: 'rc-trigger-popup',\\n    getPopupClassNameFromAlign: es_returnEmptyString,\\n    getDocument: es_returnDocument,\\n    onPopupVisibleChange: es_noop,\\n    afterPopupVisibleChange: es_noop,\\n    onPopupAlign: es_noop,\\n    popupClassName: '',\\n    popupStyle: {},\\n    destroyPopupOnHide: false,\\n    popupAlign: {},\\n    defaultPopupVisible: false,\\n    mask: false,\\n    maskClosable: true\\n};\\n/* harmony default export */ var rmc_trigger_es = (es_TriggerWrap);\\n// CONCATENATED MODULE: ./node_modules/rmc-tooltip/es/placements.js\\nvar autoAdjustOverflow = {\\n    adjustX: 1,\\n    adjustY: 1\\n};\\nvar placements_targetOffset = [0, 0];\\nvar placements = {\\n    left: {\\n        points: ['cr', 'cl'],\\n        overflow: autoAdjustOverflow,\\n        offset: [-4, 0],\\n        targetOffset: placements_targetOffset\\n    },\\n    right: {\\n        points: ['cl', 'cr'],\\n        overflow: autoAdjustOverflow,\\n        offset: [4, 0],\\n        targetOffset: placements_targetOffset\\n    },\\n    top: {\\n        points: ['bc', 'tc'],\\n        overflow: autoAdjustOverflow,\\n        offset: [0, -4],\\n        targetOffset: placements_targetOffset\\n    },\\n    bottom: {\\n        points: ['tc', 'bc'],\\n        overflow: autoAdjustOverflow,\\n        offset: [0, 4],\\n        targetOffset: placements_targetOffset\\n    },\\n    topLeft: {\\n        points: ['bl', 'tl'],\\n        overflow: autoAdjustOverflow,\\n        offset: [0, -4],\\n        targetOffset: placements_targetOffset\\n    },\\n    leftTop: {\\n        points: ['tr', 'tl'],\\n        overflow: autoAdjustOverflow,\\n        offset: [-4, 0],\\n        targetOffset: placements_targetOffset\\n    },\\n    topRight: {\\n        points: ['br', 'tr'],\\n        overflow: autoAdjustOverflow,\\n        offset: [0, -4],\\n        targetOffset: placements_targetOffset\\n    },\\n    rightTop: {\\n        points: ['tl', 'tr'],\\n        overflow: autoAdjustOverflow,\\n        offset: [4, 0],\\n        targetOffset: placements_targetOffset\\n    },\\n    bottomRight: {\\n        points: ['tr', 'br'],\\n        overflow: autoAdjustOverflow,\\n        offset: [0, 4],\\n        targetOffset: placements_targetOffset\\n    },\\n    rightBottom: {\\n        points: ['bl', 'br'],\\n        overflow: autoAdjustOverflow,\\n        offset: [4, 0],\\n        targetOffset: placements_targetOffset\\n    },\\n    bottomLeft: {\\n        points: ['tl', 'bl'],\\n        overflow: autoAdjustOverflow,\\n        offset: [0, 4],\\n        targetOffset: placements_targetOffset\\n    },\\n    leftBottom: {\\n        points: ['br', 'bl'],\\n        overflow: autoAdjustOverflow,\\n        offset: [-4, 0],\\n        targetOffset: placements_targetOffset\\n    }\\n};\\n/* harmony default export */ var es_placements = (placements);\\n// CONCATENATED MODULE: ./node_modules/rmc-tooltip/es/Tooltip.js\\n\\n\\n\\n\\n\\nvar Tooltip_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\nvar Tooltip_Tooltip = function (_Component) {\\n    inherits_default()(Tooltip, _Component);\\n\\n    function Tooltip() {\\n        classCallCheck_default()(this, Tooltip);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).apply(this, arguments));\\n\\n        _this.getPopupElement = function () {\\n            var _this$props = _this.props,\\n                arrowContent = _this$props.arrowContent,\\n                overlay = _this$props.overlay,\\n                prefixCls = _this$props.prefixCls;\\n\\n            return [reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: prefixCls + '-arrow', key: 'arrow' },\\n                arrowContent\\n            ), reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: prefixCls + '-inner', key: 'content' },\\n                typeof overlay === 'function' ? overlay() : overlay\\n            )];\\n        };\\n        _this.saveTrigger = function (node) {\\n            _this.trigger = node;\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Tooltip, [{\\n        key: 'getPopupDomNode',\\n        value: function getPopupDomNode() {\\n            return this.trigger.triggerRef.getPopupDomNode();\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                overlayClassName = _a.overlayClassName,\\n                overlayStyle = _a.overlayStyle,\\n                prefixCls = _a.prefixCls,\\n                children = _a.children,\\n                onVisibleChange = _a.onVisibleChange,\\n                afterVisibleChange = _a.afterVisibleChange,\\n                transitionName = _a.transitionName,\\n                animation = _a.animation,\\n                placement = _a.placement,\\n                align = _a.align,\\n                destroyTooltipOnHide = _a.destroyTooltipOnHide,\\n                defaultVisible = _a.defaultVisible,\\n                getTooltipContainer = _a.getTooltipContainer,\\n                restProps = Tooltip_rest(_a, [\\\"overlayClassName\\\", \\\"overlayStyle\\\", \\\"prefixCls\\\", \\\"children\\\", \\\"onVisibleChange\\\", \\\"afterVisibleChange\\\", \\\"transitionName\\\", \\\"animation\\\", \\\"placement\\\", \\\"align\\\", \\\"destroyTooltipOnHide\\\", \\\"defaultVisible\\\", \\\"getTooltipContainer\\\"]);\\n            var extraProps = extends_default()({}, restProps);\\n            if ('visible' in this.props) {\\n                extraProps.popupVisible = this.props.visible;\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_trigger_es,\\n                extends_default()({ popupClassName: overlayClassName, ref: this.saveTrigger, prefixCls: prefixCls, popup: this.getPopupElement, builtinPlacements: placements, popupPlacement: placement, popupAlign: align, getPopupContainer: getTooltipContainer, onPopupVisibleChange: onVisibleChange, afterPopupVisibleChange: afterVisibleChange, popupTransitionName: transitionName, popupAnimation: animation, defaultPopupVisible: defaultVisible, destroyPopupOnHide: destroyTooltipOnHide, popupStyle: overlayStyle }, extraProps),\\n                children\\n            );\\n        }\\n    }]);\\n\\n    return Tooltip;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\nTooltip_Tooltip.defaultProps = {\\n    prefixCls: 'rmc-tooltip',\\n    destroyTooltipOnHide: false,\\n    align: {},\\n    placement: 'right',\\n    arrowContent: null\\n};\\n/* harmony default export */ var es_Tooltip = (Tooltip_Tooltip);\\n// CONCATENATED MODULE: ./node_modules/rmc-tooltip/es/index.js\\n\\n/* harmony default export */ var rmc_tooltip_es = (es_Tooltip);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/popover/Item.js\\n\\n\\n\\n\\n\\n\\nvar Item_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\nvar Item_Item = function (_React$Component) {\\n    inherits_default()(Item, _React$Component);\\n\\n    function Item() {\\n        classCallCheck_default()(this, Item);\\n\\n        return possibleConstructorReturn_default()(this, (Item.__proto__ || Object.getPrototypeOf(Item)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Item, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                children = _a.children,\\n                className = _a.className,\\n                prefixCls = _a.prefixCls,\\n                icon = _a.icon,\\n                disabled = _a.disabled,\\n                firstItem = _a.firstItem,\\n                activeStyle = _a.activeStyle,\\n                restProps = Item_rest(_a, [\\\"children\\\", \\\"className\\\", \\\"prefixCls\\\", \\\"icon\\\", \\\"disabled\\\", \\\"firstItem\\\", \\\"activeStyle\\\"]);\\n            var cls = classnames_default()(prefixCls + '-item', className, defineProperty_default()({}, prefixCls + '-item-disabled', disabled));\\n            var activeClass = prefixCls + '-item-active ';\\n            if (firstItem) {\\n                activeClass += prefixCls + '-item-fix-active-arrow';\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_feedback_es[\\\"default\\\"],\\n                { disabled: disabled, activeClassName: activeClass, activeStyle: activeStyle },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    extends_default()({ className: cls }, restProps),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-item-container' },\\n                        icon ?\\n                        // tslint:disable-next-line:jsx-no-multiline-js\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'span',\\n                            { className: prefixCls + '-item-icon', 'aria-hidden': 'true' },\\n                            icon\\n                        ) : null,\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'span',\\n                            { className: prefixCls + '-item-content' },\\n                            children\\n                        )\\n                    )\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return Item;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var popover_Item = (Item_Item);\\n\\nItem_Item.defaultProps = {\\n    prefixCls: 'am-popover',\\n    disabled: false\\n};\\nItem_Item.myName = 'PopoverItem';\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/popover/index.js\\n\\n\\n\\n\\n\\nvar popover_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nfunction recursiveCloneChildren(children) {\\n    var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (ch, _) {\\n        return ch;\\n    };\\n\\n    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.map(children, function (child, index) {\\n        var newChild = cb(child, index);\\n        if (typeof newChild !== 'string' && typeof newChild !== 'number' && newChild && newChild.props && newChild.props.children) {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(newChild, {}, recursiveCloneChildren(newChild.props.children, cb));\\n        }\\n        return newChild;\\n    });\\n}\\n\\nvar popover_Popover = function (_React$Component) {\\n    inherits_default()(Popover, _React$Component);\\n\\n    function Popover() {\\n        classCallCheck_default()(this, Popover);\\n\\n        return possibleConstructorReturn_default()(this, (Popover.__proto__ || Object.getPrototypeOf(Popover)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Popover, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                overlay = _a.overlay,\\n                _a$onSelect = _a.onSelect,\\n                onSelect = _a$onSelect === undefined ? function () {} : _a$onSelect,\\n                restProps = popover_rest(_a, [\\\"overlay\\\", \\\"onSelect\\\"]);\\n            var overlayNode = recursiveCloneChildren(overlay, function (child, index) {\\n                var extraProps = { firstItem: false };\\n                if (child && typeof child !== 'string' && typeof child !== 'number' && child.type &&\\n                // Fixme: not sure where the `myName` came from.\\n                child.type.myName === 'PopoverItem' && !child.props.disabled) {\\n                    extraProps.onClick = function () {\\n                        return onSelect(child, index);\\n                    };\\n                    extraProps.firstItem = index === 0;\\n                    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(child, extraProps);\\n                }\\n                return child;\\n            });\\n            var wrapperNode = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: this.props.prefixCls + '-inner-wrapper' },\\n                overlayNode\\n            );\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(rmc_tooltip_es, extends_default()({}, restProps, { overlay: wrapperNode }));\\n        }\\n    }]);\\n\\n    return Popover;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var popover = (popover_Popover);\\n\\npopover_Popover.defaultProps = {\\n    prefixCls: 'am-popover',\\n    placement: 'bottomRight',\\n    align: { overflow: { adjustY: 0, adjustX: 0 } },\\n    trigger: ['click']\\n};\\npopover_Popover.Item = popover_Item;\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/progress/index.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar progress_Progress = function (_React$Component) {\\n    inherits_default()(Progress, _React$Component);\\n\\n    function Progress() {\\n        classCallCheck_default()(this, Progress);\\n\\n        return possibleConstructorReturn_default()(this, (Progress.__proto__ || Object.getPrototypeOf(Progress)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Progress, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps() {\\n            this.noAppearTransition = true;\\n        }\\n    }, {\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            var _this2 = this;\\n\\n            if (this.props.appearTransition) {\\n                setTimeout(function () {\\n                    if (_this2.barRef) {\\n                        _this2.barRef.style.width = _this2.props.percent + '%';\\n                    }\\n                }, 10);\\n            }\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _classnames,\\n                _this3 = this;\\n\\n            var _props = this.props,\\n                className = _props.className,\\n                prefixCls = _props.prefixCls,\\n                position = _props.position,\\n                unfilled = _props.unfilled,\\n                _props$style = _props.style,\\n                style = _props$style === undefined ? {} : _props$style,\\n                _props$barStyle = _props.barStyle,\\n                barStyle = _props$barStyle === undefined ? {} : _props$barStyle;\\n\\n            var percentStyle = {\\n                width: this.noAppearTransition || !this.props.appearTransition ? this.props.percent + '%' : 0,\\n                height: 0\\n            };\\n            var wrapCls = classnames_default()(prefixCls + '-outer', className, (_classnames = {}, defineProperty_default()(_classnames, prefixCls + '-fixed-outer', position === 'fixed'), defineProperty_default()(_classnames, prefixCls + '-hide-outer', !unfilled), _classnames));\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { style: style, className: wrapCls, role: 'progressbar', 'aria-valuenow': this.props.percent, 'aria-valuemin': 0, 'aria-valuemax': 100 },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { ref: function ref(el) {\\n                        return _this3.barRef = el;\\n                    }, className: prefixCls + '-bar', style: extends_default()({}, barStyle, percentStyle) })\\n            );\\n        }\\n    }]);\\n\\n    return Progress;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var progress = (progress_Progress);\\n\\nprogress_Progress.defaultProps = {\\n    prefixCls: 'am-progress',\\n    percent: 0,\\n    position: 'fixed',\\n    unfilled: true,\\n    appearTransition: false\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-pull-to-refresh/es/PullToRefresh.js\\n\\n\\n\\n\\n\\nvar PullToRefresh_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nvar PullToRefresh_StaticRenderer = function (_React$Component) {\\n    inherits_default()(StaticRenderer, _React$Component);\\n\\n    function StaticRenderer() {\\n        classCallCheck_default()(this, StaticRenderer);\\n\\n        return possibleConstructorReturn_default()(this, (StaticRenderer.__proto__ || Object.getPrototypeOf(StaticRenderer)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(StaticRenderer, [{\\n        key: 'shouldComponentUpdate',\\n        value: function shouldComponentUpdate(nextProps) {\\n            return nextProps.shouldUpdate;\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                null,\\n                this.props.render()\\n            );\\n        }\\n    }]);\\n\\n    return StaticRenderer;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nfunction PullToRefresh_setTransform(nodeStyle, value) {\\n    nodeStyle.transform = value;\\n    nodeStyle.webkitTransform = value;\\n    nodeStyle.MozTransform = value;\\n}\\nvar isWebView = typeof navigator !== 'undefined' && /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);\\nvar DOWN = 'down';\\nvar UP = 'up';\\nvar INDICATOR = { activate: 'release', deactivate: 'pull', release: 'loading', finish: 'finish' };\\nvar supportsPassive = false;\\ntry {\\n    var opts = Object.defineProperty({}, 'passive', {\\n        get: function get() {\\n            supportsPassive = true;\\n        }\\n    });\\n    window.addEventListener('test', null, opts);\\n} catch (e) {\\n    // empty\\n}\\nvar willPreventDefault = supportsPassive ? { passive: false } : false;\\n// const willNotPreventDefault = supportsPassive ? { passive: true } : false;\\n\\nvar PullToRefresh_PullToRefresh = function (_React$Component2) {\\n    inherits_default()(PullToRefresh, _React$Component2);\\n\\n    function PullToRefresh() {\\n        classCallCheck_default()(this, PullToRefresh);\\n\\n        // https://github.com/yiminghe/zscroller/blob/2d97973287135745818a0537712235a39a6a62a1/src/Scroller.js#L355\\n        // currSt: `activate` / `deactivate` / `release` / `finish`\\n        var _this2 = possibleConstructorReturn_default()(this, (PullToRefresh.__proto__ || Object.getPrototypeOf(PullToRefresh)).apply(this, arguments));\\n\\n        _this2.state = {\\n            currSt: 'deactivate',\\n            dragOnEdge: false\\n        };\\n        _this2._isMounted = false;\\n        _this2.shouldUpdateChildren = false;\\n        _this2.triggerPullToRefresh = function () {\\n            //    pullToRefresh\\n            //  direction  up  visible length < content length \\n            // this._isMountedcurrStfinish\\n            if (!_this2.state.dragOnEdge && _this2._isMounted) {\\n                if (_this2.props.refreshing) {\\n                    if (_this2.props.direction === UP) {\\n                        _this2._lastScreenY = -_this2.props.distanceToRefresh - 1;\\n                    }\\n                    if (_this2.props.direction === DOWN) {\\n                        _this2._lastScreenY = _this2.props.distanceToRefresh + 1;\\n                    }\\n                    // change dom need after setState\\n                    _this2.setState({ currSt: 'release' }, function () {\\n                        return _this2.setContentStyle(_this2._lastScreenY);\\n                    });\\n                } else {\\n                    _this2.setState({ currSt: 'finish' }, function () {\\n                        return _this2.reset();\\n                    });\\n                }\\n            }\\n        };\\n        _this2.init = function (ele) {\\n            if (!ele) {\\n                // like return in destroy fn ???!!\\n                return;\\n            }\\n            _this2._to = {\\n                touchstart: _this2.onTouchStart.bind(_this2, ele),\\n                touchmove: _this2.onTouchMove.bind(_this2, ele),\\n                touchend: _this2.onTouchEnd.bind(_this2, ele),\\n                touchcancel: _this2.onTouchEnd.bind(_this2, ele)\\n            };\\n            Object.keys(_this2._to).forEach(function (key) {\\n                ele.addEventListener(key, _this2._to[key], willPreventDefault);\\n            });\\n        };\\n        _this2.destroy = function (ele) {\\n            if (!_this2._to || !ele) {\\n                // componentWillUnmount fire before componentDidMount, like forceUpdate ???!!\\n                return;\\n            }\\n            Object.keys(_this2._to).forEach(function (key) {\\n                ele.removeEventListener(key, _this2._to[key]);\\n            });\\n        };\\n        _this2.onTouchStart = function (_ele, e) {\\n            _this2._ScreenY = _this2._startScreenY = e.touches[0].screenY;\\n            //  refreshing  true  this._lastScreenY \\n            _this2._lastScreenY = _this2._lastScreenY || 0;\\n        };\\n        _this2.isEdge = function (ele, direction) {\\n            var container = _this2.props.getScrollContainer();\\n            if (container && container === document.body) {\\n                // In chrome61 `document.body.scrollTop` is invalid\\n                var scrollNode = document.scrollingElement ? document.scrollingElement : document.body;\\n                if (direction === UP) {\\n                    return scrollNode.scrollHeight - scrollNode.scrollTop <= window.innerHeight;\\n                }\\n                if (direction === DOWN) {\\n                    return scrollNode.scrollTop <= 0;\\n                }\\n            }\\n            if (direction === UP) {\\n                return ele.scrollHeight - ele.scrollTop === ele.clientHeight;\\n            }\\n            if (direction === DOWN) {\\n                return ele.scrollTop <= 0;\\n            }\\n        };\\n        _this2.damping = function (dy) {\\n            if (Math.abs(_this2._lastScreenY) > _this2.props.damping) {\\n                return 0;\\n            }\\n            var ratio = Math.abs(_this2._ScreenY - _this2._startScreenY) / window.screen.height;\\n            dy *= (1 - ratio) * 0.6;\\n            return dy;\\n        };\\n        _this2.onTouchMove = function (ele, e) {\\n            //  pageY \\n            var _screenY = e.touches[0].screenY;\\n            var direction = _this2.props.direction;\\n            // \\n\\n            if (direction === UP && _this2._startScreenY < _screenY || direction === DOWN && _this2._startScreenY > _screenY) {\\n                return;\\n            }\\n            if (_this2.isEdge(ele, direction)) {\\n                if (!_this2.state.dragOnEdge) {\\n                    // isEdgefalsethis._ScreenYisEdgetrue\\n                    // \\n                    _this2._ScreenY = _this2._startScreenY = e.touches[0].screenY;\\n                    _this2.setState({ dragOnEdge: true });\\n                }\\n                e.preventDefault();\\n                // add stopPropagation with fastclick will trigger content onClick event. why?\\n                // ref https://github.com/ant-design/ant-design-mobile/issues/2141\\n                // e.stopPropagation();\\n                var _diff = Math.round(_screenY - _this2._ScreenY);\\n                _this2._ScreenY = _screenY;\\n                _this2._lastScreenY += _this2.damping(_diff);\\n                _this2.setContentStyle(_this2._lastScreenY);\\n                if (Math.abs(_this2._lastScreenY) < _this2.props.distanceToRefresh) {\\n                    if (_this2.state.currSt !== 'deactivate') {\\n                        // console.log('back to the distance');\\n                        _this2.setState({ currSt: 'deactivate' });\\n                    }\\n                } else {\\n                    if (_this2.state.currSt === 'deactivate') {\\n                        // console.log('reach to the distance');\\n                        _this2.setState({ currSt: 'activate' });\\n                    }\\n                }\\n                // https://github.com/ant-design/ant-design-mobile/issues/573#issuecomment-339560829\\n                // iOS UIWebView issue, It seems no problem in WKWebView\\n                if (isWebView && e.changedTouches[0].clientY < 0) {\\n                    _this2.onTouchEnd();\\n                }\\n            }\\n        };\\n        _this2.onTouchEnd = function () {\\n            if (_this2.state.dragOnEdge) {\\n                _this2.setState({ dragOnEdge: false });\\n            }\\n            if (_this2.state.currSt === 'activate') {\\n                _this2.setState({ currSt: 'release' });\\n                _this2._timer = setTimeout(function () {\\n                    if (!_this2.props.refreshing) {\\n                        _this2.setState({ currSt: 'finish' }, function () {\\n                            return _this2.reset();\\n                        });\\n                    }\\n                    _this2._timer = undefined;\\n                }, 1000);\\n                _this2.props.onRefresh();\\n            } else {\\n                _this2.reset();\\n            }\\n        };\\n        _this2.reset = function () {\\n            _this2._lastScreenY = 0;\\n            _this2.setContentStyle(0);\\n        };\\n        _this2.setContentStyle = function (ty) {\\n            // todos: Why sometimes do not have `this.contentRef` ?\\n            if (_this2.contentRef) {\\n                PullToRefresh_setTransform(_this2.contentRef.style, 'translate3d(0px,' + ty + 'px,0)');\\n            }\\n        };\\n        return _this2;\\n    }\\n\\n    createClass_default()(PullToRefresh, [{\\n        key: 'shouldComponentUpdate',\\n        value: function shouldComponentUpdate(nextProps) {\\n            this.shouldUpdateChildren = this.props.children !== nextProps.children;\\n            return true;\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate(prevProps) {\\n            if (prevProps === this.props || prevProps.refreshing === this.props.refreshing) {\\n                return;\\n            }\\n            // triggerPullToRefresh  setState \\n            this.triggerPullToRefresh();\\n        }\\n    }, {\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            var _this3 = this;\\n\\n            // `getScrollContainer` most likely return React.Node at the next tick. Need setTimeout\\n            setTimeout(function () {\\n                _this3.init(_this3.props.getScrollContainer() || _this3.containerRef);\\n                _this3.triggerPullToRefresh();\\n                _this3._isMounted = true;\\n            });\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            // Should have no setTimeout here!\\n            this.destroy(this.props.getScrollContainer() || this.containerRef);\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this4 = this;\\n\\n            var props = extends_default()({}, this.props);\\n            delete props.damping;\\n\\n            var className = props.className,\\n                prefixCls = props.prefixCls,\\n                children = props.children,\\n                getScrollContainer = props.getScrollContainer,\\n                direction = props.direction,\\n                onRefresh = props.onRefresh,\\n                refreshing = props.refreshing,\\n                indicator = props.indicator,\\n                distanceToRefresh = props.distanceToRefresh,\\n                restProps = PullToRefresh_rest(props, [\\\"className\\\", \\\"prefixCls\\\", \\\"children\\\", \\\"getScrollContainer\\\", \\\"direction\\\", \\\"onRefresh\\\", \\\"refreshing\\\", \\\"indicator\\\", \\\"distanceToRefresh\\\"]);\\n\\n            var renderChildren = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(PullToRefresh_StaticRenderer, { shouldUpdate: this.shouldUpdateChildren, render: function render() {\\n                    return children;\\n                } });\\n            var renderRefresh = function renderRefresh(cls) {\\n                var cla = classnames_default()(cls, !_this4.state.dragOnEdge && prefixCls + '-transition');\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-content-wrapper' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: cla, ref: function ref(el) {\\n                                return _this4.contentRef = el;\\n                            } },\\n                        direction === UP ? renderChildren : null,\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'div',\\n                            { className: prefixCls + '-indicator' },\\n                            indicator[_this4.state.currSt] || INDICATOR[_this4.state.currSt]\\n                        ),\\n                        direction === DOWN ? renderChildren : null\\n                    )\\n                );\\n            };\\n            if (getScrollContainer()) {\\n                return renderRefresh(prefixCls + '-content ' + prefixCls + '-' + direction);\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({ ref: function ref(el) {\\n                        return _this4.containerRef = el;\\n                    }, className: classnames_default()(className, prefixCls, prefixCls + '-' + direction) }, restProps),\\n                renderRefresh(prefixCls + '-content')\\n            );\\n        }\\n    }]);\\n\\n    return PullToRefresh;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_PullToRefresh = (PullToRefresh_PullToRefresh);\\n\\nPullToRefresh_PullToRefresh.defaultProps = {\\n    prefixCls: 'rmc-pull-to-refresh',\\n    getScrollContainer: function getScrollContainer() {\\n        return undefined;\\n    },\\n    direction: DOWN,\\n    distanceToRefresh: 25,\\n    damping: 100,\\n    indicator: INDICATOR\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-pull-to-refresh/es/index.js\\n\\n/* harmony default export */ var rmc_pull_to_refresh_es = (es_PullToRefresh);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/pull-to-refresh/index.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar pull_to_refresh_PullToRefresh = function (_React$Component) {\\n    inherits_default()(PullToRefresh, _React$Component);\\n\\n    function PullToRefresh() {\\n        classCallCheck_default()(this, PullToRefresh);\\n\\n        return possibleConstructorReturn_default()(this, (PullToRefresh.__proto__ || Object.getPrototypeOf(PullToRefresh)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(PullToRefresh, [{\\n        key: 'render',\\n        value: function render() {\\n            // tslint:disable-next-line:variable-name\\n            var _getComponentLocale = getComponentLocale(this.props, this.context, 'PullToRefresh', function () {\\n                return __webpack_require__(/*! ./locale/zh_CN */ \\\"nmEG\\\");\\n            }),\\n                activateText = _getComponentLocale.activateText,\\n                deactivateText = _getComponentLocale.deactivateText,\\n                finishText = _getComponentLocale.finishText;\\n\\n            var ind = extends_default()({ activate: activateText, deactivate: deactivateText, release: reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_icon, { type: 'loading' }), finish: finishText }, this.props.indicator);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(rmc_pull_to_refresh_es, extends_default()({}, this.props, { indicator: ind }));\\n        }\\n    }]);\\n\\n    return PullToRefresh;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var pull_to_refresh = (pull_to_refresh_PullToRefresh);\\n\\npull_to_refresh_PullToRefresh.defaultProps = {\\n    prefixCls: 'am-pull-to-refresh'\\n};\\npull_to_refresh_PullToRefresh.contextTypes = {\\n    antLocale: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/result/index.js\\n\\n\\n\\n\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\nvar result_Result = function (_React$Component) {\\n    inherits_default()(Result, _React$Component);\\n\\n    function Result() {\\n        classCallCheck_default()(this, Result);\\n\\n        return possibleConstructorReturn_default()(this, (Result.__proto__ || Object.getPrototypeOf(Result)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Result, [{\\n        key: 'render',\\n        value: function render() {\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                className = _props.className,\\n                style = _props.style,\\n                img = _props.img,\\n                imgUrl = _props.imgUrl,\\n                title = _props.title,\\n                message = _props.message,\\n                buttonText = _props.buttonText,\\n                onButtonClick = _props.onButtonClick,\\n                buttonType = _props.buttonType;\\n\\n            var imgContent = null;\\n            if (img) {\\n                imgContent = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-pic' },\\n                    img\\n                );\\n            } else if (imgUrl) {\\n                imgContent = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-pic', style: { backgroundImage: 'url(' + imgUrl + ')' } });\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: classnames_default()(prefixCls, className), style: style, role: 'alert' },\\n                imgContent,\\n                title ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-title' },\\n                    title\\n                ) : null,\\n                message ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-message' },\\n                    message\\n                ) : null,\\n                buttonText ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-button' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        es_button,\\n                        { type: buttonType, onClick: onButtonClick },\\n                        buttonText\\n                    )\\n                ) : null\\n            );\\n        }\\n    }]);\\n\\n    return Result;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_result = (result_Result);\\n\\nresult_Result.defaultProps = {\\n    prefixCls: 'am-result',\\n    buttonType: '',\\n    onButtonClick: function onButtonClick() {}\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/search-bar/PropsType.js\\nfunction PropsType_noop() {}\\nvar defaultProps = {\\n    prefixCls: 'am-search',\\n    placeholder: '',\\n    onSubmit: PropsType_noop,\\n    onChange: PropsType_noop,\\n    onFocus: PropsType_noop,\\n    onBlur: PropsType_noop,\\n    onClear: PropsType_noop,\\n    showCancelButton: false,\\n    disabled: false\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/search-bar/index.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfunction onNextFrame(cb) {\\n    if (window.requestAnimationFrame) {\\n        return window.requestAnimationFrame(cb);\\n    }\\n    return window.setTimeout(cb, 1);\\n}\\nfunction clearNextFrameAction(nextFrameId) {\\n    if (window.cancelAnimationFrame) {\\n        window.cancelAnimationFrame(nextFrameId);\\n    } else {\\n        window.clearTimeout(nextFrameId);\\n    }\\n}\\n\\nvar search_bar_SearchBar = function (_React$Component) {\\n    inherits_default()(SearchBar, _React$Component);\\n\\n    function SearchBar(props) {\\n        classCallCheck_default()(this, SearchBar);\\n\\n        var _this = possibleConstructorReturn_default()(this, (SearchBar.__proto__ || Object.getPrototypeOf(SearchBar)).call(this, props));\\n\\n        _this.onSubmit = function (e) {\\n            e.preventDefault();\\n            if (_this.props.onSubmit) {\\n                _this.props.onSubmit(_this.state.value || '');\\n            }\\n            if (_this.inputRef) {\\n                _this.inputRef.blur();\\n            }\\n        };\\n        _this.onChange = function (e) {\\n            if (!_this.state.focus) {\\n                _this.setState({\\n                    focus: true\\n                });\\n            }\\n            var value = e.target.value;\\n            if (!('value' in _this.props)) {\\n                _this.setState({ value: value });\\n            }\\n            if (_this.props.onChange) {\\n                _this.props.onChange(value);\\n            }\\n        };\\n        _this.onFocus = function () {\\n            _this.setState({\\n                focus: true\\n            });\\n            _this.firstFocus = true;\\n            if (_this.props.onFocus) {\\n                _this.props.onFocus();\\n            }\\n        };\\n        _this.onBlur = function () {\\n            _this.onBlurTimeout = onNextFrame(function () {\\n                if (!_this.blurFromOnClear) {\\n                    if (document.activeElement !== _this.inputRef) {\\n                        _this.setState({\\n                            focus: false\\n                        });\\n                    }\\n                }\\n                _this.blurFromOnClear = false;\\n            });\\n            if (_this.props.onBlur) {\\n                _this.props.onBlur();\\n            }\\n        };\\n        _this.onClear = function () {\\n            _this.doClear();\\n        };\\n        _this.doClear = function () {\\n            var blurFromOnClear = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\\n\\n            _this.blurFromOnClear = blurFromOnClear;\\n            if (!('value' in _this.props)) {\\n                _this.setState({ value: '' });\\n            }\\n            if (_this.props.onClear) {\\n                _this.props.onClear('');\\n            }\\n            if (_this.props.onChange) {\\n                _this.props.onChange('');\\n            }\\n            if (blurFromOnClear) {\\n                _this.focus();\\n            }\\n        };\\n        _this.onCancel = function () {\\n            if (_this.props.onCancel) {\\n                _this.props.onCancel(_this.state.value || '');\\n            } else {\\n                _this.doClear(false);\\n            }\\n        };\\n        _this.focus = function () {\\n            if (_this.inputRef) {\\n                _this.inputRef.focus();\\n            }\\n        };\\n        var value = void 0;\\n        if ('value' in props) {\\n            value = props.value || '';\\n        } else if ('defaultValue' in props) {\\n            value = props.defaultValue;\\n        } else {\\n            value = '';\\n        }\\n        _this.state = {\\n            value: value,\\n            focus: false\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(SearchBar, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            if (this.rightBtnRef) {\\n                var initBtn = window.getComputedStyle(this.rightBtnRef);\\n                this.rightBtnInitMarginleft = initBtn.marginLeft;\\n            }\\n            this.componentDidUpdate();\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate() {\\n            if (this.syntheticPhRef) {\\n                if (this.inputContainerRef && this.inputContainerRef.className.indexOf(this.props.prefixCls + '-start') > -1) {\\n                    //  ${this.props.prefixCls}-start \\n                    // offsetWidth \\n                    if (this.syntheticPhContainerRef) {\\n                        var realWidth = this.syntheticPhContainerRef.getBoundingClientRect().width; // \\n                        this.syntheticPhRef.style.width = Math.ceil(realWidth) + 'px';\\n                    }\\n                    if (!this.props.showCancelButton && this.rightBtnRef) {\\n                        this.rightBtnRef.style.marginRight = '0';\\n                    }\\n                } else {\\n                    this.syntheticPhRef.style.width = '100%';\\n                    if (!this.props.showCancelButton && this.rightBtnRef) {\\n                        this.rightBtnRef.style.marginRight = '-' + (this.rightBtnRef.offsetWidth + (this.rightBtnInitMarginleft != null ? parseInt(this.rightBtnInitMarginleft, 10) : 0)) + 'px';\\n                    }\\n                }\\n            }\\n        }\\n    }, {\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if ('value' in nextProps && nextProps.value !== this.state.value) {\\n                this.setState({\\n                    value: nextProps.value\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            if (this.onBlurTimeout) {\\n                clearNextFrameAction(this.onBlurTimeout);\\n                this.onBlurTimeout = null;\\n            }\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _classnames3,\\n                _this2 = this;\\n\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                showCancelButton = _props.showCancelButton,\\n                disabled = _props.disabled,\\n                placeholder = _props.placeholder,\\n                className = _props.className,\\n                style = _props.style,\\n                maxLength = _props.maxLength;\\n            // tslint:disable-next-line:variable-name\\n\\n            var _locale = getComponentLocale(this.props, this.context, 'SearchBar', function () {\\n                return __webpack_require__(/*! ./locale/zh_CN */ \\\"hZiy\\\");\\n            });\\n            var cancelText = _locale.cancelText;\\n            var _state = this.state,\\n                value = _state.value,\\n                focus = _state.focus;\\n\\n            var wrapCls = classnames_default()(prefixCls, className, defineProperty_default()({}, prefixCls + '-start', !!(focus || value && value.length > 0)));\\n            var clearCls = classnames_default()(prefixCls + '-clear', defineProperty_default()({}, prefixCls + '-clear-show', !!(focus && value && value.length > 0)));\\n            var cancelCls = classnames_default()(prefixCls + '-cancel', (_classnames3 = {}, defineProperty_default()(_classnames3, prefixCls + '-cancel-show', !!(showCancelButton || focus || value && value.length > 0)), defineProperty_default()(_classnames3, prefixCls + '-cancel-anim', this.firstFocus), _classnames3));\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'form',\\n                { onSubmit: this.onSubmit, className: wrapCls, style: style, ref: function ref(el) {\\n                        return _this2.inputContainerRef = el;\\n                    }, action: '#' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-input' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-synthetic-ph', ref: function ref(el) {\\n                                return _this2.syntheticPhRef = el;\\n                            } },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'span',\\n                            { className: prefixCls + '-synthetic-ph-container', ref: function ref(el) {\\n                                    return _this2.syntheticPhContainerRef = el;\\n                                } },\\n                            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('i', { className: prefixCls + '-synthetic-ph-icon' }),\\n                            reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                                'span',\\n                                { className: prefixCls + '-synthetic-ph-placeholder'\\n                                    // tslint:disable-next-line:jsx-no-multiline-js\\n                                    , style: {\\n                                        visibility: placeholder && !value ? 'visible' : 'hidden'\\n                                    } },\\n                                placeholder\\n                            )\\n                        )\\n                    ),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('input', extends_default()({ type: 'search', className: prefixCls + '-value', value: value, disabled: disabled, placeholder: placeholder, onChange: this.onChange, onFocus: this.onFocus, onBlur: this.onBlur, ref: function ref(el) {\\n                            return _this2.inputRef = el;\\n                        }, maxLength: maxLength }, getDataAttr(this.props))),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        rmc_feedback_es[\\\"default\\\"],\\n                        { activeClassName: prefixCls + '-clear-active' },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('a', { onClick: this.onClear, className: clearCls })\\n                    )\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: cancelCls, onClick: this.onCancel, ref: function ref(el) {\\n                            return _this2.rightBtnRef = el;\\n                        } },\\n                    this.props.cancelText || cancelText\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return SearchBar;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var search_bar = (search_bar_SearchBar);\\n\\nsearch_bar_SearchBar.defaultProps = defaultProps;\\nsearch_bar_SearchBar.contextTypes = {\\n    antLocale: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/segmented-control/index.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar segmented_control_SegmentedControl = function (_React$Component) {\\n    inherits_default()(SegmentedControl, _React$Component);\\n\\n    function SegmentedControl(props) {\\n        classCallCheck_default()(this, SegmentedControl);\\n\\n        var _this = possibleConstructorReturn_default()(this, (SegmentedControl.__proto__ || Object.getPrototypeOf(SegmentedControl)).call(this, props));\\n\\n        _this.state = {\\n            selectedIndex: props.selectedIndex\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(SegmentedControl, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if (nextProps.selectedIndex !== this.state.selectedIndex) {\\n                this.setState({\\n                    selectedIndex: nextProps.selectedIndex\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'onClick',\\n        value: function onClick(e, index, value) {\\n            var _props = this.props,\\n                disabled = _props.disabled,\\n                onChange = _props.onChange,\\n                onValueChange = _props.onValueChange;\\n\\n            if (!disabled && this.state.selectedIndex !== index) {\\n                // just do a mock so that the api to be the same as react-native\\n                e.nativeEvent = e.nativeEvent ? e.nativeEvent : {};\\n                e.nativeEvent.selectedSegmentIndex = index;\\n                e.nativeEvent.value = value;\\n                if (onChange) {\\n                    onChange(e);\\n                }\\n                if (onValueChange) {\\n                    onValueChange(value);\\n                }\\n                this.setState({\\n                    selectedIndex: index\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'renderSegmentItem',\\n        value: function renderSegmentItem(idx, value, selected) {\\n            var _this2 = this;\\n\\n            var _props2 = this.props,\\n                prefixCls = _props2.prefixCls,\\n                disabled = _props2.disabled,\\n                tintColor = _props2.tintColor;\\n\\n            var itemCls = classnames_default()(prefixCls + '-item', defineProperty_default()({}, prefixCls + '-item-selected', selected));\\n            var itemStyle = {\\n                color: selected ? '#fff' : tintColor,\\n                backgroundColor: selected ? tintColor : 'transparent',\\n                borderColor: tintColor\\n            };\\n            var activeInnerStyle = tintColor ? {\\n                backgroundColor: tintColor\\n            } : {};\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_feedback_es[\\\"default\\\"],\\n                { key: idx, disabled: disabled, activeClassName: prefixCls + '-item-active' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: itemCls, style: itemStyle, role: 'tab', 'aria-selected': selected && !disabled, 'aria-disabled': disabled, onClick: disabled ? undefined : function (e) {\\n                            return _this2.onClick(e, idx, value);\\n                        } },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-item-inner', style: activeInnerStyle }),\\n                    value\\n                )\\n            );\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this3 = this;\\n\\n            var _props3 = this.props,\\n                className = _props3.className,\\n                prefixCls = _props3.prefixCls,\\n                style = _props3.style,\\n                disabled = _props3.disabled,\\n                _props3$values = _props3.values,\\n                values = _props3$values === undefined ? [] : _props3$values;\\n\\n            var wrapCls = classnames_default()(className, prefixCls, defineProperty_default()({}, prefixCls + '-disabled', disabled));\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: wrapCls, style: style, role: 'tablist' },\\n                values.map(function (value, idx) {\\n                    return (\\n                        // tslint:disable-next-line:jsx-no-multiline-js\\n                        _this3.renderSegmentItem(idx, value, idx === _this3.state.selectedIndex)\\n                    );\\n                })\\n            );\\n        }\\n    }]);\\n\\n    return SegmentedControl;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var segmented_control = (segmented_control_SegmentedControl);\\n\\nsegmented_control_SegmentedControl.defaultProps = {\\n    prefixCls: 'am-segment',\\n    selectedIndex: 0,\\n    disabled: false,\\n    values: [],\\n    onChange: function onChange() {},\\n    onValueChange: function onValueChange() {},\\n\\n    style: {},\\n    tintColor: ''\\n};\\n// CONCATENATED MODULE: ./node_modules/rc-slider/es/common/Track.js\\n\\n/* eslint-disable react/prop-types */\\n\\n\\nvar Track_Track = function Track(props) {\\n  var className = props.className,\\n      included = props.included,\\n      vertical = props.vertical,\\n      offset = props.offset,\\n      length = props.length,\\n      style = props.style;\\n\\n\\n  var positonStyle = vertical ? {\\n    bottom: offset + '%',\\n    height: length + '%'\\n  } : {\\n    left: offset + '%',\\n    width: length + '%'\\n  };\\n\\n  var elStyle = extends_default()({\\n    visibility: included ? 'visible' : 'hidden'\\n  }, style, positonStyle);\\n  return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: className, style: elStyle });\\n};\\n\\n/* harmony default export */ var common_Track = (Track_Track);\\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/get.js\\nvar get = __webpack_require__(\\\"tfYw\\\");\\nvar get_default = /*#__PURE__*/__webpack_require__.n(get);\\n\\n// CONCATENATED MODULE: ./node_modules/rc-slider/es/common/Steps.js\\n\\n\\n\\n\\n\\n\\nvar Steps_calcPoints = function calcPoints(vertical, marks, dots, step, min, max) {\\n  warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default()(dots ? step > 0 : true, '`Slider[step]` should be a positive number in order to make Slider[dots] work.');\\n  var points = Object.keys(marks).map(parseFloat);\\n  if (dots) {\\n    for (var i = min; i <= max; i = i + step) {\\n      if (points.indexOf(i) >= 0) continue;\\n      points.push(i);\\n    }\\n  }\\n  return points;\\n};\\n\\nvar Steps_Steps = function Steps(_ref) {\\n  var prefixCls = _ref.prefixCls,\\n      vertical = _ref.vertical,\\n      marks = _ref.marks,\\n      dots = _ref.dots,\\n      step = _ref.step,\\n      included = _ref.included,\\n      lowerBound = _ref.lowerBound,\\n      upperBound = _ref.upperBound,\\n      max = _ref.max,\\n      min = _ref.min,\\n      dotStyle = _ref.dotStyle,\\n      activeDotStyle = _ref.activeDotStyle;\\n\\n  var range = max - min;\\n  var elements = Steps_calcPoints(vertical, marks, dots, step, min, max).map(function (point) {\\n    var _classNames;\\n\\n    var offset = Math.abs(point - min) / range * 100 + '%';\\n\\n    var isActived = !included && point === upperBound || included && point <= upperBound && point >= lowerBound;\\n    var style = vertical ? extends_default()({ bottom: offset }, dotStyle) : extends_default()({ left: offset }, dotStyle);\\n    if (isActived) {\\n      style = extends_default()({}, style, activeDotStyle);\\n    }\\n\\n    var pointClassName = classnames_default()((_classNames = {}, defineProperty_default()(_classNames, prefixCls + '-dot', true), defineProperty_default()(_classNames, prefixCls + '-dot-active', isActived), _classNames));\\n\\n    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', { className: pointClassName, style: style, key: point });\\n  });\\n\\n  return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n    'div',\\n    { className: prefixCls + '-step' },\\n    elements\\n  );\\n};\\n\\n/* harmony default export */ var common_Steps = (Steps_Steps);\\n// CONCATENATED MODULE: ./node_modules/rc-slider/es/common/Marks.js\\n\\n\\n\\n\\n\\n\\nvar Marks_Marks = function Marks(_ref) {\\n  var className = _ref.className,\\n      vertical = _ref.vertical,\\n      marks = _ref.marks,\\n      included = _ref.included,\\n      upperBound = _ref.upperBound,\\n      lowerBound = _ref.lowerBound,\\n      max = _ref.max,\\n      min = _ref.min;\\n\\n  var marksKeys = Object.keys(marks);\\n  var marksCount = marksKeys.length;\\n  var unit = marksCount > 1 ? 100 / (marksCount - 1) : 100;\\n  var markWidth = unit * 0.9;\\n\\n  var range = max - min;\\n  var elements = marksKeys.map(parseFloat).sort(function (a, b) {\\n    return a - b;\\n  }).map(function (point) {\\n    var _classNames;\\n\\n    var isActive = !included && point === upperBound || included && point <= upperBound && point >= lowerBound;\\n    var markClassName = classnames_default()((_classNames = {}, defineProperty_default()(_classNames, className + '-text', true), defineProperty_default()(_classNames, className + '-text-active', isActive), _classNames));\\n\\n    var bottomStyle = {\\n      marginBottom: '-50%',\\n      bottom: (point - min) / range * 100 + '%'\\n    };\\n\\n    var leftStyle = {\\n      width: markWidth + '%',\\n      marginLeft: -markWidth / 2 + '%',\\n      left: (point - min) / range * 100 + '%'\\n    };\\n\\n    var style = vertical ? bottomStyle : leftStyle;\\n\\n    var markPoint = marks[point];\\n    var markPointIsObject = (typeof markPoint === 'undefined' ? 'undefined' : typeof_default()(markPoint)) === 'object' && !reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.isValidElement(markPoint);\\n    var markLabel = markPointIsObject ? markPoint.label : markPoint;\\n    var markStyle = markPointIsObject ? extends_default()({}, style, markPoint.style) : style;\\n    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n      'span',\\n      {\\n        className: markClassName,\\n        style: markStyle,\\n        key: point\\n      },\\n      markLabel\\n    );\\n  });\\n\\n  return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n    'div',\\n    { className: className },\\n    elements\\n  );\\n};\\n\\n/* harmony default export */ var common_Marks = (Marks_Marks);\\n// CONCATENATED MODULE: ./node_modules/rc-slider/es/Handle.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Handle_Handle = function (_React$Component) {\\n  inherits_default()(Handle, _React$Component);\\n\\n  function Handle() {\\n    classCallCheck_default()(this, Handle);\\n\\n    return possibleConstructorReturn_default()(this, (Handle.__proto__ || Object.getPrototypeOf(Handle)).apply(this, arguments));\\n  }\\n\\n  createClass_default()(Handle, [{\\n    key: 'render',\\n    value: function render() {\\n      var _props = this.props,\\n          className = _props.className,\\n          vertical = _props.vertical,\\n          offset = _props.offset,\\n          style = _props.style,\\n          disabled = _props.disabled,\\n          min = _props.min,\\n          max = _props.max,\\n          value = _props.value,\\n          restProps = objectWithoutProperties_default()(_props, ['className', 'vertical', 'offset', 'style', 'disabled', 'min', 'max', 'value']);\\n\\n      var postionStyle = vertical ? { bottom: offset + '%' } : { left: offset + '%' };\\n      var elStyle = extends_default()({}, style, postionStyle);\\n      var ariaProps = {};\\n      if (value !== undefined) {\\n        ariaProps = extends_default()({}, ariaProps, {\\n          'aria-valuemin': min,\\n          'aria-valuemax': max,\\n          'aria-valuenow': value,\\n          'aria-disabled': !!disabled\\n        });\\n      }\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', extends_default()({\\n        role: 'slider'\\n      }, ariaProps, restProps, {\\n        className: className,\\n        style: elStyle\\n      }));\\n    }\\n  }]);\\n\\n  return Handle;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_Handle = (Handle_Handle);\\n\\n\\nHandle_Handle.propTypes = {\\n  className: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  vertical: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  offset: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  style: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n  disabled: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  min: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  max: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  value: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number\\n};\\n// CONCATENATED MODULE: ./node_modules/rc-slider/es/utils.js\\n\\n\\n\\nfunction isEventFromHandle(e, handles) {\\n  return Object.keys(handles).some(function (key) {\\n    return e.target === Object(react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"findDOMNode\\\"])(handles[key]);\\n  });\\n}\\n\\nfunction isValueOutOfRange(value, _ref) {\\n  var min = _ref.min,\\n      max = _ref.max;\\n\\n  return value < min || value > max;\\n}\\n\\nfunction isNotTouchEvent(e) {\\n  return e.touches.length > 1 || e.type.toLowerCase() === 'touchend' && e.touches.length > 0;\\n}\\n\\nfunction getClosestPoint(val, _ref2) {\\n  var marks = _ref2.marks,\\n      step = _ref2.step,\\n      min = _ref2.min;\\n\\n  var points = Object.keys(marks).map(parseFloat);\\n  if (step !== null) {\\n    var closestStep = Math.round((val - min) / step) * step + min;\\n    points.push(closestStep);\\n  }\\n  var diffs = points.map(function (point) {\\n    return Math.abs(val - point);\\n  });\\n  return points[diffs.indexOf(Math.min.apply(Math, toConsumableArray_default()(diffs)))];\\n}\\n\\nfunction getPrecision(step) {\\n  var stepString = step.toString();\\n  var precision = 0;\\n  if (stepString.indexOf('.') >= 0) {\\n    precision = stepString.length - stepString.indexOf('.') - 1;\\n  }\\n  return precision;\\n}\\n\\nfunction getMousePosition(vertical, e) {\\n  return vertical ? e.clientY : e.pageX;\\n}\\n\\nfunction getTouchPosition(vertical, e) {\\n  return vertical ? e.touches[0].clientY : e.touches[0].pageX;\\n}\\n\\nfunction getHandleCenterPosition(vertical, handle) {\\n  var coords = handle.getBoundingClientRect();\\n  return vertical ? coords.top + coords.height * 0.5 : coords.left + coords.width * 0.5;\\n}\\n\\nfunction ensureValueInRange(val, _ref3) {\\n  var max = _ref3.max,\\n      min = _ref3.min;\\n\\n  if (val <= min) {\\n    return min;\\n  }\\n  if (val >= max) {\\n    return max;\\n  }\\n  return val;\\n}\\n\\nfunction ensureValuePrecision(val, props) {\\n  var step = props.step;\\n\\n  var closestPoint = getClosestPoint(val, props);\\n  return step === null ? closestPoint : parseFloat(closestPoint.toFixed(getPrecision(step)));\\n}\\n\\nfunction pauseEvent(e) {\\n  e.stopPropagation();\\n  e.preventDefault();\\n}\\n// CONCATENATED MODULE: ./node_modules/rc-slider/es/common/createSlider.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfunction createSlider_noop() {}\\n\\nfunction createSlider(Component) {\\n  var _class, _temp;\\n\\n  return _temp = _class = function (_Component) {\\n    inherits_default()(ComponentEnhancer, _Component);\\n\\n    function ComponentEnhancer(props) {\\n      classCallCheck_default()(this, ComponentEnhancer);\\n\\n      var _this = possibleConstructorReturn_default()(this, (ComponentEnhancer.__proto__ || Object.getPrototypeOf(ComponentEnhancer)).call(this, props));\\n\\n      _this.onMouseDown = function (e) {\\n        if (e.button !== 0) {\\n          return;\\n        }\\n\\n        var isVertical = _this.props.vertical;\\n        var position = getMousePosition(isVertical, e);\\n        if (!isEventFromHandle(e, _this.handlesRefs)) {\\n          _this.dragOffset = 0;\\n        } else {\\n          var handlePosition = getHandleCenterPosition(isVertical, e.target);\\n          _this.dragOffset = position - handlePosition;\\n          position = handlePosition;\\n        }\\n        _this.onStart(position);\\n        _this.addDocumentMouseEvents();\\n        pauseEvent(e);\\n      };\\n\\n      _this.onTouchStart = function (e) {\\n        if (isNotTouchEvent(e)) return;\\n\\n        var isVertical = _this.props.vertical;\\n        var position = getTouchPosition(isVertical, e);\\n        if (!isEventFromHandle(e, _this.handlesRefs)) {\\n          _this.dragOffset = 0;\\n        } else {\\n          var handlePosition = getHandleCenterPosition(isVertical, e.target);\\n          _this.dragOffset = position - handlePosition;\\n          position = handlePosition;\\n        }\\n        _this.onStart(position);\\n        _this.addDocumentTouchEvents();\\n        pauseEvent(e);\\n      };\\n\\n      _this.onMouseMove = function (e) {\\n        if (!_this.sliderRef) {\\n          _this.onEnd();\\n          return;\\n        }\\n        var position = getMousePosition(_this.props.vertical, e);\\n        _this.onMove(e, position - _this.dragOffset);\\n      };\\n\\n      _this.onTouchMove = function (e) {\\n        if (isNotTouchEvent(e) || !_this.sliderRef) {\\n          _this.onEnd();\\n          return;\\n        }\\n\\n        var position = getTouchPosition(_this.props.vertical, e);\\n        _this.onMove(e, position - _this.dragOffset);\\n      };\\n\\n      _this.saveSlider = function (slider) {\\n        _this.sliderRef = slider;\\n      };\\n\\n      if (true) {\\n        var step = props.step,\\n            max = props.max,\\n            min = props.min;\\n\\n        warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default()(step && Math.floor(step) === step ? (max - min) % step === 0 : true, 'Slider[max] - Slider[min] (%s) should be a multiple of Slider[step] (%s)', max - min, step);\\n      }\\n      _this.handlesRefs = {};\\n      return _this;\\n    }\\n\\n    createClass_default()(ComponentEnhancer, [{\\n      key: 'componentWillUnmount',\\n      value: function componentWillUnmount() {\\n        if (get_default()(ComponentEnhancer.prototype.__proto__ || Object.getPrototypeOf(ComponentEnhancer.prototype), 'componentWillUnmount', this)) get_default()(ComponentEnhancer.prototype.__proto__ || Object.getPrototypeOf(ComponentEnhancer.prototype), 'componentWillUnmount', this).call(this);\\n        this.removeDocumentEvents();\\n      }\\n    }, {\\n      key: 'addDocumentTouchEvents',\\n      value: function addDocumentTouchEvents() {\\n                this.onTouchMoveListener = addEventListenerWrap(document, 'touchmove', this.onTouchMove);\\n        this.onTouchUpListener = addEventListenerWrap(document, 'touchend', this.onEnd);\\n      }\\n    }, {\\n      key: 'addDocumentMouseEvents',\\n      value: function addDocumentMouseEvents() {\\n        this.onMouseMoveListener = addEventListenerWrap(document, 'mousemove', this.onMouseMove);\\n        this.onMouseUpListener = addEventListenerWrap(document, 'mouseup', this.onEnd);\\n      }\\n    }, {\\n      key: 'removeDocumentEvents',\\n      value: function removeDocumentEvents() {\\n        \\n        this.onTouchMoveListener && this.onTouchMoveListener.remove();\\n        this.onTouchUpListener && this.onTouchUpListener.remove();\\n\\n        this.onMouseMoveListener && this.onMouseMoveListener.remove();\\n        this.onMouseUpListener && this.onMouseUpListener.remove();\\n        \\n      }\\n    }, {\\n      key: 'getSliderStart',\\n      value: function getSliderStart() {\\n        var slider = this.sliderRef;\\n        var rect = slider.getBoundingClientRect();\\n\\n        return this.props.vertical ? rect.top : rect.left;\\n      }\\n    }, {\\n      key: 'getSliderLength',\\n      value: function getSliderLength() {\\n        var slider = this.sliderRef;\\n        if (!slider) {\\n          return 0;\\n        }\\n\\n        var coords = slider.getBoundingClientRect();\\n        return this.props.vertical ? coords.height : coords.width;\\n      }\\n    }, {\\n      key: 'calcValue',\\n      value: function calcValue(offset) {\\n        var _props = this.props,\\n            vertical = _props.vertical,\\n            min = _props.min,\\n            max = _props.max;\\n\\n        var ratio = Math.abs(Math.max(offset, 0) / this.getSliderLength());\\n        var value = vertical ? (1 - ratio) * (max - min) + min : ratio * (max - min) + min;\\n        return value;\\n      }\\n    }, {\\n      key: 'calcValueByPos',\\n      value: function calcValueByPos(position) {\\n        var pixelOffset = position - this.getSliderStart();\\n        var nextValue = this.trimAlignValue(this.calcValue(pixelOffset));\\n        return nextValue;\\n      }\\n    }, {\\n      key: 'calcOffset',\\n      value: function calcOffset(value) {\\n        var _props2 = this.props,\\n            min = _props2.min,\\n            max = _props2.max;\\n\\n        var ratio = (value - min) / (max - min);\\n        return ratio * 100;\\n      }\\n    }, {\\n      key: 'saveHandle',\\n      value: function saveHandle(index, handle) {\\n        this.handlesRefs[index] = handle;\\n      }\\n    }, {\\n      key: 'render',\\n      value: function render() {\\n        var _classNames;\\n\\n        var _props3 = this.props,\\n            prefixCls = _props3.prefixCls,\\n            className = _props3.className,\\n            marks = _props3.marks,\\n            dots = _props3.dots,\\n            step = _props3.step,\\n            included = _props3.included,\\n            disabled = _props3.disabled,\\n            vertical = _props3.vertical,\\n            min = _props3.min,\\n            max = _props3.max,\\n            children = _props3.children,\\n            maximumTrackStyle = _props3.maximumTrackStyle,\\n            style = _props3.style,\\n            railStyle = _props3.railStyle,\\n            dotStyle = _props3.dotStyle,\\n            activeDotStyle = _props3.activeDotStyle;\\n\\n        var _get$call = get_default()(ComponentEnhancer.prototype.__proto__ || Object.getPrototypeOf(ComponentEnhancer.prototype), 'render', this).call(this),\\n            tracks = _get$call.tracks,\\n            handles = _get$call.handles;\\n\\n        var sliderClassName = classnames_default()(prefixCls, (_classNames = {}, defineProperty_default()(_classNames, prefixCls + '-with-marks', Object.keys(marks).length), defineProperty_default()(_classNames, prefixCls + '-disabled', disabled), defineProperty_default()(_classNames, prefixCls + '-vertical', vertical), defineProperty_default()(_classNames, className, className), _classNames));\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          'div',\\n          {\\n            ref: this.saveSlider,\\n            className: sliderClassName,\\n            onTouchStart: disabled ? createSlider_noop : this.onTouchStart,\\n            onMouseDown: disabled ? createSlider_noop : this.onMouseDown,\\n            style: style\\n          },\\n          reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', {\\n            className: prefixCls + '-rail',\\n            style: extends_default()({}, maximumTrackStyle, railStyle)\\n          }),\\n          tracks,\\n          reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(common_Steps, {\\n            prefixCls: prefixCls,\\n            vertical: vertical,\\n            marks: marks,\\n            dots: dots,\\n            step: step,\\n            included: included,\\n            lowerBound: this.getLowerBound(),\\n            upperBound: this.getUpperBound(),\\n            max: max,\\n            min: min,\\n            dotStyle: dotStyle,\\n            activeDotStyle: activeDotStyle\\n          }),\\n          handles,\\n          reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(common_Marks, {\\n            className: prefixCls + '-mark',\\n            vertical: vertical,\\n            marks: marks,\\n            included: included,\\n            lowerBound: this.getLowerBound(),\\n            upperBound: this.getUpperBound(),\\n            max: max,\\n            min: min\\n          }),\\n          children\\n        );\\n      }\\n    }]);\\n\\n    return ComponentEnhancer;\\n  }(Component), _class.displayName = 'ComponentEnhancer(' + Component.displayName + ')', _class.propTypes = extends_default()({}, Component.propTypes, {\\n    min: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n    max: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n    step: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n    marks: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n    included: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n    className: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n    prefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n    disabled: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n    children: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.any,\\n    onBeforeChange: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n    onChange: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n    onAfterChange: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n    handle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n    dots: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n    vertical: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n    style: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n    minimumTrackStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,     maximumTrackStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,     handleStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOfType([prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.arrayOf(prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object)]),\\n    trackStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOfType([prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.arrayOf(prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object)]),\\n    railStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n    dotStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object,\\n    activeDotStyle: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n  }), _class.defaultProps = extends_default()({}, Component.defaultProps, {\\n    prefixCls: 'rc-slider',\\n    className: '',\\n    min: 0,\\n    max: 100,\\n    step: 1,\\n    marks: {},\\n    handle: function handle(_ref) {\\n      var index = _ref.index,\\n          restProps = objectWithoutProperties_default()(_ref, ['index']);\\n\\n      delete restProps.dragging;\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Handle, extends_default()({}, restProps, { key: index }));\\n    },\\n\\n    onBeforeChange: createSlider_noop,\\n    onChange: createSlider_noop,\\n    onAfterChange: createSlider_noop,\\n    included: true,\\n    disabled: false,\\n    dots: false,\\n    vertical: false,\\n    trackStyle: [{}],\\n    handleStyle: [{}],\\n    railStyle: {},\\n    dotStyle: {},\\n    activeDotStyle: {}\\n  }), _temp;\\n}\\n// CONCATENATED MODULE: ./node_modules/rc-slider/es/Slider.js\\n\\n\\n\\n\\n\\n/* eslint-disable react/prop-types */\\n\\n\\n\\n\\n\\n\\n\\nvar Slider_Slider = function (_React$Component) {\\n  inherits_default()(Slider, _React$Component);\\n\\n  function Slider(props) {\\n    classCallCheck_default()(this, Slider);\\n\\n    var _this = possibleConstructorReturn_default()(this, (Slider.__proto__ || Object.getPrototypeOf(Slider)).call(this, props));\\n\\n    _this.onEnd = function () {\\n      _this.setState({ dragging: false });\\n      _this.removeDocumentEvents();\\n      _this.props.onAfterChange(_this.getValue());\\n    };\\n\\n    var defaultValue = props.defaultValue !== undefined ? props.defaultValue : props.min;\\n    var value = props.value !== undefined ? props.value : defaultValue;\\n\\n    _this.state = {\\n      value: _this.trimAlignValue(value),\\n      dragging: false\\n    };\\n    if (true) {\\n      warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default()(!('minimumTrackStyle' in props), 'minimumTrackStyle will be deprecate, please use trackStyle instead.');\\n      warningfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default()(!('maximumTrackStyle' in props), 'maximumTrackStyle will be deprecate, please use railStyle instead.');\\n    }\\n    return _this;\\n  }\\n\\n  createClass_default()(Slider, [{\\n    key: 'componentWillReceiveProps',\\n    value: function componentWillReceiveProps(nextProps) {\\n      if (!('value' in nextProps || 'min' in nextProps || 'max' in nextProps)) return;\\n\\n      var prevValue = this.state.value;\\n      var value = nextProps.value !== undefined ? nextProps.value : prevValue;\\n      var nextValue = this.trimAlignValue(value, nextProps);\\n      if (nextValue === prevValue) return;\\n\\n      this.setState({ value: nextValue });\\n      if (isValueOutOfRange(value, nextProps)) {\\n        this.props.onChange(nextValue);\\n      }\\n    }\\n  }, {\\n    key: 'onChange',\\n    value: function onChange(state) {\\n      var props = this.props;\\n      var isNotControlled = !('value' in props);\\n      if (isNotControlled) {\\n        this.setState(state);\\n      }\\n\\n      var changedValue = state.value;\\n      props.onChange(changedValue);\\n    }\\n  }, {\\n    key: 'onStart',\\n    value: function onStart(position) {\\n      this.setState({ dragging: true });\\n      var props = this.props;\\n      var prevValue = this.getValue();\\n      props.onBeforeChange(prevValue);\\n\\n      var value = this.calcValueByPos(position);\\n      this.startValue = value;\\n      this.startPosition = position;\\n\\n      if (value === prevValue) return;\\n\\n      this.onChange({ value: value });\\n    }\\n  }, {\\n    key: 'onMove',\\n    value: function onMove(e, position) {\\n      pauseEvent(e);\\n      var state = this.state;\\n      var value = this.calcValueByPos(position);\\n      var oldValue = state.value;\\n      if (value === oldValue) return;\\n\\n      this.onChange({ value: value });\\n    }\\n  }, {\\n    key: 'getValue',\\n    value: function getValue() {\\n      return this.state.value;\\n    }\\n  }, {\\n    key: 'getLowerBound',\\n    value: function getLowerBound() {\\n      return this.props.min;\\n    }\\n  }, {\\n    key: 'getUpperBound',\\n    value: function getUpperBound() {\\n      return this.state.value;\\n    }\\n  }, {\\n    key: 'trimAlignValue',\\n    value: function trimAlignValue(v) {\\n      var nextProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\\n\\n      var mergedProps = extends_default()({}, this.props, nextProps);\\n      var val = ensureValueInRange(v, mergedProps);\\n      return ensureValuePrecision(val, mergedProps);\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this2 = this;\\n\\n      var _props = this.props,\\n          prefixCls = _props.prefixCls,\\n          vertical = _props.vertical,\\n          included = _props.included,\\n          disabled = _props.disabled,\\n          minimumTrackStyle = _props.minimumTrackStyle,\\n          trackStyle = _props.trackStyle,\\n          handleStyle = _props.handleStyle,\\n          min = _props.min,\\n          max = _props.max,\\n          handleGenerator = _props.handle;\\n      var _state = this.state,\\n          value = _state.value,\\n          dragging = _state.dragging;\\n\\n      var offset = this.calcOffset(value);\\n      var handle = handleGenerator({\\n        className: prefixCls + '-handle',\\n        vertical: vertical,\\n        offset: offset,\\n        value: value,\\n        dragging: dragging,\\n        disabled: disabled,\\n        min: min,\\n        max: max,\\n        style: handleStyle[0] || handleStyle,\\n        ref: function ref(h) {\\n          return _this2.saveHandle(0, h);\\n        }\\n      });\\n\\n      var _trackStyle = trackStyle[0] || trackStyle;\\n      var track = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(common_Track, {\\n        className: prefixCls + '-track',\\n        vertical: vertical,\\n        included: included,\\n        offset: 0,\\n        length: offset,\\n        style: extends_default()({}, minimumTrackStyle, _trackStyle)\\n      });\\n\\n      return { tracks: track, handles: handle };\\n    }\\n  }]);\\n\\n  return Slider;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nSlider_Slider.propTypes = {\\n  defaultValue: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  value: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  disabled: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool\\n};\\n\\n\\n/* harmony default export */ var es_Slider = (createSlider(Slider_Slider));\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/slider/index.js\\n\\n\\n\\n\\n\\n\\n\\nvar slider_Slider = function (_React$Component) {\\n    inherits_default()(Slider, _React$Component);\\n\\n    function Slider() {\\n        classCallCheck_default()(this, Slider);\\n\\n        return possibleConstructorReturn_default()(this, (Slider.__proto__ || Object.getPrototypeOf(Slider)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Slider, [{\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: this.props.prefixCls + '-wrapper' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Slider, this.props)\\n            );\\n        }\\n    }]);\\n\\n    return Slider;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var slider = (slider_Slider);\\n\\nslider_Slider.defaultProps = {\\n    prefixCls: 'am-slider'\\n};\\n// EXTERNAL MODULE: ./node_modules/shallowequal/modules/index.js\\nvar modules = __webpack_require__(\\\"utJ2\\\");\\nvar modules_default = /*#__PURE__*/__webpack_require__.n(modules);\\n\\n// CONCATENATED MODULE: ./node_modules/rc-slider/es/Range.js\\n\\n\\n\\n\\n\\n\\n\\n/* eslint-disable react/prop-types */\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Range_Range = function (_React$Component) {\\n  inherits_default()(Range, _React$Component);\\n\\n  function Range(props) {\\n    classCallCheck_default()(this, Range);\\n\\n    var _this = possibleConstructorReturn_default()(this, (Range.__proto__ || Object.getPrototypeOf(Range)).call(this, props));\\n\\n    _this.onEnd = function () {\\n      _this.setState({ handle: null });\\n      _this.removeDocumentEvents();\\n      _this.props.onAfterChange(_this.getValue());\\n    };\\n\\n    var count = props.count,\\n        min = props.min,\\n        max = props.max;\\n\\n    var initialValue = Array.apply(null, Array(count + 1)).map(function () {\\n      return min;\\n    });\\n    var defaultValue = 'defaultValue' in props ? props.defaultValue : initialValue;\\n    var value = props.value !== undefined ? props.value : defaultValue;\\n    var bounds = value.map(function (v) {\\n      return _this.trimAlignValue(v);\\n    });\\n    var recent = bounds[0] === max ? 0 : bounds.length - 1;\\n\\n    _this.state = {\\n      handle: null,\\n      recent: recent,\\n      bounds: bounds\\n    };\\n    return _this;\\n  }\\n\\n  createClass_default()(Range, [{\\n    key: 'componentWillReceiveProps',\\n    value: function componentWillReceiveProps(nextProps) {\\n      var _this2 = this;\\n\\n      if (!('value' in nextProps || 'min' in nextProps || 'max' in nextProps)) return;\\n      if (this.props.min === nextProps.min && this.props.max === nextProps.max && modules_default()(this.props.value, nextProps.value)) {\\n        return;\\n      }\\n      var bounds = this.state.bounds;\\n\\n      var value = nextProps.value || bounds;\\n      var nextBounds = value.map(function (v) {\\n        return _this2.trimAlignValue(v, nextProps);\\n      });\\n      if (nextBounds.length === bounds.length && nextBounds.every(function (v, i) {\\n        return v === bounds[i];\\n      })) return;\\n\\n      this.setState({ bounds: nextBounds });\\n      if (bounds.some(function (v) {\\n        return isValueOutOfRange(v, nextProps);\\n      })) {\\n        this.props.onChange(nextBounds);\\n      }\\n    }\\n  }, {\\n    key: 'onChange',\\n    value: function onChange(state) {\\n      var props = this.props;\\n      var isNotControlled = !('value' in props);\\n      if (isNotControlled) {\\n        this.setState(state);\\n      } else if (state.handle !== undefined) {\\n        this.setState({ handle: state.handle });\\n      }\\n\\n      var data = extends_default()({}, this.state, state);\\n      var changedValue = data.bounds;\\n      props.onChange(changedValue);\\n    }\\n  }, {\\n    key: 'onStart',\\n    value: function onStart(position) {\\n      var props = this.props;\\n      var state = this.state;\\n      var bounds = this.getValue();\\n      props.onBeforeChange(bounds);\\n\\n      var value = this.calcValueByPos(position);\\n      this.startValue = value;\\n      this.startPosition = position;\\n\\n      var closestBound = this.getClosestBound(value);\\n      var boundNeedMoving = this.getBoundNeedMoving(value, closestBound);\\n\\n      this.setState({\\n        handle: boundNeedMoving,\\n        recent: boundNeedMoving\\n      });\\n\\n      var prevValue = bounds[boundNeedMoving];\\n      if (value === prevValue) return;\\n\\n      var nextBounds = [].concat(toConsumableArray_default()(state.bounds));\\n      nextBounds[boundNeedMoving] = value;\\n      this.onChange({ bounds: nextBounds });\\n    }\\n  }, {\\n    key: 'onMove',\\n    value: function onMove(e, position) {\\n      pauseEvent(e);\\n      var props = this.props;\\n      var state = this.state;\\n\\n      var value = this.calcValueByPos(position);\\n      var oldValue = state.bounds[state.handle];\\n      if (value === oldValue) return;\\n\\n      var nextBounds = [].concat(toConsumableArray_default()(state.bounds));\\n      nextBounds[state.handle] = value;\\n      var nextHandle = state.handle;\\n      if (props.pushable !== false) {\\n        var originalValue = state.bounds[nextHandle];\\n        this.pushSurroundingHandles(nextBounds, nextHandle, originalValue);\\n      } else if (props.allowCross) {\\n        nextBounds.sort(function (a, b) {\\n          return a - b;\\n        });\\n        nextHandle = nextBounds.indexOf(value);\\n      }\\n      this.onChange({\\n        handle: nextHandle,\\n        bounds: nextBounds\\n      });\\n    }\\n  }, {\\n    key: 'getValue',\\n    value: function getValue() {\\n      return this.state.bounds;\\n    }\\n  }, {\\n    key: 'getClosestBound',\\n    value: function getClosestBound(value) {\\n      var bounds = this.state.bounds;\\n\\n      var closestBound = 0;\\n      for (var i = 1; i < bounds.length - 1; ++i) {\\n        if (value > bounds[i]) {\\n          closestBound = i;\\n        }\\n      }\\n      if (Math.abs(bounds[closestBound + 1] - value) < Math.abs(bounds[closestBound] - value)) {\\n        closestBound = closestBound + 1;\\n      }\\n      return closestBound;\\n    }\\n  }, {\\n    key: 'getBoundNeedMoving',\\n    value: function getBoundNeedMoving(value, closestBound) {\\n      var _state = this.state,\\n          bounds = _state.bounds,\\n          recent = _state.recent;\\n\\n      var boundNeedMoving = closestBound;\\n      var isAtTheSamePoint = bounds[closestBound + 1] === bounds[closestBound];\\n      if (isAtTheSamePoint) {\\n        boundNeedMoving = recent;\\n      }\\n\\n      if (isAtTheSamePoint && value !== bounds[closestBound + 1]) {\\n        boundNeedMoving = value < bounds[closestBound + 1] ? closestBound : closestBound + 1;\\n      }\\n      return boundNeedMoving;\\n    }\\n  }, {\\n    key: 'getLowerBound',\\n    value: function getLowerBound() {\\n      return this.state.bounds[0];\\n    }\\n  }, {\\n    key: 'getUpperBound',\\n    value: function getUpperBound() {\\n      var bounds = this.state.bounds;\\n\\n      return bounds[bounds.length - 1];\\n    }\\n\\n    /**\\n     * Returns an array of possible slider points, taking into account both\\n     * `marks` and `step`. The result is cached.\\n     */\\n\\n  }, {\\n    key: 'getPoints',\\n    value: function getPoints() {\\n      var _props = this.props,\\n          marks = _props.marks,\\n          step = _props.step,\\n          min = _props.min,\\n          max = _props.max;\\n\\n      var cache = this._getPointsCache;\\n      if (!cache || cache.marks !== marks || cache.step !== step) {\\n        var pointsObject = extends_default()({}, marks);\\n        if (step !== null) {\\n          for (var point = min; point <= max; point += step) {\\n            pointsObject[point] = point;\\n          }\\n        }\\n        var points = Object.keys(pointsObject).map(parseFloat);\\n        points.sort(function (a, b) {\\n          return a - b;\\n        });\\n        this._getPointsCache = { marks: marks, step: step, points: points };\\n      }\\n      return this._getPointsCache.points;\\n    }\\n  }, {\\n    key: 'pushSurroundingHandles',\\n    value: function pushSurroundingHandles(bounds, handle, originalValue) {\\n      var threshold = this.props.pushable;\\n\\n      var value = bounds[handle];\\n\\n      var direction = 0;\\n      if (bounds[handle + 1] - value < threshold) {\\n        direction = +1; // push to right\\n      }\\n      if (value - bounds[handle - 1] < threshold) {\\n        direction = -1; // push to left\\n      }\\n\\n      if (direction === 0) {\\n        return;\\n      }\\n\\n      var nextHandle = handle + direction;\\n      var diffToNext = direction * (bounds[nextHandle] - value);\\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\\n        // revert to original value if pushing is impossible\\n        bounds[handle] = originalValue;\\n      }\\n    }\\n  }, {\\n    key: 'pushHandle',\\n    value: function pushHandle(bounds, handle, direction, amount) {\\n      var originalValue = bounds[handle];\\n      var currentValue = bounds[handle];\\n      while (direction * (currentValue - originalValue) < amount) {\\n        if (!this.pushHandleOnePoint(bounds, handle, direction)) {\\n          // can't push handle enough to create the needed `amount` gap, so we\\n          // revert its position to the original value\\n          bounds[handle] = originalValue;\\n          return false;\\n        }\\n        currentValue = bounds[handle];\\n      }\\n      // the handle was pushed enough to create the needed `amount` gap\\n      return true;\\n    }\\n  }, {\\n    key: 'pushHandleOnePoint',\\n    value: function pushHandleOnePoint(bounds, handle, direction) {\\n      var points = this.getPoints();\\n      var pointIndex = points.indexOf(bounds[handle]);\\n      var nextPointIndex = pointIndex + direction;\\n      if (nextPointIndex >= points.length || nextPointIndex < 0) {\\n        // reached the minimum or maximum available point, can't push anymore\\n        return false;\\n      }\\n      var nextHandle = handle + direction;\\n      var nextValue = points[nextPointIndex];\\n      var threshold = this.props.pushable;\\n\\n      var diffToNext = direction * (bounds[nextHandle] - nextValue);\\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\\n        // couldn't push next handle, so we won't push this one either\\n        return false;\\n      }\\n      // push the handle\\n      bounds[handle] = nextValue;\\n      return true;\\n    }\\n  }, {\\n    key: 'trimAlignValue',\\n    value: function trimAlignValue(v) {\\n      var nextProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\\n\\n      var mergedProps = extends_default()({}, this.props, nextProps);\\n      var valInRange = ensureValueInRange(v, mergedProps);\\n      var valNotConflict = this.ensureValueNotConflict(valInRange, mergedProps);\\n      return ensureValuePrecision(valNotConflict, mergedProps);\\n    }\\n  }, {\\n    key: 'ensureValueNotConflict',\\n    value: function ensureValueNotConflict(val, _ref) {\\n      var allowCross = _ref.allowCross;\\n\\n      var state = this.state || {};\\n      var handle = state.handle,\\n          bounds = state.bounds;\\n      /* eslint-disable eqeqeq */\\n\\n      if (!allowCross && handle != null) {\\n        if (handle > 0 && val <= bounds[handle - 1]) {\\n          return bounds[handle - 1];\\n        }\\n        if (handle < bounds.length - 1 && val >= bounds[handle + 1]) {\\n          return bounds[handle + 1];\\n        }\\n      }\\n      /* eslint-enable eqeqeq */\\n      return val;\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this3 = this;\\n\\n      var _state2 = this.state,\\n          handle = _state2.handle,\\n          bounds = _state2.bounds;\\n      var _props2 = this.props,\\n          prefixCls = _props2.prefixCls,\\n          vertical = _props2.vertical,\\n          included = _props2.included,\\n          disabled = _props2.disabled,\\n          min = _props2.min,\\n          max = _props2.max,\\n          handleGenerator = _props2.handle,\\n          trackStyle = _props2.trackStyle,\\n          handleStyle = _props2.handleStyle;\\n\\n\\n      var offsets = bounds.map(function (v) {\\n        return _this3.calcOffset(v);\\n      });\\n\\n      var handleClassName = prefixCls + '-handle';\\n      var handles = bounds.map(function (v, i) {\\n        var _classNames;\\n\\n        return handleGenerator({\\n          className: classnames_default()((_classNames = {}, defineProperty_default()(_classNames, handleClassName, true), defineProperty_default()(_classNames, handleClassName + '-' + (i + 1), true), _classNames)),\\n          vertical: vertical,\\n          offset: offsets[i],\\n          value: v,\\n          dragging: handle === i,\\n          index: i,\\n          min: min,\\n          max: max,\\n          disabled: disabled,\\n          style: handleStyle[i],\\n          ref: function ref(h) {\\n            return _this3.saveHandle(i, h);\\n          }\\n        });\\n      });\\n\\n      var tracks = bounds.slice(0, -1).map(function (_, index) {\\n        var _classNames2;\\n\\n        var i = index + 1;\\n        var trackClassName = classnames_default()((_classNames2 = {}, defineProperty_default()(_classNames2, prefixCls + '-track', true), defineProperty_default()(_classNames2, prefixCls + '-track-' + i, true), _classNames2));\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(common_Track, {\\n          className: trackClassName,\\n          vertical: vertical,\\n          included: included,\\n          offset: offsets[i - 1],\\n          length: offsets[i] - offsets[i - 1],\\n          style: trackStyle[index],\\n          key: i\\n        });\\n      });\\n\\n      return { tracks: tracks, handles: handles };\\n    }\\n  }]);\\n\\n  return Range;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nRange_Range.displayName = 'Range';\\nRange_Range.propTypes = {\\n  defaultValue: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.arrayOf(prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number),\\n  value: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.arrayOf(prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number),\\n  count: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  pushable: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOfType([prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number]),\\n  allowCross: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool,\\n  disabled: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.bool\\n};\\nRange_Range.defaultProps = {\\n  count: 1,\\n  allowCross: true,\\n  pushable: false\\n};\\n\\n\\n/* harmony default export */ var es_Range = (createSlider(Range_Range));\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/range/index.js\\n\\n\\n\\n\\n\\n\\n\\nvar range_Range = function (_React$Component) {\\n    inherits_default()(Range, _React$Component);\\n\\n    function Range() {\\n        classCallCheck_default()(this, Range);\\n\\n        return possibleConstructorReturn_default()(this, (Range.__proto__ || Object.getPrototypeOf(Range)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Range, [{\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: this.props.prefixCls + '-wrapper' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_Range, this.props)\\n            );\\n        }\\n    }]);\\n\\n    return Range;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_range = (range_Range);\\n\\nrange_Range.defaultProps = {\\n    prefixCls: 'am-slider'\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-input-number/es/base.js\\n\\n\\n\\n\\n\\nfunction base_noop() {}\\nfunction defaultParser(input) {\\n    return input.replace(/[^\\\\w\\\\.-]+/g, '');\\n}\\n/**\\n * When click and hold on a button - the speed of auto changin the value.\\n */\\nvar SPEED = 200;\\n/**\\n * When click and hold on a button - the delay before auto changin the value.\\n */\\nvar DELAY = 600;\\n/**\\n * Max Safe Integer -- on IE this is not available, so manually set the number in that case.\\n * The reason this is used, instead of Infinity is because numbers above the MSI are unstable\\n */\\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\\n\\nvar base_BaseComponent = function (_React$Component) {\\n    inherits_default()(BaseComponent, _React$Component);\\n\\n    function BaseComponent(props) {\\n        classCallCheck_default()(this, BaseComponent);\\n\\n        var _this = possibleConstructorReturn_default()(this, (BaseComponent.__proto__ || Object.getPrototypeOf(BaseComponent)).call(this, props));\\n\\n        _this.onChange = function (e) {\\n            var _this$props = _this.props,\\n                parser = _this$props.parser,\\n                onChange = _this$props.onChange;\\n\\n            var input = parser && parser(_this.getValueFromEvent(e).trim());\\n            _this.setState({ inputValue: input });\\n            onChange && onChange(_this.toNumberWhenUserInput(input)); // valid number or invalid string\\n        };\\n        _this.onFocus = function () {\\n            _this.setState({\\n                focused: true\\n            });\\n            var onFocus = _this.props.onFocus;\\n\\n            onFocus && onFocus.apply(undefined, arguments);\\n        };\\n        _this.onBlur = function (e) {\\n            for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\\n                args[_key - 1] = arguments[_key];\\n            }\\n\\n            _this.setState({\\n                focused: false\\n            });\\n            var value = _this.getCurrentValidValue(_this.state.inputValue);\\n            e.persist(); // fix https://github.com/react-component/input-number/issues/51\\n            _this.setValue(value, function () {\\n                var onBlur = _this.props.onBlur;\\n\\n                onBlur && onBlur.apply(undefined, [e].concat(args));\\n            });\\n        };\\n        _this.getCurrentValidValue = function (value) {\\n            var val = value;\\n            if (val === '') {\\n                val = '';\\n            } else if (!_this.isNotCompleteNumber(val)) {\\n                val = _this.getValidValue(val);\\n            } else {\\n                val = _this.state.value;\\n            }\\n            return _this.toNumber(val);\\n        };\\n        _this.getValidValue = function (value) {\\n            var val = parseFloat(value);\\n            // https://github.com/ant-design/ant-design/issues/7358\\n            if (isNaN(val)) {\\n                return value;\\n            }\\n            if (val < _this.props.min) {\\n                val = _this.props.min;\\n            }\\n            if (val > _this.props.max) {\\n                val = _this.props.max;\\n            }\\n            return val;\\n        };\\n        _this.setValue = function (v, callback) {\\n            // trigger onChange\\n            var newValue = _this.isNotCompleteNumber(parseFloat(v)) ? undefined : parseFloat(v);\\n            var changed = newValue !== _this.state.value || '' + newValue !== '' + _this.state.inputValue; // https://github.com/ant-design/ant-design/issues/7363\\n            if (!('value' in _this.props)) {\\n                _this.setState({\\n                    value: newValue,\\n                    inputValue: _this.toPrecisionAsStep(v)\\n                }, callback);\\n            } else {\\n                // always set input value same as value\\n                _this.setState({\\n                    inputValue: _this.toPrecisionAsStep(_this.state.value)\\n                }, callback);\\n            }\\n            if (changed) {\\n                var onChange = _this.props.onChange;\\n\\n                onChange && onChange(newValue);\\n            }\\n        };\\n        _this.getPrecision = function (value) {\\n            if ('precision' in _this.props) {\\n                return _this.props.precision;\\n            }\\n            var valueString = value.toString();\\n            if (valueString.indexOf('e-') >= 0) {\\n                return parseInt(valueString.slice(valueString.indexOf('e-') + 2), 10);\\n            }\\n            var precision = 0;\\n            if (valueString.indexOf('.') >= 0) {\\n                precision = valueString.length - valueString.indexOf('.') - 1;\\n            }\\n            return precision;\\n        };\\n        // step={1.0} value={1.51}\\n        // press +\\n        // then value should be 2.51, rather than 2.5\\n        // if this.props.precision is undefined\\n        // https://github.com/react-component/input-number/issues/39\\n        _this.getMaxPrecision = function (currentValue) {\\n            var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\\n\\n            if ('precision' in _this.props) {\\n                return _this.props.precision;\\n            }\\n            var step = _this.props.step;\\n\\n            var ratioPrecision = _this.getPrecision(ratio);\\n            var stepPrecision = _this.getPrecision(step);\\n            var currentValuePrecision = _this.getPrecision(currentValue);\\n            if (!currentValue) {\\n                return ratioPrecision + stepPrecision;\\n            }\\n            return Math.max(currentValuePrecision, ratioPrecision + stepPrecision);\\n        };\\n        _this.getPrecisionFactor = function (currentValue) {\\n            var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\\n\\n            var precision = _this.getMaxPrecision(currentValue, ratio);\\n            return Math.pow(10, precision);\\n        };\\n        _this.toPrecisionAsStep = function (num) {\\n            if (_this.isNotCompleteNumber(num) || num === '') {\\n                return num;\\n            }\\n            var precision = Math.abs(_this.getMaxPrecision(num));\\n            if (!isNaN(precision)) {\\n                return Number(num).toFixed(precision);\\n            }\\n            return num.toString();\\n        };\\n        // '1.' '1x' 'xx' '' => are not complete numbers\\n        _this.isNotCompleteNumber = function (num) {\\n            return isNaN(num) || num === '' || num === null || num && num.toString().indexOf('.') === num.toString().length - 1;\\n        };\\n        _this.toNumber = function (num) {\\n            if (_this.isNotCompleteNumber(num)) {\\n                return num;\\n            }\\n            if ('precision' in _this.props) {\\n                return Number(Number(num).toFixed(_this.props.precision));\\n            }\\n            return Number(num);\\n        };\\n        // '1.0' '1.00'  => may be a inputing number\\n        _this.toNumberWhenUserInput = function (num) {\\n            // num.length > 16 => prevent input large number will became Infinity\\n            if ((/\\\\.\\\\d*0$/.test(num) || num.length > 16) && _this.state.focused) {\\n                return num;\\n            }\\n            return _this.toNumber(num);\\n        };\\n        _this.stepCompute = function (type, val, rat) {\\n            var _this$props2 = _this.props,\\n                step = _this$props2.step,\\n                min = _this$props2.min;\\n\\n            var precisionFactor = _this.getPrecisionFactor(val, rat);\\n            var precision = Math.abs(_this.getMaxPrecision(val, rat));\\n            var result = void 0;\\n            var direct = type === 'up' ? 1 : -1;\\n            if (typeof val === 'number') {\\n                result = ((precisionFactor * val + direct * precisionFactor * +step * rat) / precisionFactor).toFixed(precision);\\n            } else {\\n                result = min === -Infinity ? direct * +step : min;\\n            }\\n            return _this.toNumber(result);\\n        };\\n        _this.step = function (type, e) {\\n            var ratio = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\\n\\n            if (e) {\\n                e.preventDefault();\\n            }\\n            var props = _this.props;\\n            if (props.disabled) {\\n                return false;\\n            }\\n            var value = _this.getCurrentValidValue(_this.state.inputValue) || 0;\\n            if (_this.isNotCompleteNumber(value)) {\\n                return false;\\n            }\\n            var val = _this.stepCompute(type, value, ratio);\\n            var outOfRange = val > props.max || val < props.min;\\n            if (val > props.max) {\\n                val = props.max;\\n            } else if (val < props.min) {\\n                val = props.min;\\n            }\\n            _this.setValue(val);\\n            _this.setState({\\n                focused: true\\n            });\\n            return !outOfRange;\\n        };\\n        _this.stop = function () {\\n            if (_this.autoStepTimer) {\\n                clearTimeout(_this.autoStepTimer);\\n            }\\n        };\\n        _this.action = function (type, e, ratio, recursive) {\\n            if (e.persist) {\\n                e.persist();\\n            }\\n            _this.stop();\\n            if (_this.step(type, e, ratio)) {\\n                _this.autoStepTimer = setTimeout(function () {\\n                    _this.action(type, e, ratio, true);\\n                }, recursive ? SPEED : DELAY);\\n            }\\n        };\\n        _this.down = function (e, ratio, recursive) {\\n            _this.action('down', e, ratio, recursive);\\n        };\\n        _this.up = function (e, ratio, recursive) {\\n            _this.action('up', e, ratio, recursive);\\n        };\\n        var value = void 0;\\n        if ('value' in props) {\\n            value = props.value;\\n        } else {\\n            value = props.defaultValue;\\n        }\\n        value = _this.toNumber(value);\\n        _this.state = {\\n            inputValue: _this.toPrecisionAsStep(value),\\n            value: value,\\n            focused: props.autoFocus\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(BaseComponent, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if ('value' in nextProps) {\\n                var value = this.state.focused ? nextProps.value : this.getValidValue(nextProps.value);\\n                this.setState({\\n                    value: value,\\n                    inputValue: value\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            this.stop();\\n        }\\n    }]);\\n\\n    return BaseComponent;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var base = (base_BaseComponent);\\n\\nbase_BaseComponent.defaultProps = {\\n    max: MAX_SAFE_INTEGER,\\n    min: -MAX_SAFE_INTEGER,\\n    step: 1,\\n    style: {},\\n    onChange: base_noop,\\n    onFocus: base_noop,\\n    onBlur: base_noop,\\n    parser: defaultParser\\n};\\n;\\n// CONCATENATED MODULE: ./node_modules/rmc-input-number/es/InputHandler.js\\n\\n\\n\\n\\nvar InputHandler_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nvar InputHandler_InputHandler = function (_Component) {\\n    inherits_default()(InputHandler, _Component);\\n\\n    function InputHandler() {\\n        classCallCheck_default()(this, InputHandler);\\n\\n        return possibleConstructorReturn_default()(this, (InputHandler.__proto__ || Object.getPrototypeOf(InputHandler)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(InputHandler, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                disabled = _a.disabled,\\n                otherProps = InputHandler_rest(_a, [\\\"prefixCls\\\", \\\"disabled\\\"]);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_feedback_es[\\\"default\\\"],\\n                { disabled: disabled, activeClassName: prefixCls + '-handler-active' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', otherProps)\\n            );\\n        }\\n    }]);\\n\\n    return InputHandler;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\n/* harmony default export */ var es_InputHandler = (InputHandler_InputHandler);\\n// CONCATENATED MODULE: ./node_modules/rmc-input-number/es/index.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfunction rmc_input_number_es_noop() {}\\nfunction preventDefault(e) {\\n    e.preventDefault();\\n}\\n\\nvar es_InputNumber = function (_BaseComponent) {\\n    inherits_default()(InputNumber, _BaseComponent);\\n\\n    function InputNumber() {\\n        classCallCheck_default()(this, InputNumber);\\n\\n        var _this = possibleConstructorReturn_default()(this, (InputNumber.__proto__ || Object.getPrototypeOf(InputNumber)).apply(this, arguments));\\n\\n        _this.setInput = function (input) {\\n            _this.input = input;\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(InputNumber, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            this.componentDidUpdate();\\n        }\\n    }, {\\n        key: 'componentWillUpdate',\\n        value: function componentWillUpdate() {\\n            try {\\n                this.start = this.input.selectionStart;\\n                this.end = this.input.selectionEnd;\\n            } catch (e) {\\n                // Fix error in Chrome:\\n                // Failed to read the 'selectionStart' property from 'HTMLInputElement'\\n                // http://stackoverflow.com/q/21177489/3040605\\n            }\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate() {\\n            if (this.props.focusOnUpDown && this.state.focused) {\\n                var selectionRange = this.input.setSelectionRange;\\n                if (selectionRange && typeof selectionRange === 'function' && this.start !== undefined && this.end !== undefined && this.start !== this.end) {\\n                    this.input.setSelectionRange(this.start, this.end);\\n                } else {\\n                    this.focus();\\n                }\\n            }\\n        }\\n    }, {\\n        key: 'getRatio',\\n        value: function getRatio(e) {\\n            var ratio = 1;\\n            if (e.metaKey || e.ctrlKey) {\\n                ratio = 0.1;\\n            } else if (e.shiftKey) {\\n                ratio = 10;\\n            }\\n            return ratio;\\n        }\\n    }, {\\n        key: 'getValueFromEvent',\\n        value: function getValueFromEvent(e) {\\n            return e.target.value;\\n        }\\n    }, {\\n        key: 'focus',\\n        value: function focus() {\\n            this.input.focus();\\n        }\\n    }, {\\n        key: 'formatWrapper',\\n        value: function formatWrapper(num) {\\n            if (this.props.formatter) {\\n                return this.props.formatter(num);\\n            }\\n            return num;\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _classNames;\\n\\n            var props = extends_default()({}, this.props);\\n            var _props$prefixCls = props.prefixCls,\\n                prefixCls = _props$prefixCls === undefined ? '' : _props$prefixCls,\\n                disabled = props.disabled,\\n                readOnly = props.readOnly,\\n                max = props.max,\\n                min = props.min;\\n\\n            var classes = classnames_default()((_classNames = {}, defineProperty_default()(_classNames, prefixCls, true), defineProperty_default()(_classNames, props.className, !!props.className), defineProperty_default()(_classNames, prefixCls + '-disabled', disabled), defineProperty_default()(_classNames, prefixCls + '-focused', this.state.focused), _classNames));\\n            var upDisabledClass = '';\\n            var downDisabledClass = '';\\n            var value = this.state.value;\\n\\n            if (value || value === 0) {\\n                if (!isNaN(value)) {\\n                    var val = Number(value);\\n                    if (val >= max) {\\n                        upDisabledClass = prefixCls + '-handler-up-disabled';\\n                    }\\n                    if (val <= min) {\\n                        downDisabledClass = prefixCls + '-handler-down-disabled';\\n                    }\\n                } else {\\n                    upDisabledClass = prefixCls + '-handler-up-disabled';\\n                    downDisabledClass = prefixCls + '-handler-down-disabled';\\n                }\\n            }\\n            var editable = !props.readOnly && !props.disabled;\\n            // focus state, show input value\\n            // unfocus state, show valid value\\n            var inputDisplayValue = void 0;\\n            if (this.state.focused) {\\n                inputDisplayValue = this.state.inputValue;\\n            } else {\\n                inputDisplayValue = this.toPrecisionAsStep(this.state.value);\\n            }\\n            if (inputDisplayValue === undefined || inputDisplayValue === null) {\\n                inputDisplayValue = '';\\n            }\\n            var upEvents = void 0;\\n            var downEvents = void 0;\\n            upEvents = {\\n                onTouchStart: editable && !upDisabledClass ? this.up : rmc_input_number_es_noop,\\n                onTouchEnd: this.stop\\n            };\\n            downEvents = {\\n                onTouchStart: editable && !downDisabledClass ? this.down : rmc_input_number_es_noop,\\n                onTouchEnd: this.stop\\n            };\\n            var inputDisplayValueFormat = this.formatWrapper(inputDisplayValue);\\n            var isUpDisabled = !!upDisabledClass || disabled || readOnly;\\n            var isDownDisabled = !!downDisabledClass || disabled || readOnly;\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: classes, style: props.style },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-handler-wrap' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        es_InputHandler,\\n                        extends_default()({ disabled: isUpDisabled, prefixCls: prefixCls, unselectable: 'unselectable' }, upEvents, { role: 'button', 'aria-label': 'Increase Value', 'aria-disabled': !!isUpDisabled, className: prefixCls + '-handler ' + prefixCls + '-handler-up ' + upDisabledClass }),\\n                        this.props.upHandler || reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', { unselectable: 'unselectable', className: prefixCls + '-handler-up-inner', onClick: preventDefault })\\n                    ),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        es_InputHandler,\\n                        extends_default()({ disabled: isDownDisabled, prefixCls: prefixCls, unselectable: 'unselectable' }, downEvents, { role: 'button', 'aria-label': 'Decrease Value', 'aria-disabled': !!isDownDisabled, className: prefixCls + '-handler ' + prefixCls + '-handler-down ' + downDisabledClass }),\\n                        this.props.downHandler || reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', { unselectable: 'unselectable', className: prefixCls + '-handler-down-inner', onClick: preventDefault })\\n                    )\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-input-wrap', role: 'spinbutton', 'aria-valuemin': props.min, 'aria-valuemax': props.max, 'aria-valuenow': value },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('input', { className: prefixCls + '-input', tabIndex: props.tabIndex, autoComplete: 'off', onFocus: this.onFocus, onBlur: this.onBlur, autoFocus: props.autoFocus, readOnly: props.readOnly, disabled: props.disabled, max: props.max, min: props.min, step: props.step, onChange: this.onChange, ref: this.setInput, value: inputDisplayValueFormat })\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return InputNumber;\\n}(base);\\n\\n/* harmony default export */ var rmc_input_number_es = (es_InputNumber);\\n\\nes_InputNumber.defaultProps = extends_default()({}, base.defaultProps, { focusOnUpDown: false, useTouch: false, prefixCls: 'rmc-input-number' });\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/stepper/index.js\\n\\n\\n\\n\\n\\n\\nvar stepper_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\n\\nvar stepper_Stepper = function (_React$Component) {\\n    inherits_default()(Stepper, _React$Component);\\n\\n    function Stepper() {\\n        classCallCheck_default()(this, Stepper);\\n\\n        return possibleConstructorReturn_default()(this, (Stepper.__proto__ || Object.getPrototypeOf(Stepper)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Stepper, [{\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _a = this.props,\\n                className = _a.className,\\n                showNumber = _a.showNumber,\\n                restProps = stepper_rest(_a, [\\\"className\\\", \\\"showNumber\\\"]);\\n            var stepperClass = classnames_default()(className, defineProperty_default()({}, 'showNumber', !!showNumber));\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(rmc_input_number_es, extends_default()({ upHandler: reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_icon, { type: 'plus', size: 'xxs' }), downHandler: reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_icon, { type: 'minus', size: 'xxs' }) }, restProps, { ref: function ref(el) {\\n                    return _this2.stepperRef = el;\\n                }, className: stepperClass }));\\n        }\\n    }]);\\n\\n    return Stepper;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var stepper = (stepper_Stepper);\\n\\nstepper_Stepper.defaultProps = {\\n    prefixCls: 'am-stepper',\\n    step: 1,\\n    readOnly: false,\\n    showNumber: false,\\n    focusOnUpDown: false\\n};\\n// EXTERNAL MODULE: ./node_modules/rmc-steps/lib/index.js\\nvar rmc_steps_lib = __webpack_require__(\\\"cqCx\\\");\\nvar rmc_steps_lib_default = /*#__PURE__*/__webpack_require__.n(rmc_steps_lib);\\n\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/steps/index.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar steps_Steps = function (_React$Component) {\\n    inherits_default()(Steps, _React$Component);\\n\\n    function Steps() {\\n        classCallCheck_default()(this, Steps);\\n\\n        return possibleConstructorReturn_default()(this, (Steps.__proto__ || Object.getPrototypeOf(Steps)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Steps, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            this.componentDidUpdate();\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate() {\\n            if (this.props.direction !== 'horizontal') {\\n                return;\\n            }\\n            // set tail's left position based on main's width for each step dynamically.\\n            this.stepRefs.forEach(function (s) {\\n                if (s.refs.tail) {\\n                    s.refs.tail.style.left = s.refs.main.offsetWidth / 2 + 'px';\\n                }\\n            });\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            this.stepRefs = [];\\n            var _props = this.props,\\n                children = _props.children,\\n                status = _props.status,\\n                size = _props.size;\\n\\n            var current = this.props.current;\\n            // flattern the array at first https://github.com/ant-design/ant-design-mobile/issues/934\\n            var filterChildren = [];\\n            if (children && children.length) {\\n                children.forEach(function (item) {\\n                    if (reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.isValidElement(item)) {\\n                        filterChildren.push(item);\\n                    }\\n                });\\n            }\\n            var newChildren = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.map(filterChildren, function (item, index) {\\n                var className = item.props.className;\\n                if (index < filterChildren.length - 1 && filterChildren[index + 1].props.status === 'error') {\\n                    className = className ? className + ' error-tail' : 'error-tail';\\n                }\\n                var icon = item.props.icon;\\n                if (!icon) {\\n                    if (index < current) {\\n                        //  state: finish\\n                        icon = 'check-circle-o';\\n                    } else if (index > current) {\\n                        //  state: wait\\n                        icon = 'ellipsis';\\n                        className = className ? className + ' ellipsis-item' : 'ellipsis-item';\\n                    }\\n                    if (status === 'error' && index === current || item.props.status === 'error') {\\n                        icon = 'cross-circle-o';\\n                    }\\n                }\\n                icon = typeof icon === 'string' ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_icon, { type: icon, size: size === 'small' ? status === 'wait' ? 'xxs' : 'xs' : 'md' }) : icon;\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(item, {\\n                    icon: icon,\\n                    className: className,\\n                    ref: function ref(c) {\\n                        return _this2.stepRefs[index] = c;\\n                    }\\n                });\\n            });\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_steps_lib_default.a,\\n                extends_default()({ ref: function ref(el) {\\n                        return _this2.stepsRef = el;\\n                    } }, this.props),\\n                newChildren\\n            );\\n        }\\n    }]);\\n\\n    return Steps;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var steps = (steps_Steps);\\n\\nsteps_Steps.Step = rmc_steps_lib_default.a.Step;\\nsteps_Steps.defaultProps = {\\n    prefixCls: 'am-steps',\\n    iconPrefix: 'ant',\\n    labelPlacement: 'vertical',\\n    direction: 'vertical',\\n    current: 0\\n};\\n// CONCATENATED MODULE: ./node_modules/rc-gesture/es/config.js\\n/* tslint:disable:no-bitwise */\\n// http://hammerjs.github.io/api/#directions\\nvar DIRECTION_NONE = 1; // 00001\\nvar DIRECTION_LEFT = 2; // 00010\\nvar DIRECTION_RIGHT = 4; // 00100\\nvar DIRECTION_UP = 8; // 01000\\nvar DIRECTION_DOWN = 16; // 10000\\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT; // 00110 6\\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN; // 11000 24\\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL; // 11110  30\\n// http://hammerjs.github.io/recognizer-press/\\nvar PRESS = {\\n    time: 251\\n};\\n// http://hammerjs.github.io/recognizer-swipe/\\nvar SWIPE = {\\n    threshold: 10,\\n    velocity: 0.3\\n};\\n// CONCATENATED MODULE: ./node_modules/rc-gesture/es/util.js\\n/* tslint:disable:no-bitwise */\\n\\nfunction _calcTriangleDistance(x, y) {\\n    return Math.sqrt(x * x + y * y);\\n}\\nfunction _calcAngle(x, y) {\\n    var radian = Math.atan2(y, x);\\n    return 180 / (Math.PI / radian);\\n}\\nfunction util_now() {\\n    return Date.now();\\n}\\nfunction calcMutliFingerStatus(touches) {\\n    if (touches.length < 2) {\\n        return;\\n    }\\n    var _touches$ = touches[0],\\n        x1 = _touches$.x,\\n        y1 = _touches$.y;\\n    var _touches$2 = touches[1],\\n        x2 = _touches$2.x,\\n        y2 = _touches$2.y;\\n\\n    var deltaX = x2 - x1;\\n    var deltaY = y2 - y1;\\n    return {\\n        x: deltaX,\\n        y: deltaY,\\n        z: _calcTriangleDistance(deltaX, deltaY),\\n        angle: _calcAngle(deltaX, deltaY)\\n    };\\n}\\nfunction calcMoveStatus(startTouches, touches, time) {\\n    var _startTouches$ = startTouches[0],\\n        x1 = _startTouches$.x,\\n        y1 = _startTouches$.y;\\n    var _touches$3 = touches[0],\\n        x2 = _touches$3.x,\\n        y2 = _touches$3.y;\\n\\n    var deltaX = x2 - x1;\\n    var deltaY = y2 - y1;\\n    var deltaZ = _calcTriangleDistance(deltaX, deltaY);\\n    return {\\n        x: deltaX,\\n        y: deltaY,\\n        z: deltaZ,\\n        time: time,\\n        velocity: deltaZ / time,\\n        angle: _calcAngle(deltaX, deltaY)\\n    };\\n}\\nfunction calcRotation(startMutliFingerStatus, mutliFingerStatus) {\\n    var startAngle = startMutliFingerStatus.angle;\\n    var angle = mutliFingerStatus.angle;\\n\\n    return angle - startAngle;\\n}\\nfunction getEventName(prefix, status) {\\n    return prefix + status[0].toUpperCase() + status.slice(1);\\n}\\nfunction shouldTriggerSwipe(delta, velocity) {\\n    return Math.abs(delta) >= SWIPE.threshold && Math.abs(velocity) > SWIPE.velocity;\\n}\\nfunction shouldTriggerDirection(direction, directionSetting) {\\n    if (directionSetting & direction) {\\n        return true;\\n    }\\n    return false;\\n}\\n/**\\n * @private\\n * get the direction between two points\\n * Note: will change next version\\n * @param {Number} x\\n * @param {Number} y\\n * @return {Number} direction\\n */\\nfunction getDirection(x, y) {\\n    if (x === y) {\\n        return DIRECTION_NONE;\\n    }\\n    if (Math.abs(x) >= Math.abs(y)) {\\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\\n    }\\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\\n}\\n/**\\n * @private\\n * get the direction between tow points when touch moving\\n * Note: will change next version\\n * @param {Object} point1 coordinate point, include x & y attributes\\n * @param {Object} point2 coordinate point, include x & y attributes\\n * @return {Number} direction\\n */\\nfunction getMovingDirection(point1, point2) {\\n    var x1 = point1.x,\\n        y1 = point1.y;\\n    var x2 = point2.x,\\n        y2 = point2.y;\\n\\n    var deltaX = x2 - x1;\\n    var deltaY = y2 - y1;\\n    if (deltaX === 0 && deltaY === 0) {\\n        return DIRECTION_NONE;\\n    }\\n    if (Math.abs(deltaX) >= Math.abs(deltaY)) {\\n        return deltaX < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\\n    }\\n    return deltaY < 0 ? DIRECTION_UP : DIRECTION_DOWN;\\n}\\nfunction getDirectionEventName(direction) {\\n    var name = void 0;\\n    switch (direction) {\\n        case DIRECTION_NONE:\\n            break;\\n        case DIRECTION_LEFT:\\n            name = 'left';\\n            break;\\n        case DIRECTION_RIGHT:\\n            name = 'right';\\n            break;\\n        case DIRECTION_UP:\\n            name = 'up';\\n            break;\\n        case DIRECTION_DOWN:\\n            name = 'down';\\n            break;\\n        default:\\n    }\\n    return name;\\n}\\n// CONCATENATED MODULE: ./node_modules/rc-gesture/es/index.js\\n\\n\\n\\n\\n\\n/* tslint:disable:no-console */\\n\\n\\n\\n;\\n;\\nvar directionMap = {\\n    all: DIRECTION_ALL,\\n    vertical: DIRECTION_VERTICAL,\\n    horizontal: DIRECTION_HORIZONTAL\\n};\\n\\nvar es_Gesture = function (_Component) {\\n    inherits_default()(Gesture, _Component);\\n\\n    function Gesture(props) {\\n        classCallCheck_default()(this, Gesture);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Gesture.__proto__ || Object.getPrototypeOf(Gesture)).call(this, props));\\n\\n        _this.state = {};\\n        _this.triggerEvent = function (name) {\\n            for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\\n                args[_key - 1] = arguments[_key];\\n            }\\n\\n            var cb = _this.props[name];\\n            if (typeof cb === 'function') {\\n                // always give user gesture object as first params first\\n                cb.apply(undefined, [_this.getGestureState()].concat(args));\\n            }\\n        };\\n        _this.triggerCombineEvent = function (mainEventName, eventStatus) {\\n            for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\\n                args[_key2 - 2] = arguments[_key2];\\n            }\\n\\n            _this.triggerEvent.apply(_this, [mainEventName].concat(args));\\n            _this.triggerSubEvent.apply(_this, [mainEventName, eventStatus].concat(args));\\n        };\\n        _this.triggerSubEvent = function (mainEventName, eventStatus) {\\n            for (var _len3 = arguments.length, args = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\\n                args[_key3 - 2] = arguments[_key3];\\n            }\\n\\n            if (eventStatus) {\\n                var subEventName = getEventName(mainEventName, eventStatus);\\n                _this.triggerEvent.apply(_this, [subEventName].concat(args));\\n            }\\n        };\\n        _this.triggerPinchEvent = function (mainEventName, eventStatus) {\\n            for (var _len4 = arguments.length, args = Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\\n                args[_key4 - 2] = arguments[_key4];\\n            }\\n\\n            var scale = _this.gesture.scale;\\n\\n            if (eventStatus === 'move' && typeof scale === 'number') {\\n                if (scale > 1) {\\n                    _this.triggerEvent('onPinchOut');\\n                }\\n                if (scale < 1) {\\n                    _this.triggerEvent('onPinchIn');\\n                }\\n            }\\n            _this.triggerCombineEvent.apply(_this, [mainEventName, eventStatus].concat(args));\\n        };\\n        _this.initPressTimer = function () {\\n            _this.cleanPressTimer();\\n            _this.pressTimer = setTimeout(function () {\\n                _this.setGestureState({\\n                    press: true\\n                });\\n                _this.triggerEvent('onPress');\\n            }, PRESS.time);\\n        };\\n        _this.cleanPressTimer = function () {\\n            /* tslint:disable:no-unused-expression */\\n            _this.pressTimer && clearTimeout(_this.pressTimer);\\n        };\\n        _this.setGestureState = function (params) {\\n            if (!_this.gesture) {\\n                _this.gesture = {};\\n            }\\n            // cache the previous touches\\n            if (_this.gesture.touches) {\\n                _this.gesture.preTouches = _this.gesture.touches;\\n            }\\n            _this.gesture = extends_default()({}, _this.gesture, params);\\n        };\\n        _this.getGestureState = function () {\\n            if (!_this.gesture) {\\n                return _this.gesture;\\n            } else {\\n                // shallow copy\\n                return extends_default()({}, _this.gesture);\\n            }\\n        };\\n        _this.cleanGestureState = function () {\\n            delete _this.gesture;\\n        };\\n        _this.getTouches = function (e) {\\n            return Array.prototype.slice.call(e.touches).map(function (item) {\\n                return {\\n                    x: item.screenX,\\n                    y: item.screenY\\n                };\\n            });\\n        };\\n        _this.triggerUserCb = function (status, e) {\\n            var cbName = getEventName('onTouch', status);\\n            if (cbName in _this.props) {\\n                _this.props[cbName](e);\\n            }\\n        };\\n        _this._handleTouchStart = function (e) {\\n            _this.triggerUserCb('start', e);\\n            _this.event = e;\\n            if (e.touches.length > 1) {\\n                e.preventDefault();\\n            }\\n            _this.initGestureStatus(e);\\n            _this.initPressTimer();\\n            _this.checkIfMultiTouchStart();\\n        };\\n        _this.initGestureStatus = function (e) {\\n            _this.cleanGestureState();\\n            // store the gesture start state\\n            var startTouches = _this.getTouches(e);\\n            var startTime = util_now();\\n            var startMutliFingerStatus = calcMutliFingerStatus(startTouches);\\n            _this.setGestureState({\\n                startTime: startTime,\\n                startTouches: startTouches,\\n                startMutliFingerStatus: startMutliFingerStatus,\\n                /* copy for next time touch move cala convenient*/\\n                time: startTime,\\n                touches: startTouches,\\n                mutliFingerStatus: startMutliFingerStatus,\\n                srcEvent: _this.event\\n            });\\n        };\\n        _this.checkIfMultiTouchStart = function () {\\n            var _this$props = _this.props,\\n                enablePinch = _this$props.enablePinch,\\n                enableRotate = _this$props.enableRotate;\\n            var touches = _this.gesture.touches;\\n\\n            if (touches.length > 1 && (enablePinch || enableRotate)) {\\n                if (enablePinch) {\\n                    var startMutliFingerStatus = calcMutliFingerStatus(touches);\\n                    _this.setGestureState({\\n                        startMutliFingerStatus: startMutliFingerStatus,\\n                        /* init pinch status */\\n                        pinch: true,\\n                        scale: 1\\n                    });\\n                    _this.triggerCombineEvent('onPinch', 'start');\\n                }\\n                if (enableRotate) {\\n                    _this.setGestureState({\\n                        /* init rotate status */\\n                        rotate: true,\\n                        rotation: 0\\n                    });\\n                    _this.triggerCombineEvent('onRotate', 'start');\\n                }\\n            }\\n        };\\n        _this._handleTouchMove = function (e) {\\n            _this.triggerUserCb('move', e);\\n            _this.event = e;\\n            if (!_this.gesture) {\\n                // sometimes weird happen: touchstart -> touchmove..touchmove.. --\\x3e touchend --\\x3e touchmove --\\x3e touchend\\n                // so we need to skip the unnormal event cycle after touchend\\n                return;\\n            }\\n            // not a long press\\n            _this.cleanPressTimer();\\n            _this.updateGestureStatus(e);\\n            _this.checkIfSingleTouchMove();\\n            _this.checkIfMultiTouchMove();\\n        };\\n        _this.checkIfMultiTouchMove = function () {\\n            var _this$gesture = _this.gesture,\\n                pinch = _this$gesture.pinch,\\n                rotate = _this$gesture.rotate,\\n                touches = _this$gesture.touches,\\n                startMutliFingerStatus = _this$gesture.startMutliFingerStatus,\\n                mutliFingerStatus = _this$gesture.mutliFingerStatus;\\n\\n            if (!pinch && !rotate) {\\n                return;\\n            }\\n            if (touches.length < 2) {\\n                _this.setGestureState({\\n                    pinch: false,\\n                    rotate: false\\n                });\\n                // Todo: 2 finger -> 1 finger, wait to test this situation\\n                pinch && _this.triggerCombineEvent('onPinch', 'cancel');\\n                rotate && _this.triggerCombineEvent('onRotate', 'cancel');\\n                return;\\n            }\\n            if (pinch) {\\n                var scale = mutliFingerStatus.z / startMutliFingerStatus.z;\\n                _this.setGestureState({\\n                    scale: scale\\n                });\\n                _this.triggerPinchEvent('onPinch', 'move');\\n            }\\n            if (rotate) {\\n                var rotation = calcRotation(startMutliFingerStatus, mutliFingerStatus);\\n                _this.setGestureState({\\n                    rotation: rotation\\n                });\\n                _this.triggerCombineEvent('onRotate', 'move');\\n            }\\n        };\\n        _this.allowGesture = function () {\\n            return shouldTriggerDirection(_this.gesture.direction, _this.directionSetting);\\n        };\\n        _this.checkIfSingleTouchMove = function () {\\n            var _this$gesture2 = _this.gesture,\\n                pan = _this$gesture2.pan,\\n                touches = _this$gesture2.touches,\\n                moveStatus = _this$gesture2.moveStatus,\\n                preTouches = _this$gesture2.preTouches,\\n                _this$gesture2$availa = _this$gesture2.availablePan,\\n                availablePan = _this$gesture2$availa === undefined ? true : _this$gesture2$availa;\\n\\n            if (touches.length > 1) {\\n                _this.setGestureState({\\n                    pan: false\\n                });\\n                // Todo: 1 finger -> 2 finger, wait to test this situation\\n                pan && _this.triggerCombineEvent('onPan', 'cancel');\\n                return;\\n            }\\n            // add avilablePan condition to fix the case in scrolling, which will cause unavailable pan move.\\n            if (moveStatus && availablePan) {\\n                var direction = getMovingDirection(preTouches[0], touches[0]);\\n                _this.setGestureState({ direction: direction });\\n                var eventName = getDirectionEventName(direction);\\n                if (!_this.allowGesture()) {\\n                    // if the first move is unavailable, then judge all of remaining touch movings are also invalid.\\n                    if (!pan) {\\n                        _this.setGestureState({ availablePan: false });\\n                    }\\n                    return;\\n                }\\n                if (!pan) {\\n                    _this.triggerCombineEvent('onPan', 'start');\\n                    _this.setGestureState({\\n                        pan: true,\\n                        availablePan: true\\n                    });\\n                } else {\\n                    _this.triggerCombineEvent('onPan', eventName);\\n                    _this.triggerSubEvent('onPan', 'move');\\n                }\\n            }\\n        };\\n        _this.checkIfMultiTouchEnd = function (status) {\\n            var _this$gesture3 = _this.gesture,\\n                pinch = _this$gesture3.pinch,\\n                rotate = _this$gesture3.rotate;\\n\\n            if (pinch) {\\n                _this.triggerCombineEvent('onPinch', status);\\n            }\\n            if (rotate) {\\n                _this.triggerCombineEvent('onRotate', status);\\n            }\\n        };\\n        _this.updateGestureStatus = function (e) {\\n            var time = util_now();\\n            _this.setGestureState({\\n                time: time\\n            });\\n            if (!e.touches || !e.touches.length) {\\n                return;\\n            }\\n            var _this$gesture4 = _this.gesture,\\n                startTime = _this$gesture4.startTime,\\n                startTouches = _this$gesture4.startTouches,\\n                pinch = _this$gesture4.pinch,\\n                rotate = _this$gesture4.rotate;\\n\\n            var touches = _this.getTouches(e);\\n            var moveStatus = calcMoveStatus(startTouches, touches, time - startTime);\\n            var mutliFingerStatus = void 0;\\n            if (pinch || rotate) {\\n                mutliFingerStatus = calcMutliFingerStatus(touches);\\n            }\\n            _this.setGestureState({\\n                /* update status snapshot */\\n                touches: touches,\\n                mutliFingerStatus: mutliFingerStatus,\\n                /* update duration status */\\n                moveStatus: moveStatus\\n            });\\n        };\\n        _this._handleTouchEnd = function (e) {\\n            _this.triggerUserCb('end', e);\\n            _this.event = e;\\n            if (!_this.gesture) {\\n                return;\\n            }\\n            _this.cleanPressTimer();\\n            _this.updateGestureStatus(e);\\n            _this.doSingleTouchEnd('end');\\n            _this.checkIfMultiTouchEnd('end');\\n        };\\n        _this._handleTouchCancel = function (e) {\\n            _this.triggerUserCb('cancel', e);\\n            _this.event = e;\\n            // Todo: wait to test cancel case\\n            if (!_this.gesture) {\\n                return;\\n            }\\n            _this.cleanPressTimer();\\n            _this.updateGestureStatus(e);\\n            _this.doSingleTouchEnd('cancel');\\n            _this.checkIfMultiTouchEnd('cancel');\\n        };\\n        _this.triggerAllowEvent = function (type, status) {\\n            if (_this.allowGesture()) {\\n                _this.triggerCombineEvent(type, status);\\n            } else {\\n                _this.triggerSubEvent(type, status);\\n            }\\n        };\\n        _this.doSingleTouchEnd = function (status) {\\n            var _this$gesture5 = _this.gesture,\\n                moveStatus = _this$gesture5.moveStatus,\\n                pinch = _this$gesture5.pinch,\\n                rotate = _this$gesture5.rotate,\\n                press = _this$gesture5.press,\\n                pan = _this$gesture5.pan,\\n                direction = _this$gesture5.direction;\\n\\n            if (pinch || rotate) {\\n                return;\\n            }\\n            if (moveStatus) {\\n                var z = moveStatus.z,\\n                    velocity = moveStatus.velocity;\\n\\n                var swipe = shouldTriggerSwipe(z, velocity);\\n                _this.setGestureState({\\n                    swipe: swipe\\n                });\\n                if (pan) {\\n                    // pan need end, it's a process\\n                    // sometimes, start with pan left, but end with pan right....\\n                    _this.triggerAllowEvent('onPan', status);\\n                }\\n                if (swipe) {\\n                    var directionEvName = getDirectionEventName(direction);\\n                    // swipe just need a direction, it's a endpoint\\n                    _this.triggerAllowEvent('onSwipe', directionEvName);\\n                    return;\\n                }\\n            }\\n            if (press) {\\n                _this.triggerEvent('onPressUp');\\n                return;\\n            }\\n            _this.triggerEvent('onTap');\\n        };\\n        _this.getTouchAction = function () {\\n            var _this$props2 = _this.props,\\n                enablePinch = _this$props2.enablePinch,\\n                enableRotate = _this$props2.enableRotate;\\n            var directionSetting = _this.directionSetting;\\n\\n            if (enablePinch || enableRotate || directionSetting === DIRECTION_ALL) {\\n                return 'pan-x pan-y';\\n            }\\n            if (directionSetting === DIRECTION_VERTICAL) {\\n                return 'pan-x';\\n            }\\n            if (directionSetting === DIRECTION_HORIZONTAL) {\\n                return 'pan-y';\\n            }\\n            return 'auto';\\n        };\\n        _this.directionSetting = directionMap[props.direction];\\n        return _this;\\n    }\\n\\n    createClass_default()(Gesture, [{\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            this.cleanPressTimer();\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var children = this.props.children;\\n\\n            var child = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.only(children);\\n            var touchAction = this.getTouchAction();\\n            var events = {\\n                onTouchStart: this._handleTouchStart,\\n                onTouchMove: this._handleTouchMove,\\n                onTouchCancel: this._handleTouchCancel,\\n                onTouchEnd: this._handleTouchEnd\\n            };\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.cloneElement(child, extends_default()({}, events, { style: extends_default()({ touchAction: touchAction }, child.props.style || {}) }));\\n        }\\n    }]);\\n\\n    return Gesture;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\n/* harmony default export */ var rc_gesture_es = (es_Gesture);\\n\\nes_Gesture.defaultProps = {\\n    enableRotate: false,\\n    enablePinch: false,\\n    direction: 'all'\\n};\\n// CONCATENATED MODULE: ./node_modules/rc-swipeout/es/Swipeout.js\\n\\n\\n\\n\\n\\n\\nvar Swipeout_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\n\\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\\n// http://caniuse.com/#search=match\\nfunction Swipeout_closest(el, selector) {\\n    var matchesSelector = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;\\n    while (el) {\\n        if (matchesSelector.call(el, selector)) {\\n            return el;\\n        } else {\\n            el = el.parentElement;\\n        }\\n    }\\n    return null;\\n}\\n\\nvar Swipeout_Swipeout = function (_React$Component) {\\n    inherits_default()(Swipeout, _React$Component);\\n\\n    function Swipeout(props) {\\n        classCallCheck_default()(this, Swipeout);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Swipeout.__proto__ || Object.getPrototypeOf(Swipeout)).call(this, props));\\n\\n        _this.onCloseSwipe = function (ev) {\\n            if (!(_this.openedLeft || _this.openedRight)) {\\n                return;\\n            }\\n            var pNode = Swipeout_closest(ev.target, '.' + _this.props.prefixCls + '-actions');\\n            if (!pNode) {\\n                ev.preventDefault();\\n                _this.close();\\n            }\\n        };\\n        _this.onPanStart = function (e) {\\n            var direction = e.direction,\\n                moveStatus = e.moveStatus;\\n            var deltaX = moveStatus.x;\\n            // http://hammerjs.github.io/api/#directions\\n\\n            var isLeft = direction === 2;\\n            var isRight = direction === 4;\\n            if (!isLeft && !isRight) {\\n                return;\\n            }\\n            var _this$props = _this.props,\\n                left = _this$props.left,\\n                right = _this$props.right;\\n\\n            _this.needShowRight = isLeft && right.length > 0;\\n            _this.needShowLeft = isRight && left.length > 0;\\n            if (_this.left) {\\n                _this.left.style.visibility = _this.needShowRight ? 'hidden' : 'visible';\\n            }\\n            if (_this.right) {\\n                _this.right.style.visibility = _this.needShowLeft ? 'hidden' : 'visible';\\n            }\\n            if (_this.needShowLeft || _this.needShowRight) {\\n                _this.swiping = true;\\n                _this.setState({\\n                    swiping: _this.swiping\\n                });\\n                _this._setStyle(deltaX);\\n            }\\n        };\\n        _this.onPanMove = function (e) {\\n            var moveStatus = e.moveStatus,\\n                srcEvent = e.srcEvent;\\n            var deltaX = moveStatus.x;\\n\\n            if (!_this.swiping) {\\n                return;\\n            }\\n            // fixed scroll when it's pan and moving.\\n            if (srcEvent && srcEvent.preventDefault) {\\n                srcEvent.preventDefault();\\n            }\\n            _this._setStyle(deltaX);\\n        };\\n        _this.onPanEnd = function (e) {\\n            if (!_this.swiping) {\\n                return;\\n            }\\n            var moveStatus = e.moveStatus;\\n            var deltaX = moveStatus.x;\\n\\n            var needOpenRight = _this.needShowRight && Math.abs(deltaX) > _this.btnsRightWidth / 2;\\n            var needOpenLeft = _this.needShowLeft && Math.abs(deltaX) > _this.btnsLeftWidth / 2;\\n            if (needOpenRight) {\\n                _this.doOpenRight();\\n            } else if (needOpenLeft) {\\n                _this.doOpenLeft();\\n            } else {\\n                _this.close();\\n            }\\n            _this.swiping = false;\\n            _this.setState({\\n                swiping: _this.swiping\\n            });\\n            _this.needShowLeft = false;\\n            _this.needShowRight = false;\\n        };\\n        _this.doOpenLeft = function () {\\n            _this.open(_this.btnsLeftWidth, true, false);\\n        };\\n        _this.doOpenRight = function () {\\n            _this.open(-_this.btnsRightWidth, true, false);\\n        };\\n        // set content & actions style\\n        _this._setStyle = function (value) {\\n            var limit = value > 0 ? _this.btnsLeftWidth : -_this.btnsRightWidth;\\n            var contentLeft = _this._getContentEasing(value, limit);\\n            _this.content.style.left = contentLeft + 'px';\\n            if (_this.cover) {\\n                _this.cover.style.display = Math.abs(value) > 0 ? 'block' : 'none';\\n                _this.cover.style.left = contentLeft + 'px';\\n            }\\n        };\\n        _this.open = function (value, openedLeft, openedRight) {\\n            if (!_this.openedLeft && !_this.openedRight && _this.props.onOpen) {\\n                _this.props.onOpen();\\n            }\\n            _this.openedLeft = openedLeft;\\n            _this.openedRight = openedRight;\\n            _this._setStyle(value);\\n        };\\n        _this.close = function () {\\n            if ((_this.openedLeft || _this.openedRight) && _this.props.onClose) {\\n                _this.props.onClose();\\n            }\\n            _this._setStyle(0);\\n            _this.openedLeft = false;\\n            _this.openedRight = false;\\n        };\\n        _this.onTouchMove = function (e) {\\n            if (_this.swiping) {\\n                e.preventDefault();\\n            }\\n        };\\n        _this.state = {\\n            swiping: false\\n        };\\n        _this.openedLeft = false;\\n        _this.openedRight = false;\\n        return _this;\\n    }\\n\\n    createClass_default()(Swipeout, [{\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            this.btnsLeftWidth = this.left ? this.left.offsetWidth : 0;\\n            this.btnsRightWidth = this.right ? this.right.offsetWidth : 0;\\n            document.body.addEventListener('touchstart', this.onCloseSwipe, true);\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            document.body.removeEventListener('touchstart', this.onCloseSwipe, true);\\n        }\\n        // left & right button click\\n\\n    }, {\\n        key: 'onBtnClick',\\n        value: function onBtnClick(ev, btn) {\\n            var onPress = btn.onPress;\\n            if (onPress) {\\n                onPress(ev);\\n            }\\n            if (this.props.autoClose) {\\n                this.close();\\n            }\\n        }\\n    }, {\\n        key: '_getContentEasing',\\n        value: function _getContentEasing(value, limit) {\\n            // limit content style left when value > actions width\\n            var delta = Math.abs(value) - Math.abs(limit);\\n            var isOverflow = delta > 0;\\n            var factor = limit > 0 ? 1 : -1;\\n            if (isOverflow) {\\n                value = limit + Math.pow(delta, 0.85) * factor;\\n                return Math.abs(value) > Math.abs(limit) ? limit : value;\\n            }\\n            return value;\\n        }\\n    }, {\\n        key: 'renderButtons',\\n        value: function renderButtons(buttons, _ref) {\\n            var _this2 = this;\\n\\n            var prefixCls = this.props.prefixCls;\\n            return buttons && buttons.length ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: prefixCls + '-actions ' + prefixCls + '-actions-' + _ref, ref: function ref(el) {\\n                        return _this2[_ref] = el;\\n                    } },\\n                buttons.map(function (btn, i) {\\n                    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { key: i, className: prefixCls + '-btn ' + (btn.hasOwnProperty('className') ? btn.className : ''), style: btn.style, role: 'button', onClick: function onClick(e) {\\n                                return _this2.onBtnClick(e, btn);\\n                            } },\\n                        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                            'div',\\n                            { className: prefixCls + '-btn-text' },\\n                            btn.text || 'Click'\\n                        )\\n                    );\\n                })\\n            ) : null;\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this3 = this;\\n\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                left = _a.left,\\n                right = _a.right,\\n                disabled = _a.disabled,\\n                children = _a.children,\\n                restProps = Swipeout_rest(_a, [\\\"prefixCls\\\", \\\"left\\\", \\\"right\\\", \\\"disabled\\\", \\\"children\\\"]);\\n            var autoClose = restProps.autoClose,\\n                onOpen = restProps.onOpen,\\n                onClose = restProps.onClose,\\n                divProps = Swipeout_rest(restProps, [\\\"autoClose\\\", \\\"onOpen\\\", \\\"onClose\\\"]);\\n\\n            var cls = classnames_default()(prefixCls, defineProperty_default()({}, prefixCls + '-swiping', this.state.swiping));\\n            var refProps = {\\n                ref: function ref(el) {\\n                    return _this3.content = react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.findDOMNode(el);\\n                }\\n            };\\n            return (left.length || right.length) && !disabled ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({ className: cls }, divProps),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-cover', ref: function ref(el) {\\n                        return _this3.cover = el;\\n                    } }),\\n                this.renderButtons(left, 'left'),\\n                this.renderButtons(right, 'right'),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    rc_gesture_es,\\n                    extends_default()({ onTouchMove: this.onTouchMove, onPanStart: this.onPanStart, onPanMove: this.onPanMove, onPanEnd: this.onPanEnd, onPanCancel: this.onPanEnd, onSwipeLeft: this.doOpenRight, onSwipeRight: this.doOpenLeft, direction: 'horizontal' }, refProps),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { className: prefixCls + '-content' },\\n                        children\\n                    )\\n                )\\n            ) : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({}, refProps, divProps),\\n                children\\n            );\\n        }\\n    }]);\\n\\n    return Swipeout;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_Swipeout = (Swipeout_Swipeout);\\n\\nSwipeout_Swipeout.defaultProps = {\\n    prefixCls: 'rc-swipeout',\\n    autoClose: false,\\n    disabled: false,\\n    left: [],\\n    right: [],\\n    onOpen: function onOpen() {},\\n    onClose: function onClose() {}\\n};\\n// CONCATENATED MODULE: ./node_modules/rc-swipeout/es/index.js\\n\\n/* harmony default export */ var rc_swipeout_es = (es_Swipeout);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/swipe-action/index.js\\n\\n\\n\\n\\n\\n\\n\\n\\nvar swipe_action_SwipeAction = function (_React$Component) {\\n  inherits_default()(SwipeAction, _React$Component);\\n\\n  function SwipeAction() {\\n    classCallCheck_default()(this, SwipeAction);\\n\\n    return possibleConstructorReturn_default()(this, (SwipeAction.__proto__ || Object.getPrototypeOf(SwipeAction)).apply(this, arguments));\\n  }\\n\\n  createClass_default()(SwipeAction, [{\\n    key: 'render',\\n    value: function render() {\\n      var _props = this.props,\\n          className = _props.className,\\n          style = _props.style,\\n          prefixCls = _props.prefixCls,\\n          _props$left = _props.left,\\n          left = _props$left === undefined ? [] : _props$left,\\n          _props$right = _props.right,\\n          right = _props$right === undefined ? [] : _props$right,\\n          autoClose = _props.autoClose,\\n          disabled = _props.disabled,\\n          onOpen = _props.onOpen,\\n          onClose = _props.onClose,\\n          children = _props.children;\\n\\n      var wrapClass = classnames_default()(prefixCls, className);\\n      return left.length || right.length ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        { style: style, className: className },\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          rc_swipeout_es,\\n          { prefixCls: prefixCls, left: left, right: right, autoClose: autoClose, disabled: disabled, onOpen: onOpen, onClose: onClose },\\n          children\\n        )\\n      ) : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        { style: style, className: wrapClass },\\n        children\\n      );\\n    }\\n  }]);\\n\\n  return SwipeAction;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\nswipe_action_SwipeAction.defaultProps = {\\n  prefixCls: 'am-swipe',\\n  autoClose: false,\\n  disabled: false,\\n  left: [],\\n  right: [],\\n  onOpen: function onOpen() {},\\n  onClose: function onClose() {}\\n};\\n/* harmony default export */ var swipe_action = (swipe_action_SwipeAction);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/switch/index.js\\n\\n\\n\\n\\n\\n\\nvar switch_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nvar switch_Switch = function (_React$Component) {\\n    inherits_default()(Switch, _React$Component);\\n\\n    function Switch() {\\n        classCallCheck_default()(this, Switch);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Switch.__proto__ || Object.getPrototypeOf(Switch)).apply(this, arguments));\\n\\n        _this.onChange = function (e) {\\n            var checked = e.target.checked;\\n            if (_this.props.onChange) {\\n                _this.props.onChange(checked);\\n            }\\n        };\\n        _this.onClick = function (e) {\\n            if (_this.props.onClick) {\\n                var val = void 0;\\n                // tslint:disable-next-line:prefer-conditional-expression\\n                if (e && e.target && e.target.checked !== undefined) {\\n                    val = e.target.checked;\\n                } else {\\n                    val = _this.props.checked;\\n                }\\n                _this.props.onClick(val);\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Switch, [{\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                name = _a.name,\\n                checked = _a.checked,\\n                disabled = _a.disabled,\\n                className = _a.className,\\n                platform = _a.platform,\\n                color = _a.color,\\n                restProps = switch_rest(_a, [\\\"prefixCls\\\", \\\"name\\\", \\\"checked\\\", \\\"disabled\\\", \\\"className\\\", \\\"platform\\\", \\\"color\\\"]);\\n            var wrapCls = classnames_default()(prefixCls, className, defineProperty_default()({}, prefixCls + '-android', platform === 'android'));\\n            var fackInputCls = classnames_default()('checkbox', defineProperty_default()({}, 'checkbox-disabled', disabled));\\n            var globalProps = Object.keys(restProps).reduce(function (prev, key) {\\n                if (key.substr(0, 5) === 'aria-' || key.substr(0, 5) === 'data-' || key === 'role') {\\n                    prev[key] = restProps[key];\\n                }\\n                return prev;\\n            }, {});\\n            var style = this.props.style || {};\\n            if (color && checked) {\\n                style.backgroundColor = color;\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'label',\\n                { className: wrapCls },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('input', extends_default()({ type: 'checkbox', name: name, className: prefixCls + '-checkbox', disabled: disabled, checked: checked, onChange: this.onChange, value: checked ? 'on' : 'off' }, !disabled ? { onClick: this.onClick } : {}, globalProps)),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', extends_default()({ className: fackInputCls, style: style }, disabled ? { onClick: this.onClick } : {}))\\n            );\\n        }\\n    }]);\\n\\n    return Switch;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_switch = (switch_Switch);\\n\\nswitch_Switch.defaultProps = {\\n    prefixCls: 'am-switch',\\n    name: '',\\n    checked: false,\\n    disabled: false,\\n    onChange: function onChange() {},\\n\\n    platform: 'ios',\\n    onClick: function onClick() {}\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-tabs/es/util/index.js\\nfunction getTransformPropValue(v) {\\n    return {\\n        transform: v,\\n        WebkitTransform: v,\\n        MozTransform: v\\n    };\\n}\\nfunction getPxStyle(value) {\\n    var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'px';\\n    var vertical = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\\n\\n    value = vertical ? '0px, ' + value + unit + ', 0px' : '' + value + unit + ', 0px, 0px';\\n    return 'translate3d(' + value + ')';\\n}\\nfunction setPxStyle(el, value) {\\n    var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'px';\\n    var vertical = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\\n    var useLeft = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\\n\\n    if (useLeft) {\\n        if (vertical) {\\n            el.style.top = '' + value + unit;\\n        } else {\\n            el.style.left = '' + value + unit;\\n        }\\n    } else {\\n        util_setTransform(el.style, getPxStyle(value, unit, vertical));\\n    }\\n}\\nfunction util_setTransform(style, v) {\\n    style.transform = v;\\n    style.webkitTransform = v;\\n    style.mozTransform = v;\\n}\\n// CONCATENATED MODULE: ./node_modules/rmc-tabs/es/TabPane.js\\n\\n\\n\\n\\n\\nvar TabPane_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\nvar TabPane_TabPane = function (_React$PureComponent) {\\n    inherits_default()(TabPane, _React$PureComponent);\\n\\n    function TabPane() {\\n        classCallCheck_default()(this, TabPane);\\n\\n        var _this = possibleConstructorReturn_default()(this, (TabPane.__proto__ || Object.getPrototypeOf(TabPane)).apply(this, arguments));\\n\\n        _this.offsetX = 0;\\n        _this.offsetY = 0;\\n        _this.setLayout = function (div) {\\n            _this.layout = div;\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(TabPane, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if (this.props.active !== nextProps.active) {\\n                if (nextProps.active) {\\n                    this.offsetX = 0;\\n                    this.offsetY = 0;\\n                } else {\\n                    this.offsetX = this.layout.scrollLeft;\\n                    this.offsetY = this.layout.scrollTop;\\n                }\\n            }\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                active = _a.active,\\n                fixX = _a.fixX,\\n                fixY = _a.fixY,\\n                props = TabPane_rest(_a, [\\\"active\\\", \\\"fixX\\\", \\\"fixY\\\"]);\\n            var style = extends_default()({}, fixX && this.offsetX ? getTransformPropValue(getPxStyle(-this.offsetX, 'px', false)) : {}, fixY && this.offsetY ? getTransformPropValue(getPxStyle(-this.offsetY, 'px', true)) : {});\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({}, props, { style: style, ref: this.setLayout }),\\n                props.children\\n            );\\n        }\\n    }]);\\n\\n    return TabPane;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.PureComponent);\\nTabPane_TabPane.defaultProps = {\\n    fixX: true,\\n    fixY: true\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-tabs/es/DefaultTabBar.js\\n\\n\\n\\n\\n\\nvar DefaultTabBar_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\n\\nvar DefaultTabBar_StateType = function StateType() {\\n    classCallCheck_default()(this, StateType);\\n\\n    this.transform = '';\\n    this.isMoving = false;\\n    this.showPrev = false;\\n    this.showNext = false;\\n};\\nvar DefaultTabBar_DefaultTabBar = function (_React$PureComponent) {\\n    inherits_default()(DefaultTabBar, _React$PureComponent);\\n\\n    function DefaultTabBar(props) {\\n        classCallCheck_default()(this, DefaultTabBar);\\n\\n        var _this = possibleConstructorReturn_default()(this, (DefaultTabBar.__proto__ || Object.getPrototypeOf(DefaultTabBar)).call(this, props));\\n\\n        _this.onPan = function () {\\n            var lastOffset = 0;\\n            var finalOffset = 0;\\n            var getLastOffset = function getLastOffset() {\\n                var isVertical = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.isTabBarVertical();\\n\\n                var offset = +('' + lastOffset).replace('%', '');\\n                if (('' + lastOffset).indexOf('%') >= 0) {\\n                    offset /= 100;\\n                    offset *= isVertical ? _this.layout.clientHeight : _this.layout.clientWidth;\\n                }\\n                return offset;\\n            };\\n            return {\\n                onPanStart: function onPanStart() {\\n                    _this.setState({ isMoving: true });\\n                },\\n                onPanMove: function onPanMove(status) {\\n                    if (!status.moveStatus || !_this.layout) return;\\n                    var isVertical = _this.isTabBarVertical();\\n                    var offset = getLastOffset() + (isVertical ? status.moveStatus.y : status.moveStatus.x);\\n                    var canScrollOffset = isVertical ? -_this.layout.scrollHeight + _this.layout.clientHeight : -_this.layout.scrollWidth + _this.layout.clientWidth;\\n                    offset = Math.min(offset, 0);\\n                    offset = Math.max(offset, canScrollOffset);\\n                    setPxStyle(_this.layout, offset, 'px', isVertical);\\n                    finalOffset = offset;\\n                    _this.setState({\\n                        showPrev: -offset > 0,\\n                        showNext: offset > canScrollOffset\\n                    });\\n                },\\n                onPanEnd: function onPanEnd() {\\n                    var isVertical = _this.isTabBarVertical();\\n                    lastOffset = finalOffset;\\n                    _this.setState({\\n                        isMoving: false,\\n                        transform: getPxStyle(finalOffset, 'px', isVertical)\\n                    });\\n                },\\n                setCurrentOffset: function setCurrentOffset(offset) {\\n                    return lastOffset = offset;\\n                }\\n            };\\n        }();\\n        _this.getTransformByIndex = function (props) {\\n            var activeTab = props.activeTab,\\n                tabs = props.tabs,\\n                _props$page = props.page,\\n                page = _props$page === undefined ? 0 : _props$page;\\n\\n            var isVertical = _this.isTabBarVertical();\\n            var size = _this.getTabSize(page, tabs.length);\\n            var center = page / 2;\\n            var pos = Math.min(activeTab, tabs.length - center - .5);\\n            var skipSize = Math.min(-(pos - center + .5) * size, 0);\\n            _this.onPan.setCurrentOffset(skipSize + '%');\\n            return {\\n                transform: getPxStyle(skipSize, '%', isVertical),\\n                showPrev: activeTab > center - .5 && tabs.length > page,\\n                showNext: activeTab < tabs.length - center - .5 && tabs.length > page\\n            };\\n        };\\n        _this.onPress = function (index) {\\n            var _this$props = _this.props,\\n                goToTab = _this$props.goToTab,\\n                onTabClick = _this$props.onTabClick,\\n                tabs = _this$props.tabs;\\n\\n            onTabClick && onTabClick(tabs[index], index);\\n            goToTab && goToTab(index);\\n        };\\n        _this.isTabBarVertical = function () {\\n            var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.tabBarPosition;\\n            return position === 'left' || position === 'right';\\n        };\\n        _this.renderTab = function (t, i, size, isTabBarVertical) {\\n            var _this$props2 = _this.props,\\n                prefixCls = _this$props2.prefixCls,\\n                renderTab = _this$props2.renderTab,\\n                activeTab = _this$props2.activeTab,\\n                tabBarTextStyle = _this$props2.tabBarTextStyle,\\n                tabBarActiveTextColor = _this$props2.tabBarActiveTextColor,\\n                tabBarInactiveTextColor = _this$props2.tabBarInactiveTextColor,\\n                instanceId = _this$props2.instanceId;\\n\\n            var textStyle = extends_default()({}, tabBarTextStyle);\\n            var cls = prefixCls + '-tab';\\n            var ariaSelected = false;\\n            if (activeTab === i) {\\n                cls += ' ' + cls + '-active';\\n                ariaSelected = true;\\n                if (tabBarActiveTextColor) {\\n                    textStyle.color = tabBarActiveTextColor;\\n                }\\n            } else if (tabBarInactiveTextColor) {\\n                textStyle.color = tabBarInactiveTextColor;\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { key: 't_' + i, style: extends_default()({}, textStyle, isTabBarVertical ? { height: size + '%' } : { width: size + '%' }), id: 'm-tabs-' + instanceId + '-' + i, role: 'tab', 'aria-selected': ariaSelected, className: cls, onClick: function onClick() {\\n                        return _this.onPress(i);\\n                    } },\\n                renderTab ? renderTab(t) : t.title\\n            );\\n        };\\n        _this.setContentLayout = function (div) {\\n            _this.layout = div;\\n        };\\n        _this.getTabSize = function (page, tabLength) {\\n            return 100 / Math.min(page, tabLength);\\n        };\\n        _this.state = extends_default()({}, new DefaultTabBar_StateType(), _this.getTransformByIndex(props));\\n        return _this;\\n    }\\n\\n    createClass_default()(DefaultTabBar, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if (this.props.activeTab !== nextProps.activeTab || this.props.tabs !== nextProps.tabs || this.props.tabs.length !== nextProps.tabs.length) {\\n                this.setState(extends_default()({}, this.getTransformByIndex(nextProps)));\\n            }\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _this2 = this;\\n\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                animated = _props.animated,\\n                _props$tabs = _props.tabs,\\n                tabs = _props$tabs === undefined ? [] : _props$tabs,\\n                _props$page2 = _props.page,\\n                page = _props$page2 === undefined ? 0 : _props$page2,\\n                _props$activeTab = _props.activeTab,\\n                activeTab = _props$activeTab === undefined ? 0 : _props$activeTab,\\n                tabBarBackgroundColor = _props.tabBarBackgroundColor,\\n                tabBarUnderlineStyle = _props.tabBarUnderlineStyle,\\n                tabBarPosition = _props.tabBarPosition,\\n                renderUnderline = _props.renderUnderline;\\n            var _state = this.state,\\n                isMoving = _state.isMoving,\\n                transform = _state.transform,\\n                showNext = _state.showNext,\\n                showPrev = _state.showPrev;\\n\\n            var isTabBarVertical = this.isTabBarVertical();\\n            var needScroll = tabs.length > page;\\n            var size = this.getTabSize(page, tabs.length);\\n            var Tabs = tabs.map(function (t, i) {\\n                return _this2.renderTab(t, i, size, isTabBarVertical);\\n            });\\n            var cls = prefixCls;\\n            if (animated && !isMoving) {\\n                cls += ' ' + prefixCls + '-animated';\\n            }\\n            var style = {\\n                backgroundColor: tabBarBackgroundColor || ''\\n            };\\n            var transformStyle = needScroll ? extends_default()({}, getTransformPropValue(transform)) : {};\\n            var _a = this.onPan,\\n                setCurrentOffset = _a.setCurrentOffset,\\n                onPan = DefaultTabBar_rest(_a, [\\\"setCurrentOffset\\\"]);\\n            var underlineProps = {\\n                style: extends_default()({}, isTabBarVertical ? { height: size + '%' } : { width: size + '%' }, isTabBarVertical ? { top: size * activeTab + '%' } : { left: size * activeTab + '%' }, tabBarUnderlineStyle),\\n                className: prefixCls + '-underline'\\n            };\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: cls + ' ' + prefixCls + '-' + tabBarPosition, style: style },\\n                showPrev && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-prevpage' }),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    rc_gesture_es,\\n                    extends_default()({}, onPan, { direction: isTabBarVertical ? 'vertical' : 'horizontal' }),\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'div',\\n                        { role: 'tablist', className: prefixCls + '-content', style: transformStyle, ref: this.setContentLayout },\\n                        Tabs,\\n                        renderUnderline ? renderUnderline(underlineProps) : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', underlineProps)\\n                    )\\n                ),\\n                showNext && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-nextpage' })\\n            );\\n        }\\n    }]);\\n\\n    return DefaultTabBar;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.PureComponent);\\nDefaultTabBar_DefaultTabBar.defaultProps = {\\n    prefixCls: 'rmc-tabs-tab-bar',\\n    animated: true,\\n    tabs: [],\\n    goToTab: function goToTab() {},\\n    activeTab: 0,\\n    page: 5,\\n    tabBarUnderlineStyle: {},\\n    tabBarBackgroundColor: '#fff',\\n    tabBarActiveTextColor: '',\\n    tabBarInactiveTextColor: '',\\n    tabBarTextStyle: {}\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-tabs/es/Tabs.base.js\\n\\n\\n\\n\\n\\n\\nvar Tabs_base_StateType = function StateType() {\\n    classCallCheck_default()(this, StateType);\\n};\\nvar Tabs_base_instanceId = 0;\\nvar Tabs_base_Tabs = function (_React$PureComponent) {\\n    inherits_default()(Tabs, _React$PureComponent);\\n\\n    function Tabs(props) {\\n        classCallCheck_default()(this, Tabs);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Tabs.__proto__ || Object.getPrototypeOf(Tabs)).call(this, props));\\n\\n        _this.tabCache = {};\\n        _this.isTabVertical = function () {\\n            var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.tabDirection;\\n            return direction === 'vertical';\\n        };\\n        _this.shouldRenderTab = function (idx) {\\n            var _this$props$prerender = _this.props.prerenderingSiblingsNumber,\\n                prerenderingSiblingsNumber = _this$props$prerender === undefined ? 0 : _this$props$prerender;\\n            var _this$state$currentTa = _this.state.currentTab,\\n                currentTab = _this$state$currentTa === undefined ? 0 : _this$state$currentTa;\\n\\n            return currentTab - prerenderingSiblingsNumber <= idx && idx <= currentTab + prerenderingSiblingsNumber;\\n        };\\n        _this.getOffsetIndex = function (current, width) {\\n            var threshold = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.props.distanceToChangeTab || 0;\\n\\n            var ratio = Math.abs(current / width);\\n            var direction = ratio > _this.state.currentTab ? '<' : '>';\\n            var index = Math.floor(ratio);\\n            switch (direction) {\\n                case '<':\\n                    return ratio - index > threshold ? index + 1 : index;\\n                case '>':\\n                    return 1 - ratio + index > threshold ? index : index + 1;\\n                default:\\n                    return Math.round(ratio);\\n            }\\n        };\\n        _this.getSubElements = function () {\\n            var children = _this.props.children;\\n\\n            var subElements = {};\\n            return function () {\\n                var defaultPrefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '$i$-';\\n                var allPrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '$ALL$';\\n\\n                if (Array.isArray(children)) {\\n                    children.forEach(function (child, index) {\\n                        if (child.key) {\\n                            subElements[child.key] = child;\\n                        }\\n                        subElements['' + defaultPrefix + index] = child;\\n                    });\\n                } else if (children) {\\n                    subElements[allPrefix] = children;\\n                }\\n                return subElements;\\n            };\\n        };\\n        _this.state = {\\n            currentTab: _this.getTabIndex(props)\\n        };\\n        _this.nextCurrentTab = _this.state.currentTab;\\n        _this.instanceId = Tabs_base_instanceId++;\\n        return _this;\\n    }\\n\\n    createClass_default()(Tabs, [{\\n        key: 'getTabIndex',\\n        value: function getTabIndex(props) {\\n            var page = props.page,\\n                initialPage = props.initialPage,\\n                tabs = props.tabs;\\n\\n            var param = (page !== undefined ? page : initialPage) || 0;\\n            var index = 0;\\n            if (typeof param === 'string') {\\n                tabs.forEach(function (t, i) {\\n                    if (t.key === param) {\\n                        index = i;\\n                    }\\n                });\\n            } else {\\n                index = param || 0;\\n            }\\n            return index < 0 ? 0 : index;\\n        }\\n    }, {\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if (this.props.page !== nextProps.page && nextProps.page !== undefined) {\\n                this.goToTab(this.getTabIndex(nextProps), true, {}, nextProps);\\n            }\\n        }\\n    }, {\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            this.prevCurrentTab = this.state.currentTab;\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate() {\\n            this.prevCurrentTab = this.state.currentTab;\\n        }\\n    }, {\\n        key: 'goToTab',\\n        value: function goToTab(index) {\\n            var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\\n            var newState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\\n            var props = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.props;\\n\\n            if (!force && this.nextCurrentTab === index) {\\n                return false;\\n            }\\n            this.nextCurrentTab = index;\\n            var tabs = props.tabs,\\n                onChange = props.onChange;\\n\\n            if (index >= 0 && index < tabs.length) {\\n                if (!force) {\\n                    onChange && onChange(tabs[index], index);\\n                    if (props.page !== undefined) {\\n                        return false;\\n                    }\\n                }\\n                this.setState(extends_default()({ currentTab: index }, newState));\\n            }\\n            return true;\\n        }\\n    }, {\\n        key: 'tabClickGoToTab',\\n        value: function tabClickGoToTab(index) {\\n            this.goToTab(index);\\n        }\\n    }, {\\n        key: 'getTabBarBaseProps',\\n        value: function getTabBarBaseProps() {\\n            var currentTab = this.state.currentTab;\\n            var _props = this.props,\\n                animated = _props.animated,\\n                onTabClick = _props.onTabClick,\\n                tabBarActiveTextColor = _props.tabBarActiveTextColor,\\n                tabBarBackgroundColor = _props.tabBarBackgroundColor,\\n                tabBarInactiveTextColor = _props.tabBarInactiveTextColor,\\n                tabBarPosition = _props.tabBarPosition,\\n                tabBarTextStyle = _props.tabBarTextStyle,\\n                tabBarUnderlineStyle = _props.tabBarUnderlineStyle,\\n                tabs = _props.tabs;\\n\\n            return {\\n                activeTab: currentTab,\\n                animated: !!animated,\\n                goToTab: this.tabClickGoToTab.bind(this),\\n                onTabClick: onTabClick,\\n                tabBarActiveTextColor: tabBarActiveTextColor,\\n                tabBarBackgroundColor: tabBarBackgroundColor,\\n                tabBarInactiveTextColor: tabBarInactiveTextColor,\\n                tabBarPosition: tabBarPosition,\\n                tabBarTextStyle: tabBarTextStyle,\\n                tabBarUnderlineStyle: tabBarUnderlineStyle,\\n                tabs: tabs,\\n                instanceId: this.instanceId\\n            };\\n        }\\n    }, {\\n        key: 'renderTabBar',\\n        value: function renderTabBar(tabBarProps, DefaultTabBar) {\\n            var renderTabBar = this.props.renderTabBar;\\n\\n            if (renderTabBar === false) {\\n                return null;\\n            } else if (renderTabBar) {\\n                // return React.cloneElement(this.props.renderTabBar(props), props);\\n                return renderTabBar(tabBarProps);\\n            } else {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(DefaultTabBar, tabBarProps);\\n            }\\n        }\\n    }, {\\n        key: 'getSubElement',\\n        value: function getSubElement(tab, index, subElements) {\\n            var defaultPrefix = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '$i$-';\\n            var allPrefix = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '$ALL$';\\n\\n            var key = tab.key || '' + defaultPrefix + index;\\n            var elements = subElements(defaultPrefix, allPrefix);\\n            var component = elements[key] || elements[allPrefix];\\n            if (component instanceof Function) {\\n                component = component(tab, index);\\n            }\\n            return component || null;\\n        }\\n    }]);\\n\\n    return Tabs;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.PureComponent);\\nTabs_base_Tabs.defaultProps = {\\n    tabBarPosition: 'top',\\n    initialPage: 0,\\n    swipeable: true,\\n    animated: true,\\n    prerenderingSiblingsNumber: 1,\\n    tabs: [],\\n    destroyInactiveTab: false,\\n    usePaged: true,\\n    tabDirection: 'horizontal',\\n    distanceToChangeTab: .3\\n};\\n// CONCATENATED MODULE: ./node_modules/rmc-tabs/es/Tabs.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar getPanDirection = function getPanDirection(direction) {\\n    switch (direction) {\\n        case 2:\\n        case 4:\\n            return 'horizontal';\\n        case 8:\\n        case 16:\\n            return 'vertical';\\n        default:\\n            return 'none';\\n    }\\n};\\nvar Tabs_StateType = function (_BaseStateType) {\\n    inherits_default()(StateType, _BaseStateType);\\n\\n    function StateType() {\\n        classCallCheck_default()(this, StateType);\\n\\n        var _this = possibleConstructorReturn_default()(this, (StateType.__proto__ || Object.getPrototypeOf(StateType)).apply(this, arguments));\\n\\n        _this.contentPos = '';\\n        _this.isMoving = false;\\n        return _this;\\n    }\\n\\n    return StateType;\\n}(Tabs_base_StateType);\\nvar Tabs_Tabs = function (_Component) {\\n    inherits_default()(Tabs, _Component);\\n\\n    function Tabs(props) {\\n        classCallCheck_default()(this, Tabs);\\n\\n        var _this2 = possibleConstructorReturn_default()(this, (Tabs.__proto__ || Object.getPrototypeOf(Tabs)).call(this, props));\\n\\n        _this2.onPan = function () {\\n            var lastOffset = 0;\\n            var finalOffset = 0;\\n            var panDirection = void 0;\\n            var getLastOffset = function getLastOffset() {\\n                var isVertical = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this2.isTabVertical();\\n\\n                var offset = +('' + lastOffset).replace('%', '');\\n                if (('' + lastOffset).indexOf('%') >= 0) {\\n                    offset /= 100;\\n                    offset *= isVertical ? _this2.layout.clientHeight : _this2.layout.clientWidth;\\n                }\\n                return offset;\\n            };\\n            return {\\n                onPanStart: function onPanStart(status) {\\n                    if (!_this2.props.swipeable || !_this2.props.animated) return;\\n                    panDirection = getPanDirection(status.direction);\\n                    _this2.setState({\\n                        isMoving: true\\n                    });\\n                },\\n                onPanMove: function onPanMove(status) {\\n                    var _this2$props = _this2.props,\\n                        swipeable = _this2$props.swipeable,\\n                        animated = _this2$props.animated,\\n                        useLeftInsteadTransform = _this2$props.useLeftInsteadTransform;\\n\\n                    if (!status.moveStatus || !_this2.layout || !swipeable || !animated) return;\\n                    var isVertical = _this2.isTabVertical();\\n                    var offset = getLastOffset();\\n                    if (isVertical) {\\n                        offset += panDirection === 'horizontal' ? 0 : status.moveStatus.y;\\n                    } else {\\n                        offset += panDirection === 'vertical' ? 0 : status.moveStatus.x;\\n                    }\\n                    var canScrollOffset = isVertical ? -_this2.layout.scrollHeight + _this2.layout.clientHeight : -_this2.layout.scrollWidth + _this2.layout.clientWidth;\\n                    offset = Math.min(offset, 0);\\n                    offset = Math.max(offset, canScrollOffset);\\n                    setPxStyle(_this2.layout, offset, 'px', isVertical, useLeftInsteadTransform);\\n                    finalOffset = offset;\\n                },\\n                onPanEnd: function onPanEnd() {\\n                    if (!_this2.props.swipeable || !_this2.props.animated) return;\\n                    lastOffset = finalOffset;\\n                    var isVertical = _this2.isTabVertical();\\n                    var offsetIndex = _this2.getOffsetIndex(finalOffset, isVertical ? _this2.layout.clientHeight : _this2.layout.clientWidth);\\n                    _this2.setState({\\n                        isMoving: false\\n                    });\\n                    if (offsetIndex === _this2.state.currentTab) {\\n                        if (_this2.props.usePaged) {\\n                            util_setTransform(_this2.layout.style, _this2.getContentPosByIndex(offsetIndex, _this2.isTabVertical(), _this2.props.useLeftInsteadTransform));\\n                        }\\n                    } else {\\n                        _this2.goToTab(offsetIndex);\\n                    }\\n                },\\n                setCurrentOffset: function setCurrentOffset(offset) {\\n                    return lastOffset = offset;\\n                }\\n            };\\n        }();\\n        _this2.onSwipe = function (status) {\\n            var _this2$props2 = _this2.props,\\n                tabBarPosition = _this2$props2.tabBarPosition,\\n                swipeable = _this2$props2.swipeable,\\n                usePaged = _this2$props2.usePaged;\\n\\n            if (!swipeable || !usePaged || _this2.isTabVertical()) return;\\n            // DIRECTION_NONE\\t1\\n            // DIRECTION_LEFT\\t2\\n            // DIRECTION_RIGHT\\t4\\n            // DIRECTION_UP\\t8\\n            // DIRECTION_DOWN\\t16\\n            // DIRECTION_HORIZONTAL\\t6\\n            // DIRECTION_VERTICAL\\t24\\n            // DIRECTION_ALL\\t30\\n            switch (tabBarPosition) {\\n                case 'top':\\n                case 'bottom':\\n                    switch (status.direction) {\\n                        case 2:\\n                            if (!_this2.isTabVertical()) {\\n                                _this2.goToTab(_this2.prevCurrentTab + 1);\\n                            }\\n                        case 8:\\n                            if (_this2.isTabVertical()) {\\n                                _this2.goToTab(_this2.prevCurrentTab + 1);\\n                            }\\n                            break;\\n                        case 4:\\n                            if (!_this2.isTabVertical()) {\\n                                _this2.goToTab(_this2.prevCurrentTab - 1);\\n                            }\\n                        case 16:\\n                            if (_this2.isTabVertical()) {\\n                                _this2.goToTab(_this2.prevCurrentTab - 1);\\n                            }\\n                            break;\\n                    }\\n                    break;\\n            }\\n        };\\n        _this2.setContentLayout = function (div) {\\n            _this2.layout = div;\\n        };\\n        _this2.state = extends_default()({}, _this2.state, new Tabs_StateType(), { contentPos: _this2.getContentPosByIndex(_this2.getTabIndex(props), _this2.isTabVertical(props.tabDirection), props.useLeftInsteadTransform) });\\n        return _this2;\\n    }\\n\\n    createClass_default()(Tabs, [{\\n        key: 'goToTab',\\n        value: function goToTab(index) {\\n            var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\\n            var usePaged = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.usePaged;\\n            var props = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.props;\\n            var tabDirection = props.tabDirection,\\n                useLeftInsteadTransform = props.useLeftInsteadTransform;\\n\\n            var newState = {};\\n            if (usePaged) {\\n                newState = {\\n                    contentPos: this.getContentPosByIndex(index, this.isTabVertical(tabDirection), useLeftInsteadTransform)\\n                };\\n            }\\n            return get_default()(Tabs.prototype.__proto__ || Object.getPrototypeOf(Tabs.prototype), 'goToTab', this).call(this, index, force, newState, props);\\n        }\\n    }, {\\n        key: 'tabClickGoToTab',\\n        value: function tabClickGoToTab(index) {\\n            this.goToTab(index, false, true);\\n        }\\n    }, {\\n        key: 'getContentPosByIndex',\\n        value: function getContentPosByIndex(index, isVertical) {\\n            var useLeft = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\\n\\n            var value = -index * 100 + '%';\\n            this.onPan.setCurrentOffset(value);\\n            if (useLeft) {\\n                return '' + value;\\n            } else {\\n                var translate = isVertical ? '0px, ' + value : value + ', 0px';\\n                // fix: content overlay TabBar on iOS 10. ( 0px -> 1px )\\n                return 'translate3d(' + translate + ', 1px)';\\n            }\\n        }\\n    }, {\\n        key: 'renderContent',\\n        value: function renderContent() {\\n            var _this3 = this;\\n\\n            var getSubElements = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSubElements();\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                tabs = _props.tabs,\\n                animated = _props.animated,\\n                destroyInactiveTab = _props.destroyInactiveTab,\\n                useLeftInsteadTransform = _props.useLeftInsteadTransform;\\n            var _state = this.state,\\n                currentTab = _state.currentTab,\\n                isMoving = _state.isMoving,\\n                contentPos = _state.contentPos;\\n\\n            var isTabVertical = this.isTabVertical();\\n            var contentCls = prefixCls + '-content-wrap';\\n            if (animated && !isMoving) {\\n                contentCls += ' ' + contentCls + '-animated';\\n            }\\n            var contentStyle = animated ? useLeftInsteadTransform ? extends_default()({ position: 'relative' }, this.isTabVertical() ? { top: contentPos } : { left: contentPos }) : getTransformPropValue(contentPos) : extends_default()({ position: 'relative' }, this.isTabVertical() ? { top: -currentTab * 100 + '%' } : { left: -currentTab * 100 + '%' });\\n\\n            var _getTabBarBaseProps = this.getTabBarBaseProps(),\\n                instanceId = _getTabBarBaseProps.instanceId;\\n\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: contentCls, style: contentStyle, ref: this.setContentLayout },\\n                tabs.map(function (tab, index) {\\n                    var cls = prefixCls + '-pane-wrap';\\n                    if (_this3.state.currentTab === index) {\\n                        cls += ' ' + cls + '-active';\\n                    } else {\\n                        cls += ' ' + cls + '-inactive';\\n                    }\\n                    var key = tab.key || 'tab_' + index;\\n                    // update tab cache\\n                    if (_this3.shouldRenderTab(index)) {\\n                        _this3.tabCache[index] = _this3.getSubElement(tab, index, getSubElements);\\n                    } else if (destroyInactiveTab) {\\n                        _this3.tabCache[index] = undefined;\\n                    }\\n                    return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        TabPane_TabPane,\\n                        { key: key, className: cls, active: currentTab === index, role: 'tabpanel', 'aria-hidden': currentTab !== index, 'aria-labelledby': 'm-tabs-' + instanceId + '-' + index, fixX: isTabVertical, fixY: !isTabVertical },\\n                        _this3.tabCache[index]\\n                    );\\n                })\\n            );\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _props2 = this.props,\\n                prefixCls = _props2.prefixCls,\\n                tabBarPosition = _props2.tabBarPosition,\\n                tabDirection = _props2.tabDirection,\\n                useOnPan = _props2.useOnPan,\\n                noRenderContent = _props2.noRenderContent;\\n\\n            var isTabVertical = this.isTabVertical(tabDirection);\\n            var tabBarProps = extends_default()({}, this.getTabBarBaseProps());\\n            var onPan = !isTabVertical && useOnPan ? this.onPan : {};\\n            var content = [reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { key: 'tabBar', className: prefixCls + '-tab-bar-wrap' },\\n                this.renderTabBar(tabBarProps, DefaultTabBar_DefaultTabBar)\\n            ), !noRenderContent && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rc_gesture_es,\\n                extends_default()({ key: '$content', onSwipe: this.onSwipe }, onPan),\\n                this.renderContent()\\n            )];\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: prefixCls + ' ' + prefixCls + '-' + tabDirection + ' ' + prefixCls + '-' + tabBarPosition },\\n                tabBarPosition === 'top' || tabBarPosition === 'left' ? content : content.reverse()\\n            );\\n        }\\n    }]);\\n\\n    return Tabs;\\n}(Tabs_base_Tabs);\\nTabs_Tabs.DefaultTabBar = DefaultTabBar_DefaultTabBar;\\nTabs_Tabs.defaultProps = extends_default()({}, Tabs_base_Tabs.defaultProps, { prefixCls: 'rmc-tabs', useOnPan: true });\\n// CONCATENATED MODULE: ./node_modules/rmc-tabs/es/index.js\\n\\n\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/tabs/index.js\\n\\n\\n\\n\\n\\n\\n\\nvar tabs_DefaultTabBar = function (_RMCDefaultTabBar) {\\n    inherits_default()(DefaultTabBar, _RMCDefaultTabBar);\\n\\n    function DefaultTabBar() {\\n        classCallCheck_default()(this, DefaultTabBar);\\n\\n        return possibleConstructorReturn_default()(this, (DefaultTabBar.__proto__ || Object.getPrototypeOf(DefaultTabBar)).apply(this, arguments));\\n    }\\n\\n    return DefaultTabBar;\\n}(DefaultTabBar_DefaultTabBar);\\ntabs_DefaultTabBar.defaultProps = extends_default()({}, DefaultTabBar_DefaultTabBar.defaultProps, { prefixCls: 'am-tabs-default-bar' });\\n\\nvar tabs_Tabs = function (_React$PureComponent) {\\n    inherits_default()(Tabs, _React$PureComponent);\\n\\n    function Tabs() {\\n        classCallCheck_default()(this, Tabs);\\n\\n        var _this2 = possibleConstructorReturn_default()(this, (Tabs.__proto__ || Object.getPrototypeOf(Tabs)).apply(this, arguments));\\n\\n        _this2.renderTabBar = function (props) {\\n            var renderTab = _this2.props.renderTab;\\n\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(tabs_DefaultTabBar, extends_default()({}, props, { renderTab: renderTab }));\\n        };\\n        return _this2;\\n    }\\n\\n    createClass_default()(Tabs, [{\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(Tabs_Tabs, extends_default()({ renderTabBar: this.renderTabBar }, this.props));\\n        }\\n    }]);\\n\\n    return Tabs;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.PureComponent);\\n\\n/* harmony default export */ var es_tabs = (tabs_Tabs);\\n\\ntabs_Tabs.DefaultTabBar = tabs_DefaultTabBar;\\ntabs_Tabs.defaultProps = {\\n    prefixCls: 'am-tabs'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/tab-bar/Tab.js\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Tab_Tab = function (_React$PureComponent) {\\n    inherits_default()(Tab, _React$PureComponent);\\n\\n    function Tab() {\\n        classCallCheck_default()(this, Tab);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Tab.__proto__ || Object.getPrototypeOf(Tab)).apply(this, arguments));\\n\\n        _this.renderIcon = function () {\\n            var _this$props = _this.props,\\n                dot = _this$props.dot,\\n                badge = _this$props.badge,\\n                selected = _this$props.selected,\\n                selectedIcon = _this$props.selectedIcon,\\n                icon = _this$props.icon,\\n                title = _this$props.title,\\n                prefixCls = _this$props.prefixCls;\\n\\n            var iconRes = selected ? selectedIcon : icon;\\n            var iconDom = reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.isValidElement(iconRes) ? iconRes : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('img', { className: prefixCls + '-image', src: iconRes ? iconRes.uri : iconRes, alt: title });\\n            if (badge) {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    es_badge,\\n                    { text: badge, className: prefixCls + '-badge tab-badge' },\\n                    ' ',\\n                    iconDom,\\n                    ' '\\n                );\\n            }\\n            if (dot) {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    es_badge,\\n                    { dot: true, className: prefixCls + '-badge tab-dot' },\\n                    iconDom\\n                );\\n            }\\n            return iconDom;\\n        };\\n        _this.onClick = function () {\\n            var onClick = _this.props.onClick;\\n            if (onClick) {\\n                onClick();\\n            }\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Tab, [{\\n        key: 'render',\\n        value: function render() {\\n            var _props = this.props,\\n                title = _props.title,\\n                prefixCls = _props.prefixCls,\\n                selected = _props.selected,\\n                unselectedTintColor = _props.unselectedTintColor,\\n                tintColor = _props.tintColor;\\n\\n            var iconColor = selected ? tintColor : unselectedTintColor;\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({}, this.props.dataAttrs, { onClick: this.onClick, className: '' + prefixCls }),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-icon', style: { color: iconColor } },\\n                    this.renderIcon()\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'p',\\n                    { className: prefixCls + '-title', style: { color: selected ? tintColor : unselectedTintColor } },\\n                    title\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return Tab;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.PureComponent);\\n\\n/* harmony default export */ var tab_bar_Tab = (Tab_Tab);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/tab-bar/index.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar tab_bar_Item = function (_React$Component) {\\n    inherits_default()(Item, _React$Component);\\n\\n    function Item() {\\n        classCallCheck_default()(this, Item);\\n\\n        return possibleConstructorReturn_default()(this, (Item.__proto__ || Object.getPrototypeOf(Item)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Item, [{\\n        key: 'render',\\n        value: function render() {\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                style = _props.style;\\n\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: prefixCls, style: style },\\n                this.props.children\\n            );\\n        }\\n    }]);\\n\\n    return Item;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\ntab_bar_Item.defaultProps = {\\n    prefixCls: 'am-tab-bar-item',\\n    title: ''\\n};\\n\\nvar tab_bar_AntTabBar = function (_React$Component2) {\\n    inherits_default()(AntTabBar, _React$Component2);\\n\\n    function AntTabBar() {\\n        classCallCheck_default()(this, AntTabBar);\\n\\n        var _this2 = possibleConstructorReturn_default()(this, (AntTabBar.__proto__ || Object.getPrototypeOf(AntTabBar)).apply(this, arguments));\\n\\n        _this2.getTabs = function () {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.map(_this2.props.children, function (c) {\\n                return extends_default()({}, c.props);\\n            });\\n        };\\n        _this2.renderTabBar = function () {\\n            var _this2$props = _this2.props,\\n                barTintColor = _this2$props.barTintColor,\\n                prefixCls = _this2$props.prefixCls,\\n                tintColor = _this2$props.tintColor,\\n                unselectedTintColor = _this2$props.unselectedTintColor,\\n                hidden = _this2$props.hidden,\\n                tabBarPosition = _this2$props.tabBarPosition;\\n\\n            var tabsData = _this2.getTabs();\\n            var content = tabsData.map(function (cProps, index) {\\n                return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(tab_bar_Tab, { key: index, prefixCls: _this2.props.prefixCls + '-tab', badge: cProps.badge, dot: cProps.dot, selected: cProps.selected, icon: cProps.icon, selectedIcon: cProps.selectedIcon, title: cProps.title, tintColor: tintColor, unselectedTintColor: unselectedTintColor, dataAttrs: getDataAttr(cProps), onClick: function onClick() {\\n                        return cProps.onPress && cProps.onPress();\\n                    } });\\n            });\\n            var cls = prefixCls + '-bar';\\n            if (hidden) {\\n                cls += ' ' + prefixCls + '-bar-hidden-' + tabBarPosition;\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: cls, style: { backgroundColor: barTintColor } },\\n                content\\n            );\\n        };\\n        return _this2;\\n    }\\n\\n    createClass_default()(AntTabBar, [{\\n        key: 'render',\\n        value: function render() {\\n            var _props2 = this.props,\\n                prefixCls = _props2.prefixCls,\\n                children = _props2.children,\\n                animated = _props2.animated,\\n                swipeable = _props2.swipeable,\\n                noRenderContent = _props2.noRenderContent,\\n                prerenderingSiblingsNumber = _props2.prerenderingSiblingsNumber,\\n                tabBarPosition = _props2.tabBarPosition;\\n\\n            var tabs = this.getTabs();\\n            var activeIndex = 0;\\n            tabs.forEach(function (tab, index) {\\n                if (tab.selected) {\\n                    activeIndex = index;\\n                }\\n            });\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: prefixCls },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    es_tabs,\\n                    { tabs: tabs, renderTabBar: this.renderTabBar, tabBarPosition: tabBarPosition, page: activeIndex < 0 ? undefined : activeIndex, animated: animated, swipeable: swipeable, noRenderContent: noRenderContent, prerenderingSiblingsNumber: prerenderingSiblingsNumber },\\n                    children\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return AntTabBar;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\ntab_bar_AntTabBar.defaultProps = {\\n    prefixCls: 'am-tab-bar',\\n    barTintColor: 'white',\\n    tintColor: '#108ee9',\\n    hidden: false,\\n    unselectedTintColor: '#888',\\n    placeholder: '',\\n    animated: false,\\n    swipeable: false,\\n    prerenderingSiblingsNumber: 1,\\n    tabBarPosition: 'bottom'\\n};\\ntab_bar_AntTabBar.Item = tab_bar_Item;\\n/* harmony default export */ var tab_bar = (tab_bar_AntTabBar);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/tag/index.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar tag_Tag = function (_React$Component) {\\n    inherits_default()(Tag, _React$Component);\\n\\n    function Tag(props) {\\n        classCallCheck_default()(this, Tag);\\n\\n        var _this = possibleConstructorReturn_default()(this, (Tag.__proto__ || Object.getPrototypeOf(Tag)).call(this, props));\\n\\n        _this.onClick = function () {\\n            var _this$props = _this.props,\\n                disabled = _this$props.disabled,\\n                onChange = _this$props.onChange;\\n\\n            if (disabled) {\\n                return;\\n            }\\n            var isSelect = _this.state.selected;\\n            _this.setState({\\n                selected: !isSelect\\n            }, function () {\\n                if (onChange) {\\n                    onChange(!isSelect);\\n                }\\n            });\\n        };\\n        _this.onTagClose = function () {\\n            if (_this.props.onClose) {\\n                _this.props.onClose();\\n            }\\n            _this.setState({\\n                closed: true\\n            }, _this.props.afterClose);\\n        };\\n        _this.state = {\\n            selected: props.selected,\\n            closed: false\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(Tag, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if (this.props.selected !== nextProps.selected) {\\n                this.setState({\\n                    selected: nextProps.selected\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _classnames;\\n\\n            var _props = this.props,\\n                children = _props.children,\\n                className = _props.className,\\n                prefixCls = _props.prefixCls,\\n                disabled = _props.disabled,\\n                closable = _props.closable,\\n                small = _props.small,\\n                style = _props.style;\\n\\n            var wrapCls = classnames_default()(className, prefixCls, (_classnames = {}, defineProperty_default()(_classnames, prefixCls + '-normal', !disabled && (!this.state.selected || small || closable)), defineProperty_default()(_classnames, prefixCls + '-small', small), defineProperty_default()(_classnames, prefixCls + '-active', this.state.selected && !disabled && !small && !closable), defineProperty_default()(_classnames, prefixCls + '-disabled', disabled), defineProperty_default()(_classnames, prefixCls + '-closable', closable), _classnames));\\n            var closableDom = closable && !disabled && !small ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                rmc_feedback_es[\\\"default\\\"],\\n                { activeClassName: prefixCls + '-close-active' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-close', role: 'button', onClick: this.onTagClose, 'aria-label': 'remove tag' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_icon, { type: 'cross-circle', size: 'xs', 'aria-hidden': 'true' })\\n                )\\n            ) : null;\\n            return !this.state.closed ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                extends_default()({}, getDataAttr(this.props), { className: wrapCls, onClick: this.onClick, style: style }),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-text' },\\n                    children\\n                ),\\n                closableDom\\n            ) : null;\\n        }\\n    }]);\\n\\n    return Tag;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var tag = (tag_Tag);\\n\\ntag_Tag.defaultProps = {\\n    prefixCls: 'am-tag',\\n    disabled: false,\\n    selected: false,\\n    closable: false,\\n    small: false,\\n    onChange: function onChange() {},\\n    onClose: function onClose() {},\\n    afterClose: function afterClose() {}\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/view/index.js\\n\\n\\n\\n\\n\\nvar view_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\n\\nvar view_View = function (_React$Component) {\\n    inherits_default()(View, _React$Component);\\n\\n    function View() {\\n        classCallCheck_default()(this, View);\\n\\n        return possibleConstructorReturn_default()(this, (View.__proto__ || Object.getPrototypeOf(View)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(View, [{\\n        key: 'render',\\n        value: function render() {\\n            var props = extends_default()({}, this.props);\\n            if (Array.isArray(props.style)) {\\n                var style = {};\\n                props.style.forEach(function (s) {\\n                    style = extends_default()({}, style, s);\\n                });\\n                props.style = style;\\n            }\\n\\n            var _props$Component = props.Component,\\n                Component = _props$Component === undefined ? 'div' : _props$Component,\\n                restProps = view_rest(props, [\\\"Component\\\"]);\\n\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(Component, restProps);\\n        }\\n    }]);\\n\\n    return View;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var view = (view_View);\\n\\nview_View.defaultProps = {\\n    Component: 'div'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/text/index.js\\n\\n\\n\\n\\n\\n\\n\\nvar text_Text = function (_React$Component) {\\n    inherits_default()(Text, _React$Component);\\n\\n    function Text() {\\n        classCallCheck_default()(this, Text);\\n\\n        return possibleConstructorReturn_default()(this, (Text.__proto__ || Object.getPrototypeOf(Text)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(Text, [{\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(view, this.props);\\n        }\\n    }]);\\n\\n    return Text;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var es_text = (text_Text);\\n\\ntext_Text.defaultProps = {\\n    Component: 'span'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/textarea-item/index.js\\n\\n\\n\\n\\n\\n\\nvar textarea_item_rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n/* tslint:disable:jsx-no-multiline-js */\\n\\n\\n\\n\\nfunction textarea_item_noop() {}\\nfunction fixControlledValue(value) {\\n    if (typeof value === 'undefined' || value === null) {\\n        return '';\\n    }\\n    return value;\\n}\\nvar regexAstralSymbols = /[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]|\\\\n/g;\\nfunction countSymbols() {\\n    var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\\n\\n    return text.replace(regexAstralSymbols, '_').length;\\n}\\n\\nvar textarea_item_TextareaItem = function (_React$Component) {\\n    inherits_default()(TextareaItem, _React$Component);\\n\\n    function TextareaItem(props) {\\n        classCallCheck_default()(this, TextareaItem);\\n\\n        var _this = possibleConstructorReturn_default()(this, (TextareaItem.__proto__ || Object.getPrototypeOf(TextareaItem)).call(this, props));\\n\\n        _this.focus = function () {\\n            _this.textareaRef.focus();\\n        };\\n        _this.reAlignHeight = function () {\\n            var textareaDom = _this.textareaRef;\\n            textareaDom.style.height = ''; // \\n            textareaDom.style.height = textareaDom.scrollHeight + 'px';\\n        };\\n        _this.onChange = function (e) {\\n            var value = e.target.value;\\n            if ('value' in _this.props) {\\n                _this.setState({ value: _this.props.value });\\n            } else {\\n                _this.setState({ value: value });\\n            }\\n            var onChange = _this.props.onChange;\\n\\n            if (onChange) {\\n                onChange(value);\\n            }\\n            //  defaultValue  componentDidUpdate \\n            _this.componentDidUpdate();\\n        };\\n        _this.onBlur = function (e) {\\n            _this.debounceTimeout = setTimeout(function () {\\n                if (document.activeElement !== _this.textareaRef) {\\n                    _this.setState({\\n                        focus: false\\n                    });\\n                }\\n            }, 100);\\n            var value = e.currentTarget.value;\\n            if (_this.props.onBlur) {\\n                _this.props.onBlur(value);\\n            }\\n        };\\n        _this.onFocus = function (e) {\\n            if (_this.debounceTimeout) {\\n                clearTimeout(_this.debounceTimeout);\\n                _this.debounceTimeout = null;\\n            }\\n            _this.setState({\\n                focus: true\\n            });\\n            var value = e.currentTarget.value;\\n            if (_this.props.onFocus) {\\n                _this.props.onFocus(value);\\n            }\\n        };\\n        _this.onErrorClick = function () {\\n            if (_this.props.onErrorClick) {\\n                _this.props.onErrorClick();\\n            }\\n        };\\n        _this.clearInput = function () {\\n            _this.setState({\\n                value: ''\\n            });\\n            if (_this.props.onChange) {\\n                _this.props.onChange('');\\n            }\\n        };\\n        _this.state = {\\n            focus: false,\\n            value: props.value || props.defaultValue || ''\\n        };\\n        return _this;\\n    }\\n\\n    createClass_default()(TextareaItem, [{\\n        key: 'componentWillReceiveProps',\\n        value: function componentWillReceiveProps(nextProps) {\\n            if ('value' in nextProps) {\\n                this.setState({\\n                    value: fixControlledValue(nextProps.value)\\n                });\\n            }\\n        }\\n    }, {\\n        key: 'componentDidMount',\\n        value: function componentDidMount() {\\n            if (this.props.autoHeight) {\\n                this.reAlignHeight();\\n            }\\n        }\\n    }, {\\n        key: 'componentDidUpdate',\\n        value: function componentDidUpdate() {\\n            if (this.props.autoHeight && this.state.focus) {\\n                this.reAlignHeight();\\n            }\\n        }\\n    }, {\\n        key: 'componentWillUnmount',\\n        value: function componentWillUnmount() {\\n            if (this.debounceTimeout) {\\n                clearTimeout(this.debounceTimeout);\\n                this.debounceTimeout = null;\\n            }\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _classnames,\\n                _classnames2,\\n                _this2 = this;\\n\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                prefixListCls = _a.prefixListCls,\\n                editable = _a.editable,\\n                style = _a.style,\\n                clear = _a.clear,\\n                children = _a.children,\\n                error = _a.error,\\n                className = _a.className,\\n                count = _a.count,\\n                labelNumber = _a.labelNumber,\\n                title = _a.title,\\n                onErrorClick = _a.onErrorClick,\\n                autoHeight = _a.autoHeight,\\n                defaultValue = _a.defaultValue,\\n                otherProps = textarea_item_rest(_a, [\\\"prefixCls\\\", \\\"prefixListCls\\\", \\\"editable\\\", \\\"style\\\", \\\"clear\\\", \\\"children\\\", \\\"error\\\", \\\"className\\\", \\\"count\\\", \\\"labelNumber\\\", \\\"title\\\", \\\"onErrorClick\\\", \\\"autoHeight\\\", \\\"defaultValue\\\"]);var disabled = otherProps.disabled;\\n            var _state = this.state,\\n                value = _state.value,\\n                focus = _state.focus;\\n\\n            var hasCount = count > 0 && this.props.rows > 1;\\n            var wrapCls = classnames_default()(className, prefixListCls + '-item', prefixCls + '-item', (_classnames = {}, defineProperty_default()(_classnames, prefixCls + '-disabled', disabled), defineProperty_default()(_classnames, prefixCls + '-item-single-line', this.props.rows === 1 && !autoHeight), defineProperty_default()(_classnames, prefixCls + '-error', error), defineProperty_default()(_classnames, prefixCls + '-focus', focus), defineProperty_default()(_classnames, prefixCls + '-has-count', hasCount), _classnames));\\n            var labelCls = classnames_default()(prefixCls + '-label', (_classnames2 = {}, defineProperty_default()(_classnames2, prefixCls + '-label-2', labelNumber === 2), defineProperty_default()(_classnames2, prefixCls + '-label-3', labelNumber === 3), defineProperty_default()(_classnames2, prefixCls + '-label-4', labelNumber === 4), defineProperty_default()(_classnames2, prefixCls + '-label-5', labelNumber === 5), defineProperty_default()(_classnames2, prefixCls + '-label-6', labelNumber === 6), defineProperty_default()(_classnames2, prefixCls + '-label-7', labelNumber === 7), _classnames2));\\n            var characterLength = countSymbols(value);\\n            var lengthCtrlProps = {};\\n            if (count > 0) {\\n                // Note: If in the iOS environment of dev-tools, It will fail.\\n                if (IS_IOS) {\\n                    var entValue = value ? value.replace(regexAstralSymbols, '_') : '';\\n                    var entLen = entValue ? entValue.split('_').length - 1 : 0;\\n                    lengthCtrlProps.maxLength = count + entLen - characterLength + (value ? value.length : 0);\\n                } else {\\n                    lengthCtrlProps.maxLength = count - characterLength + (value ? value.length : 0);\\n                }\\n            }\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: wrapCls },\\n                title && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: labelCls },\\n                    title\\n                ),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: prefixCls + '-control' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('textarea', extends_default()({ ref: function ref(el) {\\n                            return _this2.textareaRef = el;\\n                        } }, lengthCtrlProps, otherProps, { value: value, onChange: this.onChange, onBlur: this.onBlur, onFocus: this.onFocus, readOnly: !editable, style: style }))\\n                ),\\n                clear && editable && value && characterLength > 0 && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    rmc_feedback_es[\\\"default\\\"],\\n                    { activeClassName: prefixCls + '-clear-active' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-clear', onClick: this.clearInput })\\n                ),\\n                error && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: prefixCls + '-error-extra', onClick: this.onErrorClick }),\\n                hasCount && reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'span',\\n                    { className: prefixCls + '-count' },\\n                    reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                        'span',\\n                        null,\\n                        value ? characterLength : 0\\n                    ),\\n                    '/',\\n                    count\\n                )\\n            );\\n        }\\n    }]);\\n\\n    return TextareaItem;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var textarea_item = (textarea_item_TextareaItem);\\n\\ntextarea_item_TextareaItem.defaultProps = {\\n    prefixCls: 'am-textarea',\\n    prefixListCls: 'am-list',\\n    autoHeight: false,\\n    editable: true,\\n    disabled: false,\\n    placeholder: '',\\n    clear: false,\\n    rows: 1,\\n    onChange: textarea_item_noop,\\n    onBlur: textarea_item_noop,\\n    onFocus: textarea_item_noop,\\n    onErrorClick: textarea_item_noop,\\n    error: false,\\n    labelNumber: 5\\n};\\n// CONCATENATED MODULE: ./node_modules/rc-util/es/createChainedFunction.js\\n/**\\n * Safe chained function\\n *\\n * Will only create a new function if needed,\\n * otherwise will pass back existing functions or null.\\n *\\n * @returns {function|null}\\n */\\nfunction createChainedFunction() {\\n  var args = [].slice.call(arguments, 0);\\n  if (args.length === 1) {\\n    return args[0];\\n  }\\n\\n  return function chainedFunction() {\\n    for (var i = 0; i < args.length; i++) {\\n      if (args[i] && args[i].apply) {\\n        args[i].apply(this, arguments);\\n      }\\n    }\\n  };\\n}\\n// CONCATENATED MODULE: ./node_modules/rmc-notification/es/Notice.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar Notice_Notice = function (_Component) {\\n  inherits_default()(Notice, _Component);\\n\\n  function Notice() {\\n    var _ref;\\n\\n    var _temp, _this, _ret;\\n\\n    classCallCheck_default()(this, Notice);\\n\\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\\n      args[_key] = arguments[_key];\\n    }\\n\\n    return _ret = (_temp = (_this = possibleConstructorReturn_default()(this, (_ref = Notice.__proto__ || Object.getPrototypeOf(Notice)).call.apply(_ref, [this].concat(args))), _this), _this.close = function () {\\n      _this.clearCloseTimer();\\n      _this.props.onClose();\\n    }, _this.startCloseTimer = function () {\\n      if (_this.props.duration) {\\n        _this.closeTimer = setTimeout(function () {\\n          _this.close();\\n        }, _this.props.duration * 1000);\\n      }\\n    }, _this.clearCloseTimer = function () {\\n      if (_this.closeTimer) {\\n        clearTimeout(_this.closeTimer);\\n        _this.closeTimer = null;\\n      }\\n    }, _temp), possibleConstructorReturn_default()(_this, _ret);\\n  }\\n\\n  createClass_default()(Notice, [{\\n    key: 'componentDidMount',\\n    value: function componentDidMount() {\\n      this.startCloseTimer();\\n    }\\n  }, {\\n    key: 'componentWillUnmount',\\n    value: function componentWillUnmount() {\\n      this.clearCloseTimer();\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _className;\\n\\n      var props = this.props;\\n      var componentClass = props.prefixCls + '-notice';\\n      var className = (_className = {}, defineProperty_default()(_className, '' + componentClass, 1), defineProperty_default()(_className, componentClass + '-closable', props.closable), defineProperty_default()(_className, props.className, !!props.className), _className);\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        { className: classnames_default()(className), style: props.style },\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          'div',\\n          { className: componentClass + '-content' },\\n          props.children\\n        ),\\n        props.closable ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          'a',\\n          { tabIndex: '0', onClick: this.close, className: componentClass + '-close' },\\n          reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('span', { className: componentClass + '-close-x' })\\n        ) : null\\n      );\\n    }\\n  }]);\\n\\n  return Notice;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\nNotice_Notice.propTypes = {\\n  duration: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.number,\\n  onClose: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.func,\\n  children: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.any\\n};\\nNotice_Notice.defaultProps = {\\n  onEnd: function onEnd() {},\\n  onClose: function onClose() {},\\n\\n  duration: 1.5,\\n  style: {\\n    right: '50%'\\n  }\\n};\\n/* harmony default export */ var es_Notice = (Notice_Notice);\\n// CONCATENATED MODULE: ./node_modules/rmc-notification/es/Notification.js\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvar seed = 0;\\nvar Notification_now = Date.now();\\n\\nfunction getUuid() {\\n  return 'rcNotification_' + Notification_now + '_' + seed++;\\n}\\n\\nvar Notification_Notification = function (_Component) {\\n  inherits_default()(Notification, _Component);\\n\\n  function Notification() {\\n    var _ref;\\n\\n    var _temp, _this, _ret;\\n\\n    classCallCheck_default()(this, Notification);\\n\\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\\n      args[_key] = arguments[_key];\\n    }\\n\\n    return _ret = (_temp = (_this = possibleConstructorReturn_default()(this, (_ref = Notification.__proto__ || Object.getPrototypeOf(Notification)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\\n      notices: []\\n    }, _this.add = function (notice) {\\n      var key = notice.key = notice.key || getUuid();\\n      _this.setState(function (previousState) {\\n        var notices = previousState.notices;\\n        if (!notices.filter(function (v) {\\n          return v.key === key;\\n        }).length) {\\n          return {\\n            notices: notices.concat(notice)\\n          };\\n        }\\n      });\\n    }, _this.remove = function (key) {\\n      _this.setState(function (previousState) {\\n        return {\\n          notices: previousState.notices.filter(function (notice) {\\n            return notice.key !== key;\\n          })\\n        };\\n      });\\n    }, _temp), possibleConstructorReturn_default()(_this, _ret);\\n  }\\n\\n  createClass_default()(Notification, [{\\n    key: 'getTransitionName',\\n    value: function getTransitionName() {\\n      var props = this.props;\\n      var transitionName = props.transitionName;\\n      if (!transitionName && props.animation) {\\n        transitionName = props.prefixCls + '-' + props.animation;\\n      }\\n      return transitionName;\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this2 = this,\\n          _className;\\n\\n      var props = this.props;\\n      var noticeNodes = this.state.notices.map(function (notice) {\\n        var onClose = createChainedFunction(_this2.remove.bind(_this2, notice.key), notice.onClose);\\n        return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          es_Notice,\\n          extends_default()({\\n            prefixCls: props.prefixCls\\n          }, notice, {\\n            onClose: onClose\\n          }),\\n          notice.content\\n        );\\n      });\\n      var className = (_className = {}, defineProperty_default()(_className, props.prefixCls, 1), defineProperty_default()(_className, props.className, !!props.className), _className);\\n      return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n        'div',\\n        { className: classnames_default()(className), style: props.style },\\n        reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n          es_Animate,\\n          { transitionName: this.getTransitionName() },\\n          noticeNodes\\n        )\\n      );\\n    }\\n  }]);\\n\\n  return Notification;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9[\\\"Component\\\"]);\\n\\nNotification_Notification.propTypes = {\\n  prefixCls: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  transitionName: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string,\\n  animation: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.oneOfType([prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.string, prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object]),\\n  style: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\nNotification_Notification.defaultProps = {\\n  prefixCls: 'rmc-notification',\\n  animation: 'fade',\\n  style: {\\n    top: 65,\\n    left: '50%'\\n  }\\n};\\n\\n\\nNotification_Notification.newInstance = function newNotificationInstance(properties, callback) {\\n  var _ref2 = properties || {},\\n      getContainer = _ref2.getContainer,\\n      props = objectWithoutProperties_default()(_ref2, ['getContainer']);\\n\\n  var div = void 0;\\n  if (getContainer) {\\n    div = getContainer();\\n  } else {\\n    div = document.createElement('div');\\n    document.body.appendChild(div);\\n  }\\n  var called = false;\\n  function ref(notification) {\\n    if (called) {\\n      return;\\n    }\\n    called = true;\\n    callback({\\n      notice: function notice(noticeProps) {\\n        notification.add(noticeProps);\\n      },\\n      removeNotice: function removeNotice(key) {\\n        notification.remove(key);\\n      },\\n\\n      component: notification,\\n      destroy: function destroy() {\\n        react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.unmountComponentAtNode(div);\\n        if (!getContainer) {\\n          document.body.removeChild(div);\\n        }\\n      }\\n    });\\n  }\\n  react_domfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.render(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(Notification_Notification, extends_default()({}, props, { ref: ref })), div);\\n};\\n\\n/* harmony default export */ var es_Notification = (Notification_Notification);\\n// CONCATENATED MODULE: ./node_modules/rmc-notification/es/index.js\\n\\n/* harmony default export */ var rmc_notification_es = (es_Notification);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/toast/index.js\\n\\n\\n\\n\\n\\nvar messageInstance = void 0;\\nvar toast_prefixCls = 'am-toast';\\nfunction getMessageInstance(mask, callback) {\\n    var _classnames;\\n\\n    if (messageInstance) {\\n        messageInstance.destroy();\\n        messageInstance = null;\\n    }\\n    rmc_notification_es.newInstance({\\n        prefixCls: toast_prefixCls,\\n        style: {},\\n        transitionName: 'am-fade',\\n        className: classnames_default()((_classnames = {}, defineProperty_default()(_classnames, toast_prefixCls + '-mask', mask), defineProperty_default()(_classnames, toast_prefixCls + '-nomask', !mask), _classnames))\\n    }, function (notification) {\\n        return callback && callback(notification);\\n    });\\n}\\nfunction toast_notice(content, type) {\\n    var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;\\n    var _onClose = arguments[3];\\n    var mask = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\\n\\n    var iconTypes = {\\n        info: '',\\n        success: 'success',\\n        fail: 'fail',\\n        offline: 'dislike',\\n        loading: 'loading'\\n    };\\n    var iconType = iconTypes[type];\\n    getMessageInstance(mask, function (notification) {\\n        messageInstance = notification;\\n        notification.notice({\\n            duration: duration,\\n            style: {},\\n            content: !!iconType ? reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: toast_prefixCls + '-text ' + toast_prefixCls + '-text-icon', role: 'alert', 'aria-live': 'assertive' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(es_icon, { type: iconType, size: 'lg' }),\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    { className: toast_prefixCls + '-text-info' },\\n                    content\\n                )\\n            ) : reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: toast_prefixCls + '-text', role: 'alert', 'aria-live': 'assertive' },\\n                reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                    'div',\\n                    null,\\n                    content\\n                )\\n            ),\\n            closable: true,\\n            onClose: function onClose() {\\n                if (_onClose) {\\n                    _onClose();\\n                }\\n                notification.destroy();\\n                notification = null;\\n                messageInstance = null;\\n            }\\n        });\\n    });\\n}\\n/* harmony default export */ var es_toast = ({\\n    SHORT: 3,\\n    LONG: 8,\\n    show: function show(content, duration, mask) {\\n        return toast_notice(content, 'info', duration, function () {}, mask);\\n    },\\n    info: function info(content, duration, onClose, mask) {\\n        return toast_notice(content, 'info', duration, onClose, mask);\\n    },\\n    success: function success(content, duration, onClose, mask) {\\n        return toast_notice(content, 'success', duration, onClose, mask);\\n    },\\n    fail: function fail(content, duration, onClose, mask) {\\n        return toast_notice(content, 'fail', duration, onClose, mask);\\n    },\\n    offline: function offline(content, duration, onClose, mask) {\\n        return toast_notice(content, 'offline', duration, onClose, mask);\\n    },\\n    loading: function loading(content, duration, onClose, mask) {\\n        return toast_notice(content, 'loading', duration, onClose, mask);\\n    },\\n    hide: function hide() {\\n        if (messageInstance) {\\n            messageInstance.destroy();\\n            messageInstance = null;\\n        }\\n    }\\n});\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/white-space/index.js\\n\\n\\n\\n\\n\\n\\n\\nvar white_space_WhiteSpace = function (_React$Component) {\\n    inherits_default()(WhiteSpace, _React$Component);\\n\\n    function WhiteSpace() {\\n        classCallCheck_default()(this, WhiteSpace);\\n\\n        return possibleConstructorReturn_default()(this, (WhiteSpace.__proto__ || Object.getPrototypeOf(WhiteSpace)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(WhiteSpace, [{\\n        key: 'render',\\n        value: function render() {\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                size = _props.size,\\n                className = _props.className,\\n                style = _props.style,\\n                onClick = _props.onClick;\\n\\n            var wrapCls = classnames_default()(prefixCls, prefixCls + '-' + size, className);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement('div', { className: wrapCls, style: style, onClick: onClick });\\n        }\\n    }]);\\n\\n    return WhiteSpace;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var white_space = (white_space_WhiteSpace);\\n\\nwhite_space_WhiteSpace.defaultProps = {\\n    prefixCls: 'am-whitespace',\\n    size: 'md'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/wing-blank/index.js\\n\\n\\n\\n\\n\\n\\n\\nvar wing_blank_WingBlank = function (_React$Component) {\\n    inherits_default()(WingBlank, _React$Component);\\n\\n    function WingBlank() {\\n        classCallCheck_default()(this, WingBlank);\\n\\n        return possibleConstructorReturn_default()(this, (WingBlank.__proto__ || Object.getPrototypeOf(WingBlank)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(WingBlank, [{\\n        key: 'render',\\n        value: function render() {\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                size = _props.size,\\n                className = _props.className,\\n                children = _props.children,\\n                style = _props.style;\\n\\n            var wrapCls = classnames_default()(prefixCls, prefixCls + '-' + size, className);\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.createElement(\\n                'div',\\n                { className: wrapCls, style: style },\\n                children\\n            );\\n        }\\n    }]);\\n\\n    return WingBlank;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var wing_blank = (wing_blank_WingBlank);\\n\\nwing_blank_WingBlank.defaultProps = {\\n    prefixCls: 'am-wingblank',\\n    size: 'lg'\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/locale-provider/locale-provider.js\\n\\n\\n\\n\\n\\n\\n\\n\\nvar locale_provider_LocaleProvider = function (_React$Component) {\\n    inherits_default()(LocaleProvider, _React$Component);\\n\\n    function LocaleProvider() {\\n        classCallCheck_default()(this, LocaleProvider);\\n\\n        return possibleConstructorReturn_default()(this, (LocaleProvider.__proto__ || Object.getPrototypeOf(LocaleProvider)).apply(this, arguments));\\n    }\\n\\n    createClass_default()(LocaleProvider, [{\\n        key: 'getChildContext',\\n        value: function getChildContext() {\\n            return {\\n                antLocale: extends_default()({}, this.props.locale, { exist: true })\\n            };\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            return reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Children.only(this.props.children);\\n        }\\n    }]);\\n\\n    return LocaleProvider;\\n}(reactfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.Component);\\n\\n/* harmony default export */ var locale_provider = (locale_provider_LocaleProvider);\\n\\nlocale_provider_LocaleProvider.propTypes = {\\n    locale: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\nlocale_provider_LocaleProvider.childContextTypes = {\\n    antLocale: prop_typesfrom_dll_reference_dll_vendor_887801ca211dada7a6b9_default.a.object\\n};\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/locale-provider/index.js\\n\\n/* harmony default export */ var es_locale_provider = (locale_provider);\\n// CONCATENATED MODULE: ./node_modules/antd-mobile/es/index.js\\n/* concated harmony reexport Accordion */__webpack_require__.d(__webpack_exports__, \\\"Accordion\\\", function() { return es_accordion; });\\n/* concated harmony reexport ActionSheet */__webpack_require__.d(__webpack_exports__, \\\"ActionSheet\\\", function() { return action_sheet; });\\n/* concated harmony reexport ActivityIndicator */__webpack_require__.d(__webpack_exports__, \\\"ActivityIndicator\\\", function() { return activity_indicator; });\\n/* concated harmony reexport Badge */__webpack_require__.d(__webpack_exports__, \\\"Badge\\\", function() { return es_badge; });\\n/* concated harmony reexport Button */__webpack_require__.d(__webpack_exports__, \\\"Button\\\", function() { return es_button; });\\n/* concated harmony reexport Calendar */__webpack_require__.d(__webpack_exports__, \\\"Calendar\\\", function() { return calendar; });\\n/* concated harmony reexport Card */__webpack_require__.d(__webpack_exports__, \\\"Card\\\", function() { return card; });\\n/* concated harmony reexport Carousel */__webpack_require__.d(__webpack_exports__, \\\"Carousel\\\", function() { return es_carousel; });\\n/* concated harmony reexport Checkbox */__webpack_require__.d(__webpack_exports__, \\\"Checkbox\\\", function() { return es_checkbox; });\\n/* concated harmony reexport DatePicker */__webpack_require__.d(__webpack_exports__, \\\"DatePicker\\\", function() { return date_picker; });\\n/* concated harmony reexport DatePickerView */__webpack_require__.d(__webpack_exports__, \\\"DatePickerView\\\", function() { return es_date_picker_view; });\\n/* concated harmony reexport Drawer */__webpack_require__.d(__webpack_exports__, \\\"Drawer\\\", function() { return drawer; });\\n/* concated harmony reexport Flex */__webpack_require__.d(__webpack_exports__, \\\"Flex\\\", function() { return flex; });\\n/* concated harmony reexport Grid */__webpack_require__.d(__webpack_exports__, \\\"Grid\\\", function() { return grid; });\\n/* concated harmony reexport Icon */__webpack_require__.d(__webpack_exports__, \\\"Icon\\\", function() { return es_icon; });\\n/* concated harmony reexport ImagePicker */__webpack_require__.d(__webpack_exports__, \\\"ImagePicker\\\", function() { return image_picker; });\\n/* concated harmony reexport InputItem */__webpack_require__.d(__webpack_exports__, \\\"InputItem\\\", function() { return input_item; });\\n/* concated harmony reexport List */__webpack_require__.d(__webpack_exports__, \\\"List\\\", function() { return list; });\\n/* concated harmony reexport ListView */__webpack_require__.d(__webpack_exports__, \\\"ListView\\\", function() { return list_view; });\\n/* concated harmony reexport Menu */__webpack_require__.d(__webpack_exports__, \\\"Menu\\\", function() { return menu; });\\n/* concated harmony reexport Modal */__webpack_require__.d(__webpack_exports__, \\\"Modal\\\", function() { return modal; });\\n/* concated harmony reexport NavBar */__webpack_require__.d(__webpack_exports__, \\\"NavBar\\\", function() { return nav_bar; });\\n/* concated harmony reexport NoticeBar */__webpack_require__.d(__webpack_exports__, \\\"NoticeBar\\\", function() { return notice_bar; });\\n/* concated harmony reexport Pagination */__webpack_require__.d(__webpack_exports__, \\\"Pagination\\\", function() { return pagination; });\\n/* concated harmony reexport Picker */__webpack_require__.d(__webpack_exports__, \\\"Picker\\\", function() { return es_picker; });\\n/* concated harmony reexport PickerView */__webpack_require__.d(__webpack_exports__, \\\"PickerView\\\", function() { return picker_view; });\\n/* concated harmony reexport Popover */__webpack_require__.d(__webpack_exports__, \\\"Popover\\\", function() { return popover; });\\n/* concated harmony reexport Progress */__webpack_require__.d(__webpack_exports__, \\\"Progress\\\", function() { return progress; });\\n/* concated harmony reexport Radio */__webpack_require__.d(__webpack_exports__, \\\"Radio\\\", function() { return es_radio; });\\n/* concated harmony reexport PullToRefresh */__webpack_require__.d(__webpack_exports__, \\\"PullToRefresh\\\", function() { return pull_to_refresh; });\\n/* concated harmony reexport Result */__webpack_require__.d(__webpack_exports__, \\\"Result\\\", function() { return es_result; });\\n/* concated harmony reexport SearchBar */__webpack_require__.d(__webpack_exports__, \\\"SearchBar\\\", function() { return search_bar; });\\n/* concated harmony reexport SegmentedControl */__webpack_require__.d(__webpack_exports__, \\\"SegmentedControl\\\", function() { return segmented_control; });\\n/* concated harmony reexport Slider */__webpack_require__.d(__webpack_exports__, \\\"Slider\\\", function() { return slider; });\\n/* concated harmony reexport Range */__webpack_require__.d(__webpack_exports__, \\\"Range\\\", function() { return es_range; });\\n/* concated harmony reexport Stepper */__webpack_require__.d(__webpack_exports__, \\\"Stepper\\\", function() { return stepper; });\\n/* concated harmony reexport Steps */__webpack_require__.d(__webpack_exports__, \\\"Steps\\\", function() { return steps; });\\n/* concated harmony reexport SwipeAction */__webpack_require__.d(__webpack_exports__, \\\"SwipeAction\\\", function() { return swipe_action; });\\n/* concated harmony reexport Switch */__webpack_require__.d(__webpack_exports__, \\\"Switch\\\", function() { return es_switch; });\\n/* concated harmony reexport TabBar */__webpack_require__.d(__webpack_exports__, \\\"TabBar\\\", function() { return tab_bar; });\\n/* concated harmony reexport Tabs */__webpack_require__.d(__webpack_exports__, \\\"Tabs\\\", function() { return es_tabs; });\\n/* concated harmony reexport Tag */__webpack_require__.d(__webpack_exports__, \\\"Tag\\\", function() { return tag; });\\n/* concated harmony reexport Text */__webpack_require__.d(__webpack_exports__, \\\"Text\\\", function() { return es_text; });\\n/* concated harmony reexport TextareaItem */__webpack_require__.d(__webpack_exports__, \\\"TextareaItem\\\", function() { return textarea_item; });\\n/* concated harmony reexport Toast */__webpack_require__.d(__webpack_exports__, \\\"Toast\\\", function() { return es_toast; });\\n/* concated harmony reexport View */__webpack_require__.d(__webpack_exports__, \\\"View\\\", function() { return view; });\\n/* concated harmony reexport WhiteSpace */__webpack_require__.d(__webpack_exports__, \\\"WhiteSpace\\\", function() { return white_space; });\\n/* concated harmony reexport WingBlank */__webpack_require__.d(__webpack_exports__, \\\"WingBlank\\\", function() { return wing_blank; });\\n/* concated harmony reexport LocaleProvider */__webpack_require__.d(__webpack_exports__, \\\"LocaleProvider\\\", function() { return es_locale_provider; });\\n// this file is not used if use https://github.com/ant-design/babel-plugin-import\\nvar ENV = \\\"development\\\";\\nif (ENV !== 'production' && ENV !== 'test' && typeof console !== 'undefined' && console.warn && typeof window !== 'undefined') {\\n    // tslint:disable-next-line:no-console\\n    console.warn('You are using a whole package of antd-mobile, ' + 'please use https://www.npmjs.com/package/babel-plugin-import to reduce app bundle size.');\\n}\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOWlicy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1jb2xsYXBzZS9lcy9QYW5lbENvbnRlbnQuanM/NmNhZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtYW5pbWF0ZS9lcy9DaGlsZHJlblV0aWxzLmpzPzRlMjAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1hbmltYXRpb24vZXMvRXZlbnQuanM/ZmRkMCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWFuaW1hdGlvbi9lcy9pbmRleC5qcz8yN2QwIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1hbmltYXRlL2VzL3V0aWwvYW5pbWF0ZS5qcz8yYTk2Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1hbmltYXRlL2VzL0FuaW1hdGVDaGlsZC5qcz83YWE3Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1hbmltYXRlL2VzL0FuaW1hdGUuanM/MzA1OCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtY29sbGFwc2UvZXMvUGFuZWwuanM/ZDllNiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtY29sbGFwc2UvZXMvb3BlbkFuaW1hdGlvbkZhY3RvcnkuanM/Y2E4NCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtY29sbGFwc2UvZXMvQ29sbGFwc2UuanM/ODdkZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtY29sbGFwc2UvZXMvaW5kZXguanM/MTM1MyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvYWNjb3JkaW9uL2luZGV4LmpzPzI4YTYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1kaWFsb2cvZXMvTGF6eVJlbmRlckJveC5qcz82M2RmIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtZGlhbG9nL2VzL0RpYWxvZy5qcz85ZTYxIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtZGlhbG9nL2VzL0RpYWxvZ1dyYXAuanM/ZDk4OSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvX3V0aWwvZ2V0RGF0YUF0dHIuanM/NWY4OCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvYmFkZ2UvaW5kZXguanM/ZjFkMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvYWN0aW9uLXNoZWV0L2luZGV4LmpzPzllM2QiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2FjdGl2aXR5LWluZGljYXRvci9pbmRleC5qcz82NzI3Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9pY29uL2xvYWRTcHJpdGUuanM/NWI2OCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvaWNvbi9pbmRleC5qcz9kOTEzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9idXR0b24vaW5kZXguanM/MzQ3YyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLXBpY2tlci9lcy9NdWx0aVBpY2tlck1peGluLmpzPzE0YWUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1waWNrZXIvZXMvTXVsdGlQaWNrZXIuanM/MWNmZCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWRhdGUtcGlja2VyL2VzL2xvY2FsZS9lbl9VUy5qcz83OGMxIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtZGF0ZS1waWNrZXIvZXMvRGF0ZVBpY2tlci5qcz85NTRkIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtY2FsZW5kYXIvZXMvVGltZVBpY2tlci5qcz9kM2JhIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtY2FsZW5kYXIvZXMvZGF0ZS9EYXRhVHlwZXMuanM/ODcwOCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWNhbGVuZGFyL2VzL3V0aWwvaW5kZXguanM/MjQ4OCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWNhbGVuZGFyL2VzL0RhdGVQaWNrZXIuYmFzZS5qcz8zZjBkIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtY2FsZW5kYXIvZXMvZGF0ZS9XZWVrUGFuZWwuanM/YjVlOSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWNhbGVuZGFyL2VzL2RhdGUvU2luZ2xlTW9udGguanM/OTlkNSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWNhbGVuZGFyL2VzL0RhdGVQaWNrZXIuanM/NWExOCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWNhbGVuZGFyL2VzL2NhbGVuZGFyL0NvbmZpcm1QYW5lbC5qcz83ODc3Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtY2FsZW5kYXIvZXMvY2FsZW5kYXIvU2hvcnRjdXRQYW5lbC5qcz83ZDUwIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtY2FsZW5kYXIvZXMvY2FsZW5kYXIvQW5pbWF0ZVdyYXBwZXIuanM/MTE0MCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWNhbGVuZGFyL2VzL2NhbGVuZGFyL0hlYWRlci5qcz8zNTYwIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtY2FsZW5kYXIvZXMvQ2FsZW5kYXIuanM/ODE3OCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWNhbGVuZGFyL2VzL2xvY2FsZS9lbl9VUy5qcz9kYzQ4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtY2FsZW5kYXIvZXMvaW5kZXguanM/ZWJmYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvX3V0aWwvZ2V0TG9jYWxlLmpzPzAwOGQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NhbGVuZGFyL2luZGV4LmpzPzdjZmQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NhcmQvQ2FyZEJvZHkuanM/N2YzMyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY2FyZC9DYXJkRm9vdGVyLmpzPzNjOWMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2NhcmQvQ2FyZEhlYWRlci5qcz9iN2Y5Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jYXJkL2luZGV4LmpzPzVkODIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1udWthLWNhcm91c2VsL2VzL2RlY29yYXRvcnMuanM/YTJlMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLW51a2EtY2Fyb3VzZWwvZXMvY2Fyb3VzZWwuanM/ODVmMCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY2Fyb3VzZWwvaW5kZXguanM/MzYwZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtY2hlY2tib3gvZXMvQ2hlY2tib3guanM/MDBiYiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY2hlY2tib3gvQ2hlY2tib3guanM/YjNhMyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY2hlY2tib3gvQWdyZWVJdGVtLmpzPzY4MDgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2xpc3QvTGlzdEl0ZW0uanM/NDc1MSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvbGlzdC9pbmRleC5qcz85ZmViIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jaGVja2JveC9DaGVja2JveEl0ZW0uanM/ZWFmMyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvY2hlY2tib3gvaW5kZXguanM/NmJkMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLXBpY2tlci9lcy9Qb3B1cE1peGluLmpzP2RiZDMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1waWNrZXIvZXMvUG9wdXAuanM/MWVjZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWRhdGUtcGlja2VyL2VzL1BvcHVwLmpzPzE1OTIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2RhdGUtcGlja2VyL3V0aWxzLmpzP2MwMjciLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2RhdGUtcGlja2VyL2luZGV4LmpzP2E2YzUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2RhdGUtcGlja2VyLXZpZXcvZGF0ZS1waWNrZXItdmlldy5qcz8yNjdkIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9kYXRlLXBpY2tlci12aWV3L2luZGV4LmpzPzE1MWMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1kcmF3ZXIvZXMvRHJhd2VyLmpzPzg0N2QiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1kcmF3ZXIvZXMvaW5kZXguanM/NGI1MyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvZHJhd2VyL2luZGV4LmpzP2FhMmQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2ZsZXgvRmxleC5qcz9mMWY2Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9mbGV4L0ZsZXhJdGVtLmpzPzY3NWEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2ZsZXgvaW5kZXguanM/NWU4ZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvZ3JpZC9pbmRleC5qcz81YjFlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9pbWFnZS1waWNrZXIvaW5kZXguanM/OGIwNiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvX3V0aWwvY2xhc3MuanM/YmEyMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvX3V0aWwvZXhlbnYuanM/ZWQzMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvaW5wdXQtaXRlbS9DdXN0b21LZXlib2FyZC5qcz8yNmYzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9pbnB1dC1pdGVtL1BvcnRhbC5qcz8wY2E2Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9pbnB1dC1pdGVtL0N1c3RvbUlucHV0LmpzP2U0YjEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2lucHV0LWl0ZW0vSW5wdXQuanM/MTliYiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvaW5wdXQtaXRlbS9pbmRleC5qcz83NzMxIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtbGlzdC12aWV3L2VzL0xpc3RWaWV3RGF0YVNvdXJjZS5qcz83YzNmIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtbGlzdC12aWV3L2VzL3V0aWwuanM/ZThkZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWxpc3Qtdmlldy9lcy9TY3JvbGxWaWV3LmpzPzdjM2MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1saXN0LXZpZXcvZXMvTGlzdFZpZXcuanM/MTZjNiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWxpc3Qtdmlldy9lcy9JbmRleGVkLmpzPzJjYmMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1saXN0LXZpZXcvZXMvaW5kZXguanM/NDAzYyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvbGlzdC12aWV3L2hhbmRsZVByb3BzLmpzP2NlYWEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2xpc3Qtdmlldy9JbmRleGVkLmpzPzJkYzciLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2xpc3Qtdmlldy9pbmRleC5qcz9iY2I3Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9yYWRpby9SYWRpby5qcz9hOTZlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9yYWRpby9SYWRpb0l0ZW0uanM/MTIxMSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvcmFkaW8vaW5kZXguanM/ZTY4NSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvbWVudS9TdWJNZW51LmpzPzczZmIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL21lbnUvaW5kZXguanM/YjRjZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvX3V0aWwvY2xvc2VzdC5qcz80Y2JjIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9tb2RhbC9Nb2RhbC5qcz9kZTIzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9tb2RhbC9hbGVydC5qcz81ZWQ0Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9tb2RhbC9vcGVyYXRpb24uanM/OTYzYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvbW9kYWwvcHJvbXB0LmpzP2ZkMmEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL21vZGFsL2luZGV4LmpzP2M1OTEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL25hdi1iYXIvaW5kZXguanM/Y2VmNiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvbm90aWNlLWJhci9NYXJxdWVlLmpzPzMyNTYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL25vdGljZS1iYXIvaW5kZXguanM/NTczZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvcGFnaW5hdGlvbi9pbmRleC5qcz8zYjczIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtY2FzY2FkZXIvZXMvQ2FzY2FkZXIuanM/ZjczOCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWNhc2NhZGVyL2VzL1BvcHVwLmpzP2I5YjQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1waWNrZXIvZXMvUGlja2VyTWl4aW4uanM/YTljNiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLXBpY2tlci9lcy9QaWNrZXIuanM/YjkxZCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvcGlja2VyL0Fic3RyYWN0UGlja2VyLmpzPzM2MDIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3BpY2tlci9wb3B1cFByb3BzLmpzP2E4NWIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3BpY2tlci9pbmRleC5qcz9kNmYwIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9waWNrZXItdmlldy9QaWNrZXJWaWV3LmpzP2I3YzEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3BpY2tlci12aWV3L2luZGV4LmpzPzZlMjgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXV0aWwvZXMvRG9tL2NvbnRhaW5zLmpzPzk3ODYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1hbGlnbi9lcy9wcm9wZXJ0eVV0aWxzLmpzPzJiYTQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1hbGlnbi9lcy91dGlscy5qcz9hODEzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb20tYWxpZ24vZXMvZ2V0T2Zmc2V0UGFyZW50LmpzPzhmYjgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1hbGlnbi9lcy9pc0FuY2VzdG9yRml4ZWQuanM/MWE4NSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG9tLWFsaWduL2VzL2dldFZpc2libGVSZWN0Rm9yRWxlbWVudC5qcz9jOGFlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb20tYWxpZ24vZXMvYWRqdXN0Rm9yVmlld3BvcnQuanM/ZDRjZCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG9tLWFsaWduL2VzL2dldFJlZ2lvbi5qcz9iYTJhIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb20tYWxpZ24vZXMvZ2V0QWxpZ25PZmZzZXQuanM/MTZmOSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG9tLWFsaWduL2VzL2dldEVsRnV0dXJlUG9zLmpzP2M2OTgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1hbGlnbi9lcy9hbGlnbi9hbGlnbi5qcz9jM2MyIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb20tYWxpZ24vZXMvYWxpZ24vYWxpZ25FbGVtZW50LmpzPzFiYjYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1hbGlnbi9lcy9hbGlnbi9hbGlnblBvaW50LmpzP2VlNGYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1hbGlnbi9lcy9pbmRleC5qcz8yMDA1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy11dGlsL2VzL0RvbS9hZGRFdmVudExpc3RlbmVyLmpzP2NkM2QiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1hbGlnbi9lcy9pc1dpbmRvdy5qcz85MzVmIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtYWxpZ24vZXMvQWxpZ24uanM/MmJmOSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLWFsaWduL2VzL2luZGV4LmpzPzU1NTMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy10cmlnZ2VyL2VzL0xhenlSZW5kZXJCb3guanM/ZWNjYyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLXRyaWdnZXIvZXMvUG9wdXBJbm5lci5qcz84NjhhIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtdHJpZ2dlci9lcy91dGlscy5qcz82NTUxIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtdHJpZ2dlci9lcy9Qb3B1cC5qcz8wZTBkIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtdHJpZ2dlci9lcy9UcmlnZ2VyLmpzPzcxZGQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy10cmlnZ2VyL2VzL2luZGV4LmpzPzYyODQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy10b29sdGlwL2VzL3BsYWNlbWVudHMuanM/MGIwYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLXRvb2x0aXAvZXMvVG9vbHRpcC5qcz80NzY5Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtdG9vbHRpcC9lcy9pbmRleC5qcz8yY2JkIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9wb3BvdmVyL0l0ZW0uanM/MWYzNCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvcG9wb3Zlci9pbmRleC5qcz8yZTgzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9wcm9ncmVzcy9pbmRleC5qcz8zZjU2Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtcHVsbC10by1yZWZyZXNoL2VzL1B1bGxUb1JlZnJlc2guanM/ZmU2MyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLXB1bGwtdG8tcmVmcmVzaC9lcy9pbmRleC5qcz9lYjdjIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9wdWxsLXRvLXJlZnJlc2gvaW5kZXguanM/NjZiYiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvcmVzdWx0L2luZGV4LmpzPzkyYjgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3NlYXJjaC1iYXIvUHJvcHNUeXBlLmpzPzI4ZDgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3NlYXJjaC1iYXIvaW5kZXguanM/Yzk2YiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvc2VnbWVudGVkLWNvbnRyb2wvaW5kZXguanM/MDJjMCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtc2xpZGVyL2VzL2NvbW1vbi9UcmFjay5qcz9hYzQ4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1zbGlkZXIvZXMvY29tbW9uL1N0ZXBzLmpzP2YwNjgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXNsaWRlci9lcy9jb21tb24vTWFya3MuanM/ZDk2MSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtc2xpZGVyL2VzL0hhbmRsZS5qcz9mOTk5Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1zbGlkZXIvZXMvdXRpbHMuanM/ZjA2ZCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtc2xpZGVyL2VzL2NvbW1vbi9jcmVhdGVTbGlkZXIuanM/MDcxYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtc2xpZGVyL2VzL1NsaWRlci5qcz8zYjNkIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9zbGlkZXIvaW5kZXguanM/YjMwMiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtc2xpZGVyL2VzL1JhbmdlLmpzP2M1ZGIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3JhbmdlL2luZGV4LmpzPzFhNGIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1pbnB1dC1udW1iZXIvZXMvYmFzZS5qcz84ZTgyIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtaW5wdXQtbnVtYmVyL2VzL0lucHV0SGFuZGxlci5qcz84YjZhIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtaW5wdXQtbnVtYmVyL2VzL2luZGV4LmpzP2Q2NzMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3N0ZXBwZXIvaW5kZXguanM/NGRlZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvc3RlcHMvaW5kZXguanM/YzZlOCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtZ2VzdHVyZS9lcy9jb25maWcuanM/N2U5MiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtZ2VzdHVyZS9lcy91dGlsLmpzP2UzMWQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLWdlc3R1cmUvZXMvaW5kZXguanM/OGQ5NSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtc3dpcGVvdXQvZXMvU3dpcGVvdXQuanM/OTA0ZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtc3dpcGVvdXQvZXMvaW5kZXguanM/ZmNiOCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvc3dpcGUtYWN0aW9uL2luZGV4LmpzPzEwODQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3N3aXRjaC9pbmRleC5qcz81MTgzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtdGFicy9lcy91dGlsL2luZGV4LmpzP2ZkMGIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy10YWJzL2VzL1RhYlBhbmUuanM/ZmI4NCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLXRhYnMvZXMvRGVmYXVsdFRhYkJhci5qcz83MjQzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtdGFicy9lcy9UYWJzLmJhc2UuanM/NWY2OCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm1jLXRhYnMvZXMvVGFicy5qcz84NTBlIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtdGFicy9lcy9pbmRleC5qcz9kMjc2Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy90YWJzL2luZGV4LmpzPzgyZTkiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3RhYi1iYXIvVGFiLmpzP2ViNzYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3RhYi1iYXIvaW5kZXguanM/Y2FlZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdGFnL2luZGV4LmpzPzhiYmYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL3ZpZXcvaW5kZXguanM/ZWRhMyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdGV4dC9pbmRleC5qcz9hNzc5Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy90ZXh0YXJlYS1pdGVtL2luZGV4LmpzPzZmZWIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXV0aWwvZXMvY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uLmpzP2Q4NjQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1ub3RpZmljYXRpb24vZXMvTm90aWNlLmpzP2VlYjYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1ub3RpZmljYXRpb24vZXMvTm90aWZpY2F0aW9uLmpzPzY3YmEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JtYy1ub3RpZmljYXRpb24vZXMvaW5kZXguanM/MWYwOSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvdG9hc3QvaW5kZXguanM/MzkzZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvd2hpdGUtc3BhY2UvaW5kZXguanM/NDE4OCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC1tb2JpbGUvZXMvd2luZy1ibGFuay9pbmRleC5qcz85YzkwIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9sb2NhbGUtcHJvdmlkZXIvbG9jYWxlLXByb3ZpZGVyLmpzPzE2NzYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQtbW9iaWxlL2VzL2xvY2FsZS1wcm92aWRlci9pbmRleC5qcz9jNzE1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9pbmRleC5qcz9mNjI2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxudmFyIFBhbmVsQ29udGVudCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQYW5lbENvbnRlbnQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBhbmVsQ29udGVudCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFuZWxDb250ZW50KTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUGFuZWxDb250ZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFuZWxDb250ZW50KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGFuZWxDb250ZW50LCBbe1xuICAgIGtleTogJ3Nob3VsZENvbXBvbmVudFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmZvcmNlUmVuZGVyIHx8IHRoaXMucHJvcHMuaXNBY3RpdmUgfHwgbmV4dFByb3BzLmlzQWN0aXZlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfY2xhc3NuYW1lcztcblxuICAgICAgdGhpcy5faXNBY3RpdmVkID0gdGhpcy5wcm9wcy5mb3JjZVJlbmRlciB8fCB0aGlzLl9pc0FjdGl2ZWQgfHwgdGhpcy5wcm9wcy5pc0FjdGl2ZTtcbiAgICAgIGlmICghdGhpcy5faXNBY3RpdmVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICBpc0FjdGl2ZSA9IF9wcm9wcy5pc0FjdGl2ZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBkZXN0cm95SW5hY3RpdmVQYW5lbCA9IF9wcm9wcy5kZXN0cm95SW5hY3RpdmVQYW5lbCxcbiAgICAgICAgICBmb3JjZVJlbmRlciA9IF9wcm9wcy5mb3JjZVJlbmRlcixcbiAgICAgICAgICByb2xlID0gX3Byb3BzLnJvbGU7XG5cbiAgICAgIHZhciBjb250ZW50Q2xzID0gY2xhc3NuYW1lcygoX2NsYXNzbmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWNvbnRlbnQnLCB0cnVlKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWNvbnRlbnQtYWN0aXZlJywgaXNBY3RpdmUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctY29udGVudC1pbmFjdGl2ZScsICFpc0FjdGl2ZSksIF9jbGFzc25hbWVzKSk7XG4gICAgICB2YXIgY2hpbGQgPSAhZm9yY2VSZW5kZXIgJiYgIWlzQWN0aXZlICYmIGRlc3Ryb3lJbmFjdGl2ZVBhbmVsID8gbnVsbCA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250ZW50LWJveCcgfSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgICk7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNvbnRlbnRDbHMsXG4gICAgICAgICAgcm9sZTogcm9sZVxuICAgICAgICB9LFxuICAgICAgICBjaGlsZFxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGFuZWxDb250ZW50O1xufShDb21wb25lbnQpO1xuXG5QYW5lbENvbnRlbnQucHJvcFR5cGVzID0ge1xuICBwcmVmaXhDbHM6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGlzQWN0aXZlOiBQcm9wVHlwZXMuYm9vbCxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnksXG4gIGRlc3Ryb3lJbmFjdGl2ZVBhbmVsOiBQcm9wVHlwZXMuYm9vbCxcbiAgZm9yY2VSZW5kZXI6IFByb3BUeXBlcy5ib29sLFxuICByb2xlOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQYW5lbENvbnRlbnQ7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXlDaGlsZHJlbihjaGlsZHJlbikge1xuICB2YXIgcmV0ID0gW107XG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldC5wdXNoKGNoaWxkKTtcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkoY2hpbGRyZW4sIGtleSkge1xuICB2YXIgcmV0ID0gbnVsbDtcbiAgaWYgKGNoaWxkcmVuKSB7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGNoaWxkICYmIGNoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgIHJldCA9IGNoaWxkO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kU2hvd25DaGlsZEluQ2hpbGRyZW5CeUtleShjaGlsZHJlbiwga2V5LCBzaG93UHJvcCkge1xuICB2YXIgcmV0ID0gbnVsbDtcbiAgaWYgKGNoaWxkcmVuKSB7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZCAmJiBjaGlsZC5rZXkgPT09IGtleSAmJiBjaGlsZC5wcm9wc1tzaG93UHJvcF0pIHtcbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndHdvIGNoaWxkIHdpdGggc2FtZSBrZXkgZm9yIDxyYy1hbmltYXRlPiBjaGlsZHJlbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldCA9IGNoaWxkO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSGlkZGVuQ2hpbGRJbkNoaWxkcmVuQnlLZXkoY2hpbGRyZW4sIGtleSwgc2hvd1Byb3ApIHtcbiAgdmFyIGZvdW5kID0gMDtcbiAgaWYgKGNoaWxkcmVuKSB7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3VuZCA9IGNoaWxkICYmIGNoaWxkLmtleSA9PT0ga2V5ICYmICFjaGlsZC5wcm9wc1tzaG93UHJvcF07XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGZvdW5kO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lQ2hpbGRyZW4oYzEsIGMyLCBzaG93UHJvcCkge1xuICB2YXIgc2FtZSA9IGMxLmxlbmd0aCA9PT0gYzIubGVuZ3RoO1xuICBpZiAoc2FtZSkge1xuICAgIGMxLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgdmFyIGNoaWxkMiA9IGMyW2luZGV4XTtcbiAgICAgIGlmIChjaGlsZCAmJiBjaGlsZDIpIHtcbiAgICAgICAgaWYgKGNoaWxkICYmICFjaGlsZDIgfHwgIWNoaWxkICYmIGNoaWxkMikge1xuICAgICAgICAgIHNhbWUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZC5rZXkgIT09IGNoaWxkMi5rZXkpIHtcbiAgICAgICAgICBzYW1lID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hvd1Byb3AgJiYgY2hpbGQucHJvcHNbc2hvd1Byb3BdICE9PSBjaGlsZDIucHJvcHNbc2hvd1Byb3BdKSB7XG4gICAgICAgICAgc2FtZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHNhbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUNoaWxkcmVuKHByZXYsIG5leHQpIHtcbiAgdmFyIHJldCA9IFtdO1xuXG4gIC8vIEZvciBlYWNoIGtleSBvZiBgbmV4dGAsIHRoZSBsaXN0IG9mIGtleXMgdG8gaW5zZXJ0IGJlZm9yZSB0aGF0IGtleSBpblxuICAvLyB0aGUgY29tYmluZWQgbGlzdFxuICB2YXIgbmV4dENoaWxkcmVuUGVuZGluZyA9IHt9O1xuICB2YXIgcGVuZGluZ0NoaWxkcmVuID0gW107XG4gIHByZXYuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQgJiYgZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KG5leHQsIGNoaWxkLmtleSkpIHtcbiAgICAgIGlmIChwZW5kaW5nQ2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIG5leHRDaGlsZHJlblBlbmRpbmdbY2hpbGQua2V5XSA9IHBlbmRpbmdDaGlsZHJlbjtcbiAgICAgICAgcGVuZGluZ0NoaWxkcmVuID0gW107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlbmRpbmdDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH0pO1xuXG4gIG5leHQuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRDaGlsZHJlblBlbmRpbmcsIGNoaWxkLmtleSkpIHtcbiAgICAgIHJldCA9IHJldC5jb25jYXQobmV4dENoaWxkcmVuUGVuZGluZ1tjaGlsZC5rZXldKTtcbiAgICB9XG4gICAgcmV0LnB1c2goY2hpbGQpO1xuICB9KTtcblxuICByZXQgPSByZXQuY29uY2F0KHBlbmRpbmdDaGlsZHJlbik7XG5cbiAgcmV0dXJuIHJldDtcbn0iLCJ2YXIgU1RBUlRfRVZFTlRfTkFNRV9NQVAgPSB7XG4gIHRyYW5zaXRpb25zdGFydDoge1xuICAgIHRyYW5zaXRpb246ICd0cmFuc2l0aW9uc3RhcnQnLFxuICAgIFdlYmtpdFRyYW5zaXRpb246ICd3ZWJraXRUcmFuc2l0aW9uU3RhcnQnLFxuICAgIE1velRyYW5zaXRpb246ICdtb3pUcmFuc2l0aW9uU3RhcnQnLFxuICAgIE9UcmFuc2l0aW9uOiAnb1RyYW5zaXRpb25TdGFydCcsXG4gICAgbXNUcmFuc2l0aW9uOiAnTVNUcmFuc2l0aW9uU3RhcnQnXG4gIH0sXG5cbiAgYW5pbWF0aW9uc3RhcnQ6IHtcbiAgICBhbmltYXRpb246ICdhbmltYXRpb25zdGFydCcsXG4gICAgV2Via2l0QW5pbWF0aW9uOiAnd2Via2l0QW5pbWF0aW9uU3RhcnQnLFxuICAgIE1vekFuaW1hdGlvbjogJ21vekFuaW1hdGlvblN0YXJ0JyxcbiAgICBPQW5pbWF0aW9uOiAnb0FuaW1hdGlvblN0YXJ0JyxcbiAgICBtc0FuaW1hdGlvbjogJ01TQW5pbWF0aW9uU3RhcnQnXG4gIH1cbn07XG5cbnZhciBFTkRfRVZFTlRfTkFNRV9NQVAgPSB7XG4gIHRyYW5zaXRpb25lbmQ6IHtcbiAgICB0cmFuc2l0aW9uOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgV2Via2l0VHJhbnNpdGlvbjogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgIE1velRyYW5zaXRpb246ICdtb3pUcmFuc2l0aW9uRW5kJyxcbiAgICBPVHJhbnNpdGlvbjogJ29UcmFuc2l0aW9uRW5kJyxcbiAgICBtc1RyYW5zaXRpb246ICdNU1RyYW5zaXRpb25FbmQnXG4gIH0sXG5cbiAgYW5pbWF0aW9uZW5kOiB7XG4gICAgYW5pbWF0aW9uOiAnYW5pbWF0aW9uZW5kJyxcbiAgICBXZWJraXRBbmltYXRpb246ICd3ZWJraXRBbmltYXRpb25FbmQnLFxuICAgIE1vekFuaW1hdGlvbjogJ21vekFuaW1hdGlvbkVuZCcsXG4gICAgT0FuaW1hdGlvbjogJ29BbmltYXRpb25FbmQnLFxuICAgIG1zQW5pbWF0aW9uOiAnTVNBbmltYXRpb25FbmQnXG4gIH1cbn07XG5cbnZhciBzdGFydEV2ZW50cyA9IFtdO1xudmFyIGVuZEV2ZW50cyA9IFtdO1xuXG5mdW5jdGlvbiBkZXRlY3RFdmVudHMoKSB7XG4gIHZhciB0ZXN0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdmFyIHN0eWxlID0gdGVzdEVsLnN0eWxlO1xuXG4gIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSBTVEFSVF9FVkVOVF9OQU1FX01BUC5hbmltYXRpb25zdGFydC5hbmltYXRpb247XG4gICAgZGVsZXRlIEVORF9FVkVOVF9OQU1FX01BUC5hbmltYXRpb25lbmQuYW5pbWF0aW9uO1xuICB9XG5cbiAgaWYgKCEoJ1RyYW5zaXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSBTVEFSVF9FVkVOVF9OQU1FX01BUC50cmFuc2l0aW9uc3RhcnQudHJhbnNpdGlvbjtcbiAgICBkZWxldGUgRU5EX0VWRU5UX05BTUVfTUFQLnRyYW5zaXRpb25lbmQudHJhbnNpdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3MoRVZFTlRfTkFNRV9NQVAsIGV2ZW50cykge1xuICAgIGZvciAodmFyIGJhc2VFdmVudE5hbWUgaW4gRVZFTlRfTkFNRV9NQVApIHtcbiAgICAgIGlmIChFVkVOVF9OQU1FX01BUC5oYXNPd25Qcm9wZXJ0eShiYXNlRXZlbnROYW1lKSkge1xuICAgICAgICB2YXIgYmFzZUV2ZW50cyA9IEVWRU5UX05BTUVfTUFQW2Jhc2VFdmVudE5hbWVdO1xuICAgICAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gYmFzZUV2ZW50cykge1xuICAgICAgICAgIGlmIChzdHlsZU5hbWUgaW4gc3R5bGUpIHtcbiAgICAgICAgICAgIGV2ZW50cy5wdXNoKGJhc2VFdmVudHNbc3R5bGVOYW1lXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcm9jZXNzKFNUQVJUX0VWRU5UX05BTUVfTUFQLCBzdGFydEV2ZW50cyk7XG4gIHByb2Nlc3MoRU5EX0VWRU5UX05BTUVfTUFQLCBlbmRFdmVudHMpO1xufVxuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICBkZXRlY3RFdmVudHMoKTtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudE5hbWUsIGV2ZW50TGlzdGVuZXIpIHtcbiAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lcikge1xuICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudExpc3RlbmVyLCBmYWxzZSk7XG59XG5cbnZhciBUcmFuc2l0aW9uRXZlbnRzID0ge1xuICAvLyBTdGFydCBldmVudHNcbiAgc3RhcnRFdmVudHM6IHN0YXJ0RXZlbnRzLFxuXG4gIGFkZFN0YXJ0RXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gYWRkU3RhcnRFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50TGlzdGVuZXIpIHtcbiAgICBpZiAoc3RhcnRFdmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dChldmVudExpc3RlbmVyLCAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhcnRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoc3RhcnRFdmVudCkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBzdGFydEV2ZW50LCBldmVudExpc3RlbmVyKTtcbiAgICB9KTtcbiAgfSxcbiAgcmVtb3ZlU3RhcnRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZW1vdmVTdGFydEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnRMaXN0ZW5lcikge1xuICAgIGlmIChzdGFydEV2ZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhcnRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoc3RhcnRFdmVudCkge1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihub2RlLCBzdGFydEV2ZW50LCBldmVudExpc3RlbmVyKTtcbiAgICB9KTtcbiAgfSxcblxuXG4gIC8vIEVuZCBldmVudHNcbiAgZW5kRXZlbnRzOiBlbmRFdmVudHMsXG5cbiAgYWRkRW5kRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gYWRkRW5kRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudExpc3RlbmVyKSB7XG4gICAgaWYgKGVuZEV2ZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGV2ZW50TGlzdGVuZXIsIDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbmRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZW5kRXZlbnQpIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kRXZlbnQsIGV2ZW50TGlzdGVuZXIpO1xuICAgIH0pO1xuICB9LFxuICByZW1vdmVFbmRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZW1vdmVFbmRFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50TGlzdGVuZXIpIHtcbiAgICBpZiAoZW5kRXZlbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbmRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZW5kRXZlbnQpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZW5kRXZlbnQsIGV2ZW50TGlzdGVuZXIpO1xuICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUcmFuc2l0aW9uRXZlbnRzOyIsImltcG9ydCBfdHlwZW9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vRXZlbnQnO1xuaW1wb3J0IGNsYXNzZXMgZnJvbSAnY29tcG9uZW50LWNsYXNzZXMnO1xuXG52YXIgaXNDc3NBbmltYXRpb25TdXBwb3J0ZWQgPSBFdmVudC5lbmRFdmVudHMubGVuZ3RoICE9PSAwO1xudmFyIGNhcGl0YWxQcmVmaXhlcyA9IFsnV2Via2l0JywgJ01veicsICdPJyxcbi8vIG1zIGlzIHNwZWNpYWwgLi4uLiAhXG4nbXMnXTtcbnZhciBwcmVmaXhlcyA9IFsnLXdlYmtpdC0nLCAnLW1vei0nLCAnLW8tJywgJ21zLScsICcnXTtcblxuZnVuY3Rpb24gZ2V0U3R5bGVQcm9wZXJ0eShub2RlLCBuYW1lKSB7XG4gIC8vIG9sZCBmZiBuZWVkIG51bGwsIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvZ2V0Q29tcHV0ZWRTdHlsZVxuICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKTtcbiAgdmFyIHJldCA9ICcnO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmV0ID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcmVmaXhlc1tpXSArIG5hbWUpO1xuICAgIGlmIChyZXQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBmaXhCcm93c2VyQnlUaW1lb3V0KG5vZGUpIHtcbiAgaWYgKGlzQ3NzQW5pbWF0aW9uU3VwcG9ydGVkKSB7XG4gICAgdmFyIHRyYW5zaXRpb25EZWxheSA9IHBhcnNlRmxvYXQoZ2V0U3R5bGVQcm9wZXJ0eShub2RlLCAndHJhbnNpdGlvbi1kZWxheScpKSB8fCAwO1xuICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBwYXJzZUZsb2F0KGdldFN0eWxlUHJvcGVydHkobm9kZSwgJ3RyYW5zaXRpb24tZHVyYXRpb24nKSkgfHwgMDtcbiAgICB2YXIgYW5pbWF0aW9uRGVsYXkgPSBwYXJzZUZsb2F0KGdldFN0eWxlUHJvcGVydHkobm9kZSwgJ2FuaW1hdGlvbi1kZWxheScpKSB8fCAwO1xuICAgIHZhciBhbmltYXRpb25EdXJhdGlvbiA9IHBhcnNlRmxvYXQoZ2V0U3R5bGVQcm9wZXJ0eShub2RlLCAnYW5pbWF0aW9uLWR1cmF0aW9uJykpIHx8IDA7XG4gICAgdmFyIHRpbWUgPSBNYXRoLm1heCh0cmFuc2l0aW9uRHVyYXRpb24gKyB0cmFuc2l0aW9uRGVsYXksIGFuaW1hdGlvbkR1cmF0aW9uICsgYW5pbWF0aW9uRGVsYXkpO1xuICAgIC8vIHNvbWV0aW1lcywgYnJvd3NlciBidWdcbiAgICBub2RlLnJjRW5kQW5pbVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG5vZGUucmNFbmRBbmltVGltZW91dCA9IG51bGw7XG4gICAgICBpZiAobm9kZS5yY0VuZExpc3RlbmVyKSB7XG4gICAgICAgIG5vZGUucmNFbmRMaXN0ZW5lcigpO1xuICAgICAgfVxuICAgIH0sIHRpbWUgKiAxMDAwICsgMjAwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjbGVhckJyb3dzZXJCdWdUaW1lb3V0KG5vZGUpIHtcbiAgaWYgKG5vZGUucmNFbmRBbmltVGltZW91dCkge1xuICAgIGNsZWFyVGltZW91dChub2RlLnJjRW5kQW5pbVRpbWVvdXQpO1xuICAgIG5vZGUucmNFbmRBbmltVGltZW91dCA9IG51bGw7XG4gIH1cbn1cblxudmFyIGNzc0FuaW1hdGlvbiA9IGZ1bmN0aW9uIGNzc0FuaW1hdGlvbihub2RlLCB0cmFuc2l0aW9uTmFtZSwgZW5kQ2FsbGJhY2spIHtcbiAgdmFyIG5hbWVJc09iaiA9ICh0eXBlb2YgdHJhbnNpdGlvbk5hbWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRyYW5zaXRpb25OYW1lKSkgPT09ICdvYmplY3QnO1xuICB2YXIgY2xhc3NOYW1lID0gbmFtZUlzT2JqID8gdHJhbnNpdGlvbk5hbWUubmFtZSA6IHRyYW5zaXRpb25OYW1lO1xuICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gbmFtZUlzT2JqID8gdHJhbnNpdGlvbk5hbWUuYWN0aXZlIDogdHJhbnNpdGlvbk5hbWUgKyAnLWFjdGl2ZSc7XG4gIHZhciBlbmQgPSBlbmRDYWxsYmFjaztcbiAgdmFyIHN0YXJ0ID0gdm9pZCAwO1xuICB2YXIgYWN0aXZlID0gdm9pZCAwO1xuICB2YXIgbm9kZUNsYXNzZXMgPSBjbGFzc2VzKG5vZGUpO1xuXG4gIGlmIChlbmRDYWxsYmFjayAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZW5kQ2FsbGJhY2spID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgIGVuZCA9IGVuZENhbGxiYWNrLmVuZDtcbiAgICBzdGFydCA9IGVuZENhbGxiYWNrLnN0YXJ0O1xuICAgIGFjdGl2ZSA9IGVuZENhbGxiYWNrLmFjdGl2ZTtcbiAgfVxuXG4gIGlmIChub2RlLnJjRW5kTGlzdGVuZXIpIHtcbiAgICBub2RlLnJjRW5kTGlzdGVuZXIoKTtcbiAgfVxuXG4gIG5vZGUucmNFbmRMaXN0ZW5lciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IG5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobm9kZS5yY0FuaW1UaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQobm9kZS5yY0FuaW1UaW1lb3V0KTtcbiAgICAgIG5vZGUucmNBbmltVGltZW91dCA9IG51bGw7XG4gICAgfVxuXG4gICAgY2xlYXJCcm93c2VyQnVnVGltZW91dChub2RlKTtcblxuICAgIG5vZGVDbGFzc2VzLnJlbW92ZShjbGFzc05hbWUpO1xuICAgIG5vZGVDbGFzc2VzLnJlbW92ZShhY3RpdmVDbGFzc05hbWUpO1xuXG4gICAgRXZlbnQucmVtb3ZlRW5kRXZlbnRMaXN0ZW5lcihub2RlLCBub2RlLnJjRW5kTGlzdGVuZXIpO1xuICAgIG5vZGUucmNFbmRMaXN0ZW5lciA9IG51bGw7XG5cbiAgICAvLyBVc3VhbGx5IHRoaXMgb3B0aW9uYWwgZW5kIGlzIHVzZWQgZm9yIGluZm9ybWluZyBhbiBvd25lciBvZlxuICAgIC8vIGEgbGVhdmUgYW5pbWF0aW9uIGFuZCB0ZWxsaW5nIGl0IHRvIHJlbW92ZSB0aGUgY2hpbGQuXG4gICAgaWYgKGVuZCkge1xuICAgICAgZW5kKCk7XG4gICAgfVxuICB9O1xuXG4gIEV2ZW50LmFkZEVuZEV2ZW50TGlzdGVuZXIobm9kZSwgbm9kZS5yY0VuZExpc3RlbmVyKTtcblxuICBpZiAoc3RhcnQpIHtcbiAgICBzdGFydCgpO1xuICB9XG4gIG5vZGVDbGFzc2VzLmFkZChjbGFzc05hbWUpO1xuXG4gIG5vZGUucmNBbmltVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIG5vZGUucmNBbmltVGltZW91dCA9IG51bGw7XG4gICAgbm9kZUNsYXNzZXMuYWRkKGFjdGl2ZUNsYXNzTmFtZSk7XG4gICAgaWYgKGFjdGl2ZSkge1xuICAgICAgc2V0VGltZW91dChhY3RpdmUsIDApO1xuICAgIH1cbiAgICBmaXhCcm93c2VyQnlUaW1lb3V0KG5vZGUpO1xuICAgIC8vIDMwbXMgZm9yIGZpcmVmb3hcbiAgfSwgMzApO1xuXG4gIHJldHVybiB7XG4gICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgIGlmIChub2RlLnJjRW5kTGlzdGVuZXIpIHtcbiAgICAgICAgbm9kZS5yY0VuZExpc3RlbmVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxuY3NzQW5pbWF0aW9uLnN0eWxlID0gZnVuY3Rpb24gKG5vZGUsIHN0eWxlLCBjYWxsYmFjaykge1xuICBpZiAobm9kZS5yY0VuZExpc3RlbmVyKSB7XG4gICAgbm9kZS5yY0VuZExpc3RlbmVyKCk7XG4gIH1cblxuICBub2RlLnJjRW5kTGlzdGVuZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBub2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5vZGUucmNBbmltVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KG5vZGUucmNBbmltVGltZW91dCk7XG4gICAgICBub2RlLnJjQW5pbVRpbWVvdXQgPSBudWxsO1xuICAgIH1cblxuICAgIGNsZWFyQnJvd3NlckJ1Z1RpbWVvdXQobm9kZSk7XG5cbiAgICBFdmVudC5yZW1vdmVFbmRFdmVudExpc3RlbmVyKG5vZGUsIG5vZGUucmNFbmRMaXN0ZW5lcik7XG4gICAgbm9kZS5yY0VuZExpc3RlbmVyID0gbnVsbDtcblxuICAgIC8vIFVzdWFsbHkgdGhpcyBvcHRpb25hbCBjYWxsYmFjayBpcyB1c2VkIGZvciBpbmZvcm1pbmcgYW4gb3duZXIgb2ZcbiAgICAvLyBhIGxlYXZlIGFuaW1hdGlvbiBhbmQgdGVsbGluZyBpdCB0byByZW1vdmUgdGhlIGNoaWxkLlxuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgRXZlbnQuYWRkRW5kRXZlbnRMaXN0ZW5lcihub2RlLCBub2RlLnJjRW5kTGlzdGVuZXIpO1xuXG4gIG5vZGUucmNBbmltVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIHMgaW4gc3R5bGUpIHtcbiAgICAgIGlmIChzdHlsZS5oYXNPd25Qcm9wZXJ0eShzKSkge1xuICAgICAgICBub2RlLnN0eWxlW3NdID0gc3R5bGVbc107XG4gICAgICB9XG4gICAgfVxuICAgIG5vZGUucmNBbmltVGltZW91dCA9IG51bGw7XG4gICAgZml4QnJvd3NlckJ5VGltZW91dChub2RlKTtcbiAgfSwgMCk7XG59O1xuXG5jc3NBbmltYXRpb24uc2V0VHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChub2RlLCBwLCB2YWx1ZSkge1xuICB2YXIgcHJvcGVydHkgPSBwO1xuICB2YXIgdiA9IHZhbHVlO1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHYgPSBwcm9wZXJ0eTtcbiAgICBwcm9wZXJ0eSA9ICcnO1xuICB9XG4gIHByb3BlcnR5ID0gcHJvcGVydHkgfHwgJyc7XG4gIGNhcGl0YWxQcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBub2RlLnN0eWxlW3ByZWZpeCArICdUcmFuc2l0aW9uJyArIHByb3BlcnR5XSA9IHY7XG4gIH0pO1xufTtcblxuY3NzQW5pbWF0aW9uLmlzQ3NzQW5pbWF0aW9uU3VwcG9ydGVkID0gaXNDc3NBbmltYXRpb25TdXBwb3J0ZWQ7XG5cbmV4cG9ydCB7IGlzQ3NzQW5pbWF0aW9uU3VwcG9ydGVkIH07XG5cbmV4cG9ydCBkZWZhdWx0IGNzc0FuaW1hdGlvbjsiLCJ2YXIgdXRpbCA9IHtcbiAgaXNBcHBlYXJTdXBwb3J0ZWQ6IGZ1bmN0aW9uIGlzQXBwZWFyU3VwcG9ydGVkKHByb3BzKSB7XG4gICAgcmV0dXJuIHByb3BzLnRyYW5zaXRpb25OYW1lICYmIHByb3BzLnRyYW5zaXRpb25BcHBlYXIgfHwgcHJvcHMuYW5pbWF0aW9uLmFwcGVhcjtcbiAgfSxcbiAgaXNFbnRlclN1cHBvcnRlZDogZnVuY3Rpb24gaXNFbnRlclN1cHBvcnRlZChwcm9wcykge1xuICAgIHJldHVybiBwcm9wcy50cmFuc2l0aW9uTmFtZSAmJiBwcm9wcy50cmFuc2l0aW9uRW50ZXIgfHwgcHJvcHMuYW5pbWF0aW9uLmVudGVyO1xuICB9LFxuICBpc0xlYXZlU3VwcG9ydGVkOiBmdW5jdGlvbiBpc0xlYXZlU3VwcG9ydGVkKHByb3BzKSB7XG4gICAgcmV0dXJuIHByb3BzLnRyYW5zaXRpb25OYW1lICYmIHByb3BzLnRyYW5zaXRpb25MZWF2ZSB8fCBwcm9wcy5hbmltYXRpb24ubGVhdmU7XG4gIH0sXG4gIGFsbG93QXBwZWFyQ2FsbGJhY2s6IGZ1bmN0aW9uIGFsbG93QXBwZWFyQ2FsbGJhY2socHJvcHMpIHtcbiAgICByZXR1cm4gcHJvcHMudHJhbnNpdGlvbkFwcGVhciB8fCBwcm9wcy5hbmltYXRpb24uYXBwZWFyO1xuICB9LFxuICBhbGxvd0VudGVyQ2FsbGJhY2s6IGZ1bmN0aW9uIGFsbG93RW50ZXJDYWxsYmFjayhwcm9wcykge1xuICAgIHJldHVybiBwcm9wcy50cmFuc2l0aW9uRW50ZXIgfHwgcHJvcHMuYW5pbWF0aW9uLmVudGVyO1xuICB9LFxuICBhbGxvd0xlYXZlQ2FsbGJhY2s6IGZ1bmN0aW9uIGFsbG93TGVhdmVDYWxsYmFjayhwcm9wcykge1xuICAgIHJldHVybiBwcm9wcy50cmFuc2l0aW9uTGVhdmUgfHwgcHJvcHMuYW5pbWF0aW9uLmxlYXZlO1xuICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgdXRpbDsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjc3NBbmltYXRlLCB7IGlzQ3NzQW5pbWF0aW9uU3VwcG9ydGVkIH0gZnJvbSAnY3NzLWFuaW1hdGlvbic7XG5pbXBvcnQgYW5pbVV0aWwgZnJvbSAnLi91dGlsL2FuaW1hdGUnO1xuXG52YXIgdHJhbnNpdGlvbk1hcCA9IHtcbiAgZW50ZXI6ICd0cmFuc2l0aW9uRW50ZXInLFxuICBhcHBlYXI6ICd0cmFuc2l0aW9uQXBwZWFyJyxcbiAgbGVhdmU6ICd0cmFuc2l0aW9uTGVhdmUnXG59O1xuXG52YXIgQW5pbWF0ZUNoaWxkID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEFuaW1hdGVDaGlsZCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQW5pbWF0ZUNoaWxkKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbmltYXRlQ2hpbGQpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBbmltYXRlQ2hpbGQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBbmltYXRlQ2hpbGQpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBbmltYXRlQ2hpbGQsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuc3RvcCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxFbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxFbnRlcihkb25lKSB7XG4gICAgICBpZiAoYW5pbVV0aWwuaXNFbnRlclN1cHBvcnRlZCh0aGlzLnByb3BzKSkge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb24oJ2VudGVyJywgZG9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbEFwcGVhcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxBcHBlYXIoZG9uZSkge1xuICAgICAgaWYgKGFuaW1VdGlsLmlzQXBwZWFyU3VwcG9ydGVkKHRoaXMucHJvcHMpKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbignYXBwZWFyJywgZG9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbExlYXZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbExlYXZlKGRvbmUpIHtcbiAgICAgIGlmIChhbmltVXRpbC5pc0xlYXZlU3VwcG9ydGVkKHRoaXMucHJvcHMpKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbignbGVhdmUnLCBkb25lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFsd2F5cyBzeW5jLCBkbyBub3QgaW50ZXJ1cHQgd2l0aCByZWFjdCBjb21wb25lbnQgbGlmZSBjeWNsZVxuICAgICAgICAvLyB1cGRhdGUgaGlkZGVuIC0+IGFuaW1hdGUgaGlkZGVuIC0+XG4gICAgICAgIC8vIGRpZFVwZGF0ZSAtPiBhbmltYXRlIGxlYXZlIC0+IHVubW91bnQgKGlmIGFuaW1hdGUgaXMgbm9uZSlcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RyYW5zaXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2l0aW9uKGFuaW1hdGlvblR5cGUsIGZpbmlzaENhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIG5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy50cmFuc2l0aW9uTmFtZTtcbiAgICAgIHZhciBuYW1lSXNPYmogPSB0eXBlb2YgdHJhbnNpdGlvbk5hbWUgPT09ICdvYmplY3QnO1xuICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICB2YXIgZW5kID0gZnVuY3Rpb24gZW5kKCkge1xuICAgICAgICBfdGhpczIuc3RvcHBlciA9IG51bGw7XG4gICAgICAgIGZpbmlzaENhbGxiYWNrKCk7XG4gICAgICB9O1xuICAgICAgaWYgKChpc0Nzc0FuaW1hdGlvblN1cHBvcnRlZCB8fCAhcHJvcHMuYW5pbWF0aW9uW2FuaW1hdGlvblR5cGVdKSAmJiB0cmFuc2l0aW9uTmFtZSAmJiBwcm9wc1t0cmFuc2l0aW9uTWFwW2FuaW1hdGlvblR5cGVdXSkge1xuICAgICAgICB2YXIgbmFtZSA9IG5hbWVJc09iaiA/IHRyYW5zaXRpb25OYW1lW2FuaW1hdGlvblR5cGVdIDogdHJhbnNpdGlvbk5hbWUgKyAnLScgKyBhbmltYXRpb25UeXBlO1xuICAgICAgICB2YXIgYWN0aXZlTmFtZSA9IG5hbWUgKyAnLWFjdGl2ZSc7XG4gICAgICAgIGlmIChuYW1lSXNPYmogJiYgdHJhbnNpdGlvbk5hbWVbYW5pbWF0aW9uVHlwZSArICdBY3RpdmUnXSkge1xuICAgICAgICAgIGFjdGl2ZU5hbWUgPSB0cmFuc2l0aW9uTmFtZVthbmltYXRpb25UeXBlICsgJ0FjdGl2ZSddO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RvcHBlciA9IGNzc0FuaW1hdGUobm9kZSwge1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgYWN0aXZlOiBhY3RpdmVOYW1lXG4gICAgICAgIH0sIGVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0b3BwZXIgPSBwcm9wcy5hbmltYXRpb25bYW5pbWF0aW9uVHlwZV0obm9kZSwgZW5kKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzdG9wJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgIHZhciBzdG9wcGVyID0gdGhpcy5zdG9wcGVyO1xuICAgICAgaWYgKHN0b3BwZXIpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVyID0gbnVsbDtcbiAgICAgICAgc3RvcHBlci5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFuaW1hdGVDaGlsZDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuQW5pbWF0ZUNoaWxkLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnlcbn07XG5leHBvcnQgZGVmYXVsdCBBbmltYXRlQ2hpbGQ7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IHRvQXJyYXlDaGlsZHJlbiwgbWVyZ2VDaGlsZHJlbiwgZmluZFNob3duQ2hpbGRJbkNoaWxkcmVuQnlLZXksIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSwgaXNTYW1lQ2hpbGRyZW4gfSBmcm9tICcuL0NoaWxkcmVuVXRpbHMnO1xuaW1wb3J0IEFuaW1hdGVDaGlsZCBmcm9tICcuL0FuaW1hdGVDaGlsZCc7XG5pbXBvcnQgYW5pbVV0aWwgZnJvbSAnLi91dGlsL2FuaW1hdGUnO1xuXG52YXIgZGVmYXVsdEtleSA9ICdyY19hbmltYXRlXycgKyBEYXRlLm5vdygpO1xuXG5mdW5jdGlvbiBnZXRDaGlsZHJlbkZyb21Qcm9wcyhwcm9wcykge1xuICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcbiAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgIGlmICghY2hpbGRyZW4ua2V5KSB7XG4gICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICAgIGtleTogZGVmYXVsdEtleVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBjaGlsZHJlbjtcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBBbmltYXRlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEFuaW1hdGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICBmdW5jdGlvbiBBbmltYXRlKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFuaW1hdGUpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFuaW1hdGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBbmltYXRlKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgIF90aGlzLmN1cnJlbnRseUFuaW1hdGluZ0tleXMgPSB7fTtcbiAgICBfdGhpcy5rZXlzVG9FbnRlciA9IFtdO1xuICAgIF90aGlzLmtleXNUb0xlYXZlID0gW107XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNoaWxkcmVuOiB0b0FycmF5Q2hpbGRyZW4oZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMocHJvcHMpKVxuICAgIH07XG5cbiAgICBfdGhpcy5jaGlsZHJlblJlZnMgPSB7fTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQW5pbWF0ZSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBzaG93UHJvcCA9IHRoaXMucHJvcHMuc2hvd1Byb3A7XG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnN0YXRlLmNoaWxkcmVuO1xuICAgICAgaWYgKHNob3dQcm9wKSB7XG4gICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgIHJldHVybiAhIWNoaWxkLnByb3BzW3Nob3dQcm9wXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICBfdGhpczIucGVyZm9ybUFwcGVhcihjaGlsZC5rZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB0aGlzLm5leHRQcm9wcyA9IG5leHRQcm9wcztcbiAgICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB0b0FycmF5Q2hpbGRyZW4oZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMobmV4dFByb3BzKSk7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgLy8gZXhjbHVzaXZlIG5lZWRzIGltbWVkaWF0ZSByZXNwb25zZVxuICAgICAgaWYgKHByb3BzLmV4Y2x1c2l2ZSkge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmN1cnJlbnRseUFuaW1hdGluZ0tleXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIF90aGlzMy5zdG9wKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdmFyIHNob3dQcm9wID0gcHJvcHMuc2hvd1Byb3A7XG4gICAgICB2YXIgY3VycmVudGx5QW5pbWF0aW5nS2V5cyA9IHRoaXMuY3VycmVudGx5QW5pbWF0aW5nS2V5cztcbiAgICAgIC8vIGxhc3QgcHJvcHMgY2hpbGRyZW4gaWYgZXhjbHVzaXZlXG4gICAgICB2YXIgY3VycmVudENoaWxkcmVuID0gcHJvcHMuZXhjbHVzaXZlID8gdG9BcnJheUNoaWxkcmVuKGdldENoaWxkcmVuRnJvbVByb3BzKHByb3BzKSkgOiB0aGlzLnN0YXRlLmNoaWxkcmVuO1xuICAgICAgLy8gaW4gY2FzZSBkZXN0cm95IGluIHNob3dQcm9wIG1vZGVcbiAgICAgIHZhciBuZXdDaGlsZHJlbiA9IFtdO1xuICAgICAgaWYgKHNob3dQcm9wKSB7XG4gICAgICAgIGN1cnJlbnRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjdXJyZW50Q2hpbGQpIHtcbiAgICAgICAgICB2YXIgbmV4dENoaWxkID0gY3VycmVudENoaWxkICYmIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShuZXh0Q2hpbGRyZW4sIGN1cnJlbnRDaGlsZC5rZXkpO1xuICAgICAgICAgIHZhciBuZXdDaGlsZCA9IHZvaWQgMDtcbiAgICAgICAgICBpZiAoKCFuZXh0Q2hpbGQgfHwgIW5leHRDaGlsZC5wcm9wc1tzaG93UHJvcF0pICYmIGN1cnJlbnRDaGlsZC5wcm9wc1tzaG93UHJvcF0pIHtcbiAgICAgICAgICAgIG5ld0NoaWxkID0gUmVhY3QuY2xvbmVFbGVtZW50KG5leHRDaGlsZCB8fCBjdXJyZW50Q2hpbGQsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgc2hvd1Byb3AsIHRydWUpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3Q2hpbGQgPSBuZXh0Q2hpbGQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZXdDaGlsZCkge1xuICAgICAgICAgICAgbmV3Q2hpbGRyZW4ucHVzaChuZXdDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV4dENoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKG5leHRDaGlsZCkge1xuICAgICAgICAgIGlmICghbmV4dENoaWxkIHx8ICFmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkoY3VycmVudENoaWxkcmVuLCBuZXh0Q2hpbGQua2V5KSkge1xuICAgICAgICAgICAgbmV3Q2hpbGRyZW4ucHVzaChuZXh0Q2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdDaGlsZHJlbiA9IG1lcmdlQ2hpbGRyZW4oY3VycmVudENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pO1xuICAgICAgfVxuXG4gICAgICAvLyBuZWVkIHJlbmRlciB0byBhdm9pZCB1cGRhdGVcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjaGlsZHJlbjogbmV3Q2hpbGRyZW5cbiAgICAgIH0pO1xuXG4gICAgICBuZXh0Q2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgdmFyIGtleSA9IGNoaWxkICYmIGNoaWxkLmtleTtcbiAgICAgICAgaWYgKGNoaWxkICYmIGN1cnJlbnRseUFuaW1hdGluZ0tleXNba2V5XSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFzUHJldiA9IGNoaWxkICYmIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShjdXJyZW50Q2hpbGRyZW4sIGtleSk7XG4gICAgICAgIGlmIChzaG93UHJvcCkge1xuICAgICAgICAgIHZhciBzaG93SW5OZXh0ID0gY2hpbGQucHJvcHNbc2hvd1Byb3BdO1xuICAgICAgICAgIGlmIChoYXNQcmV2KSB7XG4gICAgICAgICAgICB2YXIgc2hvd0luTm93ID0gZmluZFNob3duQ2hpbGRJbkNoaWxkcmVuQnlLZXkoY3VycmVudENoaWxkcmVuLCBrZXksIHNob3dQcm9wKTtcbiAgICAgICAgICAgIGlmICghc2hvd0luTm93ICYmIHNob3dJbk5leHQpIHtcbiAgICAgICAgICAgICAgX3RoaXMzLmtleXNUb0VudGVyLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHNob3dJbk5leHQpIHtcbiAgICAgICAgICAgIF90aGlzMy5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFoYXNQcmV2KSB7XG4gICAgICAgICAgX3RoaXMzLmtleXNUb0VudGVyLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGN1cnJlbnRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICB2YXIga2V5ID0gY2hpbGQgJiYgY2hpbGQua2V5O1xuICAgICAgICBpZiAoY2hpbGQgJiYgY3VycmVudGx5QW5pbWF0aW5nS2V5c1trZXldKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYXNOZXh0ID0gY2hpbGQgJiYgZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KG5leHRDaGlsZHJlbiwga2V5KTtcbiAgICAgICAgaWYgKHNob3dQcm9wKSB7XG4gICAgICAgICAgdmFyIHNob3dJbk5vdyA9IGNoaWxkLnByb3BzW3Nob3dQcm9wXTtcbiAgICAgICAgICBpZiAoaGFzTmV4dCkge1xuICAgICAgICAgICAgdmFyIHNob3dJbk5leHQgPSBmaW5kU2hvd25DaGlsZEluQ2hpbGRyZW5CeUtleShuZXh0Q2hpbGRyZW4sIGtleSwgc2hvd1Byb3ApO1xuICAgICAgICAgICAgaWYgKCFzaG93SW5OZXh0ICYmIHNob3dJbk5vdykge1xuICAgICAgICAgICAgICBfdGhpczMua2V5c1RvTGVhdmUucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoc2hvd0luTm93KSB7XG4gICAgICAgICAgICBfdGhpczMua2V5c1RvTGVhdmUucHVzaChrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaGFzTmV4dCkge1xuICAgICAgICAgIF90aGlzMy5rZXlzVG9MZWF2ZS5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHZhciBrZXlzVG9FbnRlciA9IHRoaXMua2V5c1RvRW50ZXI7XG4gICAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG4gICAgICBrZXlzVG9FbnRlci5mb3JFYWNoKHRoaXMucGVyZm9ybUVudGVyKTtcbiAgICAgIHZhciBrZXlzVG9MZWF2ZSA9IHRoaXMua2V5c1RvTGVhdmU7XG4gICAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG4gICAgICBrZXlzVG9MZWF2ZS5mb3JFYWNoKHRoaXMucGVyZm9ybUxlYXZlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc1ZhbGlkQ2hpbGRCeUtleScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmFsaWRDaGlsZEJ5S2V5KGN1cnJlbnRDaGlsZHJlbiwga2V5KSB7XG4gICAgICB2YXIgc2hvd1Byb3AgPSB0aGlzLnByb3BzLnNob3dQcm9wO1xuICAgICAgaWYgKHNob3dQcm9wKSB7XG4gICAgICAgIHJldHVybiBmaW5kU2hvd25DaGlsZEluQ2hpbGRyZW5CeUtleShjdXJyZW50Q2hpbGRyZW4sIGtleSwgc2hvd1Byb3ApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShjdXJyZW50Q2hpbGRyZW4sIGtleSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3RvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3Aoa2V5KSB7XG4gICAgICBkZWxldGUgdGhpcy5jdXJyZW50bHlBbmltYXRpbmdLZXlzW2tleV07XG4gICAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5jaGlsZHJlblJlZnNba2V5XTtcbiAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgY29tcG9uZW50LnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMubmV4dFByb3BzID0gcHJvcHM7XG4gICAgICB2YXIgc3RhdGVDaGlsZHJlbiA9IHRoaXMuc3RhdGUuY2hpbGRyZW47XG4gICAgICB2YXIgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgaWYgKHN0YXRlQ2hpbGRyZW4pIHtcbiAgICAgICAgY2hpbGRyZW4gPSBzdGF0ZUNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICBpZiAoY2hpbGQgPT09IG51bGwgfHwgY2hpbGQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWNoaWxkLmtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHNldCBrZXkgZm9yIDxyYy1hbmltYXRlPiBjaGlsZHJlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIEFuaW1hdGVDaGlsZCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2V5OiBjaGlsZC5rZXksXG4gICAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpczQuY2hpbGRyZW5SZWZzW2NoaWxkLmtleV0gPSBub2RlO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhbmltYXRpb246IHByb3BzLmFuaW1hdGlvbixcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWU6IHByb3BzLnRyYW5zaXRpb25OYW1lLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uRW50ZXI6IHByb3BzLnRyYW5zaXRpb25FbnRlcixcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbkFwcGVhcjogcHJvcHMudHJhbnNpdGlvbkFwcGVhcixcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbkxlYXZlOiBwcm9wcy50cmFuc2l0aW9uTGVhdmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdmFyIENvbXBvbmVudCA9IHByb3BzLmNvbXBvbmVudDtcbiAgICAgIGlmIChDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIHBhc3NlZFByb3BzID0gcHJvcHM7XG4gICAgICAgIGlmICh0eXBlb2YgQ29tcG9uZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHBhc3NlZFByb3BzID0gX2V4dGVuZHMoe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGVcbiAgICAgICAgICB9LCBwcm9wcy5jb21wb25lbnRQcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgIHBhc3NlZFByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hpbGRyZW5bMF0gfHwgbnVsbDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQW5pbWF0ZTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuQW5pbWF0ZS5pc0FuaW1hdGUgPSB0cnVlO1xuQW5pbWF0ZS5wcm9wVHlwZXMgPSB7XG4gIGNvbXBvbmVudDogUHJvcFR5cGVzLmFueSxcbiAgY29tcG9uZW50UHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gIGFuaW1hdGlvbjogUHJvcFR5cGVzLm9iamVjdCxcbiAgdHJhbnNpdGlvbk5hbWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgdHJhbnNpdGlvbkVudGVyOiBQcm9wVHlwZXMuYm9vbCxcbiAgdHJhbnNpdGlvbkFwcGVhcjogUHJvcFR5cGVzLmJvb2wsXG4gIGV4Y2x1c2l2ZTogUHJvcFR5cGVzLmJvb2wsXG4gIHRyYW5zaXRpb25MZWF2ZTogUHJvcFR5cGVzLmJvb2wsXG4gIG9uRW5kOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25FbnRlcjogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uTGVhdmU6IFByb3BUeXBlcy5mdW5jLFxuICBvbkFwcGVhcjogUHJvcFR5cGVzLmZ1bmMsXG4gIHNob3dQcm9wOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGVcbn07XG5BbmltYXRlLmRlZmF1bHRQcm9wcyA9IHtcbiAgYW5pbWF0aW9uOiB7fSxcbiAgY29tcG9uZW50OiAnc3BhbicsXG4gIGNvbXBvbmVudFByb3BzOiB7fSxcbiAgdHJhbnNpdGlvbkVudGVyOiB0cnVlLFxuICB0cmFuc2l0aW9uTGVhdmU6IHRydWUsXG4gIHRyYW5zaXRpb25BcHBlYXI6IGZhbHNlLFxuICBvbkVuZDogbm9vcCxcbiAgb25FbnRlcjogbm9vcCxcbiAgb25MZWF2ZTogbm9vcCxcbiAgb25BcHBlYXI6IG5vb3Bcbn07XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgdGhpcy5wZXJmb3JtRW50ZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgLy8gbWF5IGFscmVhZHkgcmVtb3ZlIGJ5IGV4Y2x1c2l2ZVxuICAgIGlmIChfdGhpczUuY2hpbGRyZW5SZWZzW2tleV0pIHtcbiAgICAgIF90aGlzNS5jdXJyZW50bHlBbmltYXRpbmdLZXlzW2tleV0gPSB0cnVlO1xuICAgICAgX3RoaXM1LmNoaWxkcmVuUmVmc1trZXldLmNvbXBvbmVudFdpbGxFbnRlcihfdGhpczUuaGFuZGxlRG9uZUFkZGluZy5iaW5kKF90aGlzNSwga2V5LCAnZW50ZXInKSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucGVyZm9ybUFwcGVhciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoX3RoaXM1LmNoaWxkcmVuUmVmc1trZXldKSB7XG4gICAgICBfdGhpczUuY3VycmVudGx5QW5pbWF0aW5nS2V5c1trZXldID0gdHJ1ZTtcbiAgICAgIF90aGlzNS5jaGlsZHJlblJlZnNba2V5XS5jb21wb25lbnRXaWxsQXBwZWFyKF90aGlzNS5oYW5kbGVEb25lQWRkaW5nLmJpbmQoX3RoaXM1LCBrZXksICdhcHBlYXInKSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuaGFuZGxlRG9uZUFkZGluZyA9IGZ1bmN0aW9uIChrZXksIHR5cGUpIHtcbiAgICB2YXIgcHJvcHMgPSBfdGhpczUucHJvcHM7XG4gICAgZGVsZXRlIF90aGlzNS5jdXJyZW50bHlBbmltYXRpbmdLZXlzW2tleV07XG4gICAgLy8gaWYgdXBkYXRlIG9uIGV4Y2x1c2l2ZSBtb2RlLCBza2lwIGNoZWNrXG4gICAgaWYgKHByb3BzLmV4Y2x1c2l2ZSAmJiBwcm9wcyAhPT0gX3RoaXM1Lm5leHRQcm9wcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY3VycmVudENoaWxkcmVuID0gdG9BcnJheUNoaWxkcmVuKGdldENoaWxkcmVuRnJvbVByb3BzKHByb3BzKSk7XG4gICAgaWYgKCFfdGhpczUuaXNWYWxpZENoaWxkQnlLZXkoY3VycmVudENoaWxkcmVuLCBrZXkpKSB7XG4gICAgICAvLyBleGNsdXNpdmUgd2lsbCBub3QgbmVlZCB0aGlzXG4gICAgICBfdGhpczUucGVyZm9ybUxlYXZlKGtleSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnYXBwZWFyJykge1xuICAgICAgaWYgKGFuaW1VdGlsLmFsbG93QXBwZWFyQ2FsbGJhY2socHJvcHMpKSB7XG4gICAgICAgIHByb3BzLm9uQXBwZWFyKGtleSk7XG4gICAgICAgIHByb3BzLm9uRW5kKGtleSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhbmltVXRpbC5hbGxvd0VudGVyQ2FsbGJhY2socHJvcHMpKSB7XG4gICAgICBwcm9wcy5vbkVudGVyKGtleSk7XG4gICAgICBwcm9wcy5vbkVuZChrZXksIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnBlcmZvcm1MZWF2ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAvLyBtYXkgYWxyZWFkeSByZW1vdmUgYnkgZXhjbHVzaXZlXG4gICAgaWYgKF90aGlzNS5jaGlsZHJlblJlZnNba2V5XSkge1xuICAgICAgX3RoaXM1LmN1cnJlbnRseUFuaW1hdGluZ0tleXNba2V5XSA9IHRydWU7XG4gICAgICBfdGhpczUuY2hpbGRyZW5SZWZzW2tleV0uY29tcG9uZW50V2lsbExlYXZlKF90aGlzNS5oYW5kbGVEb25lTGVhdmluZy5iaW5kKF90aGlzNSwga2V5KSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuaGFuZGxlRG9uZUxlYXZpbmcgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHByb3BzID0gX3RoaXM1LnByb3BzO1xuICAgIGRlbGV0ZSBfdGhpczUuY3VycmVudGx5QW5pbWF0aW5nS2V5c1trZXldO1xuICAgIC8vIGlmIHVwZGF0ZSBvbiBleGNsdXNpdmUgbW9kZSwgc2tpcCBjaGVja1xuICAgIGlmIChwcm9wcy5leGNsdXNpdmUgJiYgcHJvcHMgIT09IF90aGlzNS5uZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGN1cnJlbnRDaGlsZHJlbiA9IHRvQXJyYXlDaGlsZHJlbihnZXRDaGlsZHJlbkZyb21Qcm9wcyhwcm9wcykpO1xuICAgIC8vIGluIGNhc2Ugc3RhdGUgY2hhbmdlIGlzIHRvbyBmYXN0XG4gICAgaWYgKF90aGlzNS5pc1ZhbGlkQ2hpbGRCeUtleShjdXJyZW50Q2hpbGRyZW4sIGtleSkpIHtcbiAgICAgIF90aGlzNS5wZXJmb3JtRW50ZXIoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGVuZCA9IGZ1bmN0aW9uIGVuZCgpIHtcbiAgICAgICAgaWYgKGFuaW1VdGlsLmFsbG93TGVhdmVDYWxsYmFjayhwcm9wcykpIHtcbiAgICAgICAgICBwcm9wcy5vbkxlYXZlKGtleSk7XG4gICAgICAgICAgcHJvcHMub25FbmQoa2V5LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAoIWlzU2FtZUNoaWxkcmVuKF90aGlzNS5zdGF0ZS5jaGlsZHJlbiwgY3VycmVudENoaWxkcmVuLCBwcm9wcy5zaG93UHJvcCkpIHtcbiAgICAgICAgX3RoaXM1LnNldFN0YXRlKHtcbiAgICAgICAgICBjaGlsZHJlbjogY3VycmVudENoaWxkcmVuXG4gICAgICAgIH0sIGVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBbmltYXRlOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBQYW5lbENvbnRlbnQgZnJvbSAnLi9QYW5lbENvbnRlbnQnO1xuaW1wb3J0IEFuaW1hdGUgZnJvbSAncmMtYW5pbWF0ZSc7XG5cbnZhciBDb2xsYXBzZVBhbmVsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbGxhcHNlUGFuZWwsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvbGxhcHNlUGFuZWwoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbGxhcHNlUGFuZWwpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IENvbGxhcHNlUGFuZWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb2xsYXBzZVBhbmVsKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuaGFuZGxlSXRlbUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uSXRlbUNsaWNrKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uSXRlbUNsaWNrKCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlS2V5UHJlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5Q29kZSA9PT0gMTMgfHwgZS53aGljaCA9PT0gMTMpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlSXRlbUNsaWNrKCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ29sbGFwc2VQYW5lbCwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX2NsYXNzTmFtZXMyO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGlkID0gX3Byb3BzLmlkLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgaGVhZGVyID0gX3Byb3BzLmhlYWRlcixcbiAgICAgICAgICBoZWFkZXJDbGFzcyA9IF9wcm9wcy5oZWFkZXJDbGFzcyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBpc0FjdGl2ZSA9IF9wcm9wcy5pc0FjdGl2ZSxcbiAgICAgICAgICBzaG93QXJyb3cgPSBfcHJvcHMuc2hvd0Fycm93LFxuICAgICAgICAgIGRlc3Ryb3lJbmFjdGl2ZVBhbmVsID0gX3Byb3BzLmRlc3Ryb3lJbmFjdGl2ZVBhbmVsLFxuICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgIGFjY29yZGlvbiA9IF9wcm9wcy5hY2NvcmRpb24sXG4gICAgICAgICAgZm9yY2VSZW5kZXIgPSBfcHJvcHMuZm9yY2VSZW5kZXI7XG5cbiAgICAgIHZhciBoZWFkZXJDbHMgPSBjbGFzc05hbWVzKHByZWZpeENscyArICctaGVhZGVyJywgX2RlZmluZVByb3BlcnR5KHt9LCBoZWFkZXJDbGFzcywgaGVhZGVyQ2xhc3MpKTtcbiAgICAgIHZhciBpdGVtQ2xzID0gY2xhc3NOYW1lcygoX2NsYXNzTmFtZXMyID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lczIsIHByZWZpeENscyArICctaXRlbScsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMyLCBwcmVmaXhDbHMgKyAnLWl0ZW0tYWN0aXZlJywgaXNBY3RpdmUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMyLCBwcmVmaXhDbHMgKyAnLWl0ZW0tZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9jbGFzc05hbWVzMiksIGNsYXNzTmFtZSk7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBpdGVtQ2xzLCBzdHlsZTogc3R5bGUsIGlkOiBpZCB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogaGVhZGVyQ2xzLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVJdGVtQ2xpY2ssXG4gICAgICAgICAgICByb2xlOiBhY2NvcmRpb24gPyAndGFiJyA6ICdidXR0b24nLFxuICAgICAgICAgICAgdGFiSW5kZXg6IGRpc2FibGVkID8gLTEgOiAwLFxuICAgICAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiAnJyArIGlzQWN0aXZlLFxuICAgICAgICAgICAgb25LZXlQcmVzczogdGhpcy5oYW5kbGVLZXlQcmVzc1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2hvd0Fycm93ICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2knLCB7IGNsYXNzTmFtZTogJ2Fycm93JyB9KSxcbiAgICAgICAgICBoZWFkZXJcbiAgICAgICAgKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBBbmltYXRlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNob3dQcm9wOiAnaXNBY3RpdmUnLFxuICAgICAgICAgICAgZXhjbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgY29tcG9uZW50OiAnJyxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogdGhpcy5wcm9wcy5vcGVuQW5pbWF0aW9uXG4gICAgICAgICAgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgUGFuZWxDb250ZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgICAgICAgaXNBY3RpdmU6IGlzQWN0aXZlLFxuICAgICAgICAgICAgICBkZXN0cm95SW5hY3RpdmVQYW5lbDogZGVzdHJveUluYWN0aXZlUGFuZWwsXG4gICAgICAgICAgICAgIGZvcmNlUmVuZGVyOiBmb3JjZVJlbmRlcixcbiAgICAgICAgICAgICAgcm9sZTogYWNjb3JkaW9uID8gJ3RhYnBhbmVsJyA6IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29sbGFwc2VQYW5lbDtcbn0oQ29tcG9uZW50KTtcblxuQ29sbGFwc2VQYW5lbC5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICBpZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnksXG4gIG9wZW5BbmltYXRpb246IFByb3BUeXBlcy5vYmplY3QsXG4gIHByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgaGVhZGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMubm9kZV0pLFxuICBoZWFkZXJDbGFzczogUHJvcFR5cGVzLnN0cmluZyxcbiAgc2hvd0Fycm93OiBQcm9wVHlwZXMuYm9vbCxcbiAgaXNBY3RpdmU6IFByb3BUeXBlcy5ib29sLFxuICBvbkl0ZW1DbGljazogUHJvcFR5cGVzLmZ1bmMsXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBkZXN0cm95SW5hY3RpdmVQYW5lbDogUHJvcFR5cGVzLmJvb2wsXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgYWNjb3JkaW9uOiBQcm9wVHlwZXMuYm9vbCxcbiAgZm9yY2VSZW5kZXI6IFByb3BUeXBlcy5ib29sXG59O1xuXG5Db2xsYXBzZVBhbmVsLmRlZmF1bHRQcm9wcyA9IHtcbiAgc2hvd0Fycm93OiB0cnVlLFxuICBpc0FjdGl2ZTogZmFsc2UsXG4gIGRlc3Ryb3lJbmFjdGl2ZVBhbmVsOiBmYWxzZSxcbiAgb25JdGVtQ2xpY2s6IGZ1bmN0aW9uIG9uSXRlbUNsaWNrKCkge30sXG5cbiAgaGVhZGVyQ2xhc3M6ICcnLFxuICBmb3JjZVJlbmRlcjogZmFsc2Vcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbGxhcHNlUGFuZWw7IiwiaW1wb3J0IGNzc0FuaW1hdGlvbiBmcm9tICdjc3MtYW5pbWF0aW9uJztcblxuZnVuY3Rpb24gYW5pbWF0ZShub2RlLCBzaG93LCB0cmFuc2l0aW9uTmFtZSwgZG9uZSkge1xuICB2YXIgaGVpZ2h0ID0gdm9pZCAwO1xuICByZXR1cm4gY3NzQW5pbWF0aW9uKG5vZGUsIHRyYW5zaXRpb25OYW1lLCB7XG4gICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgaWYgKCFzaG93KSB7XG4gICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gbm9kZS5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGVpZ2h0ID0gbm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gMDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFjdGl2ZTogZnVuY3Rpb24gYWN0aXZlKCkge1xuICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSAoc2hvdyA/IGhlaWdodCA6IDApICsgJ3B4JztcbiAgICB9LFxuICAgIGVuZDogZnVuY3Rpb24gZW5kKCkge1xuICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhbmltYXRpb24ocHJlZml4Q2xzKSB7XG4gIHJldHVybiB7XG4gICAgZW50ZXI6IGZ1bmN0aW9uIGVudGVyKG5vZGUsIGRvbmUpIHtcbiAgICAgIHJldHVybiBhbmltYXRlKG5vZGUsIHRydWUsIHByZWZpeENscyArICctYW5pbScsIGRvbmUpO1xuICAgIH0sXG4gICAgbGVhdmU6IGZ1bmN0aW9uIGxlYXZlKG5vZGUsIGRvbmUpIHtcbiAgICAgIHJldHVybiBhbmltYXRlKG5vZGUsIGZhbHNlLCBwcmVmaXhDbHMgKyAnLWFuaW0nLCBkb25lKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFuaW1hdGlvbjsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50LCBDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgQ29sbGFwc2VQYW5lbCBmcm9tICcuL1BhbmVsJztcbmltcG9ydCBvcGVuQW5pbWF0aW9uRmFjdG9yeSBmcm9tICcuL29wZW5BbmltYXRpb25GYWN0b3J5JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5mdW5jdGlvbiB0b0FycmF5KGFjdGl2ZUtleSkge1xuICB2YXIgY3VycmVudEFjdGl2ZUtleSA9IGFjdGl2ZUtleTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGN1cnJlbnRBY3RpdmVLZXkpKSB7XG4gICAgY3VycmVudEFjdGl2ZUtleSA9IGN1cnJlbnRBY3RpdmVLZXkgPyBbY3VycmVudEFjdGl2ZUtleV0gOiBbXTtcbiAgfVxuICByZXR1cm4gY3VycmVudEFjdGl2ZUtleTtcbn1cblxudmFyIENvbGxhcHNlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbGxhcHNlLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDb2xsYXBzZShwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xsYXBzZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ29sbGFwc2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb2xsYXBzZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICBhY3RpdmVLZXkgPSBfdGhpcyRwcm9wcy5hY3RpdmVLZXksXG4gICAgICAgIGRlZmF1bHRBY3RpdmVLZXkgPSBfdGhpcyRwcm9wcy5kZWZhdWx0QWN0aXZlS2V5O1xuXG4gICAgdmFyIGN1cnJlbnRBY3RpdmVLZXkgPSBkZWZhdWx0QWN0aXZlS2V5O1xuICAgIGlmICgnYWN0aXZlS2V5JyBpbiBfdGhpcy5wcm9wcykge1xuICAgICAgY3VycmVudEFjdGl2ZUtleSA9IGFjdGl2ZUtleTtcbiAgICB9XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wZW5BbmltYXRpb246IF90aGlzLnByb3BzLm9wZW5BbmltYXRpb24gfHwgb3BlbkFuaW1hdGlvbkZhY3RvcnkoX3RoaXMucHJvcHMucHJlZml4Q2xzKSxcbiAgICAgIGFjdGl2ZUtleTogdG9BcnJheShjdXJyZW50QWN0aXZlS2V5KVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvbGxhcHNlLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKCdhY3RpdmVLZXknIGluIG5leHRQcm9wcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhY3RpdmVLZXk6IHRvQXJyYXkobmV4dFByb3BzLmFjdGl2ZUtleSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoJ29wZW5BbmltYXRpb24nIGluIG5leHRQcm9wcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBvcGVuQW5pbWF0aW9uOiBuZXh0UHJvcHMub3BlbkFuaW1hdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkNsaWNrSXRlbScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tJdGVtKGtleSkge1xuICAgICAgdmFyIGFjdGl2ZUtleSA9IHRoaXMuc3RhdGUuYWN0aXZlS2V5O1xuICAgICAgaWYgKHRoaXMucHJvcHMuYWNjb3JkaW9uKSB7XG4gICAgICAgIGFjdGl2ZUtleSA9IGFjdGl2ZUtleVswXSA9PT0ga2V5ID8gW10gOiBba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZUtleSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYWN0aXZlS2V5KSk7XG4gICAgICAgIHZhciBpbmRleCA9IGFjdGl2ZUtleS5pbmRleE9mKGtleSk7XG4gICAgICAgIHZhciBpc0FjdGl2ZSA9IGluZGV4ID4gLTE7XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIC8vIHJlbW92ZSBhY3RpdmUgc3RhdGVcbiAgICAgICAgICBhY3RpdmVLZXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVLZXkucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnNldEFjdGl2ZUtleShhY3RpdmVLZXkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEl0ZW1zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXRlbXMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGFjdGl2ZUtleSA9IHRoaXMuc3RhdGUuYWN0aXZlS2V5O1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICBhY2NvcmRpb24gPSBfcHJvcHMuYWNjb3JkaW9uLFxuICAgICAgICAgIGRlc3Ryb3lJbmFjdGl2ZVBhbmVsID0gX3Byb3BzLmRlc3Ryb3lJbmFjdGl2ZVBhbmVsO1xuXG4gICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBbXTtcblxuICAgICAgQ2hpbGRyZW4uZm9yRWFjaCh0aGlzLnByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmICghY2hpbGQpIHJldHVybjtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8ga2V5IHByb3ZpZGUsIHVzZSB0aGUgcGFuZWwgb3JkZXIgYXMgZGVmYXVsdCBrZXlcbiAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleSB8fCBTdHJpbmcoaW5kZXgpO1xuICAgICAgICB2YXIgX2NoaWxkJHByb3BzID0gY2hpbGQucHJvcHMsXG4gICAgICAgICAgICBoZWFkZXIgPSBfY2hpbGQkcHJvcHMuaGVhZGVyLFxuICAgICAgICAgICAgaGVhZGVyQ2xhc3MgPSBfY2hpbGQkcHJvcHMuaGVhZGVyQ2xhc3MsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF9jaGlsZCRwcm9wcy5kaXNhYmxlZDtcblxuICAgICAgICB2YXIgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGFjY29yZGlvbikge1xuICAgICAgICAgIGlzQWN0aXZlID0gYWN0aXZlS2V5WzBdID09PSBrZXk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNBY3RpdmUgPSBhY3RpdmVLZXkuaW5kZXhPZihrZXkpID4gLTE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgaGVhZGVyOiBoZWFkZXIsXG4gICAgICAgICAgaGVhZGVyQ2xhc3M6IGhlYWRlckNsYXNzLFxuICAgICAgICAgIGlzQWN0aXZlOiBpc0FjdGl2ZSxcbiAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgICBkZXN0cm95SW5hY3RpdmVQYW5lbDogZGVzdHJveUluYWN0aXZlUGFuZWwsXG4gICAgICAgICAgb3BlbkFuaW1hdGlvbjogX3RoaXMyLnN0YXRlLm9wZW5BbmltYXRpb24sXG4gICAgICAgICAgYWNjb3JkaW9uOiBhY2NvcmRpb24sXG4gICAgICAgICAgY2hpbGRyZW46IGNoaWxkLnByb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIG9uSXRlbUNsaWNrOiBkaXNhYmxlZCA/IG51bGwgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2tJdGVtKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIG5ld0NoaWxkcmVuLnB1c2goUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCBwcm9wcykpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBuZXdDaGlsZHJlbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRBY3RpdmVLZXknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBY3RpdmVLZXkoYWN0aXZlS2V5KSB7XG4gICAgICBpZiAoISgnYWN0aXZlS2V5JyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlS2V5OiBhY3RpdmVLZXkgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMucHJvcHMuYWNjb3JkaW9uID8gYWN0aXZlS2V5WzBdIDogYWN0aXZlS2V5KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscyxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMyLmNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wczIuc3R5bGUsXG4gICAgICAgICAgYWNjb3JkaW9uID0gX3Byb3BzMi5hY2NvcmRpb247XG5cbiAgICAgIHZhciBjb2xsYXBzZUNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzLCB0cnVlKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBjbGFzc05hbWUsICEhY2xhc3NOYW1lKSwgX2NsYXNzTmFtZXMpKTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNvbGxhcHNlQ2xhc3NOYW1lLCBzdHlsZTogc3R5bGUsIHJvbGU6IGFjY29yZGlvbiA/ICd0YWJsaXN0JyA6IG51bGwgfSxcbiAgICAgICAgdGhpcy5nZXRJdGVtcygpXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb2xsYXBzZTtcbn0oQ29tcG9uZW50KTtcblxuQ29sbGFwc2UucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueSxcbiAgcHJlZml4Q2xzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBhY3RpdmVLZXk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpXSksXG4gIGRlZmF1bHRBY3RpdmVLZXk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpXSksXG4gIG9wZW5BbmltYXRpb246IFByb3BUeXBlcy5vYmplY3QsXG4gIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgYWNjb3JkaW9uOiBQcm9wVHlwZXMuYm9vbCxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgZGVzdHJveUluYWN0aXZlUGFuZWw6IFByb3BUeXBlcy5ib29sXG59O1xuXG5Db2xsYXBzZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHByZWZpeENsczogJ3JjLWNvbGxhcHNlJyxcbiAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge30sXG5cbiAgYWNjb3JkaW9uOiBmYWxzZSxcbiAgZGVzdHJveUluYWN0aXZlUGFuZWw6IGZhbHNlXG59O1xuXG5Db2xsYXBzZS5QYW5lbCA9IENvbGxhcHNlUGFuZWw7XG5cbmV4cG9ydCBkZWZhdWx0IENvbGxhcHNlOyIsImltcG9ydCBDb2xsYXBzZSBmcm9tICcuL0NvbGxhcHNlJztcblxuZXhwb3J0IGRlZmF1bHQgQ29sbGFwc2U7XG5leHBvcnQgdmFyIFBhbmVsID0gQ29sbGFwc2UuUGFuZWw7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSY0NvbGxhcHNlLCB7IFBhbmVsIH0gZnJvbSAncmMtY29sbGFwc2UnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIEFjY29yZGlvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEFjY29yZGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBBY2NvcmRpb24oKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY2NvcmRpb24pO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQWNjb3JkaW9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQWNjb3JkaW9uKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEFjY29yZGlvbiwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJjQ29sbGFwc2UsIHRoaXMucHJvcHMpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFjY29yZGlvbjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgQWNjb3JkaW9uO1xuXG5BY2NvcmRpb24uUGFuZWwgPSBQYW5lbDtcbkFjY29yZGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tYWNjb3JkaW9uJ1xufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzXCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgTGF6eVJlbmRlckJveCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKExhenlSZW5kZXJCb3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gTGF6eVJlbmRlckJveCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExhenlSZW5kZXJCb3gpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTGF6eVJlbmRlckJveC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExhenlSZW5kZXJCb3gpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTGF6eVJlbmRlckJveCwgW3tcbiAgICAgICAga2V5OiBcInNob3VsZENvbXBvbmVudFVwZGF0ZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzLmhpZGRlbkNsYXNzTmFtZSB8fCAhIW5leHRQcm9wcy52aXNpYmxlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy5jbGFzc05hbWU7XG4gICAgICAgICAgICBpZiAoISF0aGlzLnByb3BzLmhpZGRlbkNsYXNzTmFtZSAmJiAhdGhpcy5wcm9wcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lICs9IFwiIFwiICsgdGhpcy5wcm9wcy5oaWRkZW5DbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG4gICAgICAgICAgICBkZWxldGUgcHJvcHMuaGlkZGVuQ2xhc3NOYW1lO1xuICAgICAgICAgICAgZGVsZXRlIHByb3BzLnZpc2libGU7XG4gICAgICAgICAgICBwcm9wcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7fSwgcHJvcHMpKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMYXp5UmVuZGVyQm94O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBMYXp5UmVuZGVyQm94OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBbmltYXRlIGZyb20gJ3JjLWFuaW1hdGUnO1xuaW1wb3J0IExhenlSZW5kZXJCb3ggZnJvbSAnLi9MYXp5UmVuZGVyQm94JztcbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgRGlhbG9nID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRGlhbG9nLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIERpYWxvZygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpYWxvZyk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERpYWxvZy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERpYWxvZykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLmdldERpYWxvZ0VsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBjbG9zYWJsZSA9IHByb3BzLmNsb3NhYmxlO1xuICAgICAgICAgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcbiAgICAgICAgICAgIHZhciBmb290ZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAocHJvcHMuZm9vdGVyKSB7XG4gICAgICAgICAgICAgICAgZm9vdGVyID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1mb290ZXInLCByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZvb3RlclJlZiA9IGVsO1xuICAgICAgICAgICAgICAgICAgICB9IH0sIHByb3BzLmZvb3Rlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGVhZGVyID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHByb3BzLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInLCByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmhlYWRlclJlZiA9IGVsO1xuICAgICAgICAgICAgICAgICAgICB9IH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGl0bGUnIH0sIHByb3BzLnRpdGxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2xvc2VyID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKGNsb3NhYmxlKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VyID0gUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6IF90aGlzLmNsb3NlLCBcImFyaWEtbGFiZWxcIjogXCJDbG9zZVwiLCBjbGFzc05hbWU6IHByZWZpeENscyArICctY2xvc2UnIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsb3NlLXgnIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IF90aGlzLmdldFRyYW5zaXRpb25OYW1lKCk7XG4gICAgICAgICAgICB2YXIgZGlhbG9nRWxlbWVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGF6eVJlbmRlckJveCwgeyBrZXk6IFwiZGlhbG9nLWVsZW1lbnRcIiwgcm9sZTogXCJkb2N1bWVudFwiLCByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZGlhbG9nUmVmID0gZWw7XG4gICAgICAgICAgICAgICAgfSwgc3R5bGU6IHByb3BzLnN0eWxlIHx8IHt9LCBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIChwcm9wcy5jbGFzc05hbWUgfHwgJycpLCB2aXNpYmxlOiBwcm9wcy52aXNpYmxlIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29udGVudCcgfSwgY2xvc2VyLCBoZWFkZXIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScsIHN0eWxlOiBwcm9wcy5ib2R5U3R5bGUsIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5ib2R5UmVmID0gZWw7XG4gICAgICAgICAgICAgICAgfSB9LCBwcm9wcy5jaGlsZHJlbiksIGZvb3RlcikpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQW5pbWF0ZSwgeyBrZXk6IFwiZGlhbG9nXCIsIHNob3dQcm9wOiBcInZpc2libGVcIiwgb25BcHBlYXI6IF90aGlzLm9uQW5pbWF0ZUFwcGVhciwgb25MZWF2ZTogX3RoaXMub25BbmltYXRlTGVhdmUsIHRyYW5zaXRpb25OYW1lOiB0cmFuc2l0aW9uTmFtZSwgY29tcG9uZW50OiBcIlwiLCB0cmFuc2l0aW9uQXBwZWFyOiB0cnVlIH0sIGRpYWxvZ0VsZW1lbnQpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkFuaW1hdGVBcHBlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uQW5pbWF0ZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICAgICAgaWYgKF90aGlzLndyYXBSZWYpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53cmFwUmVmLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25BbmltYXRlTGVhdmUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkFuaW1hdGVMZWF2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLmFmdGVyQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5hZnRlckNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsb3NlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DbG9zZShlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25NYXNrQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZShlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhEaWFsb2csIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgLy8gZml4OiByZWFjdEAxNiBubyBkaXNtaXNzaW5nIGFuaW1hdGlvblxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICAgICAgaWYgKHRoaXMud3JhcFJlZikge1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcFJlZi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRaSW5kZXhTdHlsZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRaSW5kZXhTdHlsZSgpIHtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHt9O1xuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIGlmIChwcm9wcy56SW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN0eWxlLnpJbmRleCA9IHByb3BzLnpJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0V3JhcFN0eWxlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdyYXBTdHlsZSgpIHtcbiAgICAgICAgICAgIHZhciB3cmFwU3R5bGUgPSB0aGlzLnByb3BzLndyYXBTdHlsZSB8fCB7fTtcbiAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgdGhpcy5nZXRaSW5kZXhTdHlsZSgpLCB3cmFwU3R5bGUpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRNYXNrU3R5bGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWFza1N0eWxlKCkge1xuICAgICAgICAgICAgdmFyIG1hc2tTdHlsZSA9IHRoaXMucHJvcHMubWFza1N0eWxlIHx8IHt9O1xuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCB0aGlzLmdldFpJbmRleFN0eWxlKCksIG1hc2tTdHlsZSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldE1hc2tUcmFuc2l0aW9uTmFtZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNYXNrVHJhbnNpdGlvbk5hbWUoKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25OYW1lID0gcHJvcHMubWFza1RyYW5zaXRpb25OYW1lO1xuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHByb3BzLm1hc2tBbmltYXRpb247XG4gICAgICAgICAgICBpZiAoIXRyYW5zaXRpb25OYW1lICYmIGFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25OYW1lID0gcHJvcHMucHJlZml4Q2xzICsgJy0nICsgYW5pbWF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25OYW1lO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRUcmFuc2l0aW9uTmFtZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uTmFtZSgpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy50cmFuc2l0aW9uTmFtZTtcbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBwcm9wcy5hbmltYXRpb247XG4gICAgICAgICAgICBpZiAoIXRyYW5zaXRpb25OYW1lICYmIGFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25OYW1lID0gcHJvcHMucHJlZml4Q2xzICsgJy0nICsgYW5pbWF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25OYW1lO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRNYXNrRWxlbWVudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNYXNrRWxlbWVudCgpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgbWFza0VsZW1lbnQgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAocHJvcHMubWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrVHJhbnNpdGlvbiA9IHRoaXMuZ2V0TWFza1RyYW5zaXRpb25OYW1lKCk7XG4gICAgICAgICAgICAgICAgbWFza0VsZW1lbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KExhenlSZW5kZXJCb3gsIF9leHRlbmRzKHsgc3R5bGU6IHRoaXMuZ2V0TWFza1N0eWxlKCksIGtleTogXCJtYXNrLWVsZW1lbnRcIiwgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLW1hc2snLCBoaWRkZW5DbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctbWFzay1oaWRkZW4nLCB2aXNpYmxlOiBwcm9wcy52aXNpYmxlIH0sIHByb3BzLm1hc2tQcm9wcykpO1xuICAgICAgICAgICAgICAgIGlmIChtYXNrVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtYXNrRWxlbWVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQW5pbWF0ZSwgeyBrZXk6IFwibWFza1wiLCBzaG93UHJvcDogXCJ2aXNpYmxlXCIsIHRyYW5zaXRpb25BcHBlYXI6IHRydWUsIGNvbXBvbmVudDogXCJcIiwgdHJhbnNpdGlvbk5hbWU6IG1hc2tUcmFuc2l0aW9uIH0sIG1hc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWFza0VsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgbWFza0Nsb3NhYmxlID0gcHJvcHMubWFza0Nsb3NhYmxlO1xuXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmdldFdyYXBTdHlsZSgpO1xuICAgICAgICAgICAgaWYgKHByb3BzLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIHRoaXMuZ2V0TWFza0VsZW1lbnQoKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy13cmFwICcgKyAocHJvcHMud3JhcENsYXNzTmFtZSB8fCAnJyksIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIud3JhcFJlZiA9IGVsO1xuICAgICAgICAgICAgICAgIH0sIG9uQ2xpY2s6IG1hc2tDbG9zYWJsZSA/IHRoaXMub25NYXNrQ2xpY2sgOiB1bmRlZmluZWQsIHJvbGU6IFwiZGlhbG9nXCIsIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHByb3BzLnRpdGxlLCBzdHlsZTogc3R5bGUgfSwgcHJvcHMud3JhcFByb3BzKSwgdGhpcy5nZXREaWFsb2dFbGVtZW50KCkpKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEaWFsb2c7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IERpYWxvZztcblxuRGlhbG9nLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhZnRlckNsb3NlOiBub29wLFxuICAgIGNsYXNzTmFtZTogJycsXG4gICAgbWFzazogdHJ1ZSxcbiAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICBjbG9zYWJsZTogdHJ1ZSxcbiAgICBtYXNrQ2xvc2FibGU6IHRydWUsXG4gICAgcHJlZml4Q2xzOiAncm1jLWRpYWxvZycsXG4gICAgb25DbG9zZTogbm9vcFxufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBEaWFsb2cgZnJvbSAnLi9EaWFsb2cnO1xuZnVuY3Rpb24gbm9vcCgpIHt9XG52YXIgSVNfUkVBQ1RfMTYgPSAhIVJlYWN0RE9NLmNyZWF0ZVBvcnRhbDtcbnZhciBDQU5fVVNFX0RPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbnZhciBEaWFsb2dXcmFwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRGlhbG9nV3JhcCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEaWFsb2dXcmFwKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGlhbG9nV3JhcCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERpYWxvZ1dyYXAuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEaWFsb2dXcmFwKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMuc2F2ZVJlZiA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBpZiAoSVNfUkVBQ1RfMTYpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY29tcG9uZW50ID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0Q29tcG9uZW50ID0gZnVuY3Rpb24gKHZpc2libGUpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCBfdGhpcy5wcm9wcyk7XG4gICAgICAgICAgICBbJ3Zpc2libGUnLCAnb25BbmltYXRlTGVhdmUnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZywgX2V4dGVuZHMoe30sIHByb3BzLCB7IHZpc2libGU6IHZpc2libGUsIG9uQW5pbWF0ZUxlYXZlOiBfdGhpcy5yZW1vdmVDb250YWluZXIsIHJlZjogX3RoaXMuc2F2ZVJlZiB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnJlbW92ZUNvbnRhaW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5jb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlTX1JFQUNUXzE2KSB7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUoX3RoaXMuY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoX3RoaXMuY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb250YWluZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVySWQgPSBfdGhpcy5wcm9wcy5wcmVmaXhDbHMgKyAnLWNvbnRhaW5lci0nICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCBjb250YWluZXJJZCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb250YWluZXI7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRGlhbG9nV3JhcCwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnREaWRVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShfcmVmKSB7XG4gICAgICAgICAgICB2YXIgdmlzaWJsZSA9IF9yZWYudmlzaWJsZTtcblxuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMucHJvcHMudmlzaWJsZSB8fCB2aXNpYmxlKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFJU19SRUFDVF8xNikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckRpYWxvZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBmb3IgcmVhY3RAMTYgY3JlYXRlUG9ydGFsIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNvbnRhaW5lcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDb250YWluZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgICAgIGlmICghSVNfUkVBQ1RfMTYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckRpYWxvZyh0aGlzLnByb3BzLnZpc2libGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXJEaWFsb2cnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyRGlhbG9nKHZpc2libGUpIHtcbiAgICAgICAgICAgIFJlYWN0RE9NLnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHRoaXMsIHRoaXMuZ2V0Q29tcG9uZW50KHZpc2libGUpLCB0aGlzLmdldENvbnRhaW5lcigpKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIGlmICghQ0FOX1VTRV9ET00pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2aXNpYmxlID0gdGhpcy5wcm9wcy52aXNpYmxlO1xuXG4gICAgICAgICAgICBpZiAoSVNfUkVBQ1RfMTYgJiYgKHZpc2libGUgfHwgdGhpcy5fY29tcG9uZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdERPTS5jcmVhdGVQb3J0YWwodGhpcy5nZXRDb21wb25lbnQodmlzaWJsZSksIHRoaXMuZ2V0Q29udGFpbmVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGlhbG9nV3JhcDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgRGlhbG9nV3JhcDtcblxuRGlhbG9nV3JhcC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgdmlzaWJsZTogZmFsc2UsXG4gICAgcHJlZml4Q2xzOiAncm1jLWRpYWxvZycsXG4gICAgb25DbG9zZTogbm9vcFxufTsiLCJleHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BzKS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGtleSkge1xuICAgICAgICBpZiAoa2V5LnN1YnN0cigwLCA1KSA9PT0gJ2FyaWEtJyB8fCBrZXkuc3Vic3RyKDAsIDUpID09PSAnZGF0YS0nIHx8IGtleSA9PT0gJ3JvbGUnKSB7XG4gICAgICAgICAgICBwcmV2W2tleV0gPSBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgIH0sIHt9KTtcbn0pOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnZhciBCYWRnZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEJhZGdlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEJhZGdlKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFkZ2UpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQmFkZ2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihCYWRnZSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhCYWRnZSwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NuYW1lcywgX2NsYXNzbmFtZXMyO1xuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpwcmVmZXItY29uc3RcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHRleHQgPSBfYS50ZXh0LFxuICAgICAgICAgICAgICAgIHNpemUgPSBfYS5zaXplLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93Q291bnQgPSBfYS5vdmVyZmxvd0NvdW50LFxuICAgICAgICAgICAgICAgIGRvdCA9IF9hLmRvdCxcbiAgICAgICAgICAgICAgICBjb3JuZXIgPSBfYS5jb3JuZXIsXG4gICAgICAgICAgICAgICAgaG90ID0gX2EuaG90LFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wiY2xhc3NOYW1lXCIsIFwicHJlZml4Q2xzXCIsIFwiY2hpbGRyZW5cIiwgXCJ0ZXh0XCIsIFwic2l6ZVwiLCBcIm92ZXJmbG93Q291bnRcIiwgXCJkb3RcIiwgXCJjb3JuZXJcIiwgXCJob3RcIl0pO1xuICAgICAgICAgICAgb3ZlcmZsb3dDb3VudCA9IG92ZXJmbG93Q291bnQ7XG4gICAgICAgICAgICB0ZXh0ID0gdHlwZW9mIHRleHQgPT09ICdudW1iZXInICYmIHRleHQgPiBvdmVyZmxvd0NvdW50ID8gb3ZlcmZsb3dDb3VudCArICcrJyA6IHRleHQ7XG4gICAgICAgICAgICAvLyBkb3QgbW9kZSBkb24ndCBuZWVkIHRleHRcbiAgICAgICAgICAgIGlmIChkb3QpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2Nyb2xsTnVtYmVyQ2xzID0gY2xhc3NuYW1lcygoX2NsYXNzbmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWRvdCcsIGRvdCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1kb3QtbGFyZ2UnLCBkb3QgJiYgc2l6ZSA9PT0gJ2xhcmdlJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy10ZXh0JywgIWRvdCAmJiAhY29ybmVyKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWNvcm5lcicsIGNvcm5lciksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1jb3JuZXItbGFyZ2UnLCBjb3JuZXIgJiYgc2l6ZSA9PT0gJ2xhcmdlJyksIF9jbGFzc25hbWVzKSk7XG4gICAgICAgICAgICB2YXIgYmFkZ2VDbHMgPSBjbGFzc25hbWVzKHByZWZpeENscywgY2xhc3NOYW1lLCAoX2NsYXNzbmFtZXMyID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lczIsIHByZWZpeENscyArICctbm90LWEtd3JhcHBlcicsICFjaGlsZHJlbiksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lczIsIHByZWZpeENscyArICctY29ybmVyLXdyYXBwZXInLCBjb3JuZXIpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMyLCBwcmVmaXhDbHMgKyAnLWhvdCcsICEhaG90KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzMiwgcHJlZml4Q2xzICsgJy1jb3JuZXItd3JhcHBlci1sYXJnZScsIGNvcm5lciAmJiBzaXplID09PSAnbGFyZ2UnKSwgX2NsYXNzbmFtZXMyKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGJhZGdlQ2xzIH0sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgKHRleHQgfHwgZG90KSAmJlxuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpqc3gtbm8tbXVsdGlsaW5lLWpzXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ3N1cCcsXG4gICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKHsgY2xhc3NOYW1lOiBzY3JvbGxOdW1iZXJDbHMgfSwgcmVzdFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQmFkZ2U7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IEJhZGdlO1xuXG5CYWRnZS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tYmFkZ2UnLFxuICAgIHNpemU6ICdzbWFsbCcsXG4gICAgb3ZlcmZsb3dDb3VudDogOTksXG4gICAgZG90OiBmYWxzZSxcbiAgICBjb3JuZXI6IGZhbHNlXG59OyIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG4vKiB0c2xpbnQ6ZGlzYWJsZTpqc3gtbm8tbXVsdGlsaW5lLWpzICovXG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBEaWFsb2cgZnJvbSAncm1jLWRpYWxvZyc7XG5pbXBvcnQgVG91Y2hGZWVkYmFjayBmcm9tICdybWMtZmVlZGJhY2snO1xuaW1wb3J0IGdldERhdGFBdHRyIGZyb20gJy4uL191dGlsL2dldERhdGFBdHRyJztcbmltcG9ydCBCYWRnZSBmcm9tICcuLi9iYWRnZSc7XG52YXIgTk9STUFMID0gJ05PUk1BTCc7XG52YXIgU0hBUkUgPSAnU0hBUkUnO1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5XG5mdW5jdGlvbiBub29wKCkge31cbnZhciBxdWV1ZSA9IFtdO1xuZnVuY3Rpb24gY3JlYXRlQWN0aW9uU2hlZXQoZmxhZywgY29uZmlnLCBjYWxsYmFjaykge1xuICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHsgcHJlZml4Q2xzOiAnYW0tYWN0aW9uLXNoZWV0JywgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcgfSwgY29uZmlnKTtcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIHRyYW5zaXRpb25OYW1lID0gcHJvcHMudHJhbnNpdGlvbk5hbWUsXG4gICAgICAgIG1hc2tUcmFuc2l0aW9uTmFtZSA9IHByb3BzLm1hc2tUcmFuc2l0aW9uTmFtZSxcbiAgICAgICAgX3Byb3BzJG1hc2tDbG9zYWJsZSA9IHByb3BzLm1hc2tDbG9zYWJsZSxcbiAgICAgICAgbWFza0Nsb3NhYmxlID0gX3Byb3BzJG1hc2tDbG9zYWJsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9wcm9wcyRtYXNrQ2xvc2FibGU7XG5cbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICAgIHF1ZXVlLnB1c2goY2xvc2UpO1xuICAgIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICBpZiAoZGl2KSB7XG4gICAgICAgICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKGRpdik7XG4gICAgICAgICAgICBpZiAoZGl2LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gcXVldWUuaW5kZXhPZihjbG9zZSk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcXVldWUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjYihpbmRleCkge1xuICAgICAgICB2YXIgcm93SW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICAgICAgdmFyIHJlcyA9IGNhbGxiYWNrKGluZGV4LCByb3dJbmRleCk7XG4gICAgICAgIGlmIChyZXMgJiYgcmVzLnRoZW4pIHtcbiAgICAgICAgICAgIHJlcy50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciB0aXRsZSA9IHByb3BzLnRpdGxlLFxuICAgICAgICBtZXNzYWdlID0gcHJvcHMubWVzc2FnZSxcbiAgICAgICAgb3B0aW9ucyA9IHByb3BzLm9wdGlvbnMsXG4gICAgICAgIGRlc3RydWN0aXZlQnV0dG9uSW5kZXggPSBwcm9wcy5kZXN0cnVjdGl2ZUJ1dHRvbkluZGV4LFxuICAgICAgICBjYW5jZWxCdXR0b25JbmRleCA9IHByb3BzLmNhbmNlbEJ1dHRvbkluZGV4LFxuICAgICAgICBjYW5jZWxCdXR0b25UZXh0ID0gcHJvcHMuY2FuY2VsQnV0dG9uVGV4dCxcbiAgICAgICAgX3Byb3BzJGJhZGdlcyA9IHByb3BzLmJhZGdlcyxcbiAgICAgICAgYmFkZ2VzID0gX3Byb3BzJGJhZGdlcyA9PT0gdW5kZWZpbmVkID8gW10gOiBfcHJvcHMkYmFkZ2VzO1xuXG4gICAgdmFyIHRpdGxlTXNnID0gW3RpdGxlID8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2gzJyxcbiAgICAgICAgeyBrZXk6ICcwJywgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRpdGxlJyB9LFxuICAgICAgICB0aXRsZVxuICAgICkgOiBudWxsLCBtZXNzYWdlID8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsga2V5OiAnMScsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1tZXNzYWdlJyB9LFxuICAgICAgICBtZXNzYWdlXG4gICAgKSA6IG51bGxdO1xuICAgIHZhciBjaGlsZHJlbiA9IG51bGw7XG4gICAgdmFyIG1vZGUgPSAnbm9ybWFsJztcbiAgICBzd2l0Y2ggKGZsYWcpIHtcbiAgICAgICAgY2FzZSBOT1JNQUw6XG4gICAgICAgICAgICBtb2RlID0gJ25vcm1hbCc7XG4gICAgICAgICAgICB2YXIgbm9ybWFsT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICB2YXIgYmFkZ2VzTWFwID0ge307XG4gICAgICAgICAgICBpZiAoYmFkZ2VzICYmIGJhZGdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYmFkZ2VzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFkZ2VzTWFwW2VsZW1lbnQuaW5kZXhdID0gUmVhY3QuY3JlYXRlRWxlbWVudChCYWRnZSwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkcmVuID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBnZXREYXRhQXR0cihwcm9wcyksXG4gICAgICAgICAgICAgICAgdGl0bGVNc2csXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJ1dHRvbi1saXN0Jywgcm9sZTogJ2dyb3VwJyB9LFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxPcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY2xhc3NuYW1lcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1Qcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMocHJlZml4Q2xzICsgJy1idXR0b24tbGlzdC1pdGVtJywgKF9jbGFzc25hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1kZXN0cnVjdGl2ZS1idXR0b24nLCBkZXN0cnVjdGl2ZUJ1dHRvbkluZGV4ID09PSBpbmRleCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1jYW5jZWwtYnV0dG9uJywgY2FuY2VsQnV0dG9uSW5kZXggPT09IGluZGV4KSwgX2NsYXNzbmFtZXMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2J1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYkNvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Qcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5LuF5Zyo6K6+572u5b695qCH55qE5oOF5Ya15LiL5L+u5pS5ZG9t57uT5p6EXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFkZ2VzTWFwW2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJDb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKHt9LCBpdGVtUHJvcHMsIHsgY2xhc3NOYW1lOiBpdGVtUHJvcHMuY2xhc3NOYW1lICsgJyAnICsgcHJlZml4Q2xzICsgJy1idXR0b24tbGlzdC1iYWRnZScgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1idXR0b24tbGlzdC1pdGVtLWNvbnRlbnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhZGdlc01hcFtpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJJdGVtID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb3VjaEZlZWRiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBpbmRleCwgYWN0aXZlQ2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJ1dHRvbi1saXN0LWl0ZW0tYWN0aXZlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJDb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbmNlbEJ1dHRvbkluZGV4ID09PSBpbmRleCB8fCBkZXN0cnVjdGl2ZUJ1dHRvbkluZGV4ID09PSBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJJdGVtID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG91Y2hGZWVkYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IGluZGV4LCBhY3RpdmVDbGFzc05hbWU6IHByZWZpeENscyArICctYnV0dG9uLWxpc3QtaXRlbS1hY3RpdmUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Qcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25JbmRleCA9PT0gaW5kZXggPyBSZWFjdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY2FuY2VsLWJ1dHRvbi1tYXNrJyB9KSA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYkl0ZW07XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFNIQVJFOlxuICAgICAgICAgICAgbW9kZSA9ICdzaGFyZSc7XG4gICAgICAgICAgICB2YXIgbXVsdGlwbGVMaW5lID0gb3B0aW9ucy5sZW5ndGggJiYgQXJyYXkuaXNBcnJheShvcHRpb25zWzBdKSB8fCBmYWxzZTtcbiAgICAgICAgICAgIHZhciBjcmVhdGVMaXN0ID0gZnVuY3Rpb24gY3JlYXRlTGlzdChpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciByb3dJbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNoYXJlLWxpc3QtaXRlbScsIHJvbGU6ICdidXR0b24nLCBrZXk6IGluZGV4LCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihpbmRleCwgcm93SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zaGFyZS1saXN0LWl0ZW0taWNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaWNvblxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zaGFyZS1saXN0LWl0ZW0tdGl0bGUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRpdGxlXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBnZXREYXRhQXR0cihwcm9wcyksXG4gICAgICAgICAgICAgICAgdGl0bGVNc2csXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNoYXJlJyB9LFxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZUxpbmUgPyBvcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBpbmRleCwgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNoYXJlLWxpc3QnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tYXAoZnVuY3Rpb24gKGlpLCBpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUxpc3QoaWksIGluZCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNoYXJlLWxpc3QnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlTGlzdChpdGVtLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgVG91Y2hGZWVkYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgYWN0aXZlQ2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNoYXJlLWNhbmNlbC1idXR0b24tYWN0aXZlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zaGFyZS1jYW5jZWwtYnV0dG9uJywgcm9sZTogJ2J1dHRvbicsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IoLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciByb290Q2xzID0gY2xhc3NuYW1lcyhwcmVmaXhDbHMgKyAnLScgKyBtb2RlLCBjbGFzc05hbWUpO1xuICAgIFJlYWN0RE9NLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBEaWFsb2csXG4gICAgICAgIHsgdmlzaWJsZTogdHJ1ZSwgdGl0bGU6ICcnLCBmb290ZXI6ICcnLCBwcmVmaXhDbHM6IHByZWZpeENscywgY2xhc3NOYW1lOiByb290Q2xzLCB0cmFuc2l0aW9uTmFtZTogdHJhbnNpdGlvbk5hbWUgfHwgJ2FtLXNsaWRlLXVwJywgbWFza1RyYW5zaXRpb25OYW1lOiBtYXNrVHJhbnNpdGlvbk5hbWUgfHwgJ2FtLWZhZGUnLCBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYihjYW5jZWxCdXR0b25JbmRleCB8fCAtMSk7XG4gICAgICAgICAgICB9LCBtYXNrQ2xvc2FibGU6IG1hc2tDbG9zYWJsZSwgd3JhcFByb3BzOiBwcm9wcy53cmFwUHJvcHMgfHwge30gfSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICApLCBkaXYpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNsb3NlOiBjbG9zZVxuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgc2hvd0FjdGlvblNoZWV0V2l0aE9wdGlvbnM6IGZ1bmN0aW9uIHNob3dBY3Rpb25TaGVldFdpdGhPcHRpb25zKGNvbmZpZykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG5vb3A7XG5cbiAgICAgICAgY3JlYXRlQWN0aW9uU2hlZXQoTk9STUFMLCBjb25maWcsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHNob3dTaGFyZUFjdGlvblNoZWV0V2l0aE9wdGlvbnM6IGZ1bmN0aW9uIHNob3dTaGFyZUFjdGlvblNoZWV0V2l0aE9wdGlvbnMoY29uZmlnKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcblxuICAgICAgICBjcmVhdGVBY3Rpb25TaGVldChTSEFSRSwgY29uZmlnLCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIHF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKHEpIHtcbiAgICAgICAgICAgIHJldHVybiBxKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbi8qIHRzbGludDpkaXNhYmxlOmpzeC1uby1tdWx0aWxpbmUtanMgKi9cbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIEFjdGl2aXR5SW5kaWNhdG9yID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQWN0aXZpdHlJbmRpY2F0b3IsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQWN0aXZpdHlJbmRpY2F0b3IoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY3Rpdml0eUluZGljYXRvcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBY3Rpdml0eUluZGljYXRvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFjdGl2aXR5SW5kaWNhdG9yKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEFjdGl2aXR5SW5kaWNhdG9yLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9jbGFzc25hbWVzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgYW5pbWF0aW5nID0gX3Byb3BzLmFuaW1hdGluZyxcbiAgICAgICAgICAgICAgICB0b2FzdCA9IF9wcm9wcy50b2FzdCxcbiAgICAgICAgICAgICAgICBzaXplID0gX3Byb3BzLnNpemUsXG4gICAgICAgICAgICAgICAgdGV4dCA9IF9wcm9wcy50ZXh0O1xuXG4gICAgICAgICAgICB2YXIgd3JhcENsYXNzID0gY2xhc3NuYW1lcyhwcmVmaXhDbHMsIGNsYXNzTmFtZSwgKF9jbGFzc25hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1sZycsIHNpemUgPT09ICdsYXJnZScpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctc20nLCBzaXplID09PSAnc21hbGwnKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXRvYXN0JywgISF0b2FzdCksIF9jbGFzc25hbWVzKSk7XG4gICAgICAgICAgICB2YXIgc3Bpbm5lckNsYXNzID0gY2xhc3NuYW1lcyhwcmVmaXhDbHMgKyAnLXNwaW5uZXInLCBfZGVmaW5lUHJvcGVydHkoe30sIHByZWZpeENscyArICctc3Bpbm5lci1sZycsICEhdG9hc3QgfHwgc2l6ZSA9PT0gJ2xhcmdlJykpO1xuICAgICAgICAgICAgaWYgKGFuaW1hdGluZykge1xuICAgICAgICAgICAgICAgIGlmICh0b2FzdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHdyYXBDbGFzcyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29udGVudCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IHNwaW5uZXJDbGFzcywgJ2FyaWEtaGlkZGVuJzogJ3RydWUnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdG9hc3QnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApIDogUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250ZW50JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogc3Bpbm5lckNsYXNzLCAnYXJpYS1sYWJlbCc6ICdMb2FkaW5nJyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0ID8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHdyYXBDbGFzcyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBzcGlubmVyQ2xhc3MsICdhcmlhLWhpZGRlbic6ICd0cnVlJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRpcCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogd3JhcENsYXNzIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IHNwaW5uZXJDbGFzcywgJ2FyaWEtbGFiZWwnOiAnbG9hZGluZycgfSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFjdGl2aXR5SW5kaWNhdG9yO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBBY3Rpdml0eUluZGljYXRvcjtcblxuQWN0aXZpdHlJbmRpY2F0b3IuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLWFjdGl2aXR5LWluZGljYXRvcicsXG4gICAgYW5pbWF0aW5nOiB0cnVlLFxuICAgIHNpemU6ICdzbWFsbCcsXG4gICAgcGFuZWxDb2xvcjogJ3JnYmEoMzQsMzQsMzQsMC42KScsXG4gICAgdG9hc3Q6IGZhbHNlXG59OyIsIi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuLy8gaW5zcHJpZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2tpc2Vua2Evc3ZnLXNwcml0ZS1sb2FkZXIvYmxvYi9tYXN0ZXIvcnVudGltZS9icm93c2VyLXNwcml0ZS5qc1xuLy8gTXVjaCBzaW1wbGlmaWVkLCBkbyBtYWtlIHN1cmUgcnVuIHRoaXMgYWZ0ZXIgZG9jdW1lbnQgcmVhZHlcbnZhciBzdmdTcHJpdGUgPSBmdW5jdGlvbiBzdmdTcHJpdGUoY29udGVudHMpIHtcbiAgICByZXR1cm4gJ1xcbiAgPHN2Z1xcbiAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcXG4gICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcXG4gICAgaWQ9XCJfX0FOVERfTU9CSUxFX1NWR19TUFJJVEVfTk9ERV9fXCJcXG4gICAgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDowO2hlaWdodDowXCJcXG4gID5cXG4gICAgPGRlZnM+XFxuICAgICAgJyArIGNvbnRlbnRzICsgJ1xcbiAgICA8L2RlZnM+XFxuICA8L3N2Zz5cXG4nO1xufTtcbi8vIGJvdGggbWluaWZpZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL3N2Zy9zdmdvXG52YXIgaWNvbnMgPSB7XG4gICAgY2hlY2s6ICc8c3ZnIHZpZXdCb3g9XCIwIDAgNDQgNDRcIj48cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0zNC41MzggOEwzOCAxMS41MTggMTcuODA4IDMyIDggMjIuMDMzbDMuNDYyLTMuNTE4IDYuMzQ2IDYuNDV6XCIvPjwvc3ZnPicsXG4gICAgJ2NoZWNrLWNpcmNsZSc6ICc8c3ZnIHZpZXdCb3g9XCIwIDAgNDggNDhcIj48cGF0aCBkPVwiTTI0IDQ4YzEzLjI1NSAwIDI0LTEwLjc0NSAyNC0yNFMzNy4yNTUgMCAyNCAwIDAgMTAuNzQ1IDAgMjRzMTAuNzQ1IDI0IDI0IDI0ek0xMy4xIDIzLjJsLTIuMiAyLjEgMTAgOS45TDM4LjEgMTVsLTIuMi0yLTE1LjIgMTcuOC03LjYtNy42elwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+JyxcbiAgICAnY2hlY2stY2lyY2xlLW8nOiAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQ4IDQ4XCI+PGcgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjxwYXRoIGQ9XCJNMjQgNDhjMTMuMjU1IDAgMjQtMTAuNzQ1IDI0LTI0UzM3LjI1NSAwIDI0IDAgMCAxMC43NDUgMCAyNHMxMC43NDUgMjQgMjQgMjR6bTAtM2MxMS41OTggMCAyMS05LjQwMiAyMS0yMVMzNS41OTggMyAyNCAzIDMgMTIuNDAyIDMgMjRzOS40MDIgMjEgMjEgMjF6XCIvPjxwYXRoIGQ9XCJNMTIuMiAyMy4yTDEwIDI1LjNsMTAgOS45TDM3LjIgMTUgMzUgMTMgMTkuOCAzMC44elwiLz48L2c+PC9zdmc+JyxcbiAgICBjcm9zczogJzxzdmcgdmlld0JveD1cIjAgMCA0NCA0NFwiPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTI0LjAwOCAyMS44NTJsOC45Ny04Ljk2OEwzMS4wOTIgMTFsLTguOTcgOC45NjhMMTMuMTU3IDExbC0xLjg4NCAxLjg4NCA4Ljk2OCA4Ljk2OC05LjI0IDkuMjQgMS44ODQgMS44ODUgOS4yNC05LjI0IDkuMjQgOS4yNCAxLjg4NS0xLjg4NC05LjI0LTkuMjR6XCIvPjwvc3ZnPicsXG4gICAgJ2Nyb3NzLWNpcmNsZSc6ICc8c3ZnIHZpZXdCb3g9XCIwIDAgNDggNDhcIj48ZyBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PHBhdGggZD1cIk0yNCA0OGMxMy4yNTUgMCAyNC0xMC43NDUgMjQtMjRTMzcuMjU1IDAgMjQgMCAwIDEwLjc0NSAwIDI0czEwLjc0NSAyNCAyNCAyNHptMC0zYzExLjU5OCAwIDIxLTkuNDAyIDIxLTIxUzM1LjU5OCAzIDI0IDMgMyAxMi40MDIgMyAyNHM5LjQwMiAyMSAyMSAyMXpcIi8+PHBhdGggZD1cIk0yNC4zNCAyMi4yMmwtNy43NzUtNy43NzVhMS41IDEuNSAwIDEgMC0yLjEyIDIuMTJsNy43NzMgNy43NzUtNy43NzQgNy43NzVhMS41IDEuNSAwIDEgMCAyLjEyIDIuMTJsNy43NzUtNy43NzMgNy43NzQgNy43NzRhMS41IDEuNSAwIDEgMCAyLjEyLTIuMTJMMjYuNDYgMjQuMzRsNy43NzQtNy43NzRhMS41IDEuNSAwIDEgMC0yLjEyLTIuMTJsLTcuNzc2IDcuNzczelwiLz48L2c+PC9zdmc+JyxcbiAgICAnY3Jvc3MtY2lyY2xlLW8nOiAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQ4IDQ4XCI+PHBhdGggZD1cIk0yNCA0OGMxMy4yNTUgMCAyNC0xMC43NDUgMjQtMjRTMzcuMjU1IDAgMjQgMCAwIDEwLjc0NSAwIDI0czEwLjc0NSAyNCAyNCAyNHptLjM1My0yNS43N2wtNy41OTMtNy41OTNjLS43OTctLjgtMS41MzgtLjgyMi0yLjI2My0uMjA3LS43MjQuNjE0LS41NiAxLjYxNy0uMTI0IDIuMDY3bDcuODUyIDcuODQ3LTcuNzIgNy43MjNjLS43MjcuNzI4LS41NiAxLjY0Ni0uMDY2IDIuMTc3LjQ5My41MzIgMS41NTMuNjgzIDIuMzEtLjE3NGw3LjU4OC03LjU4NCA3LjY0NCA3LjYyM2MuNzk2Ljc5OCAxLjYwOC43MjQgMi4yMS4xNDUuNjA1LS41OC43Mi0xLjQ0Mi0uMDc0LTIuMjRsLTcuNjU3LTcuNjcgNy41NDUtNy41MmMuODEtLjY5Ny45LTEuNzYuMjk3LTIuMzQtLjkyLS44ODUtMS44NS0uMzM4LTIuMjY0LjA3OGwtNy42ODUgNy42Njd6XCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nLFxuICAgIC8vIFRvZG86IHNpbXBsaWZ5IGRpcmVjdGlvbiB0byAyLCB1c2UgY3NzIHRyYW5zZm9ybVxuICAgIGxlZnQ6ICc8c3ZnIHZpZXdCb3g9XCIwIDAgNDQgNDRcIj48ZGVmcz48cGF0aCBpZD1cImFcIiBkPVwiTS0xMjktODQ1aDI0djI0aC0yNHpcIi8+PC9kZWZzPjxjbGlwUGF0aCBpZD1cImJcIj48dXNlIHhsaW5rOmhyZWY9XCIjYVwiIG92ZXJmbG93PVwidmlzaWJsZVwiLz48L2NsaXBQYXRoPjxnIGNsaXAtcGF0aD1cInVybCgjYilcIj48ZGVmcz48cGF0aCBpZD1cImNcIiBkPVwiTS05MDMtOTQ5SDk0N1Y5OTZILTkwM3pcIi8+PC9kZWZzPjwvZz48cGF0aCBkPVwiTTE2LjI0NyAyMS40TDI4LjQ4IDkuMTY1bDIuMTIgMi4xMi0xMC4xMTcgMTAuMTJMMzAuNiAzMS41MjRsLTIuMTIgMi4xMi0xMi4yMzMtMTIuMjMyLjAwNy0uMDA2elwiLz48L3N2Zz4nLFxuICAgIHJpZ2h0OiAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQ0IDQ0XCI+PGRlZnM+PHBhdGggaWQ9XCJhXCIgZD1cIk0tMTI5LTg0NWgyNHYyNGgtMjR6XCIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9XCJiXCI+PHVzZSB4bGluazpocmVmPVwiI2FcIiBvdmVyZmxvdz1cInZpc2libGVcIi8+PC9jbGlwUGF0aD48ZyBjbGlwLXBhdGg9XCJ1cmwoI2IpXCI+PGRlZnM+PHBhdGggaWQ9XCJjXCIgZD1cIk0tOTAzLTk0OUg5NDdWOTk2SC05MDN6XCIvPjwvZGVmcz48L2c+PHBhdGggZD1cIk0zMC42IDIxLjRMMTguMzcgOS4xNjVsLTIuMTIgMi4xMiAxMC4xMTcgMTAuMTItMTAuMTE4IDEwLjExOCAyLjEyIDIuMTIgMTIuMjM0LTEyLjIzMi0uMDA1LS4wMDZ6XCIvPjwvc3ZnPicsXG4gICAgZG93bjogJzxzdmcgdmlld0JveD1cIjAgMCA0NCA0NFwiPjxwYXRoIGQ9XCJNMjIuMzU1IDI4LjIzN2wtMTEuNDgzLTEwLjljLS42MDctLjU3Ni0xLjcxNC0uMzk2LTIuNDguNDFsLjY3NC0uNzFjLS43NjMuODAyLS43MyAyLjA3LS4yODIgMi40OTZsMTEuMzcgMTAuNzkzLS4wNC4wNCAyLjA4OCAyLjE5NUwyMy4zIDMxLjUybDEyLjMwOC0xMS42ODJjLjQ0Ny0uNDI1LjQ4LTEuNjk0LS4yODItMi40OTZsLjY3NC43MWMtLjc2Ni0uODA2LTEuODczLS45ODYtMi40OC0uNDFMMjIuMzU1IDI4LjIzN3pcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPicsXG4gICAgdXA6ICc8c3ZnIHZpZXdCb3g9XCIwIDAgNDQgNDRcIj48cGF0aCBmaWxsPVwibm9uZVwiIGQ9XCJNLTEtMWg0NnY0NkgtMXpcIi8+PGRlZnM+PHBhdGggaWQ9XCJhXCIgZD1cIk0tMTI5LTg0NWgyNHYyNGgtMjR6XCIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9XCJiXCI+PHVzZSB4bGluazpocmVmPVwiI2FcIi8+PC9jbGlwUGF0aD48ZyBjbGlwLXBhdGg9XCJ1cmwoI2IpXCI+PGRlZnM+PHBhdGggaWQ9XCJjXCIgZD1cIk0tOTAzLTk0OUg5NDdWOTk2SC05MDN6XCIvPjwvZGVmcz48L2c+PHBhdGggZD1cIk0yMy40MTcgMTQuMjNMMTEuMTg0IDI2LjQ2bDIuMTIgMi4xMiAxMC4xMi0xMC4xMTcgMTAuMTE4IDEwLjExOCAyLjEyLTIuMTJMMjMuNDMgMTQuMjI4bC0uMDA2LjAwNXpcIi8+PC9zdmc+JyxcbiAgICBsb2FkaW5nOiAnPHN2ZyB2aWV3Qm94PVwiMCAtMiA1OS43NSA2MC4yNVwiPjxwYXRoIGZpbGw9XCIjY2NjXCIgZD1cIk0yOS42OS0uNTI3QzE0LjA0NC0uNTI3IDEuMzYgMTIuMTU4IDEuMzYgMjcuODA2UzE0LjA0MyA1Ni4xNCAyOS42OSA1Ni4xNGMxNS42NSAwIDI4LjMzNC0xMi42ODYgMjguMzM0LTI4LjMzNFM0NS4zNC0uNTI3IDI5LjY5LS41Mjd6bS4xODUgNTMuNzVjLTE0LjAzNyAwLTI1LjQxNy0xMS4zOC0yNS40MTctMjUuNDE3UzE1LjgzOCAyLjM5IDI5Ljg3NSAyLjM5czI1LjQxNyAxMS4zOCAyNS40MTcgMjUuNDE3LTExLjM4IDI1LjQxNi0yNS40MTcgMjUuNDE2elwiLz48cGF0aCBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiMxMDhlZTlcIiBzdHJva2Utd2lkdGg9XCIzXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiBkPVwiTTU2LjU4NyAyOS43NjZjLjM3LTcuNDM4LTEuNjU4LTE0LjctNi4zOTMtMTkuNTUyXCIvPjwvc3ZnPicsXG4gICAgc2VhcmNoOiAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQ0IDQ0XCI+PHBhdGggZD1cIk0zMi45OCAyOS4yNTVsOC45MTUgOC4yOTNMMzkuNjAzIDQwbC04Ljg2LTguMjQyYTE1Ljk1MiAxNS45NTIgMCAwIDEtMTAuNzUzIDQuMTQ3QzExLjE2IDM1LjkwNSA0IDI4Ljc2MyA0IDE5Ljk1MiA0IDExLjE0MiAxMS4xNiA0IDE5Ljk5IDRzMTUuOTkgNy4xNDIgMTUuOTkgMTUuOTUyYzAgMy40NzItMS4xMTIgNi42ODUtMyA5LjMwM3ptLjA1LTkuMjFjMCA3LjEyMy01LjcgMTIuOTE4LTEyLjg4IDEyLjkxOC03LjE3NiAwLTEzLjAxNS01Ljc5NS0xMy4wMTUtMTIuOTE4IDAtNy4xMiA1Ljg0LTEyLjkxNyAxMy4wMTctMTIuOTE3IDcuMTc4IDAgMTIuODggNS43OTcgMTIuODggMTIuOTE3elwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+JyxcbiAgICBlbGxpcHNpczogJzxzdmcgdmlld0JveD1cIjAgMCA0NCA0NFwiPjxjaXJjbGUgY3g9XCIyMS44ODhcIiBjeT1cIjIyXCIgcj1cIjQuMDQ1XCIvPjxjaXJjbGUgY3g9XCI1LjkxM1wiIGN5PVwiMjJcIiByPVwiNC4wNDVcIi8+PGNpcmNsZSBjeD1cIjM3Ljg2M1wiIGN5PVwiMjJcIiByPVwiNC4wNDVcIi8+PC9zdmc+JyxcbiAgICAnZWxsaXBzaXMtY2lyY2xlJzogJzxzdmcgdmlld0JveD1cIjAgMCA0NCA0NFwiPjxnIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48cGF0aCBkPVwiTTIyLjEzLjExQzEwLjA1LjExLjI1NSA5LjkwMi4yNTUgMjEuOTgzUzEwLjA1IDQzLjg2IDIyLjEzIDQzLjg2czIxLjg3NS05Ljc5NSAyMS44NzUtMjEuODc2UzM0LjIxLjExIDIyLjEzLjExem0wIDQwLjdjLTEwLjM5NiAwLTE4LjgyNS04LjQzLTE4LjgyNS0xOC44MjZTMTEuNzM1IDMuMTYgMjIuMTMgMy4xNmMxMC4zOTYgMCAxOC44MjUgOC40MjggMTguODI1IDE4LjgyNFMzMi41MjUgNDAuODEgMjIuMTMgNDAuODF6XCIvPjxjaXJjbGUgY3g9XCIyMS44ODhcIiBjeT1cIjIyLjcwMVwiIHI9XCIyLjQ0NVwiLz48Y2lyY2xlIGN4PVwiMTIuMjNcIiBjeT1cIjIyLjcwMVwiIHI9XCIyLjQ0NVwiLz48Y2lyY2xlIGN4PVwiMzEuNTQ2XCIgY3k9XCIyMi43MDFcIiByPVwiMi40NDVcIi8+PC9nPjwvc3ZnPicsXG4gICAgJ2V4Y2xhbWF0aW9uLWNpcmNsZSc6ICc8c3ZnIHZpZXdCb3g9XCIwIDAgNjQgNjRcIj48cGF0aCBkPVwiTTU5LjU4IDQwLjg5TDQxLjE5MyA5LjExQzM5LjEzNSA1LjM4MiAzNS43MjMgMyAzMS4zODcgM2MtMy4xMSAwLTYuNTIgMi4zODItOC41OCA2LjExTDQuNDIgNDAuODljLTIuNzg4IDQuNjM1LTMuMTI2IDguODEtMS4yMjUgMTIuMjJDNS4wMTUgNTYuMjA4IDcuNTcyIDU4IDEzIDU4aDM2Ljc3M2M1LjQyOCAwIDkuMjEtMS43OTIgMTEuMDMtNC44OSAxLjktMy40MSAxLjU2NS03LjU4My0xLjIyNC0xMi4yMnptLTIuNDUyIDExYy0uNjM1IDEuNjk0LTMuODAyIDIuNDQzLTcuMzU0IDIuNDQzSDEzYy0zLjU5IDAtNS40OTMtLjc1LTYuMTMtMi40NDQtMS43MS0yLjQxLTEuMzc0LTUuMjYzIDAtOC41NTdsMTguMzg3LTMxLjc3N2MyLjExNi0zLjE2OCA0LjM5NC00Ljg5IDYuMTMtNC44OSAyLjk2IDAgNS4yMzggMS43MjIgNy4zNTQgNC44OWwxOC4zODcgMzEuNzc3YzEuMzc0IDMuMjk0IDEuNzEzIDYuMTQ2IDAgOC41NTZ6bS0yNS43NC0zM2MtLjQwNSAwLTEuMjI3LjgzNS0xLjIyNyAyLjQ0M3YxNS44OWMwIDEuNjA4LjgyMyAyLjQ0NCAxLjIyNyAyLjQ0NCAxLjYyOCAwIDIuNDUyLS44MzYgMi40NTItMi40NDV2LTE1Ljg5YzAtMS42MDctLjgyNS0yLjQ0My0yLjQ1My0yLjQ0M3ptMCAyMy4yMmMtLjQwNSAwLTEuMjI3Ljc5LTEuMjI3IDEuMjIzdjIuNDQ1YzAgLjQzNC44MjMgMS4yMjIgMS4yMjcgMS4yMjIgMS42MjggMCAyLjQ1Mi0uNzg4IDIuNDUyLTEuMjIydi0yLjQ0NWMwLS40MzQtLjgyNS0xLjIyMi0yLjQ1My0xLjIyMnpcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPicsXG4gICAgJ2luZm8tY2lyY2xlJzogJzxzdmcgdmlld0JveD1cIjAgMCA0NCA0NFwiPjxjaXJjbGUgY3g9XCIxMy44MjhcIiBjeT1cIjE5LjYzXCIgcj1cIjEuOTM4XCIvPjxjaXJjbGUgY3g9XCIyMS43NjdcIiBjeT1cIjE5LjYzXCIgcj1cIjEuOTM4XCIvPjxjaXJjbGUgY3g9XCIyOS43NjdcIiBjeT1cIjE5LjYzXCIgcj1cIjEuOTM4XCIvPjxwYXRoIGQ9XCJNMjIuMTAyIDQuMTZjLTkuOTE4IDAtMTcuOTU4IDcuMTQ3LTE3Ljk1OCAxNS45NjIgMCA0LjkzNSAyLjUyMiA5LjM0NSA2LjQ4IDEyLjI3M3Y1LjY2N2wuMDQuMDEyYTIuNjI3IDIuNjI3IDAgMSAwIDQuNSAxLjQ1NWguMDAybDUuMDI2LTMuNTRjLjYyOC4wNiAxLjI2NS4wOTQgMS45MS4wOTQgOS45MiAwIDE3Ljk2LTcuMTQ2IDE3Ljk2LTE1Ljk2QzQwLjA2IDExLjMwNiAzMi4wMiA0LjE2IDIyLjEgNC4xNnptLS4wNCAyOS45MDJjLS45MDIgMC0xLjc4LS4wOC0yLjY0Mi0uMjA3bC01Ljg4MiA0LjIzNGMtLjAyNC4wMjQtLjA1NS4wNC0uMDgzLjA2bC0uMDA4LjAwNWEuNTEuNTEgMCAwIDEtLjI4NC4wOTUuNTI1LjUyNSAwIDAgMS0uNTI1LS41MjVsLjAwNS02LjM3NWMtMy45MS0yLjUxNi02LjQ1Ni02LjU0NC02LjQ1Ni0xMS4xIDAtNy42MjggNy4xMDctMTMuODEyIDE1Ljg3NS0xMy44MTJzMTUuODc1IDYuMTg0IDE1Ljg3NSAxMy44MTItNy4xMDcgMTMuODEyLTE1Ljg3NSAxMy44MTJ6XCIvPjwvc3ZnPicsXG4gICAgJ3F1ZXN0aW9uLWNpcmNsZSc6ICc8c3ZnIHZpZXdCb3g9XCIwIDAgNDQgNDRcIj48ZyBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PHBhdGggZD1cIk0yMS4xODYgM2MtMTAuODUzIDAtMTkuMzYgOC41MDYtMTkuMzYgMTkuMzU4QzEuODI3IDMyLjQ5NCAxMC4zMzQgNDEgMjEuMTg3IDQxYzEwLjEzMyAwIDE4LjY0LTguNTA2IDE4LjY0LTE4LjY0MkMzOS44MjcgMTEuNTA2IDMxLjMyIDMgMjEuMTg3IDNtMTUuNjQgMTljMCA4LjgyMy03LjE3OCAxNi0xNiAxNnMtMTYtNy4xNzctMTYtMTYgNy4xNzgtMTYgMTYtMTYgMTYgNy4xNzcgMTYgMTZ6XCIvPjxwYXRoIGQ9XCJNMjIuODI3IDMxLjVhMS41IDEuNSAwIDEgMS0zIDAgMS41IDEuNSAwIDAgMSAzIDBtNC0xNS40OGMwIC45NTctLjIwMyAxLjgyMi0uNjEgMi41OTMtLjQyNy43OTItMS4xMTcgMS42MTItMi4wNzMgMi40NTctLjg2Ny43MzQtMS40NTMgMS40MzUtMS43NTQgMi4wOTYtLjMwMi43LS40NTMgMS42OTMtLjQ1MyAyLjk4YS44MjguODI4IDAgMCAxLS44MjMuODU0LjgyOC44MjggMCAwIDEtLjU4NC0uMjIuODc3Ljg3NyAwIDAgMS0uMjQtLjYzNWMwLTEuMzA1LjE2OC0yLjM4LjUwNi0zLjIyNy4zMzYtLjg4My45My0xLjY4MiAxLjc4LTIuNCAxLjAxLS44ODMgMS43MS0xLjY5MiAyLjEtMi40MjguMzM2LS42NDUuNTAzLTEuMzguNTAzLTIuMjEtLjAyLS45MzUtLjMtMS43LS44NS0yLjI4OC0uNjU1LS43MTctMS42Mi0xLjA3NS0yLjg5Ny0xLjA3NS0xLjUwNiAwLTIuNTk2LjUzNS0zLjI3IDEuNi0uNDYuNzU0LS42ODggMS42NDUtLjY4OCAyLjY3N2EuOTIuOTIgMCAwIDEtLjI2Ni42Ni43NDcuNzQ3IDAgMCAxLS41Ni4yNS43My43MyAwIDAgMS0uNTg0LS4xOTRjLS4xNi0uMTY0LS4yNC0uMzkzLS4yNC0uNjkgMC0xLjgyLjU4NS0zLjI3MiAxLjc1NS00LjM1N0MxOC42NDUgMTEuNDg2IDE5LjkyOCAxMSAyMS40MzQgMTFoLjI5M2MxLjQ1MiAwIDIuNjM4LjQxNCAzLjU2IDEuMjQgMS4wMjguOTAzIDEuNTQgMi4xNjMgMS41NCAzLjc4elwiLz48L2c+PC9zdmc+JyxcbiAgICB2b2ljZTogJzxzdmcgdmlld0JveD1cIjAgMCAzOCAzM1wiPjxnIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48cGF0aCBkPVwiTTE3LjgzOCAyOC44Yy0uNTY0LS40NjgtMS4xOTItLjk4My0xLjgzNi0xLjQ5Ni00LjI0NC0zLjM4NS01LjI5NC0zLjY3LTYuMDA2LTMuNjctLjAxNCAwLS4wMjcuMDA1LS4wNC4wMDUtLjAxNSAwLS4wMjgtLjAwNi0uMDQyLS4wMDZIMy41NjJjLS43MzQgMC0uOTAzLS4yMDMtLjkwMy0uOTI4di0xMi42MmMwLS40OS4wNTctLjguNjYtLjhIOS4xYy42OTQgMCAxLjc2LS4yOCA2LjQtMy42My44My0uNTk2IDEuNjM4LTEuMTk2IDIuMzM3LTEuNzIyVjI4Ljh6TTE5LjY4Mi4xOWMtLjQ2My0uMjItMS4wMTQtLjE1OC0xLjQxNy4xNTctLjAyLjAxNi0xLjk4MyAxLjU1Mi00LjE1MiAzLjEyNUMxMC4zNCA2LjIxIDkuMjQzIDYuNjY0IDkuMDIgNi43MzdIMy42NzZjLS4wMjcgMC0uMDUzLjAwMy0uMDguMDA0SDEuMTgzYy0uNjA4IDAtMS4xLjQ4Ny0xLjEgMS4wODZWMjUuMTRjMCAuNTk4LjQ5MiAxLjA4NCAxLjEgMS4wODRoOC43MWMuMjIuMDggMS4yNTcuNTUgNC42MDUgMy4yNCAxLjk0NyAxLjU2MiAzLjY5NCAzLjA4OCAzLjcxMiAzLjEwMy4yNS4yMi41NjguMzMzLjg5LjMzMy4xODYgMCAuMzczLS4wMzguNTUtLjExNi40OC0uMjEzLjc5LS42ODQuNzktMS4yMDRWMS4zOGMwLS41MDYtLjI5NC0uOTY4LS43NTgtMS4xOXpcIiBtYXNrPVwidXJsKCNtYXNrLTIpXCIvPjxwYXRoIGQ9XCJNMzEuNDIgMTYuNDc1YzAtMy4zNjMtMS44NTQtNi4yOTctNC42MDYtNy44NzYtLjEyNS0uMDY3LS40Mi0uMTkzLS42MjUtLjE5My0uNjEzIDAtMS4xMS40ODgtMS4xMSAxLjA5IDAgLjQwNC4yMi43NjQuNTUuOTUyIDIuMTMgMS4xOSAzLjU2NiAzLjQ0IDMuNTY2IDYuMDI0IDAgMi42MjctMS40ODYgNC45MTMtMy42NzcgNi4wODctLjMyLjE5LS41My41NC0uNTMuOTM1IDAgLjYwMi40OTUgMS4wOSAxLjEwNiAxLjA5LjI2LjAwMi41NjgtLjE1LjU2OC0uMTUgMi44MzUtMS41NTYgNC43NTQtNC41MzggNC43NTQtNy45NlwiIG1hc2s9XCJ1cmwoI21hc2stNClcIi8+PHBhdGggZD1cIk0zMC4xNCAzLjA1N2MtLjIwNS0uMTIyLS40MS0uMjItLjY1OC0uMjItLjYwOCAwLTEuMS40ODUtMS4xIDEuMDg0IDAgLjQzNC4yNi43OC42MjcuOTc4IDQuMDQyIDIuMzIzIDYuNzYgNi42MzYgNi43NiAxMS41NzggMCA0LjkzOC0yLjcxNSA5LjI0OC02Ljc1NCAxMS41NzItLjM1NC4xOS0uNjYuNTUtLjY2Ljk5MyAwIC42LjQ5NCAxLjA4NSAxLjEwMiAxLjA4NS4yNDMgMCAuNDM4LS4wOTIuNjUtLjIxMyA0LjY5Mi0yLjY5NSA3Ljg0OC03LjcgNy44NDgtMTMuNDM1IDAtNS43MjMtMy4xNDItMTAuNzE4LTcuODE3LTEzLjQxOFwiIG1hc2s9XCJ1cmwoI21hc2stNilcIi8+PC9nPjwvc3ZnPicsXG4gICAgcGx1czogJzxzdmcgdmlld0JveD1cIjAgMCAzMCAzMFwiPjxwYXRoIGQ9XCJNMTQgMTRIMHYyaDE0djE0aDJWMTZoMTR2LTJIMTZWMGgtMnYxNHpcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPicsXG4gICAgbWludXM6ICc8c3ZnIHZpZXdCb3g9XCIwIDAgMzAgMlwiPjxwYXRoIGQ9XCJNMCAwaDMwdjJIMHpcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPicsXG4gICAgZGlzbGlrZTogJzxzdmcgdmlld0JveD1cIjAgMCA3MiA3MlwiPjxnIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjxwYXRoIGQ9XCJNMzYgNzJjMTkuODgyIDAgMzYtMTYuMTE4IDM2LTM2UzU1Ljg4MiAwIDM2IDAgMCAxNi4xMTggMCAzNnMxNi4xMTggMzYgMzYgMzZ6bTAtMmMxOC43NzggMCAzNC0xNS4yMjIgMzQtMzRTNTQuNzc4IDIgMzYgMiAyIDE3LjIyMiAyIDM2czE1LjIyMiAzNCAzNCAzNHpcIiBmaWxsPVwiI0ZGRlwiLz48cGF0aCBmaWxsPVwiI0ZGRlwiIGQ9XCJNNDcgMjJoMnY2aC0yem0tMjQgMGgydjZoLTJ6XCIvPjxwYXRoIGQ9XCJNMjEgNTFzNC42LTcgMTUtNyAxNSA3IDE1IDdcIiBzdHJva2U9XCIjRkZGXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48L2c+PC9zdmc+JyxcbiAgICBmYWlsOiAnPHN2ZyB2aWV3Qm94PVwiMCAwIDcyIDcyXCI+PGcgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PHBhdGggZD1cIk0zNiA3MmMxOS44ODIgMCAzNi0xNi4xMTggMzYtMzZTNTUuODgyIDAgMzYgMCAwIDE2LjExOCAwIDM2czE2LjExOCAzNiAzNiAzNnptMC0yYzE4Ljc3OCAwIDM0LTE1LjIyMiAzNC0zNFM1NC43NzggMiAzNiAyIDIgMTcuMjIyIDIgMzZzMTUuMjIyIDM0IDM0IDM0elwiIGZpbGw9XCIjRkZGXCIvPjxwYXRoIGQ9XCJNMjIgMjJsMjguMzA0IDI4LjMwNG0tMjguMzA0IDBMNTAuMzA0IDIyXCIgc3Ryb2tlPVwiI0ZGRlwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PC9nPjwvc3ZnPicsXG4gICAgc3VjY2VzczogJzxzdmcgdmlld0JveD1cIjAgMCA3MiA3MlwiPjxnIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjxwYXRoIGQ9XCJNMzYgNzJjMTkuODgyIDAgMzYtMTYuMTE4IDM2LTM2UzU1Ljg4MiAwIDM2IDAgMCAxNi4xMTggMCAzNnMxNi4xMTggMzYgMzYgMzZ6bTAtMmMxOC43NzggMCAzNC0xNS4yMjIgMzQtMzRTNTQuNzc4IDIgMzYgMiAyIDE3LjIyMiAyIDM2czE1LjIyMiAzNCAzNCAzNHpcIiBmaWxsPVwiI0ZGRlwiLz48cGF0aCBzdHJva2U9XCIjRkZGXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTkgMzQuNTRsMTEuNTQ1IDExLjkyM0w1Mi44MTUgMjRcIi8+PC9nPjwvc3ZnPidcbn07XG52YXIgcmVuZGVyU3ZnU3ByaXRlID0gZnVuY3Rpb24gcmVuZGVyU3ZnU3ByaXRlKCkge1xuICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmtleXMoaWNvbnMpLm1hcChmdW5jdGlvbiAoaWNvbk5hbWUpIHtcbiAgICAgICAgdmFyIHN2Z0NvbnRlbnQgPSBpY29uc1tpY29uTmFtZV0uc3BsaXQoJ3N2ZycpWzFdO1xuICAgICAgICByZXR1cm4gJzxzeW1ib2wgaWQ9JyArIGljb25OYW1lICsgc3ZnQ29udGVudCArICdzeW1ib2w+JztcbiAgICB9KS5qb2luKCcnKTtcbiAgICByZXR1cm4gc3ZnU3ByaXRlKHN5bWJvbHMpO1xufTtcbnZhciBsb2FkU3ByaXRlID0gZnVuY3Rpb24gbG9hZFNwcml0ZSgpIHtcbiAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGV4aXN0aW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ19fQU5URF9NT0JJTEVfU1ZHX1NQUklURV9OT0RFX18nKTtcbiAgICB2YXIgbW91bnROb2RlID0gZG9jdW1lbnQuYm9keTtcbiAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICAgIG1vdW50Tm9kZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCByZW5kZXJTdmdTcHJpdGUoKSk7XG4gICAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGxvYWRTcHJpdGU7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBsb2FkU3ByaXRlIGZyb20gJy4vbG9hZFNwcml0ZSc7XG5cbnZhciBJY29uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoSWNvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBJY29uKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSWNvbik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChJY29uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSWNvbikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhJY29uLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICAgIGxvYWRTcHJpdGUoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgdHlwZSA9IF9hLnR5cGUsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIHNpemUgPSBfYS5zaXplLFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1widHlwZVwiLCBcImNsYXNzTmFtZVwiLCBcInNpemVcIl0pO1xuICAgICAgICAgICAgdmFyIGNscyA9IGNsYXNzbmFtZXMoY2xhc3NOYW1lLCAnYW0taWNvbicsICdhbS1pY29uLScgKyB0eXBlLCAnYW0taWNvbi0nICsgc2l6ZSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3ZnJyxcbiAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IGNsYXNzTmFtZTogY2xzIH0sIHJlc3RQcm9wcyksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgndXNlJywgeyB4bGlua0hyZWY6ICcjJyArIHR5cGUgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSWNvbjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgSWNvbjtcblxuSWNvbi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgc2l6ZTogJ21kJ1xufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRvdWNoRmVlZGJhY2sgZnJvbSAncm1jLWZlZWRiYWNrJztcbmltcG9ydCBJY29uIGZyb20gJy4uL2ljb24nO1xudmFyIHJ4VHdvQ05DaGFyID0gL15bXFx1NGUwMC1cXHU5ZmE1XXsyfSQvO1xudmFyIGlzVHdvQ05DaGFyID0gcnhUd29DTkNoYXIudGVzdC5iaW5kKHJ4VHdvQ05DaGFyKTtcbmZ1bmN0aW9uIGlzU3RyaW5nKHN0cikge1xuICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJztcbn1cbi8vIEluc2VydCBvbmUgc3BhY2UgYmV0d2VlbiB0d28gY2hpbmVzZSBjaGFyYWN0ZXJzIGF1dG9tYXRpY2FsbHkuXG5mdW5jdGlvbiBpbnNlcnRTcGFjZShjaGlsZCkge1xuICAgIGlmIChpc1N0cmluZyhjaGlsZC50eXBlKSAmJiBpc1R3b0NOQ2hhcihjaGlsZC5wcm9wcy5jaGlsZHJlbikpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwge30sIGNoaWxkLnByb3BzLmNoaWxkcmVuLnNwbGl0KCcnKS5qb2luKCcgJykpO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoY2hpbGQpKSB7XG4gICAgICAgIGlmIChpc1R3b0NOQ2hhcihjaGlsZCkpIHtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQuc3BsaXQoJycpLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBjaGlsZFxuICAgICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGQ7XG59XG5cbnZhciBCdXR0b24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhCdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQnV0dG9uKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnV0dG9uKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEJ1dHRvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEJ1dHRvbikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhCdXR0b24sIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2NsYXNzbmFtZXM7XG5cbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICAgICAgICAgIHNpemUgPSBfYS5zaXplLFxuICAgICAgICAgICAgICAgIGlubGluZSA9IF9hLmlubGluZSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIGljb24gPSBfYS5pY29uLFxuICAgICAgICAgICAgICAgIGxvYWRpbmcgPSBfYS5sb2FkaW5nLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVN0eWxlID0gX2EuYWN0aXZlU3R5bGUsXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX2EuYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJwcmVmaXhDbHNcIiwgXCJ0eXBlXCIsIFwic2l6ZVwiLCBcImlubGluZVwiLCBcImRpc2FibGVkXCIsIFwiaWNvblwiLCBcImxvYWRpbmdcIiwgXCJhY3RpdmVTdHlsZVwiLCBcImFjdGl2ZUNsYXNzTmFtZVwiLCBcIm9uQ2xpY2tcIl0pO1xuICAgICAgICAgICAgdmFyIGljb25UeXBlID0gbG9hZGluZyA/ICdsb2FkaW5nJyA6IGljb247XG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzLCBjbGFzc05hbWUsIChfY2xhc3NuYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctcHJpbWFyeScsIHR5cGUgPT09ICdwcmltYXJ5JyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1naG9zdCcsIHR5cGUgPT09ICdnaG9zdCcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctd2FybmluZycsIHR5cGUgPT09ICd3YXJuaW5nJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1zbWFsbCcsIHNpemUgPT09ICdzbWFsbCcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctaW5saW5lJywgaW5saW5lKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgZGlzYWJsZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctbG9hZGluZycsIGxvYWRpbmcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctaWNvbicsICEhaWNvblR5cGUpLCBfY2xhc3NuYW1lcykpO1xuICAgICAgICAgICAgdmFyIGtpZHMgPSBSZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGluc2VydFNwYWNlKTtcbiAgICAgICAgICAgIHZhciBpY29uRWwgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGljb25UeXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGljb25FbCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwgeyAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsIHR5cGU6IGljb25UeXBlLCBzaXplOiBzaXplID09PSAnc21hbGwnID8gJ3h4cycgOiAnbWQnLCBjbGFzc05hbWU6IHByZWZpeENscyArICctaWNvbicgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGljb25UeXBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhd0NscyA9IGljb25UeXBlLnByb3BzICYmIGljb25UeXBlLnByb3BzLmNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgY2xzID0gY2xhc3NuYW1lcygnYW0taWNvbicsIHByZWZpeENscyArICctaWNvbicsIHNpemUgPT09ICdzbWFsbCcgPyAnYW0taWNvbi14eHMnIDogJ2FtLWljb24tbWQnKTtcbiAgICAgICAgICAgICAgICBpY29uRWwgPSBSZWFjdC5jbG9uZUVsZW1lbnQoaWNvblR5cGUsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiByYXdDbHMgPyByYXdDbHMgKyAnICcgKyBjbHMgOiBjbHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVzZSBkaXYsIGJ1dHRvbiBuYXRpdmUgaXMgYnVnZ3kgQHlpbWluZ2hlXG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBUb3VjaEZlZWRiYWNrXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmpzeC1uby1tdWx0aWxpbmUtanNcbiAgICAgICAgICAgICAgICAsXG4gICAgICAgICAgICAgICAgeyBhY3RpdmVDbGFzc05hbWU6IGFjdGl2ZUNsYXNzTmFtZSB8fCAoYWN0aXZlU3R5bGUgPyBwcmVmaXhDbHMgKyAnLWFjdGl2ZScgOiB1bmRlZmluZWQpLCBkaXNhYmxlZDogZGlzYWJsZWQsIGFjdGl2ZVN0eWxlOiBhY3RpdmVTdHlsZSB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgX2V4dGVuZHMoeyByb2xlOiAnYnV0dG9uJywgY2xhc3NOYW1lOiB3cmFwQ2xzIH0sIHJlc3RQcm9wcywgeyBvbkNsaWNrOiBkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IG9uQ2xpY2ssICdhcmlhLWRpc2FibGVkJzogZGlzYWJsZWQgfSksXG4gICAgICAgICAgICAgICAgICAgIGljb25FbCxcbiAgICAgICAgICAgICAgICAgICAga2lkc1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQnV0dG9uO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLWJ1dHRvbicsXG4gICAgc2l6ZTogJ2xhcmdlJyxcbiAgICBpbmxpbmU6IGZhbHNlLFxuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICBhY3RpdmVTdHlsZToge31cbn07XG5leHBvcnQgZGVmYXVsdCBCdXR0b247IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKENvbXBvc2VkQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIF9hID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAgICAgX2luaGVyaXRzKF9hLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgICAgICBmdW5jdGlvbiBfYSgpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBfYSk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfYS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKF9hKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFZhbHVlID0gX3RoaXMkcHJvcHMuc2VsZWN0ZWRWYWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlICYmIHNlbGVjdGVkVmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZFZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNjID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjLmNoaWxkcmVuIHx8IGMucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNjICYmIGNjWzBdICYmIGNjWzBdLnByb3BzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoaSwgdiwgY2IpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBfdGhpcy5nZXRWYWx1ZSgpLmNvbmNhdCgpO1xuICAgICAgICAgICAgICAgIHZhbHVlW2ldID0gdjtcbiAgICAgICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgY2IodmFsdWUsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5vblZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKGksIHYpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkNoYW5nZShpLCB2LCBfdGhpcy5wcm9wcy5vblZhbHVlQ2hhbmdlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5vblNjcm9sbENoYW5nZSA9IGZ1bmN0aW9uIChpLCB2KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25DaGFuZ2UoaSwgdiwgX3RoaXMucHJvcHMub25TY3JvbGxDaGFuZ2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhfYSwgW3tcbiAgICAgICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvc2VkQ29tcG9uZW50LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyBnZXRWYWx1ZTogdGhpcy5nZXRWYWx1ZSwgb25WYWx1ZUNoYW5nZTogdGhpcy5vblZhbHVlQ2hhbmdlLCBvblNjcm9sbENoYW5nZTogdGhpcy5wcm9wcy5vblNjcm9sbENoYW5nZSAmJiB0aGlzLm9uU2Nyb2xsQ2hhbmdlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBfYTtcbiAgICB9KFJlYWN0LkNvbXBvbmVudCksIF9hLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgcHJlZml4Q2xzOiAncm1jLW11bHRpLXBpY2tlcicsXG4gICAgICAgIG9uVmFsdWVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmFsdWVDaGFuZ2UoKSB7fVxuICAgIH0sIF9hO1xuICAgIHZhciBfYTtcbn1cbjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IE11bHRpUGlja2VyTWl4aW4gZnJvbSAnLi9NdWx0aVBpY2tlck1peGluJztcbnZhciBNdWx0aVBpY2tlciA9IGZ1bmN0aW9uIE11bHRpUGlja2VyKHByb3BzKSB7XG4gICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICByb290TmF0aXZlUHJvcHMgPSBwcm9wcy5yb290TmF0aXZlUHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGU7XG5cbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHByb3BzLmdldFZhbHVlKCk7XG4gICAgdmFyIGNvbEVsZW1lbnRzID0gUmVhY3QuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY29sLCBpKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY29sLCB7XG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlW2ldLFxuICAgICAgICAgICAgb25WYWx1ZUNoYW5nZTogZnVuY3Rpb24gb25WYWx1ZUNoYW5nZSgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wcy5vblZhbHVlQ2hhbmdlLmFwcGx5KHByb3BzLCBbaV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblNjcm9sbENoYW5nZTogcHJvcHMub25TY3JvbGxDaGFuZ2UgJiYgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHMub25TY3JvbGxDaGFuZ2UuYXBwbHkocHJvcHMsIFtpXS5jb25jYXQoYXJncykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIF9leHRlbmRzKHt9LCByb290TmF0aXZlUHJvcHMsIHsgc3R5bGU6IHN0eWxlLCBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3NOYW1lLCBwcmVmaXhDbHMpIH0pLFxuICAgICAgICBjb2xFbGVtZW50c1xuICAgICk7XG59O1xuZXhwb3J0IGRlZmF1bHQgTXVsdGlQaWNrZXJNaXhpbihNdWx0aVBpY2tlcik7IiwiZXhwb3J0IGRlZmF1bHQge1xuICAgIHllYXI6ICcnLFxuICAgIG1vbnRoOiAnJyxcbiAgICBkYXk6ICcnLFxuICAgIGhvdXI6ICcnLFxuICAgIG1pbnV0ZTogJycsXG4gICAgYW06ICdBTScsXG4gICAgcG06ICdQTSdcbn07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE11bHRpUGlja2VyIGZyb20gJ3JtYy1waWNrZXIvZXMvTXVsdGlQaWNrZXInO1xuaW1wb3J0IFBpY2tlciBmcm9tICdybWMtcGlja2VyL2xpYi9QaWNrZXInO1xuaW1wb3J0IGRlZmF1bHRMb2NhbGUgZnJvbSAnLi9sb2NhbGUvZW5fVVMnO1xuZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgoZGF0ZSkge1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKTtcbn1cbmZ1bmN0aW9uIHBhZChuKSB7XG4gICAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4gOiBuICsgJyc7XG59XG5mdW5jdGlvbiBjbG9uZURhdGUoZGF0ZSkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgrZGF0ZSk7XG59XG5mdW5jdGlvbiBzZXRNb250aChkYXRlLCBtb250aCkge1xuICAgIGRhdGUuc2V0RGF0ZShNYXRoLm1pbihkYXRlLmdldERhdGUoKSwgZ2V0RGF5c0luTW9udGgobmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBtb250aCkpKSk7XG4gICAgZGF0ZS5zZXRNb250aChtb250aCk7XG59XG52YXIgREFURVRJTUUgPSAnZGF0ZXRpbWUnO1xudmFyIERBVEUgPSAnZGF0ZSc7XG52YXIgVElNRSA9ICd0aW1lJztcbnZhciBNT05USCA9ICdtb250aCc7XG52YXIgWUVBUiA9ICd5ZWFyJztcbnZhciBPTkVfREFZID0gMjQgKiA2MCAqIDYwICogMTAwMDtcblxudmFyIERhdGVQaWNrZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhEYXRlUGlja2VyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIERhdGVQaWNrZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRlUGlja2VyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGF0ZVBpY2tlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERhdGVQaWNrZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGRhdGU6IF90aGlzLnByb3BzLmRhdGUgfHwgX3RoaXMucHJvcHMuZGVmYXVsdERhdGVcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0TmV3RGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZXMsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZUludCh2YWx1ZXNbaW5kZXhdLCAxMCk7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBtb2RlID0gcHJvcHMubW9kZTtcblxuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY2xvbmVEYXRlKF90aGlzLmdldERhdGUoKSk7XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gREFURVRJTUUgfHwgbW9kZSA9PT0gREFURSB8fCBtb2RlID09PSBZRUFSIHx8IG1vZGUgPT09IE1PTlRIKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZS5zZXRGdWxsWWVhcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TW9udGgobmV3VmFsdWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZS5zZXREYXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRIb3VycyhuZXdWYWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLnNldE1pbnV0ZXModmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldEFtUG0obmV3VmFsdWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBUSU1FKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRIb3VycyhuZXdWYWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLnNldE1pbnV0ZXModmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldEFtUG0obmV3VmFsdWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNsaXBEYXRlKG5ld1ZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25WYWx1ZUNoYW5nZSA9IGZ1bmN0aW9uICh2YWx1ZXMsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IF90aGlzLmdldE5ld0RhdGUodmFsdWVzLCBpbmRleCk7XG4gICAgICAgICAgICBpZiAoISgnZGF0ZScgaW4gcHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiBuZXdWYWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3BzLm9uRGF0ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHByb3BzLm9uRGF0ZUNoYW5nZShuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcHMub25WYWx1ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHByb3BzLm9uVmFsdWVDaGFuZ2UodmFsdWVzLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uU2Nyb2xsQ2hhbmdlID0gZnVuY3Rpb24gKHZhbHVlcywgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuICAgICAgICAgICAgaWYgKHByb3BzLm9uU2Nyb2xsQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gX3RoaXMuZ2V0TmV3RGF0ZSh2YWx1ZXMsIGluZGV4KTtcbiAgICAgICAgICAgICAgICBwcm9wcy5vblNjcm9sbENoYW5nZShuZXdWYWx1ZSwgdmFsdWVzLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRGF0ZVBpY2tlciwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgaWYgKCdkYXRlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogbmV4dFByb3BzLmRhdGUgfHwgbmV4dFByb3BzLmRlZmF1bHREYXRlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldEhvdXJzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEhvdXJzKGRhdGUsIGhvdXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnVzZTEySG91cnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGggPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgICAgICAgICAgICAgdmFyIG5ob3VyID0gaG91cjtcbiAgICAgICAgICAgICAgICBuaG91ciA9IGRoID49IDEyID8gaG91ciArIDEyIDogaG91cjtcbiAgICAgICAgICAgICAgICBuaG91ciA9IG5ob3VyID49IDI0ID8gMCA6IG5ob3VyOyAgICAgICAgICAgICAgICAgZGF0ZS5zZXRIb3VycyhuaG91cik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGUuc2V0SG91cnMoaG91cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldEFtUG0nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QW1QbShkYXRlLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKCtkYXRlIC0gT05FX0RBWSAvIDIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRlLnNldFRpbWUoK2RhdGUgKyBPTkVfREFZIC8gMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldERlZmF1bHRNaW5EYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlZmF1bHRNaW5EYXRlKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRlZmF1bHRNaW5EYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0TWluRGF0ZSA9IG5ldyBEYXRlKDIwMDAsIDEsIDEsIDAsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdE1pbkRhdGU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldERlZmF1bHRNYXhEYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlZmF1bHRNYXhEYXRlKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRlZmF1bHRNYXhEYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0TWF4RGF0ZSA9IG5ldyBEYXRlKDIwMzAsIDEsIDEsIDIzLCA1OSwgNTkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdE1heERhdGU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldERhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaXBEYXRlKHRoaXMuc3RhdGUuZGF0ZSB8fCB0aGlzLmdldERlZmF1bHRNaW5EYXRlKCkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0VmFsdWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRlKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldE1pblllYXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWluWWVhcigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE1pbkRhdGUoKS5nZXRGdWxsWWVhcigpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRNYXhZZWFyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1heFllYXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNYXhEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0TWluTW9udGgnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWluTW9udGgoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5EYXRlKCkuZ2V0TW9udGgoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0TWF4TW9udGgnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWF4TW9udGgoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNYXhEYXRlKCkuZ2V0TW9udGgoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0TWluRGF5JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1pbkRheSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE1pbkRhdGUoKS5nZXREYXRlKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldE1heERheScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNYXhEYXkoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNYXhEYXRlKCkuZ2V0RGF0ZSgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRNaW5Ib3VyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1pbkhvdXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5EYXRlKCkuZ2V0SG91cnMoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0TWF4SG91cicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNYXhIb3VyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWF4RGF0ZSgpLmdldEhvdXJzKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldE1pbk1pbnV0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNaW5NaW51dGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5EYXRlKCkuZ2V0TWludXRlcygpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRNYXhNaW51dGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWF4TWludXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWF4RGF0ZSgpLmdldE1pbnV0ZXMoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0TWluRGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNaW5EYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMubWluRGF0ZSB8fCB0aGlzLmdldERlZmF1bHRNaW5EYXRlKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldE1heERhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWF4RGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLm1heERhdGUgfHwgdGhpcy5nZXREZWZhdWx0TWF4RGF0ZSgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXREYXRlRGF0YScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRlRGF0YSgpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgZm9ybWF0TW9udGggPSBfcHJvcHMuZm9ybWF0TW9udGgsXG4gICAgICAgICAgICAgICAgZm9ybWF0RGF5ID0gX3Byb3BzLmZvcm1hdERheSxcbiAgICAgICAgICAgICAgICBtb2RlID0gX3Byb3BzLm1vZGU7XG5cbiAgICAgICAgICAgIHZhciBkYXRlID0gdGhpcy5nZXREYXRlKCk7XG4gICAgICAgICAgICB2YXIgc2VsWWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgIHZhciBzZWxNb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgIHZhciBtaW5EYXRlWWVhciA9IHRoaXMuZ2V0TWluWWVhcigpO1xuICAgICAgICAgICAgdmFyIG1heERhdGVZZWFyID0gdGhpcy5nZXRNYXhZZWFyKCk7XG4gICAgICAgICAgICB2YXIgbWluRGF0ZU1vbnRoID0gdGhpcy5nZXRNaW5Nb250aCgpO1xuICAgICAgICAgICAgdmFyIG1heERhdGVNb250aCA9IHRoaXMuZ2V0TWF4TW9udGgoKTtcbiAgICAgICAgICAgIHZhciBtaW5EYXRlRGF5ID0gdGhpcy5nZXRNaW5EYXkoKTtcbiAgICAgICAgICAgIHZhciBtYXhEYXRlRGF5ID0gdGhpcy5nZXRNYXhEYXkoKTtcbiAgICAgICAgICAgIHZhciB5ZWFycyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IG1pbkRhdGVZZWFyOyBpIDw9IG1heERhdGVZZWFyOyBpKyspIHtcbiAgICAgICAgICAgICAgICB5ZWFycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGkgKyAnJyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGkgKyBsb2NhbGUueWVhciArICcnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgeWVhckNvbCA9IHsga2V5OiAneWVhcicsIHByb3BzOiB7IGNoaWxkcmVuOiB5ZWFycyB9IH07XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gWUVBUikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbeWVhckNvbF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbW9udGhzID0gW107XG4gICAgICAgICAgICB2YXIgbWluTW9udGggPSAwO1xuICAgICAgICAgICAgdmFyIG1heE1vbnRoID0gMTE7XG4gICAgICAgICAgICBpZiAobWluRGF0ZVllYXIgPT09IHNlbFllYXIpIHtcbiAgICAgICAgICAgICAgICBtaW5Nb250aCA9IG1pbkRhdGVNb250aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXhEYXRlWWVhciA9PT0gc2VsWWVhcikge1xuICAgICAgICAgICAgICAgIG1heE1vbnRoID0gbWF4RGF0ZU1vbnRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSBtaW5Nb250aDsgX2kgPD0gbWF4TW9udGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBmb3JtYXRNb250aCA/IGZvcm1hdE1vbnRoKF9pLCBkYXRlKSA6IF9pICsgMSArIGxvY2FsZS5tb250aCArICcnO1xuICAgICAgICAgICAgICAgIG1vbnRocy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF9pICsgJycsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBsYWJlbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1vbnRoQ29sID0geyBrZXk6ICdtb250aCcsIHByb3BzOiB7IGNoaWxkcmVuOiBtb250aHMgfSB9O1xuICAgICAgICAgICAgaWYgKG1vZGUgPT09IE1PTlRIKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt5ZWFyQ29sLCBtb250aENvbF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGF5cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG1pbkRheSA9IDE7XG4gICAgICAgICAgICB2YXIgbWF4RGF5ID0gZ2V0RGF5c0luTW9udGgoZGF0ZSk7XG4gICAgICAgICAgICBpZiAobWluRGF0ZVllYXIgPT09IHNlbFllYXIgJiYgbWluRGF0ZU1vbnRoID09PSBzZWxNb250aCkge1xuICAgICAgICAgICAgICAgIG1pbkRheSA9IG1pbkRhdGVEYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF4RGF0ZVllYXIgPT09IHNlbFllYXIgJiYgbWF4RGF0ZU1vbnRoID09PSBzZWxNb250aCkge1xuICAgICAgICAgICAgICAgIG1heERheSA9IG1heERhdGVEYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSBtaW5EYXk7IF9pMiA8PSBtYXhEYXk7IF9pMisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9sYWJlbCA9IGZvcm1hdERheSA/IGZvcm1hdERheShfaTIsIGRhdGUpIDogX2kyICsgbG9jYWxlLmRheSArICcnO1xuICAgICAgICAgICAgICAgIGRheXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfaTIgKyAnJyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IF9sYWJlbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFt5ZWFyQ29sLCBtb250aENvbCwgeyBrZXk6ICdkYXknLCBwcm9wczogeyBjaGlsZHJlbjogZGF5cyB9IH1dO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXREaXNwbGF5SG91cicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREaXNwbGF5SG91cihyYXdIb3VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy51c2UxMkhvdXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhd0hvdXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3SG91ciA9IDEyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmF3SG91ciA+IDEyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhd0hvdXIgLT0gMTI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByYXdIb3VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJhd0hvdXI7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFRpbWVEYXRhJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRpbWVEYXRhKGRhdGUpIHtcbiAgICAgICAgICAgIHZhciBtaW5Ib3VyID0gMDtcbiAgICAgICAgICAgIHZhciBtYXhIb3VyID0gMjM7XG4gICAgICAgICAgICB2YXIgbWluTWludXRlID0gMDtcbiAgICAgICAgICAgIHZhciBtYXhNaW51dGUgPSA1OTtcbiAgICAgICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBtb2RlID0gX3Byb3BzMi5tb2RlLFxuICAgICAgICAgICAgICAgIGxvY2FsZSA9IF9wcm9wczIubG9jYWxlLFxuICAgICAgICAgICAgICAgIG1pbnV0ZVN0ZXAgPSBfcHJvcHMyLm1pbnV0ZVN0ZXAsXG4gICAgICAgICAgICAgICAgdXNlMTJIb3VycyA9IF9wcm9wczIudXNlMTJIb3VycztcblxuICAgICAgICAgICAgdmFyIG1pbkRhdGVNaW51dGUgPSB0aGlzLmdldE1pbk1pbnV0ZSgpO1xuICAgICAgICAgICAgdmFyIG1heERhdGVNaW51dGUgPSB0aGlzLmdldE1heE1pbnV0ZSgpO1xuICAgICAgICAgICAgdmFyIG1pbkRhdGVIb3VyID0gdGhpcy5nZXRNaW5Ib3VyKCk7XG4gICAgICAgICAgICB2YXIgbWF4RGF0ZUhvdXIgPSB0aGlzLmdldE1heEhvdXIoKTtcbiAgICAgICAgICAgIHZhciBob3VyID0gZGF0ZS5nZXRIb3VycygpO1xuICAgICAgICAgICAgaWYgKG1vZGUgPT09IERBVEVUSU1FKSB7XG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICAgICAgICAgICAgICAgIHZhciBkYXkgPSBkYXRlLmdldERhdGUoKTtcbiAgICAgICAgICAgICAgICB2YXIgbWluRGF0ZVllYXIgPSB0aGlzLmdldE1pblllYXIoKTtcbiAgICAgICAgICAgICAgICB2YXIgbWF4RGF0ZVllYXIgPSB0aGlzLmdldE1heFllYXIoKTtcbiAgICAgICAgICAgICAgICB2YXIgbWluRGF0ZU1vbnRoID0gdGhpcy5nZXRNaW5Nb250aCgpO1xuICAgICAgICAgICAgICAgIHZhciBtYXhEYXRlTW9udGggPSB0aGlzLmdldE1heE1vbnRoKCk7XG4gICAgICAgICAgICAgICAgdmFyIG1pbkRhdGVEYXkgPSB0aGlzLmdldE1pbkRheSgpO1xuICAgICAgICAgICAgICAgIHZhciBtYXhEYXRlRGF5ID0gdGhpcy5nZXRNYXhEYXkoKTtcbiAgICAgICAgICAgICAgICBpZiAobWluRGF0ZVllYXIgPT09IHllYXIgJiYgbWluRGF0ZU1vbnRoID09PSBtb250aCAmJiBtaW5EYXRlRGF5ID09PSBkYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluSG91ciA9IG1pbkRhdGVIb3VyO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWluRGF0ZUhvdXIgPT09IGhvdXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbk1pbnV0ZSA9IG1pbkRhdGVNaW51dGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1heERhdGVZZWFyID09PSB5ZWFyICYmIG1heERhdGVNb250aCA9PT0gbW9udGggJiYgbWF4RGF0ZURheSA9PT0gZGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIG1heEhvdXIgPSBtYXhEYXRlSG91cjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heERhdGVIb3VyID09PSBob3VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhNaW51dGUgPSBtYXhEYXRlTWludXRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaW5Ib3VyID0gbWluRGF0ZUhvdXI7XG4gICAgICAgICAgICAgICAgaWYgKG1pbkRhdGVIb3VyID09PSBob3VyKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbk1pbnV0ZSA9IG1pbkRhdGVNaW51dGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1heEhvdXIgPSBtYXhEYXRlSG91cjtcbiAgICAgICAgICAgICAgICBpZiAobWF4RGF0ZUhvdXIgPT09IGhvdXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4TWludXRlID0gbWF4RGF0ZU1pbnV0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaG91cnMgPSBbXTtcbiAgICAgICAgICAgIGlmIChtaW5Ib3VyID09PSAwICYmIG1heEhvdXIgPT09IDAgfHwgbWluSG91ciAhPT0gMCAmJiBtYXhIb3VyICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbWluSG91ciA9IHRoaXMuZ2V0RGlzcGxheUhvdXIobWluSG91cik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1pbkhvdXIgPT09IDAgJiYgdXNlMTJIb3Vycykge1xuICAgICAgICAgICAgICAgIG1pbkhvdXIgPSAxO1xuICAgICAgICAgICAgICAgIGhvdXJzLnB1c2goeyB2YWx1ZTogJzAnLCBsYWJlbDogbG9jYWxlLmhvdXIgPyAnMTInICsgbG9jYWxlLmhvdXIgOiAnMTInIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF4SG91ciA9IHRoaXMuZ2V0RGlzcGxheUhvdXIobWF4SG91cik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbWluSG91cjsgaSA8PSBtYXhIb3VyOyBpKyspIHtcbiAgICAgICAgICAgICAgICBob3Vycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGkgKyAnJyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxvY2FsZS5ob3VyID8gaSArIGxvY2FsZS5ob3VyICsgJycgOiBwYWQoaSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtaW51dGVzID0gW107XG4gICAgICAgICAgICB2YXIgc2VsTWludXRlID0gZGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBfaTMgPSBtaW5NaW51dGU7IF9pMyA8PSBtYXhNaW51dGU7IF9pMyArPSBtaW51dGVTdGVwKSB7XG4gICAgICAgICAgICAgICAgbWludXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF9pMyArICcnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogbG9jYWxlLm1pbnV0ZSA/IF9pMyArIGxvY2FsZS5taW51dGUgKyAnJyA6IHBhZChfaTMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbE1pbnV0ZSA+IF9pMyAmJiBzZWxNaW51dGUgPCBfaTMgKyBtaW51dGVTdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbnV0ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc2VsTWludXRlICsgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogbG9jYWxlLm1pbnV0ZSA/IHNlbE1pbnV0ZSArIGxvY2FsZS5taW51dGUgKyAnJyA6IHBhZChzZWxNaW51dGUpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb2xzID0gW3sga2V5OiAnaG91cnMnLCBwcm9wczogeyBjaGlsZHJlbjogaG91cnMgfSB9LCB7IGtleTogJ21pbnV0ZXMnLCBwcm9wczogeyBjaGlsZHJlbjogbWludXRlcyB9IH1dLmNvbmNhdCh1c2UxMkhvdXJzID8gW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdhbXBtJyxcbiAgICAgICAgICAgICAgICBwcm9wczogeyBjaGlsZHJlbjogW3sgdmFsdWU6ICcwJywgbGFiZWw6IGxvY2FsZS5hbSB9LCB7IHZhbHVlOiAnMScsIGxhYmVsOiBsb2NhbGUucG0gfV0gfVxuICAgICAgICAgICAgfV0gOiBbXSk7XG4gICAgICAgICAgICByZXR1cm4geyBjb2xzOiBjb2xzLCBzZWxNaW51dGU6IHNlbE1pbnV0ZSB9O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjbGlwRGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGlwRGF0ZShkYXRlKSB7XG4gICAgICAgICAgICB2YXIgbW9kZSA9IHRoaXMucHJvcHMubW9kZTtcblxuICAgICAgICAgICAgdmFyIG1pbkRhdGUgPSB0aGlzLmdldE1pbkRhdGUoKTtcbiAgICAgICAgICAgIHZhciBtYXhEYXRlID0gdGhpcy5nZXRNYXhEYXRlKCk7XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gREFURVRJTUUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZSA8IG1pbkRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lRGF0ZShtaW5EYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGUgPiBtYXhEYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbG9uZURhdGUobWF4RGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBEQVRFIHx8IG1vZGUgPT09IFlFQVIgfHwgbW9kZSA9PT0gTU9OVEgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCtkYXRlICsgT05FX0RBWSA8PSBtaW5EYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbG9uZURhdGUobWluRGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRlID49ICttYXhEYXRlICsgT05FX0RBWSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmVEYXRlKG1heERhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gVElNRSkge1xuICAgICAgICAgICAgICAgIHZhciBtYXhIb3VyID0gbWF4RGF0ZS5nZXRIb3VycygpO1xuICAgICAgICAgICAgICAgIHZhciBtYXhNaW51dGVzID0gbWF4RGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgICAgICAgICAgICAgdmFyIG1pbkhvdXIgPSBtaW5EYXRlLmdldEhvdXJzKCk7XG4gICAgICAgICAgICAgICAgdmFyIG1pbk1pbnV0ZXMgPSBtaW5EYXRlLmdldE1pbnV0ZXMoKTtcbiAgICAgICAgICAgICAgICB2YXIgaG91ciA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICAgICAgICAgICAgICB2YXIgbWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpO1xuICAgICAgICAgICAgICAgIGlmIChob3VyIDwgbWluSG91ciB8fCBob3VyID09PSBtaW5Ib3VyICYmIG1pbnV0ZXMgPCBtaW5NaW51dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbG9uZURhdGUobWluRGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChob3VyID4gbWF4SG91ciB8fCBob3VyID09PSBtYXhIb3VyICYmIG1pbnV0ZXMgPiBtYXhNaW51dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbG9uZURhdGUobWF4RGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFZhbHVlQ29scycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZUNvbHMoKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgbW9kZSA9IF9wcm9wczMubW9kZSxcbiAgICAgICAgICAgICAgICB1c2UxMkhvdXJzID0gX3Byb3BzMy51c2UxMkhvdXJzO1xuXG4gICAgICAgICAgICB2YXIgZGF0ZSA9IHRoaXMuZ2V0RGF0ZSgpO1xuICAgICAgICAgICAgdmFyIGNvbHMgPSBbXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFlFQVIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjb2xzOiB0aGlzLmdldERhdGVEYXRhKCksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBbZGF0ZS5nZXRGdWxsWWVhcigpICsgJyddXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb2RlID09PSBNT05USCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHM6IHRoaXMuZ2V0RGF0ZURhdGEoKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFtkYXRlLmdldEZ1bGxZZWFyKCkgKyAnJywgZGF0ZS5nZXRNb250aCgpICsgJyddXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb2RlID09PSBEQVRFVElNRSB8fCBtb2RlID09PSBEQVRFKSB7XG4gICAgICAgICAgICAgICAgY29scyA9IHRoaXMuZ2V0RGF0ZURhdGEoKTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFtkYXRlLmdldEZ1bGxZZWFyKCkgKyAnJywgZGF0ZS5nZXRNb250aCgpICsgJycsIGRhdGUuZ2V0RGF0ZSgpICsgJyddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IERBVEVUSU1FIHx8IG1vZGUgPT09IFRJTUUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IHRoaXMuZ2V0VGltZURhdGEoZGF0ZSk7XG4gICAgICAgICAgICAgICAgY29scyA9IGNvbHMuY29uY2F0KHRpbWUuY29scyk7XG4gICAgICAgICAgICAgICAgdmFyIGhvdXIgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgICAgICAgICAgICAgdmFyIGR0VmFsdWUgPSBbaG91ciArICcnLCB0aW1lLnNlbE1pbnV0ZSArICcnXTtcbiAgICAgICAgICAgICAgICB2YXIgbmhvdXIgPSBob3VyO1xuICAgICAgICAgICAgICAgIGlmICh1c2UxMkhvdXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ob3VyID0gaG91ciA9PT0gMCA/IDEyIDogaG91ciA+IDEyID8gaG91ciAtIDEyIDogaG91cjtcbiAgICAgICAgICAgICAgICAgICAgZHRWYWx1ZSA9IFtuaG91ciArICcnLCB0aW1lLnNlbE1pbnV0ZSArICcnLCAoaG91ciA+PSAxMiA/IDEgOiAwKSArICcnXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5jb25jYXQoZHRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBjb2xzOiBjb2xzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9nZXRWYWx1ZUNvbHMgPSB0aGlzLmdldFZhbHVlQ29scygpLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gX2dldFZhbHVlQ29scy52YWx1ZSxcbiAgICAgICAgICAgICAgICBjb2xzID0gX2dldFZhbHVlQ29scy5jb2xzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHM0LmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIHBpY2tlclByZWZpeENscyA9IF9wcm9wczQucGlja2VyUHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wczQucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIHJvb3ROYXRpdmVQcm9wcyA9IF9wcm9wczQucm9vdE5hdGl2ZVByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wczQuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIHN0eWxlID0gX3Byb3BzNC5zdHlsZSxcbiAgICAgICAgICAgICAgICBpdGVtU3R5bGUgPSBfcHJvcHM0Lml0ZW1TdHlsZTtcblxuICAgICAgICAgICAgdmFyIG11bHRpU3R5bGUgPSBfZXh0ZW5kcyh7IGZsZXhEaXJlY3Rpb246ICdyb3cnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9LCBzdHlsZSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChNdWx0aVBpY2tlciwgeyBzdHlsZTogbXVsdGlTdHlsZSwgcm9vdE5hdGl2ZVByb3BzOiByb290TmF0aXZlUHJvcHMsIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBwcmVmaXhDbHM6IHByZWZpeENscywgc2VsZWN0ZWRWYWx1ZTogdmFsdWUsIG9uVmFsdWVDaGFuZ2U6IHRoaXMub25WYWx1ZUNoYW5nZSwgb25TY3JvbGxDaGFuZ2U6IHRoaXMub25TY3JvbGxDaGFuZ2UgfSwgY29scy5tYXAoZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQaWNrZXIsIHsgc3R5bGU6IHsgZmxleDogMSB9LCBrZXk6IHAua2V5LCBkaXNhYmxlZDogZGlzYWJsZWQsIHByZWZpeENsczogcGlja2VyUHJlZml4Q2xzLCBpdGVtU3R5bGU6IGl0ZW1TdHlsZSB9LCBwLnByb3BzLmNoaWxkcmVuLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQaWNrZXIuSXRlbSwgeyBrZXk6IGl0ZW0udmFsdWUsIHZhbHVlOiBpdGVtLnZhbHVlIH0sIGl0ZW0ubGFiZWwpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEYXRlUGlja2VyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5EYXRlUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdybWMtZGF0ZS1waWNrZXInLFxuICAgIHBpY2tlclByZWZpeENsczogJ3JtYy1waWNrZXInLFxuICAgIGxvY2FsZTogZGVmYXVsdExvY2FsZSxcbiAgICBtb2RlOiBEQVRFLFxuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBtaW51dGVTdGVwOiAxLFxuICAgIG9uRGF0ZUNoYW5nZTogZnVuY3Rpb24gb25EYXRlQ2hhbmdlKCkge30sXG5cbiAgICB1c2UxMkhvdXJzOiBmYWxzZVxufTtcbmV4cG9ydCBkZWZhdWx0IERhdGVQaWNrZXI7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRGF0ZVRpbWVQaWNrZXIgZnJvbSAncm1jLWRhdGUtcGlja2VyJztcblxudmFyIFRpbWVQaWNrZXIgPSBmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoVGltZVBpY2tlciwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gVGltZVBpY2tlcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVQaWNrZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRQdXJlQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLm9uRGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICB2YXIgb25WYWx1ZUNoYW5nZSA9IF90aGlzLnByb3BzLm9uVmFsdWVDaGFuZ2U7XG5cbiAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2UgJiYgb25WYWx1ZUNoYW5nZShkYXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFRpbWVQaWNrZXIucHJvdG90eXBlLmdldE1pblRpbWUgPSBmdW5jdGlvbiBnZXRNaW5UaW1lKGRhdGUpIHtcbiAgICAgICAgdmFyIG1pbkRhdGUgPSB0aGlzLnByb3BzLm1pbkRhdGU7XG4gICAgICAgIGlmICghZGF0ZSB8fCBkYXRlLmdldEZ1bGxZZWFyKCkgPiBtaW5EYXRlLmdldEZ1bGxZZWFyKCkgfHwgZGF0ZS5nZXRNb250aCgpID4gbWluRGF0ZS5nZXRNb250aCgpIHx8IGRhdGUuZ2V0RGF0ZSgpID4gbWluRGF0ZS5nZXREYXRlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBUaW1lUGlja2VyLmRlZmF1bHRQcm9wcy5taW5EYXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW5EYXRlO1xuICAgIH07XG5cbiAgICBUaW1lUGlja2VyLnByb3RvdHlwZS5nZXRNYXhUaW1lID0gZnVuY3Rpb24gZ2V0TWF4VGltZShkYXRlKSB7XG4gICAgICAgIHZhciBtYXhEYXRlID0gdGhpcy5wcm9wcy5tYXhEYXRlO1xuICAgICAgICBpZiAoIWRhdGUgfHwgZGF0ZS5nZXRGdWxsWWVhcigpIDwgbWF4RGF0ZS5nZXRGdWxsWWVhcigpIHx8IGRhdGUuZ2V0TW9udGgoKSA8IG1heERhdGUuZ2V0TW9udGgoKSB8fCBkYXRlLmdldERhdGUoKSA8IG1heERhdGUuZ2V0RGF0ZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gVGltZVBpY2tlci5kZWZhdWx0UHJvcHMubWF4RGF0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4RGF0ZTtcbiAgICB9O1xuXG4gICAgVGltZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgICB0aXRsZSA9IF9wcm9wcy50aXRsZSxcbiAgICAgICAgICAgIHZhbHVlID0gX3Byb3BzLnZhbHVlLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gX3Byb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICBwaWNrZXJQcmVmaXhDbHMgPSBfcHJvcHMucGlja2VyUHJlZml4Q2xzLFxuICAgICAgICAgICAgY2xpZW50SGVpZ2h0ID0gX3Byb3BzLmNsaWVudEhlaWdodDtcblxuICAgICAgICB2YXIgZGF0ZSA9IHZhbHVlIHx8IGRlZmF1bHRWYWx1ZSB8fCB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBoZWlnaHQgPSBjbGllbnRIZWlnaHQgJiYgY2xpZW50SGVpZ2h0ICogMyAvIDggLSA1MiB8fCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RpbWUtcGlja2VyJyB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RpdGxlJyB9LFxuICAgICAgICAgICAgICAgIHRpdGxlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEYXRlVGltZVBpY2tlciwgeyBwcmVmaXhDbHM6IHByZWZpeENscywgcGlja2VyUHJlZml4Q2xzOiBwaWNrZXJQcmVmaXhDbHMsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0ID4gMTY0IHx8IGhlaWdodCA8IDAgPyAxNjQgOiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0sIG1vZGU6ICd0aW1lJywgZGF0ZTogZGF0ZSwgbG9jYWxlOiBsb2NhbGUsIG1pbkRhdGU6IHRoaXMuZ2V0TWluVGltZShkYXRlKSwgbWF4RGF0ZTogdGhpcy5nZXRNYXhUaW1lKGRhdGUpLCBvbkRhdGVDaGFuZ2U6IHRoaXMub25EYXRlQ2hhbmdlLCB1c2UxMkhvdXJzOiB0cnVlIH0pXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBUaW1lUGlja2VyO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgVGltZVBpY2tlcjtcblxuVGltZVBpY2tlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbWluRGF0ZTogbmV3IERhdGUoMCwgMCwgMCwgMCwgMCksXG4gICAgbWF4RGF0ZTogbmV3IERhdGUoOTk5OSwgMTEsIDMxLCAyMywgNTksIDU5KSxcbiAgICBkZWZhdWx0VmFsdWU6IG5ldyBEYXRlKDIwMDAsIDEsIDEsIDgpXG59OyIsImV4cG9ydCB2YXIgTW9kZWxzO1xuKGZ1bmN0aW9uIChNb2RlbHMpIHtcbiAgICB2YXIgU2VsZWN0VHlwZSA9IHZvaWQgMDtcbiAgICAoZnVuY3Rpb24gKFNlbGVjdFR5cGUpIHtcbiAgICAgICAgU2VsZWN0VHlwZVtTZWxlY3RUeXBlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgICAgIC8qKiDljZXpgIkgKi9cbiAgICAgICAgU2VsZWN0VHlwZVtTZWxlY3RUeXBlW1wiU2luZ2xlXCJdID0gMV0gPSBcIlNpbmdsZVwiO1xuICAgICAgICAvKiog6LW3L+atoiAqL1xuICAgICAgICBTZWxlY3RUeXBlW1NlbGVjdFR5cGVbXCJBbGxcIl0gPSAyXSA9IFwiQWxsXCI7XG4gICAgICAgIC8qKiDljLrpl7Tku4XpgInmi6nkuoYg6LW3ICovXG4gICAgICAgIFNlbGVjdFR5cGVbU2VsZWN0VHlwZVtcIk9ubHlcIl0gPSAzXSA9IFwiT25seVwiO1xuICAgICAgICAvKiog5Yy66Ze06LW3ICovXG4gICAgICAgIFNlbGVjdFR5cGVbU2VsZWN0VHlwZVtcIlN0YXJ0XCJdID0gNF0gPSBcIlN0YXJ0XCI7XG4gICAgICAgIC8qKiDljLrpl7TkuK0gKi9cbiAgICAgICAgU2VsZWN0VHlwZVtTZWxlY3RUeXBlW1wiTWlkZGxlXCJdID0gNV0gPSBcIk1pZGRsZVwiO1xuICAgICAgICAvKiog5Yy66Ze05q2iICovXG4gICAgICAgIFNlbGVjdFR5cGVbU2VsZWN0VHlwZVtcIkVuZFwiXSA9IDZdID0gXCJFbmRcIjtcbiAgICB9KShTZWxlY3RUeXBlID0gTW9kZWxzLlNlbGVjdFR5cGUgfHwgKE1vZGVscy5TZWxlY3RUeXBlID0ge30pKTtcbn0pKE1vZGVscyB8fCAoTW9kZWxzID0ge30pKTsiLCJleHBvcnQgdmFyIG1lcmdlRGF0ZVRpbWUgPSBmdW5jdGlvbiBtZXJnZURhdGVUaW1lKGRhdGUsIHRpbWUpIHtcbiAgICBkYXRlID0gZGF0ZSB8fCBuZXcgRGF0ZSgpO1xuICAgIGlmICghdGltZSkgcmV0dXJuIGRhdGU7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSwgdGltZS5nZXRIb3VycygpLCB0aW1lLmdldE1pbnV0ZXMoKSwgdGltZS5nZXRTZWNvbmRzKCkpO1xufTtcbmV4cG9ydCB2YXIgZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSwgZm9ybWF0LCBsb2NhbGUpIHtcbiAgICB2YXIgd2VlayA9IGxvY2FsZSAmJiBsb2NhbGUud2VlaztcbiAgICB2YXIgbyA9IHtcbiAgICAgICAgJ00rJzogZGF0ZS5nZXRNb250aCgpICsgMSxcbiAgICAgICAgJ2QrJzogZGF0ZS5nZXREYXRlKCksXG4gICAgICAgICdoKyc6IGRhdGUuZ2V0SG91cnMoKSxcbiAgICAgICAgJ20rJzogZGF0ZS5nZXRNaW51dGVzKCksXG4gICAgICAgICdzKyc6IGRhdGUuZ2V0U2Vjb25kcygpLFxuICAgICAgICAncSsnOiBNYXRoLmZsb29yKChkYXRlLmdldE1vbnRoKCkgKyAzKSAvIDMpLFxuICAgICAgICAndysnOiB3ZWVrICYmIHdlZWtbZGF0ZS5nZXREYXkoKV0sXG4gICAgICAgICdTJzogZGF0ZS5nZXRNaWxsaXNlY29uZHMoKVxuICAgIH07XG4gICAgaWYgKC8oeSspLy50ZXN0KGZvcm1hdCkpIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKGRhdGUuZ2V0RnVsbFllYXIoKSArICcnKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKTtcbiAgICBmb3IgKHZhciBrIGluIG8pIHtcbiAgICAgICAgaWYgKG5ldyBSZWdFeHAoJygnICsgayArICcpJykudGVzdChmb3JtYXQpKSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShSZWdFeHAuJDEsIFJlZ0V4cC4kMS5sZW5ndGggPT0gMSA/IG9ba10gOiAoJzAwJyArIG9ba10pLnN1YnN0cigoJycgKyBvW2tdKS5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm9ybWF0O1xufTtcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5mdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgcmV0dXJuIHggIT09IDAgfHwgeSAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgICB2YXIgZXhjbHVkZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogW107XG5cbiAgICBpZiAoaXMob2JqQSwgb2JqQikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqQSAhPT0gJ29iamVjdCcgfHwgb2JqQSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqQiAhPT0gJ29iamVjdCcgfHwgb2JqQiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICAgIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuICAgIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihrZXlzQVtpXSkgPj0gMCkgY29udGludWU7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgIWlzKG9iakFba2V5c0FbaV1dLCBvYmpCW2tleXNBW2ldXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn0iLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTW9kZWxzIH0gZnJvbSAnLi9kYXRlL0RhdGFUeXBlcyc7XG5pbXBvcnQgeyBmb3JtYXREYXRlLCBzaGFsbG93RXF1YWwgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IGRlZmF1bHRMb2NhbGUgZnJvbSAnLi9sb2NhbGUvemhfQ04nO1xuXG52YXIgRGF0ZVBpY2tlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKERhdGVQaWNrZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRGF0ZVBpY2tlcihwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZVBpY2tlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMudmlzaWJsZU1vbnRoID0gW107XG4gICAgICAgIF90aGlzLmdldERhdGVXaXRob3V0VGltZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICBpZiAoIWRhdGUpIHJldHVybiAwO1xuICAgICAgICAgICAgcmV0dXJuICtuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZW5XZWVrRGF0YSA9IGZ1bmN0aW9uIChmaXJzdERhdGUpIHtcbiAgICAgICAgICAgIHZhciBtaW5EYXRlVGltZSA9IF90aGlzLmdldERhdGVXaXRob3V0VGltZShfdGhpcy5wcm9wcy5taW5EYXRlKTtcbiAgICAgICAgICAgIHZhciBtYXhEYXRlVGltZSA9IF90aGlzLmdldERhdGVXaXRob3V0VGltZShfdGhpcy5wcm9wcy5tYXhEYXRlKSB8fCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICB2YXIgd2Vla3MgPSBbXTtcbiAgICAgICAgICAgIHZhciBuZXh0TW9udGggPSBfdGhpcy5nZXRNb250aERhdGUoZmlyc3REYXRlLCAxKS5maXJzdERhdGU7XG4gICAgICAgICAgICB2YXIgY3VycmVudERheSA9IGZpcnN0RGF0ZTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50V2VlayA9IFtdO1xuICAgICAgICAgICAgd2Vla3MucHVzaChjdXJyZW50V2Vlayk7XG4gICAgICAgICAgICB2YXIgc3RhcnRXZWVrZGF5ID0gY3VycmVudERheS5nZXREYXkoKTtcbiAgICAgICAgICAgIGlmIChzdGFydFdlZWtkYXkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFydFdlZWtkYXk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2Vlay5wdXNoKHt9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudERheSA8IG5leHRNb250aCkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2Vlay5sZW5ndGggPT09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFdlZWsgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgd2Vla3MucHVzaChjdXJyZW50V2Vlayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkYXlPZk1vbnRoID0gY3VycmVudERheS5nZXREYXRlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRpY2sgPSArY3VycmVudERheTtcbiAgICAgICAgICAgICAgICBjdXJyZW50V2Vlay5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGljazogdGljayxcbiAgICAgICAgICAgICAgICAgICAgZGF5T2ZNb250aDogZGF5T2ZNb250aCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IE1vZGVscy5TZWxlY3RUeXBlLk5vbmUsXG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3RPZk1vbnRoOiBkYXlPZk1vbnRoID09PSAxLFxuICAgICAgICAgICAgICAgICAgICBpc0xhc3RPZk1vbnRoOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgb3V0T2ZEYXRlOiB0aWNrIDwgbWluRGF0ZVRpbWUgfHwgdGljayA+IG1heERhdGVUaW1lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY3VycmVudERheSA9IG5ldyBEYXRlKGN1cnJlbnREYXkuZ2V0VGltZSgpICsgMzYwMCAqIDI0ICogMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50V2Vla1tjdXJyZW50V2Vlay5sZW5ndGggLSAxXS5pc0xhc3RPZk1vbnRoID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB3ZWVrcztcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc2VsZWN0RGF0ZVJhbmdlID0gZnVuY3Rpb24gKHN0YXJ0RGF0ZSwgZW5kRGF0ZSkge1xuICAgICAgICAgICAgdmFyIGNsZWFyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGdldERhdGVFeHRyYSA9IF90aGlzJHByb3BzLmdldERhdGVFeHRyYSxcbiAgICAgICAgICAgICAgICB0eXBlID0gX3RoaXMkcHJvcHMudHlwZSxcbiAgICAgICAgICAgICAgICBvblNlbGVjdEhhc0Rpc2FibGVEYXRlID0gX3RoaXMkcHJvcHMub25TZWxlY3RIYXNEaXNhYmxlRGF0ZTtcblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdvbmUnKSB7XG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0aW1lMSA9IF90aGlzLmdldERhdGVXaXRob3V0VGltZShzdGFydERhdGUpLFxuICAgICAgICAgICAgICAgIHRpbWUyID0gX3RoaXMuZ2V0RGF0ZVdpdGhvdXRUaW1lKGVuZERhdGUpO1xuICAgICAgICAgICAgdmFyIHN0YXJ0RGF0ZVRpY2sgPSAhdGltZTIgfHwgdGltZTEgPCB0aW1lMiA/IHRpbWUxIDogdGltZTI7XG4gICAgICAgICAgICB2YXIgZW5kRGF0ZVRpY2sgPSB0aW1lMiAmJiB0aW1lMSA+IHRpbWUyID8gdGltZTEgOiB0aW1lMjtcbiAgICAgICAgICAgIHZhciBzdGFydE1vbnRoRGF0ZSA9IF90aGlzLmdldE1vbnRoRGF0ZShuZXcgRGF0ZShzdGFydERhdGVUaWNrKSkuZmlyc3REYXRlO1xuICAgICAgICAgICAgdmFyIGVuZE1vbnRoRGF0ZSA9IGVuZERhdGVUaWNrID8gbmV3IERhdGUoZW5kRGF0ZVRpY2spIDogX3RoaXMuZ2V0TW9udGhEYXRlKG5ldyBEYXRlKHN0YXJ0RGF0ZVRpY2spKS5sYXN0RGF0ZTtcbiAgICAgICAgICAgIHZhciB1bnVzZWFibGUgPSBbXSxcbiAgICAgICAgICAgICAgICBuZWVkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICBfdGhpcy5zdGF0ZS5tb250aHMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG0uZmlyc3REYXRlID49IHN0YXJ0TW9udGhEYXRlICYmIG0uZmlyc3REYXRlIDw9IGVuZE1vbnRoRGF0ZTtcbiAgICAgICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICBtLndlZWtzLmZvckVhY2goZnVuY3Rpb24gKHcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHcuZmlsdGVyKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVuZERhdGVUaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudGljayAmJiBfdGhpcy5pbkRhdGUoc3RhcnREYXRlVGljaywgZC50aWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudGljayAmJiBkLnRpY2sgPj0gc3RhcnREYXRlVGljayAmJiBkLnRpY2sgPD0gZW5kRGF0ZVRpY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IGQuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xlYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnNlbGVjdGVkID0gTW9kZWxzLlNlbGVjdFR5cGUuTm9uZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSBnZXREYXRlRXh0cmEgJiYgZ2V0RGF0ZUV4dHJhKG5ldyBEYXRlKGQudGljaykpIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLm91dE9mRGF0ZSB8fCBpbmZvLmRpc2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW51c2VhYmxlLnB1c2goZC50aWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmluRGF0ZShzdGFydERhdGVUaWNrLCBkLnRpY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnb25lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5zZWxlY3RlZCA9IE1vZGVscy5TZWxlY3RUeXBlLlNpbmdsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZW5kRGF0ZVRpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc2VsZWN0ZWQgPSBNb2RlbHMuU2VsZWN0VHlwZS5Pbmx5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0RGF0ZVRpY2sgIT09IGVuZERhdGVUaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnNlbGVjdGVkID0gTW9kZWxzLlNlbGVjdFR5cGUuU3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnNlbGVjdGVkID0gTW9kZWxzLlNlbGVjdFR5cGUuQWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5pbkRhdGUoZW5kRGF0ZVRpY2ssIGQudGljaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5zZWxlY3RlZCA9IE1vZGVscy5TZWxlY3RUeXBlLkVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnNlbGVjdGVkID0gTW9kZWxzLlNlbGVjdFR5cGUuTWlkZGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRVcGRhdGUgPSBuZWVkVXBkYXRlIHx8IGQuc2VsZWN0ZWQgIT09IG9sZFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobmVlZFVwZGF0ZSAmJiBtLmNvbXBvbmVudFJlZikge1xuICAgICAgICAgICAgICAgICAgICBtLmNvbXBvbmVudFJlZi51cGRhdGVXZWVrcygpO1xuICAgICAgICAgICAgICAgICAgICBtLmNvbXBvbmVudFJlZi5mb3JjZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh1bnVzZWFibGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChvblNlbGVjdEhhc0Rpc2FibGVEYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0SGFzRGlzYWJsZURhdGUodW51c2VhYmxlLm1hcChmdW5jdGlvbiAodGljaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRpY2spO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdVbnVzYWJsZSBkYXRlLiBZb3UgY2FuIGhhbmRsZSBieSBvblNlbGVjdEhhc0Rpc2FibGVEYXRlLicsIHVudXNlYWJsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5jb21wdXRlVmlzaWJsZSA9IGZ1bmN0aW9uIChjbGllbnRIZWlnaHQsIHNjcm9sbFRvcCkge1xuICAgICAgICAgICAgdmFyIG5lZWRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBNQVhfVklFV19QT1JUID0gY2xpZW50SGVpZ2h0ICogMjtcbiAgICAgICAgICAgIHZhciBNSU5fVklFV19QT1JUID0gY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgLy8g5aSn57yT5Yay5Yy65aSW6L+H5ruk6KeE5YiZXG4gICAgICAgICAgICB2YXIgZmlsdGVyRnVuYyA9IGZ1bmN0aW9uIGZpbHRlckZ1bmModm0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdm0ueSAmJiB2bS5oZWlnaHQgJiYgdm0ueSArIHZtLmhlaWdodCA+IHNjcm9sbFRvcCAtIE1BWF9WSUVXX1BPUlQgJiYgdm0ueSA8IHNjcm9sbFRvcCArIGNsaWVudEhlaWdodCArIE1BWF9WSUVXX1BPUlQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLmluZmluaXRlT3B0ICYmIF90aGlzLnZpc2libGVNb250aC5sZW5ndGggPiAxMikge1xuICAgICAgICAgICAgICAgIF90aGlzLnZpc2libGVNb250aCA9IF90aGlzLnZpc2libGVNb250aC5maWx0ZXIoZmlsdGVyRnVuYykuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gK2EuZmlyc3REYXRlIC0gK2IuZmlyc3REYXRlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g5b2T5bCP57yT5Yay5Yy65LiN5ruh5pe25aGr5YWFXG4gICAgICAgICAgICBpZiAoX3RoaXMudmlzaWJsZU1vbnRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdCA9IF90aGlzLnZpc2libGVNb250aFtfdGhpcy52aXNpYmxlTW9udGgubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKGxhc3QueSAhPT0gdW5kZWZpbmVkICYmIGxhc3QuaGVpZ2h0ICYmIGxhc3QueSArIGxhc3QuaGVpZ2h0IDwgc2Nyb2xsVG9wICsgY2xpZW50SGVpZ2h0ICsgTUlOX1ZJRVdfUE9SVCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gX3RoaXMuc3RhdGUubW9udGhzLmluZGV4T2YobGFzdCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDI7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gbGFzdEluZGV4ICsgaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IF90aGlzLnN0YXRlLm1vbnRocy5sZW5ndGggJiYgX3RoaXMudmlzaWJsZU1vbnRoLmluZGV4T2YoX3RoaXMuc3RhdGUubW9udGhzW2luZGV4XSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudmlzaWJsZU1vbnRoLnB1c2goX3RoaXMuc3RhdGUubW9udGhzW2luZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNhbkxvYWROZXh0KCkgJiYgX3RoaXMuZ2VuTW9udGhEYXRhKHVuZGVmaW5lZCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBmaXJzdCA9IF90aGlzLnZpc2libGVNb250aFswXTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3QueSAhPT0gdW5kZWZpbmVkICYmIGZpcnN0LmhlaWdodCAmJiBmaXJzdC55ID4gc2Nyb2xsVG9wIC0gTUlOX1ZJRVdfUE9SVCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3RJbmRleCA9IF90aGlzLnN0YXRlLm1vbnRocy5pbmRleE9mKGZpcnN0KTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8PSAyOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2luZGV4ID0gZmlyc3RJbmRleCAtIF9pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9pbmRleCA+PSAwICYmIF90aGlzLnZpc2libGVNb250aC5pbmRleE9mKF90aGlzLnN0YXRlLm1vbnRoc1tfaW5kZXhdKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy52aXNpYmxlTW9udGgudW5zaGlmdChfdGhpcy5zdGF0ZS5tb250aHNbX2luZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnN0YXRlLm1vbnRocy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudmlzaWJsZU1vbnRoID0gX3RoaXMuc3RhdGUubW9udGhzLmZpbHRlcihmaWx0ZXJGdW5jKTtcbiAgICAgICAgICAgICAgICBuZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZWVkVXBkYXRlO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5jcmVhdGVPblNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aW1lciA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBjbGllbnRIZWlnaHQgPSAwLFxuICAgICAgICAgICAgICAgIHNjcm9sbFRvcCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xpZW50ID0gZGF0YS5jbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IGRhdGEudG9wO1xuXG4gICAgICAgICAgICAgICAgY2xpZW50SGVpZ2h0ID0gY2xpZW50O1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvcCA9IHRvcDtcbiAgICAgICAgICAgICAgICBpZiAodGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbXB1dGVWaXNpYmxlKGNsaWVudEhlaWdodCwgc2Nyb2xsVG9wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDY0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uQ2VsbENsaWNrID0gZnVuY3Rpb24gKGRheSkge1xuICAgICAgICAgICAgaWYgKCFkYXkudGljaykgcmV0dXJuO1xuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DZWxsQ2xpY2sgJiYgX3RoaXMucHJvcHMub25DZWxsQ2xpY2sobmV3IERhdGUoZGF5LnRpY2spKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBtb250aHM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBEYXRlUGlja2VyLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKHRoaXMucHJvcHMsIG5leHRQcm9wcywgWydzdGFydERhdGUnLCAnZW5kRGF0ZSddKSB8fCAhc2hhbGxvd0VxdWFsKHRoaXMuc3RhdGUsIG5leHRTdGF0ZSkgfHwgIXNoYWxsb3dFcXVhbCh0aGlzLmNvbnRleHQsIG5leHRDb250ZXh0KTtcbiAgICB9O1xuXG4gICAgRGF0ZVBpY2tlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IG5leHRQcm9wcztcbiAgICAgICAgaWYgKG9sZFZhbHVlLnN0YXJ0RGF0ZSAhPT0gbmV3VmFsdWUuc3RhcnREYXRlIHx8IG9sZFZhbHVlLmVuZERhdGUgIT09IG5ld1ZhbHVlLmVuZERhdGUpIHtcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZS5zdGFydERhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdERhdGVSYW5nZShvbGRWYWx1ZS5zdGFydERhdGUsIG9sZFZhbHVlLmVuZERhdGUsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld1ZhbHVlLnN0YXJ0RGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZVJhbmdlKG5ld1ZhbHVlLnN0YXJ0RGF0ZSwgbmV3VmFsdWUuZW5kRGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgRGF0ZVBpY2tlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIF9wcm9wcyRpbml0YWxNb250aHMgPSBfcHJvcHMuaW5pdGFsTW9udGhzLFxuICAgICAgICAgICAgaW5pdGFsTW9udGhzID0gX3Byb3BzJGluaXRhbE1vbnRocyA9PT0gdW5kZWZpbmVkID8gNiA6IF9wcm9wcyRpbml0YWxNb250aHMsXG4gICAgICAgICAgICBkZWZhdWx0RGF0ZSA9IF9wcm9wcy5kZWZhdWx0RGF0ZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRhbE1vbnRoczsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNhbkxvYWROZXh0KCkgJiYgdGhpcy5nZW5Nb250aERhdGEoZGVmYXVsdERhdGUsIGkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlzaWJsZU1vbnRoID0gW10uY29uY2F0KHRoaXMuc3RhdGUubW9udGhzKTtcbiAgICB9O1xuXG4gICAgRGF0ZVBpY2tlci5wcm90b3R5cGUuZ2V0TW9udGhEYXRlID0gZnVuY3Rpb24gZ2V0TW9udGhEYXRlKCkge1xuICAgICAgICB2YXIgZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIGFkZE1vbnRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gICAgICAgIHZhciB5ID0gZGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgbSA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0RGF0ZTogbmV3IERhdGUoeSwgbSArIGFkZE1vbnRoLCAxKSxcbiAgICAgICAgICAgIGxhc3REYXRlOiBuZXcgRGF0ZSh5LCBtICsgMSArIGFkZE1vbnRoLCAwKVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBEYXRlUGlja2VyLnByb3RvdHlwZS5jYW5Mb2FkUHJldiA9IGZ1bmN0aW9uIGNhbkxvYWRQcmV2KCkge1xuICAgICAgICB2YXIgbWluRGF0ZSA9IHRoaXMucHJvcHMubWluRGF0ZTtcblxuICAgICAgICByZXR1cm4gIW1pbkRhdGUgfHwgdGhpcy5zdGF0ZS5tb250aHMubGVuZ3RoIDw9IDAgfHwgK3RoaXMuZ2V0TW9udGhEYXRlKG1pbkRhdGUpLmZpcnN0RGF0ZSA8ICt0aGlzLnN0YXRlLm1vbnRoc1swXS5maXJzdERhdGU7XG4gICAgfTtcblxuICAgIERhdGVQaWNrZXIucHJvdG90eXBlLmNhbkxvYWROZXh0ID0gZnVuY3Rpb24gY2FuTG9hZE5leHQoKSB7XG4gICAgICAgIHZhciBtYXhEYXRlID0gdGhpcy5wcm9wcy5tYXhEYXRlO1xuXG4gICAgICAgIHJldHVybiAhbWF4RGF0ZSB8fCB0aGlzLnN0YXRlLm1vbnRocy5sZW5ndGggPD0gMCB8fCArdGhpcy5nZXRNb250aERhdGUobWF4RGF0ZSkuZmlyc3REYXRlID4gK3RoaXMuc3RhdGUubW9udGhzW3RoaXMuc3RhdGUubW9udGhzLmxlbmd0aCAtIDFdLmZpcnN0RGF0ZTtcbiAgICB9O1xuXG4gICAgRGF0ZVBpY2tlci5wcm90b3R5cGUuZ2VuTW9udGhEYXRhID0gZnVuY3Rpb24gZ2VuTW9udGhEYXRhKGRhdGUpIHtcbiAgICAgICAgdmFyIGFkZE1vbnRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gICAgICAgIGlmICghZGF0ZSkge1xuICAgICAgICAgICAgZGF0ZSA9IGFkZE1vbnRoID49IDAgPyB0aGlzLnN0YXRlLm1vbnRoc1t0aGlzLnN0YXRlLm1vbnRocy5sZW5ndGggLSAxXS5maXJzdERhdGUgOiB0aGlzLnN0YXRlLm1vbnRoc1swXS5maXJzdERhdGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRlKSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5wcm9wcy5sb2NhbGU7XG5cbiAgICAgICAgdmFyIF9nZXRNb250aERhdGUgPSB0aGlzLmdldE1vbnRoRGF0ZShkYXRlLCBhZGRNb250aCksXG4gICAgICAgICAgICBmaXJzdERhdGUgPSBfZ2V0TW9udGhEYXRlLmZpcnN0RGF0ZSxcbiAgICAgICAgICAgIGxhc3REYXRlID0gX2dldE1vbnRoRGF0ZS5sYXN0RGF0ZTtcblxuICAgICAgICB2YXIgd2Vla3MgPSB0aGlzLmdlbldlZWtEYXRhKGZpcnN0RGF0ZSk7XG4gICAgICAgIHZhciB0aXRsZSA9IGZvcm1hdERhdGUoZmlyc3REYXRlLCBsb2NhbGUgPyBsb2NhbGUubW9udGhUaXRsZSA6ICd5eXl5L01NJywgdGhpcy5wcm9wcy5sb2NhbGUpO1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgIGZpcnN0RGF0ZTogZmlyc3REYXRlLFxuICAgICAgICAgICAgbGFzdERhdGU6IGxhc3REYXRlLFxuICAgICAgICAgICAgd2Vla3M6IHdlZWtzXG4gICAgICAgIH07XG4gICAgICAgIGRhdGEuY29tcG9uZW50ID0gdGhpcy5nZW5Nb250aENvbXBvbmVudChkYXRhKTtcbiAgICAgICAgaWYgKGFkZE1vbnRoID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubW9udGhzLnB1c2goZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1vbnRocy51bnNoaWZ0KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IF9wcm9wczIuc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kRGF0ZSA9IF9wcm9wczIuZW5kRGF0ZTtcblxuICAgICAgICBpZiAoc3RhcnREYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdERhdGVSYW5nZShzdGFydERhdGUsIGVuZERhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG5cbiAgICBEYXRlUGlja2VyLnByb3RvdHlwZS5pbkRhdGUgPSBmdW5jdGlvbiBpbkRhdGUoZGF0ZSwgdGljaykge1xuICAgICAgICByZXR1cm4gZGF0ZSA8PSB0aWNrICYmIHRpY2sgPCBkYXRlICsgMjQgKiAzNjAwMDAwO1xuICAgIH07XG5cbiAgICByZXR1cm4gRGF0ZVBpY2tlcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgRGF0ZVBpY2tlcjtcblxuRGF0ZVBpY2tlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAncm1jLWNhbGVuZGFyJyxcbiAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgaW5maW5pdGVPcHQ6IGZhbHNlLFxuICAgIGRlZmF1bHREYXRlOiBuZXcgRGF0ZSgpLFxuICAgIGluaXRhbE1vbnRoczogNixcbiAgICBsb2NhbGU6IGRlZmF1bHRMb2NhbGVcbn07IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIFdlZWtQYW5lbCA9IGZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhXZWVrUGFuZWwsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFdlZWtQYW5lbChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2Vla1BhbmVsKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JFB1cmVDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuICAgIH1cblxuICAgIFdlZWtQYW5lbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5wcm9wcy5sb2NhbGU7XG4gICAgICAgIHZhciB3ZWVrID0gbG9jYWxlLndlZWs7XG5cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwid2Vlay1wYW5lbFwiIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwiY2VsbCBjZWxsLWdyZXlcIiB9LFxuICAgICAgICAgICAgICAgIHdlZWtbMF1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwiY2VsbFwiIH0sXG4gICAgICAgICAgICAgICAgd2Vla1sxXVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJjZWxsXCIgfSxcbiAgICAgICAgICAgICAgICB3ZWVrWzJdXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImNlbGxcIiB9LFxuICAgICAgICAgICAgICAgIHdlZWtbM11cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwiY2VsbFwiIH0sXG4gICAgICAgICAgICAgICAgd2Vla1s0XVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJjZWxsXCIgfSxcbiAgICAgICAgICAgICAgICB3ZWVrWzVdXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImNlbGwgY2VsbC1ncmV5XCIgfSxcbiAgICAgICAgICAgICAgICB3ZWVrWzZdXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBXZWVrUGFuZWw7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBXZWVrUGFuZWw7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1vZGVscyB9IGZyb20gJy4vRGF0YVR5cGVzJztcblxudmFyIFNpbmdsZU1vbnRoID0gZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFNpbmdsZU1vbnRoLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBTaW5nbGVNb250aChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2luZ2xlTW9udGgpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRQdXJlQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5nZW5XZWVrID0gZnVuY3Rpb24gKHdlZWtzRGF0YSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGdldERhdGVFeHRyYSA9IF90aGlzJHByb3BzLmdldERhdGVFeHRyYSxcbiAgICAgICAgICAgICAgICBtb250aERhdGEgPSBfdGhpcyRwcm9wcy5tb250aERhdGEsXG4gICAgICAgICAgICAgICAgb25DZWxsQ2xpY2sgPSBfdGhpcyRwcm9wcy5vbkNlbGxDbGljayxcbiAgICAgICAgICAgICAgICBsb2NhbGUgPSBfdGhpcyRwcm9wcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgcm93U2l6ZSA9IF90aGlzJHByb3BzLnJvd1NpemU7XG5cbiAgICAgICAgICAgIHZhciByb3dDbHMgPSAncm93JztcbiAgICAgICAgICAgIGlmIChyb3dTaXplID09PSAneGwnKSB7XG4gICAgICAgICAgICAgICAgcm93Q2xzICs9ICcgcm93LXhsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnN0YXRlLndlZWtDb21wb25lbnRzW2luZGV4XSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBrZXk6IGluZGV4LCBjbGFzc05hbWU6IHJvd0NscyB9LFxuICAgICAgICAgICAgICAgIHdlZWtzRGF0YS5tYXAoZnVuY3Rpb24gKGRheSwgZGF5T2ZXZWVrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBleHRyYSA9IGdldERhdGVFeHRyYSAmJiBnZXREYXRlRXh0cmEobmV3IERhdGUoZGF5LnRpY2spKSB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSBleHRyYS5pbmZvO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzYWJsZSA9IGV4dHJhLmRpc2FibGUgfHwgZGF5Lm91dE9mRGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNscyA9ICdkYXRlJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxDbHMgPSAnbGVmdCc7XG4gICAgICAgICAgICAgICAgICAgIHZhciByQ2xzID0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZm9DbHMgPSAnaW5mbyc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXlPZldlZWsgPT09IDAgfHwgZGF5T2ZXZWVrID09PSA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHMgKz0gJyBncmV5JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xzICs9ICcgZGlzYWJsZSc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xzICs9ICcgaW1wb3J0YW50JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF5LnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHMgKz0gJyBkYXRlLXNlbGVjdGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZVR5cGUgPSBkYXkuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0eWxlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZWxzLlNlbGVjdFR5cGUuT25seTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mbyA9IGxvY2FsZS5iZWdpbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0NscyArPSAnIGRhdGUtc2VsZWN0ZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVscy5TZWxlY3RUeXBlLkFsbDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mbyA9IGxvY2FsZS5iZWdpbl9vdmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvQ2xzICs9ICcgZGF0ZS1zZWxlY3RlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZWxzLlNlbGVjdFR5cGUuU3RhcnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8gPSBsb2NhbGUuYmVnaW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm9DbHMgKz0gJyBkYXRlLXNlbGVjdGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRheU9mV2VlayA9PT0gNiB8fCBkYXkuaXNMYXN0T2ZNb250aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVUeXBlID0gTW9kZWxzLlNlbGVjdFR5cGUuQWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZWxzLlNlbGVjdFR5cGUuTWlkZGxlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF5T2ZXZWVrID09PSAwIHx8IGRheS5pc0ZpcnN0T2ZNb250aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRheS5pc0xhc3RPZk1vbnRoIHx8IGRheU9mV2VlayA9PT0gNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlVHlwZSA9IE1vZGVscy5TZWxlY3RUeXBlLkFsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVUeXBlID0gTW9kZWxzLlNlbGVjdFR5cGUuU3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF5T2ZXZWVrID09PSA2IHx8IGRheS5pc0xhc3RPZk1vbnRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVR5cGUgPSBNb2RlbHMuU2VsZWN0VHlwZS5FbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlbHMuU2VsZWN0VHlwZS5FbmQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8gPSBsb2NhbGUub3ZlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0NscyArPSAnIGRhdGUtc2VsZWN0ZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF5T2ZXZWVrID09PSAwIHx8IGRheS5pc0ZpcnN0T2ZNb250aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVUeXBlID0gTW9kZWxzLlNlbGVjdFR5cGUuQWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdHlsZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVscy5TZWxlY3RUeXBlLlNpbmdsZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVscy5TZWxlY3RUeXBlLk9ubHk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlbHMuU2VsZWN0VHlwZS5BbGw6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNscyArPSAnIHNlbGVjdGVkLXNpbmdsZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZWxzLlNlbGVjdFR5cGUuU3RhcnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNscyArPSAnIHNlbGVjdGVkLXN0YXJ0JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgckNscyArPSAnIGRhdGUtc2VsZWN0ZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVscy5TZWxlY3RUeXBlLk1pZGRsZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xzICs9ICcgc2VsZWN0ZWQtbWlkZGxlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbENscyArPSAnIGRhdGUtc2VsZWN0ZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByQ2xzICs9ICcgZGF0ZS1zZWxlY3RlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZWxzLlNlbGVjdFR5cGUuRW5kOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbHMgKz0gJyBzZWxlY3RlZC1lbmQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsQ2xzICs9ICcgZGF0ZS1zZWxlY3RlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0Q29udGVudCA9IFtSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogJ3dyYXBwZXInLCBjbGFzc05hbWU6ICdkYXRlLXdyYXBwZXInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IGxDbHMgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbHMgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXkuZGF5T2ZNb250aFxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogckNscyB9KVxuICAgICAgICAgICAgICAgICAgICApLCBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogJ2luZm8nLCBjbGFzc05hbWU6IGluZm9DbHMgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm9cbiAgICAgICAgICAgICAgICAgICAgKV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogZGF5T2ZXZWVrLCBjbGFzc05hbWU6ICdjZWxsICcgKyAoZXh0cmEuY2VsbENscyB8fCAnJyksIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFkaXNhYmxlICYmIG9uQ2VsbENsaWNrICYmIG9uQ2VsbENsaWNrKGRheSwgbW9udGhEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYS5jZWxsUmVuZGVyID8gZXh0cmEuY2VsbFJlbmRlcihuZXcgRGF0ZShkYXkudGljaykpIDogZGVmYXVsdENvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudXBkYXRlV2Vla3MgPSBmdW5jdGlvbiAobW9udGhEYXRhKSB7XG4gICAgICAgICAgICAobW9udGhEYXRhIHx8IF90aGlzLnByb3BzLm1vbnRoRGF0YSkud2Vla3MuZm9yRWFjaChmdW5jdGlvbiAod2VlaywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5nZW5XZWVrKHdlZWssIGluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zZXRXYXJwcGVyID0gZnVuY3Rpb24gKGRvbSkge1xuICAgICAgICAgICAgX3RoaXMud3JhcHBlckRpdkRPTSA9IGRvbTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB3ZWVrQ29tcG9uZW50czogW11cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFNpbmdsZU1vbnRoLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMucHJvcHMubW9udGhEYXRhLndlZWtzLmZvckVhY2goZnVuY3Rpb24gKHdlZWssIGluZGV4KSB7XG4gICAgICAgICAgICBfdGhpczIuZ2VuV2Vlayh3ZWVrLCBpbmRleCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBTaW5nbGVNb250aC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1vbnRoRGF0YSAhPT0gbmV4dFByb3BzLm1vbnRoRGF0YSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVXZWVrcyhuZXh0UHJvcHMubW9udGhEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTaW5nbGVNb250aC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgdGl0bGUgPSB0aGlzLnByb3BzLm1vbnRoRGF0YS50aXRsZTtcbiAgICAgICAgdmFyIHdlZWtDb21wb25lbnRzID0gdGhpcy5zdGF0ZS53ZWVrQ29tcG9uZW50cztcblxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzaW5nbGUtbW9udGgnLCByZWY6IHRoaXMuc2V0V2FycHBlciB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ21vbnRoLXRpdGxlJyB9LFxuICAgICAgICAgICAgICAgIHRpdGxlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2RhdGUnIH0sXG4gICAgICAgICAgICAgICAgd2Vla0NvbXBvbmVudHNcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNpbmdsZU1vbnRoO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgU2luZ2xlTW9udGg7XG5cblNpbmdsZU1vbnRoLmRlZmF1bHRQcm9wcyA9IHtcbiAgICByb3dTaXplOiAnbm9ybWFsJ1xufTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL0RhdGVQaWNrZXIuYmFzZSc7XG5pbXBvcnQgV2Vla1BhbmVsIGZyb20gJy4vZGF0ZS9XZWVrUGFuZWwnO1xuaW1wb3J0IFNpbmdsZU1vbnRoIGZyb20gJy4vZGF0ZS9TaW5nbGVNb250aCc7XG5cbnZhciBEYXRlUGlja2VyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRGF0ZVBpY2tlciwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEYXRlUGlja2VyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZVBpY2tlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICBfdGhpcy50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgX3RoaXMuZ2VuTW9udGhDb21wb25lbnQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTaW5nbGVNb250aCwgeyBrZXk6IGRhdGEudGl0bGUsIGxvY2FsZTogX3RoaXMucHJvcHMubG9jYWxlIHx8IHt9LCBtb250aERhdGE6IGRhdGEsIHJvd1NpemU6IF90aGlzLnByb3BzLnJvd1NpemUsIG9uQ2VsbENsaWNrOiBfdGhpcy5vbkNlbGxDbGljaywgZ2V0RGF0ZUV4dHJhOiBfdGhpcy5wcm9wcy5nZXREYXRlRXh0cmEsIHJlZjogZnVuY3Rpb24gcmVmKGRvbSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRT86IHNvbWV0aW1lcyB3aWxsIGNhbGxiYWNrIHR3aWNlLCBhbmQgdGhlIHNlY29uZCBpcyBudWxsLCB3aGVuIHVzZSBwcmVhY3QuXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuY29tcG9uZW50UmVmID0gZG9tIHx8IGRhdGEuY29tcG9uZW50UmVmIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51cGRhdGVMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb21wdXRlSGVpZ2h0KGRhdGEsIGRvbSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudXBkYXRlTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuY29tcHV0ZUhlaWdodCA9IGZ1bmN0aW9uIChkYXRhLCBzaW5nbGVNb250aCkge1xuICAgICAgICAgICAgaWYgKHNpbmdsZU1vbnRoICYmIHNpbmdsZU1vbnRoLndyYXBwZXJEaXZET00pIHtcbiAgICAgICAgICAgICAgICAvLyBwcmVhY3QsIHJlZuaXtmRvbeacieWPr+iDveaXoGhlaWdodCwgb2Zmc2V0VG9w5pWw5o2u44CCXG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmhlaWdodCAmJiAhc2luZ2xlTW9udGgud3JhcHBlckRpdkRPTS5jbGllbnRIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29tcHV0ZUhlaWdodChkYXRhLCBzaW5nbGVNb250aCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YS5oZWlnaHQgPSBzaW5nbGVNb250aC53cmFwcGVyRGl2RE9NLmNsaWVudEhlaWdodCB8fCBkYXRhLmhlaWdodCB8fCAwO1xuICAgICAgICAgICAgICAgIGRhdGEueSA9IHNpbmdsZU1vbnRoLndyYXBwZXJEaXZET00ub2Zmc2V0VG9wIHx8IGRhdGEueSB8fCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zZXRMYXlvdXQgPSBmdW5jdGlvbiAoZG9tKSB7XG4gICAgICAgICAgICBpZiAoZG9tKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9uTGF5b3V0ID0gX3RoaXMucHJvcHMub25MYXlvdXQ7XG5cbiAgICAgICAgICAgICAgICBvbkxheW91dCAmJiBvbkxheW91dChkb20uY2xpZW50SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsSGFuZGxlciA9IF90aGlzLmNyZWF0ZU9uU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgZG9tLm9uc2Nyb2xsID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxIYW5kbGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudDogZG9tLmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGw6IGV2dC5jdXJyZW50VGFyZ2V0LmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZXZ0LmN1cnJlbnRUYXJnZXQuc2Nyb2xsVG9wXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnNldFBhbmVsID0gZnVuY3Rpb24gKGRvbSkge1xuICAgICAgICAgICAgX3RoaXMucGFuZWwgPSBkb207XG4gICAgICAgIH07XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptZW1iZXItb3JkZXJpbmdcbiAgICAgICAgX3RoaXMudG91Y2hIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGluaXREZWx0YSA9IDA7XG4gICAgICAgICAgICB2YXIgbGFzdFkgPSAwO1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gaW5pdERlbHRhO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ6IGZ1bmN0aW9uIG9uVG91Y2hTdGFydChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFkgPSBldnQudG91Y2hlc1swXS5zY3JlZW5ZO1xuICAgICAgICAgICAgICAgICAgICBkZWx0YSA9IGluaXREZWx0YTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVG91Y2hNb3ZlOiBmdW5jdGlvbiBvblRvdWNoTW92ZShldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZSA9IGV2dC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNSZWFjaFRvcCA9IGVsZS5zY3JvbGxUb3AgPT09IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1JlYWNoVG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YSA9IGV2dC50b3VjaGVzWzBdLnNjcmVlblkgLSBsYXN0WTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWx0YSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPiA4MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWx0YSA9IDgwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGEgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0VHJhbnNmb3JtKF90aGlzLnBhbmVsLnN0eWxlLCAndHJhbnNsYXRlM2QoMCwnICsgZGVsdGEgKyAncHgsMCknKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Ub3VjaEVuZDogZnVuY3Rpb24gb25Ub3VjaEVuZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudG91Y2hIYW5kbGVyLm9uRmluaXNoKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblRvdWNoQ2FuY2VsOiBmdW5jdGlvbiBvblRvdWNoQ2FuY2VsKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50b3VjaEhhbmRsZXIub25GaW5pc2goKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uRmluaXNoOiBmdW5jdGlvbiBvbkZpbmlzaCgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhID4gNDAgJiYgX3RoaXMuY2FuTG9hZFByZXYoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2VuTW9udGhEYXRhKF90aGlzLnN0YXRlLm1vbnRoc1swXS5maXJzdERhdGUsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnZpc2libGVNb250aCA9IF90aGlzLnN0YXRlLm1vbnRocy5zbGljZSgwLCBfdGhpcy5wcm9wcy5pbml0YWxNb250aHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdGUubW9udGhzLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLnVwZGF0ZUxheW91dCAmJiBtLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFRyYW5zZm9ybShfdGhpcy5wYW5lbC5zdHlsZSwgJ3RyYW5zbGF0ZTNkKDAsMCwwKScpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRUcmFuc2l0aW9uKF90aGlzLnBhbmVsLnN0eWxlLCAnLjNzJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFuZWwgJiYgX3RoaXMuc2V0VHJhbnNpdGlvbihfdGhpcy5wYW5lbC5zdHlsZSwgJycpO1xuICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0oKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIERhdGVQaWNrZXIucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybShub2RlU3R5bGUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdmFsdWU7XG4gICAgICAgIG5vZGVTdHlsZS50cmFuc2Zvcm0gPSB2YWx1ZTtcbiAgICAgICAgbm9kZVN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBEYXRlUGlja2VyLnByb3RvdHlwZS5zZXRUcmFuc2l0aW9uID0gZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihub2RlU3R5bGUsIHZhbHVlKSB7XG4gICAgICAgIG5vZGVTdHlsZS50cmFuc2l0aW9uID0gdmFsdWU7XG4gICAgICAgIG5vZGVTdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gdmFsdWU7XG4gICAgfTtcblxuICAgIERhdGVQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBfcHJvcHMkcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcyRwcmVmaXhDbHMgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJHByZWZpeENscyxcbiAgICAgICAgICAgIF9wcm9wcyRsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgICAgbG9jYWxlID0gX3Byb3BzJGxvY2FsZSA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkbG9jYWxlO1xuXG4gICAgICAgIHZhciBzdHlsZSA9IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy50cmFuc2Zvcm1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnIGRhdGUtcGlja2VyJyB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChXZWVrUGFuZWwsIHsgbG9jYWxlOiBsb2NhbGUgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnd3JhcHBlcicsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1g6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAndmlzaWJsZSdcbiAgICAgICAgICAgICAgICAgICAgfSwgcmVmOiB0aGlzLnNldExheW91dCwgb25Ub3VjaFN0YXJ0OiB0aGlzLnRvdWNoSGFuZGxlci5vblRvdWNoU3RhcnQsIG9uVG91Y2hNb3ZlOiB0aGlzLnRvdWNoSGFuZGxlci5vblRvdWNoTW92ZSwgb25Ub3VjaEVuZDogdGhpcy50b3VjaEhhbmRsZXIub25Ub3VjaEVuZCwgb25Ub3VjaENhbmNlbDogdGhpcy50b3VjaEhhbmRsZXIub25Ub3VjaENhbmNlbCB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiBzdHlsZSwgcmVmOiB0aGlzLnNldFBhbmVsIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuTG9hZFByZXYoKSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2xvYWQtdGlwJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlLmxvYWRQcmV2TW9udGhcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdtb250aHMnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLm1vbnRocy5tYXAoZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGlkZGVuID0gbS5oZWlnaHQgJiYgX3RoaXMyLnZpc2libGVNb250aC5pbmRleE9mKG0pIDwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGtleTogbS50aXRsZSArICdfc2hhbGxvdycsIHN0eWxlOiB7IGhlaWdodDogbS5oZWlnaHQgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uY29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIERhdGVQaWNrZXI7XG59KENvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IERhdGVQaWNrZXI7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGZvcm1hdERhdGUgYXMgX2Zvcm1hdERhdGUgfSBmcm9tICcuLi91dGlsJztcblxudmFyIENvbmZpcm1QYW5lbCA9IGZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhDb25maXJtUGFuZWwsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIENvbmZpcm1QYW5lbCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbmZpcm1QYW5lbCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JFB1cmVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMub25Db25maXJtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgb25Db25maXJtID0gX3RoaXMkcHJvcHMub25Db25maXJtLFxuICAgICAgICAgICAgICAgIGRpc2FibGVCdG4gPSBfdGhpcyRwcm9wcy5kaXNhYmxlQnRuO1xuXG4gICAgICAgICAgICAhZGlzYWJsZUJ0biAmJiBvbkNvbmZpcm0oKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIENvbmZpcm1QYW5lbC5wcm90b3R5cGUuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIF9wcm9wcyRmb3JtYXRTdHIgPSBfcHJvcHMuZm9ybWF0U3RyLFxuICAgICAgICAgICAgZm9ybWF0U3RyID0gX3Byb3BzJGZvcm1hdFN0ciA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkZm9ybWF0U3RyLFxuICAgICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZTtcblxuICAgICAgICByZXR1cm4gX2Zvcm1hdERhdGUoZGF0ZSwgZm9ybWF0U3RyLCBsb2NhbGUpO1xuICAgIH07XG5cbiAgICBDb25maXJtUGFuZWwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgdHlwZSA9IF9wcm9wczIudHlwZSxcbiAgICAgICAgICAgIGxvY2FsZSA9IF9wcm9wczIubG9jYWxlLFxuICAgICAgICAgICAgZGlzYWJsZUJ0biA9IF9wcm9wczIuZGlzYWJsZUJ0bjtcbiAgICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgc3RhcnREYXRlVGltZSA9IF9wcm9wczMuc3RhcnREYXRlVGltZSxcbiAgICAgICAgICAgIGVuZERhdGVUaW1lID0gX3Byb3BzMy5lbmREYXRlVGltZTtcblxuICAgICAgICBpZiAoc3RhcnREYXRlVGltZSAmJiBlbmREYXRlVGltZSAmJiArc3RhcnREYXRlVGltZSA+ICtlbmREYXRlVGltZSkge1xuICAgICAgICAgICAgdmFyIHRtcCA9IHN0YXJ0RGF0ZVRpbWU7XG4gICAgICAgICAgICBzdGFydERhdGVUaW1lID0gZW5kRGF0ZVRpbWU7XG4gICAgICAgICAgICBlbmREYXRlVGltZSA9IHRtcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnRUaW1lU3RyID0gc3RhcnREYXRlVGltZSA/IHRoaXMuZm9ybWF0RGF0ZShzdGFydERhdGVUaW1lKSA6IGxvY2FsZS5ub0Nob29zZTtcbiAgICAgICAgdmFyIGVuZFRpbWVTdHIgPSBlbmREYXRlVGltZSA/IHRoaXMuZm9ybWF0RGF0ZShlbmREYXRlVGltZSkgOiBsb2NhbGUubm9DaG9vc2U7XG4gICAgICAgIHZhciBidG5DbHMgPSBkaXNhYmxlQnRuID8gJ2J1dHRvbiBidXR0b24tZGlzYWJsZScgOiAnYnV0dG9uJztcbiAgICAgICAgaWYgKHR5cGUgPT09ICdvbmUnKSB7XG4gICAgICAgICAgICBidG5DbHMgKz0gJyBidXR0b24tZnVsbCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29uZmlybS1wYW5lbCcgfSxcbiAgICAgICAgICAgIHR5cGUgPT09ICdyYW5nZScgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2luZm8nIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbGUuc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICc6ICcsXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogIXN0YXJ0RGF0ZVRpbWUgPyAnZ3JleScgOiAnJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lU3RyXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlLmVuZCxcbiAgICAgICAgICAgICAgICAgICAgJzogJyxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAhZW5kRGF0ZVRpbWUgPyAnZ3JleScgOiAnJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZVN0clxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGJ0bkNscywgb25DbGljazogdGhpcy5vbkNvbmZpcm0gfSxcbiAgICAgICAgICAgICAgICBsb2NhbGUuY29uZmlybVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ29uZmlybVBhbmVsO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlybVBhbmVsO1xuXG5Db25maXJtUGFuZWwuZGVmYXVsdFByb3BzID0ge1xuICAgIGZvcm1hdFN0cjogJ3l5eXktTU0tZGQgaGg6bW0nXG59OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnZhciBTaG9ydGN1dFBhbmVsID0gZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFNob3J0Y3V0UGFuZWwsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFNob3J0Y3V0UGFuZWwoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaG9ydGN1dFBhbmVsKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICBfdGhpcy5vbkNsaWNrID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIHZhciBvblNlbGVjdCA9IF90aGlzLnByb3BzLm9uU2VsZWN0O1xuXG4gICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndG9kYXknOlxuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdChuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCksIDApLCBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCksIDEyKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3llc3RlcmRheSc6XG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0KG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSAtIDEsIDApLCBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCkgLSAxLCAxMikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsYXN0d2Vlayc6XG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0KG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSAtIDYsIDApLCBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCksIDEyKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xhc3Rtb250aCc6XG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0KG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSAtIDI5LCAwKSwgbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSwgdG9kYXkuZ2V0RGF0ZSgpLCAxMikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFNob3J0Y3V0UGFuZWwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMucHJvcHMubG9jYWxlO1xuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3Nob3J0Y3V0LXBhbmVsJyB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2l0ZW0nLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKCd0b2RheScpO1xuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgbG9jYWxlLnRvZGF5XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2l0ZW0nLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKCd5ZXN0ZXJkYXknKTtcbiAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgIGxvY2FsZS55ZXN0ZXJkYXlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaXRlbScsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2soJ2xhc3R3ZWVrJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICBsb2NhbGUubGFzdFdlZWtcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaXRlbScsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2soJ2xhc3Rtb250aCcpO1xuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgbG9jYWxlLmxhc3RNb250aFxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2hvcnRjdXRQYW5lbDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFNob3J0Y3V0UGFuZWw7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnZhciBBbmltYXRlV3JhcHBlciA9IGZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhBbmltYXRlV3JhcHBlciwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQW5pbWF0ZVdyYXBwZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbmltYXRlV3JhcHBlcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRQdXJlQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIEFuaW1hdGVXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIGRpc3BsYXlUeXBlID0gX3Byb3BzLmRpc3BsYXlUeXBlLFxuICAgICAgICAgICAgdmlzaWJsZSA9IF9wcm9wcy52aXNpYmxlO1xuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJyBhbmltYXRlJywgc3R5bGU6IHsgZGlzcGxheTogdmlzaWJsZSA/IGRpc3BsYXlUeXBlIDogJ25vbmUnIH0gfSxcbiAgICAgICAgICAgIHZpc2libGUgJiYgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gQW5pbWF0ZVdyYXBwZXI7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBBbmltYXRlV3JhcHBlcjtcblxuQW5pbWF0ZVdyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGNsYXNzTmFtZTogJycsXG4gICAgZGlzcGxheVR5cGU6ICdmbGV4J1xufTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgSGVhZGVyID0gZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEhlYWRlciwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gSGVhZGVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JFB1cmVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgSGVhZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgdGl0bGUgPSBfcHJvcHMudGl0bGUsXG4gICAgICAgICAgICBfcHJvcHMkbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcyRsb2NhbGUgPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzJGxvY2FsZSxcbiAgICAgICAgICAgIG9uQ2FuY2VsID0gX3Byb3BzLm9uQ2FuY2VsLFxuICAgICAgICAgICAgb25DbGVhciA9IF9wcm9wcy5vbkNsZWFyLFxuICAgICAgICAgICAgc2hvd0NsZWFyID0gX3Byb3BzLnNob3dDbGVhcixcbiAgICAgICAgICAgIGNsb3NlSWNvbiA9IF9wcm9wcy5jbG9zZUljb24sXG4gICAgICAgICAgICBjbGVhckljb24gPSBfcHJvcHMuY2xlYXJJY29uO1xuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImhlYWRlclwiIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIFwic3BhblwiLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImxlZnRcIiwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvbkNhbmNlbCAmJiBvbkNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgY2xvc2VJY29uXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJ0aXRsZVwiIH0sXG4gICAgICAgICAgICAgICAgdGl0bGUgfHwgbG9jYWxlLnRpdGxlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgc2hvd0NsZWFyICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwicmlnaHRcIiwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvbkNsZWFyICYmIG9uQ2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgIGNsZWFySWNvbiB8fCBsb2NhbGUuY2xlYXJcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEhlYWRlcjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjtcblxuSGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjbG9zZUljb246ICdYJ1xufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQW5pbWF0ZSBmcm9tICdyYy1hbmltYXRlJztcbmltcG9ydCBUaW1lUGlja2VyIGZyb20gJy4vVGltZVBpY2tlcic7XG5pbXBvcnQgRGF0ZVBpY2tlciBmcm9tICcuL0RhdGVQaWNrZXInO1xuaW1wb3J0IENvbmZpcm1QYW5lbCBmcm9tICcuL2NhbGVuZGFyL0NvbmZpcm1QYW5lbCc7XG5pbXBvcnQgU2hvcnRjdXRQYW5lbCBmcm9tICcuL2NhbGVuZGFyL1Nob3J0Y3V0UGFuZWwnO1xuaW1wb3J0IEFuaW1hdGVXcmFwcGVyIGZyb20gJy4vY2FsZW5kYXIvQW5pbWF0ZVdyYXBwZXInO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuL2NhbGVuZGFyL0hlYWRlcic7XG5pbXBvcnQgeyBtZXJnZURhdGVUaW1lIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCBkZWZhdWx0TG9jYWxlIGZyb20gJy4vbG9jYWxlL3poX0NOJztcbmV4cG9ydCB2YXIgU3RhdGVUeXBlID0gZnVuY3Rpb24gU3RhdGVUeXBlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGF0ZVR5cGUpO1xuXG4gICAgdGhpcy5zaG93VGltZVBpY2tlciA9IGZhbHNlO1xuICAgIHRoaXMuc3RhcnREYXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZW5kRGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmRpc0NvbmZpcm1CdG4gPSB0cnVlO1xuICAgIHRoaXMuY2xpZW50SGlnaHQgPSAwO1xufTtcblxudmFyIENhbGVuZGFyID0gZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKENhbGVuZGFyLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDYWxlbmRhcihwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FsZW5kYXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRQdXJlQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5zZWxlY3REYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICAgIHZhciB1c2VEYXRlVGltZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICAgICAgICB2YXIgb2xkU3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBfdGhpcy5wcm9wcztcblxuICAgICAgICAgICAgaWYgKCFkYXRlKSByZXR1cm4ge307XG4gICAgICAgICAgICB2YXIgbmV3U3RhdGUgPSB7fTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gcHJvcHMudHlwZSxcbiAgICAgICAgICAgICAgICBwaWNrVGltZSA9IHByb3BzLnBpY2tUaW1lLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRUaW1lVmFsdWUgPSBwcm9wcy5kZWZhdWx0VGltZVZhbHVlLFxuICAgICAgICAgICAgICAgIF9wcm9wcyRsb2NhbGUgPSBwcm9wcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgbG9jYWxlID0gX3Byb3BzJGxvY2FsZSA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkbG9jYWxlO1xuXG4gICAgICAgICAgICB2YXIgbmV3RGF0ZSA9IHBpY2tUaW1lICYmICF1c2VEYXRlVGltZSA/IG1lcmdlRGF0ZVRpbWUoZGF0ZSwgZGVmYXVsdFRpbWVWYWx1ZSkgOiBkYXRlO1xuICAgICAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IG9sZFN0YXRlLnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gb2xkU3RhdGUuZW5kRGF0ZTtcblxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnb25lJzpcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSBfZXh0ZW5kcyh7fSwgbmV3U3RhdGUsIHsgc3RhcnREYXRlOiBuZXdEYXRlLCBkaXNDb25maXJtQnRuOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpY2tUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IF9leHRlbmRzKHt9LCBuZXdTdGF0ZSwgeyB0aW1lUGlja2VyVGl0bGU6IGxvY2FsZS5zZWxlY3RUaW1lLCBzaG93VGltZVBpY2tlcjogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyYW5nZSc6XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhcnREYXRlIHx8IGVuZERhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gX2V4dGVuZHMoe30sIG5ld1N0YXRlLCB7IHN0YXJ0RGF0ZTogbmV3RGF0ZSwgZW5kRGF0ZTogdW5kZWZpbmVkLCBkaXNDb25maXJtQnRuOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpY2tUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSBfZXh0ZW5kcyh7fSwgbmV3U3RhdGUsIHsgdGltZVBpY2tlclRpdGxlOiBsb2NhbGUuc2VsZWN0U3RhcnRUaW1lLCBzaG93VGltZVBpY2tlcjogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gX2V4dGVuZHMoe30sIG5ld1N0YXRlLCB7IHRpbWVQaWNrZXJUaXRsZTogK25ld0RhdGUgPj0gK3N0YXJ0RGF0ZSA/IGxvY2FsZS5zZWxlY3RFbmRUaW1lIDogbG9jYWxlLnNlbGVjdFN0YXJ0VGltZSwgZGlzQ29uZmlybUJ0bjogZmFsc2UsIGVuZERhdGU6IHBpY2tUaW1lICYmICF1c2VEYXRlVGltZSAmJiArbmV3RGF0ZSA+PSArc3RhcnREYXRlID8gbmV3IERhdGUoK21lcmdlRGF0ZVRpbWUobmV3RGF0ZSwgc3RhcnREYXRlKSArIDM2MDAwMDApIDogbmV3RGF0ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25TZWxlY3RlZERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gX3RoaXMkc3RhdGUuc3RhcnREYXRlLFxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBfdGhpcyRzdGF0ZS5lbmREYXRlO1xuICAgICAgICAgICAgdmFyIG9uU2VsZWN0ID0gX3RoaXMucHJvcHMub25TZWxlY3Q7XG5cbiAgICAgICAgICAgIGlmIChvblNlbGVjdCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9uU2VsZWN0KGRhdGUsIFtzdGFydERhdGUsIGVuZERhdGVdKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvcnRjdXRTZWxlY3QodmFsdWVbMF0sIHZhbHVlWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKF90aGlzLnNlbGVjdERhdGUoZGF0ZSwgZmFsc2UsIHsgc3RhcnREYXRlOiBzdGFydERhdGUsIGVuZERhdGU6IGVuZERhdGUgfSkpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vblNlbGVjdEhhc0Rpc2FibGVEYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICAgIF90aGlzLm9uQ2xlYXIoKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vblNlbGVjdEhhc0Rpc2FibGVEYXRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25TZWxlY3RIYXNEaXNhYmxlRGF0ZShkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKG5ldyBTdGF0ZVR5cGUoKSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uQ2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMub25DYW5jZWwgJiYgX3RoaXMucHJvcHMub25DYW5jZWwoKTtcbiAgICAgICAgICAgIF90aGlzLm9uQ2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25Db25maXJtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG9uQ29uZmlybSA9IF90aGlzLnByb3BzLm9uQ29uZmlybTtcbiAgICAgICAgICAgIHZhciBfdGhpcyRzdGF0ZTIgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBfdGhpcyRzdGF0ZTIuc3RhcnREYXRlLFxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBfdGhpcyRzdGF0ZTIuZW5kRGF0ZTtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0RGF0ZSAmJiBlbmREYXRlICYmICtzdGFydERhdGUgPiArZW5kRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbkNvbmZpcm0gJiYgb25Db25maXJtKGVuZERhdGUsIHN0YXJ0RGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvbkNvbmZpcm0gJiYgb25Db25maXJtKHN0YXJ0RGF0ZSwgZW5kRGF0ZSk7XG4gICAgICAgICAgICBfdGhpcy5vbkNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uVGltZUNoYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkc3RhdGUzID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gX3RoaXMkc3RhdGUzLnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gX3RoaXMkc3RhdGUzLmVuZERhdGU7XG5cbiAgICAgICAgICAgIGlmIChlbmREYXRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBlbmREYXRlOiBkYXRlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0RGF0ZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBkYXRlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uQ2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc3RhcnREYXRlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZW5kRGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHNob3dUaW1lUGlja2VyOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNsZWFyICYmIF90aGlzLnByb3BzLm9uQ2xlYXIoKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc2hvcnRjdXRTZWxlY3QgPSBmdW5jdGlvbiAoc3RhcnREYXRlLCBlbmREYXRlKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IF90aGlzLnByb3BzO1xuXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShfZXh0ZW5kcyh7IHN0YXJ0RGF0ZTogc3RhcnREYXRlIH0sIF90aGlzLnNlbGVjdERhdGUoZW5kRGF0ZSwgdHJ1ZSwgeyBzdGFydERhdGU6IHN0YXJ0RGF0ZSB9LCBwcm9wcyksIHsgc2hvd1RpbWVQaWNrZXI6IGZhbHNlIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc2V0Q2xpZW50SGVpZ2h0ID0gZnVuY3Rpb24gKGhlaWdodCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGNsaWVudEhpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IG5ldyBTdGF0ZVR5cGUoKTtcbiAgICAgICAgaWYgKHByb3BzLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gX2V4dGVuZHMoe30sIF90aGlzLnN0YXRlLCBfdGhpcy5zZWxlY3REYXRlKGRlZmF1bHRWYWx1ZVsxXSwgdHJ1ZSwgeyBzdGFydERhdGU6IGRlZmF1bHRWYWx1ZVswXSB9LCBwcm9wcykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBDYWxlbmRhci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9wcy52aXNpYmxlICYmIG5leHRQcm9wcy52aXNpYmxlICYmIG5leHRQcm9wcy5kZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvcnRjdXRTZWxlY3QobmV4dFByb3BzLmRlZmF1bHRWYWx1ZVswXSwgbmV4dFByb3BzLmRlZmF1bHRWYWx1ZVsxXSwgbmV4dFByb3BzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDYWxlbmRhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHR5cGUgPSBfcHJvcHMudHlwZSxcbiAgICAgICAgICAgIF9wcm9wcyRsb2NhbGUyID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcyRsb2NhbGUyID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wcyRsb2NhbGUyLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIHZpc2libGUgPSBfcHJvcHMudmlzaWJsZSxcbiAgICAgICAgICAgIHBpY2tUaW1lID0gX3Byb3BzLnBpY2tUaW1lLFxuICAgICAgICAgICAgc2hvd1Nob3J0Y3V0ID0gX3Byb3BzLnNob3dTaG9ydGN1dCxcbiAgICAgICAgICAgIHJlbmRlckhlYWRlciA9IF9wcm9wcy5yZW5kZXJIZWFkZXIsXG4gICAgICAgICAgICBpbmZpbml0ZU9wdCA9IF9wcm9wcy5pbmZpbml0ZU9wdCxcbiAgICAgICAgICAgIGluaXRhbE1vbnRocyA9IF9wcm9wcy5pbml0YWxNb250aHMsXG4gICAgICAgICAgICBkZWZhdWx0RGF0ZSA9IF9wcm9wcy5kZWZhdWx0RGF0ZSxcbiAgICAgICAgICAgIG1pbkRhdGUgPSBfcHJvcHMubWluRGF0ZSxcbiAgICAgICAgICAgIG1heERhdGUgPSBfcHJvcHMubWF4RGF0ZSxcbiAgICAgICAgICAgIGdldERhdGVFeHRyYSA9IF9wcm9wcy5nZXREYXRlRXh0cmEsXG4gICAgICAgICAgICByb3dTaXplID0gX3Byb3BzLnJvd1NpemUsXG4gICAgICAgICAgICBkZWZhdWx0VGltZVZhbHVlID0gX3Byb3BzLmRlZmF1bHRUaW1lVmFsdWUsXG4gICAgICAgICAgICByZW5kZXJTaG9ydGN1dCA9IF9wcm9wcy5yZW5kZXJTaG9ydGN1dCxcbiAgICAgICAgICAgIGVudGVyRGlyZWN0aW9uID0gX3Byb3BzLmVudGVyRGlyZWN0aW9uLFxuICAgICAgICAgICAgdGltZVBpY2tlclByZWZpeENscyA9IF9wcm9wcy50aW1lUGlja2VyUHJlZml4Q2xzLFxuICAgICAgICAgICAgdGltZVBpY2tlclBpY2tlclByZWZpeENscyA9IF9wcm9wcy50aW1lUGlja2VyUGlja2VyUHJlZml4Q2xzLFxuICAgICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGU7XG4gICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgc2hvd1RpbWVQaWNrZXIgPSBfc3RhdGUuc2hvd1RpbWVQaWNrZXIsXG4gICAgICAgICAgICB0aW1lUGlja2VyVGl0bGUgPSBfc3RhdGUudGltZVBpY2tlclRpdGxlLFxuICAgICAgICAgICAgc3RhcnREYXRlID0gX3N0YXRlLnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgIGVuZERhdGUgPSBfc3RhdGUuZW5kRGF0ZSxcbiAgICAgICAgICAgIGRpc0NvbmZpcm1CdG4gPSBfc3RhdGUuZGlzQ29uZmlybUJ0bixcbiAgICAgICAgICAgIGNsaWVudEhpZ2h0ID0gX3N0YXRlLmNsaWVudEhpZ2h0O1xuXG4gICAgICAgIHZhciBoZWFkZXJQcm9wcyA9IHtcbiAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgICAgc2hvd0NsZWFyOiAhIXN0YXJ0RGF0ZSxcbiAgICAgICAgICAgIG9uQ2FuY2VsOiB0aGlzLm9uQ2FuY2VsLFxuICAgICAgICAgICAgb25DbGVhcjogdGhpcy5vbkNsZWFyXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJycgKyBwcmVmaXhDbHMsIHN0eWxlOiBzdHlsZSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBBbmltYXRlLFxuICAgICAgICAgICAgICAgIHsgc2hvd1Byb3A6ICd2aXNpYmxlJywgdHJhbnNpdGlvbk5hbWU6ICdmYWRlJyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQW5pbWF0ZVdyYXBwZXIsIHsgY2xhc3NOYW1lOiAnbWFzaycsIHZpc2libGU6ICEhdmlzaWJsZSB9KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgQW5pbWF0ZSxcbiAgICAgICAgICAgICAgICB7IHNob3dQcm9wOiAndmlzaWJsZScsIHRyYW5zaXRpb25OYW1lOiBlbnRlckRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ3NsaWRlSCcgOiAnc2xpZGVWJyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIEFuaW1hdGVXcmFwcGVyLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbnRlbnQnLCB2aXNpYmxlOiAhIXZpc2libGUgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVySGVhZGVyID8gcmVuZGVySGVhZGVyKGhlYWRlclByb3BzKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyLCBoZWFkZXJQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGF0ZVBpY2tlciwgeyBsb2NhbGU6IGxvY2FsZSwgdHlwZTogdHlwZSwgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGluZmluaXRlT3B0OiBpbmZpbml0ZU9wdCwgaW5pdGFsTW9udGhzOiBpbml0YWxNb250aHMsIGRlZmF1bHREYXRlOiBkZWZhdWx0RGF0ZSwgbWluRGF0ZTogbWluRGF0ZSwgbWF4RGF0ZTogbWF4RGF0ZSwgZ2V0RGF0ZUV4dHJhOiBnZXREYXRlRXh0cmEsIG9uQ2VsbENsaWNrOiB0aGlzLm9uU2VsZWN0ZWREYXRlLCBvblNlbGVjdEhhc0Rpc2FibGVEYXRlOiB0aGlzLm9uU2VsZWN0SGFzRGlzYWJsZURhdGUsIG9uTGF5b3V0OiB0aGlzLnNldENsaWVudEhlaWdodCwgc3RhcnREYXRlOiBzdGFydERhdGUsIGVuZERhdGU6IGVuZERhdGUsIHJvd1NpemU6IHJvd1NpemUgfSksXG4gICAgICAgICAgICAgICAgICAgIHNob3dUaW1lUGlja2VyICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGltZVBpY2tlciwgeyBwcmVmaXhDbHM6IHRpbWVQaWNrZXJQcmVmaXhDbHMsIHBpY2tlclByZWZpeENsczogdGltZVBpY2tlclBpY2tlclByZWZpeENscywgbG9jYWxlOiBsb2NhbGUsIHRpdGxlOiB0aW1lUGlja2VyVGl0bGUsIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFRpbWVWYWx1ZSwgdmFsdWU6IGVuZERhdGUgPyBlbmREYXRlIDogc3RhcnREYXRlLCBvblZhbHVlQ2hhbmdlOiB0aGlzLm9uVGltZUNoYW5nZSwgbWluRGF0ZTogbWluRGF0ZSwgbWF4RGF0ZTogbWF4RGF0ZSwgY2xpZW50SGVpZ2h0OiBjbGllbnRIaWdodCB9KSxcbiAgICAgICAgICAgICAgICAgICAgc2hvd1Nob3J0Y3V0ICYmICFzaG93VGltZVBpY2tlciAmJiAocmVuZGVyU2hvcnRjdXQgPyByZW5kZXJTaG9ydGN1dCh0aGlzLnNob3J0Y3V0U2VsZWN0KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2hvcnRjdXRQYW5lbCwgeyBsb2NhbGU6IGxvY2FsZSwgb25TZWxlY3Q6IHRoaXMuc2hvcnRjdXRTZWxlY3QgfSkpLFxuICAgICAgICAgICAgICAgICAgICBzdGFydERhdGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChDb25maXJtUGFuZWwsIHsgdHlwZTogdHlwZSwgbG9jYWxlOiBsb2NhbGUsIHN0YXJ0RGF0ZVRpbWU6IHN0YXJ0RGF0ZSwgZW5kRGF0ZVRpbWU6IGVuZERhdGUsIG9uQ29uZmlybTogdGhpcy5vbkNvbmZpcm0sIGRpc2FibGVCdG46IGRpc0NvbmZpcm1CdG4sIGZvcm1hdFN0cjogcGlja1RpbWUgPyBsb2NhbGUuZGF0ZVRpbWVGb3JtYXQgOiBsb2NhbGUuZGF0ZUZvcm1hdCB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbGVuZGFyO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FsZW5kYXI7XG5cbkNhbGVuZGFyLkRlZmF1bHRIZWFkZXIgPSBIZWFkZXI7XG5DYWxlbmRhci5EZWZhdWx0U2hvcnRjdXQgPSBTaG9ydGN1dFBhbmVsO1xuQ2FsZW5kYXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHZpc2libGU6IGZhbHNlLFxuICAgIHNob3dIZWFkZXI6IHRydWUsXG4gICAgbG9jYWxlOiBkZWZhdWx0TG9jYWxlLFxuICAgIHBpY2tUaW1lOiBmYWxzZSxcbiAgICBzaG93U2hvcnRjdXQ6IGZhbHNlLFxuICAgIHByZWZpeENsczogJ3JtYy1jYWxlbmRhcicsXG4gICAgdHlwZTogJ3JhbmdlJyxcbiAgICBkZWZhdWx0VGltZVZhbHVlOiBuZXcgRGF0ZSgyMDAwLCAwLCAxLCA4KVxufTsiLCJ2YXIgbG9jYWxlID0ge1xuICAgIHRpdGxlOiAnQ2FsZW5kYXInLFxuICAgIHRvZGF5OiAnVG9kYXknLFxuICAgIG1vbnRoOiAnTW9udGgnLFxuICAgIHllYXI6ICdZZWFyJyxcbiAgICBhbTogJ0FNJyxcbiAgICBwbTogJ1BNJyxcbiAgICBkYXRlVGltZUZvcm1hdDogJ01NL2RkL3l5eXkgdyBoaDptbScsXG4gICAgZGF0ZUZvcm1hdDogJ3l5eXkvTU0vZGQgdycsXG4gICAgbm9DaG9vc2U6ICdObyBDaG9vc2UnLFxuICAgIHdlZWs6IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGaXInLCAnU2F0J10sXG4gICAgY2xlYXI6ICdDbGVhcicsXG4gICAgc2VsZWN0VGltZTogJ1NlbGVjdCBUaW1lJyxcbiAgICBzZWxlY3RTdGFydFRpbWU6ICdTZWxlY3QgU3RhcnQgVGltZScsXG4gICAgc2VsZWN0RW5kVGltZTogJ1NlbGVjdCBFbmQgVGltZScsXG4gICAgc3RhcnQ6ICdTdGFydCcsXG4gICAgZW5kOiAnRW5kJyxcbiAgICBiZWdpbjogJ1N0YXJ0JyxcbiAgICBvdmVyOiAnRW5kJyxcbiAgICBiZWdpbl9vdmVyOiAnUy9FJyxcbiAgICBjb25maXJtOiAnQ29uZmlybScsXG4gICAgbW9udGhUaXRsZTogJ3l5eXkvTU0nLFxuICAgIGxvYWRQcmV2TW9udGg6ICdMb2FkIFByZXYgTW9udGgnLFxuICAgIHllc3RlcmRheTogJ1llc3RlcmRheScsXG4gICAgbGFzdFdlZWs6ICdMYXN0IFdlZWsnLFxuICAgIGxhc3RNb250aDogJ0xhc3QgTW9udGgnXG59O1xuZXhwb3J0IGRlZmF1bHQgbG9jYWxlOyIsImV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FsZW5kYXIgfSBmcm9tICcuL0NhbGVuZGFyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGF0ZVBpY2tlciB9IGZyb20gJy4vRGF0ZVBpY2tlcic7XG5pbXBvcnQgemhDTiBmcm9tICcuL2xvY2FsZS96aF9DTic7XG5pbXBvcnQgZW5VUyBmcm9tICcuL2xvY2FsZS9lbl9VUyc7XG52YXIgTG9jYWxlID0geyB6aENOOiB6aENOLCBlblVTOiBlblVTIH07XG5leHBvcnQgeyBMb2NhbGUgfTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvbmVudExvY2FsZShwcm9wcywgY29udGV4dCwgY29tcG9uZW50TmFtZSwgZ2V0RGVmYXVsdExvY2FsZSkge1xuICAgIHZhciBsb2NhbGUgPSB7fTtcbiAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0LmFudExvY2FsZSAmJiBjb250ZXh0LmFudExvY2FsZVtjb21wb25lbnROYW1lXSkge1xuICAgICAgICBsb2NhbGUgPSBjb250ZXh0LmFudExvY2FsZVtjb21wb25lbnROYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZGVmYXVsdExvY2FsZSA9IGdldERlZmF1bHRMb2NhbGUoKTtcbiAgICAgICAgLy8gVE9ETzogbWFrZSBkZWZhdWx0IGxhbmcgb2YgYW50ZCBiZSBFbmdsaXNoXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzYzMzRcbiAgICAgICAgbG9jYWxlID0gZGVmYXVsdExvY2FsZVsnZGVmYXVsdCddIHx8IGRlZmF1bHRMb2NhbGU7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBfZXh0ZW5kcyh7fSwgbG9jYWxlKTtcbiAgICBpZiAocHJvcHMubG9jYWxlKSB7XG4gICAgICAgIHJlc3VsdCA9IF9leHRlbmRzKHt9LCByZXN1bHQsIHByb3BzLmxvY2FsZSk7XG4gICAgICAgIGlmIChwcm9wcy5sb2NhbGUubGFuZykge1xuICAgICAgICAgICAgcmVzdWx0LmxhbmcgPSBfZXh0ZW5kcyh7fSwgbG9jYWxlLmxhbmcsIHByb3BzLmxvY2FsZS5sYW5nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExvY2FsZUNvZGUoY29udGV4dCkge1xuICAgIHZhciBsb2NhbGVDb2RlID0gY29udGV4dC5hbnRMb2NhbGUgJiYgY29udGV4dC5hbnRMb2NhbGUubG9jYWxlO1xuICAgIC8vIEhhZCB1c2UgTG9jYWxlUHJvdmlkZSBidXQgZGlkbid0IHNldCBsb2NhbGVcbiAgICBpZiAoY29udGV4dC5hbnRMb2NhbGUgJiYgY29udGV4dC5hbnRMb2NhbGUuZXhpc3QgJiYgIWxvY2FsZUNvZGUpIHtcbiAgICAgICAgcmV0dXJuICd6aC1jbic7XG4gICAgfVxuICAgIHJldHVybiBsb2NhbGVDb2RlO1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDYWxlbmRhciBhcyBSTUNhbGVuZGFyIH0gZnJvbSAncm1jLWNhbGVuZGFyJztcbmltcG9ydCB7IGdldENvbXBvbmVudExvY2FsZSB9IGZyb20gJy4uL191dGlsL2dldExvY2FsZSc7XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9pY29uJztcblxudmFyIENhbGVuZGFyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQ2FsZW5kYXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYWxlbmRhcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDYWxlbmRhci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENhbGVuZGFyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENhbGVuZGFyLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRoaXMtYXNzaWdubWVudFxuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgICAgICB2YXIgbG9jYWxlID0gZ2V0Q29tcG9uZW50TG9jYWxlKHByb3BzLCBjb250ZXh0LCAnQ2FsZW5kYXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmUoJy4vbG9jYWxlL3poX0NOJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBIZWFkZXIgPSBSTUNhbGVuZGFyLkRlZmF1bHRIZWFkZXI7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSTUNhbGVuZGFyLCBfZXh0ZW5kcyh7IGxvY2FsZTogbG9jYWxlXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmpzeC1uby1tdWx0aWxpbmUtanNcbiAgICAgICAgICAgICAgICAsIHJlbmRlckhlYWRlcjogZnVuY3Rpb24gcmVuZGVySGVhZGVyKGhlYWRlclByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlciwgX2V4dGVuZHMoe30sIGhlYWRlclByb3BzLCB7IGNsb3NlSWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7IHR5cGU6ICdjcm9zcycgfSkgfSkpO1xuICAgICAgICAgICAgICAgIH0gfSwgcHJvcHMpKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDYWxlbmRhcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FsZW5kYXI7XG5cbkNhbGVuZGFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1jYWxlbmRhcicsXG4gICAgdGltZVBpY2tlclByZWZpeENsczogJ2FtLXBpY2tlcicsXG4gICAgdGltZVBpY2tlclBpY2tlclByZWZpeENsczogJ2FtLXBpY2tlci1jb2wnXG59O1xuQ2FsZW5kYXIuY29udGV4dFR5cGVzID0ge1xuICAgIGFudExvY2FsZTogUHJvcFR5cGVzLm9iamVjdFxufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgQ2FyZEJvZHkgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhDYXJkQm9keSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDYXJkQm9keSgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhcmRCb2R5KTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENhcmRCb2R5Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2FyZEJvZHkpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2FyZEJvZHksIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJwcmVmaXhDbHNcIiwgXCJjbGFzc05hbWVcIl0pO1xuICAgICAgICAgICAgdmFyIHdyYXBDbHMgPSBjbGFzc25hbWVzKHByZWZpeENscyArICctYm9keScsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgX2V4dGVuZHMoeyBjbGFzc05hbWU6IHdyYXBDbHMgfSwgcmVzdFByb3BzKSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2FyZEJvZHk7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IENhcmRCb2R5O1xuXG5DYXJkQm9keS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tY2FyZCdcbn07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIENhcmRGb290ZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhDYXJkRm9vdGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIENhcmRGb290ZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYXJkRm9vdGVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENhcmRGb290ZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDYXJkRm9vdGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENhcmRGb290ZXIsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gX2EuY29udGVudCxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgZXh0cmEgPSBfYS5leHRyYSxcbiAgICAgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInByZWZpeENsc1wiLCBcImNvbnRlbnRcIiwgXCJjbGFzc05hbWVcIiwgXCJleHRyYVwiXSk7XG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzICsgJy1mb290ZXInLCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgX2V4dGVuZHMoeyBjbGFzc05hbWU6IHdyYXBDbHMgfSwgcmVzdFByb3BzKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZm9vdGVyLWNvbnRlbnQnIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGV4dHJhICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1mb290ZXItZXh0cmEnIH0sXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDYXJkRm9vdGVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBDYXJkRm9vdGVyO1xuXG5DYXJkRm9vdGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1jYXJkJ1xufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgQ2FyZEhlYWRlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKENhcmRIZWFkZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQ2FyZEhlYWRlcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhcmRIZWFkZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2FyZEhlYWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENhcmRIZWFkZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2FyZEhlYWRlciwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICB0aXRsZSA9IF9hLnRpdGxlLFxuICAgICAgICAgICAgICAgIHRodW1iID0gX2EudGh1bWIsXG4gICAgICAgICAgICAgICAgdGh1bWJTdHlsZSA9IF9hLnRodW1iU3R5bGUsXG4gICAgICAgICAgICAgICAgZXh0cmEgPSBfYS5leHRyYSxcbiAgICAgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInByZWZpeENsc1wiLCBcImNsYXNzTmFtZVwiLCBcInRpdGxlXCIsIFwidGh1bWJcIiwgXCJ0aHVtYlN0eWxlXCIsIFwiZXh0cmFcIl0pO1xuICAgICAgICAgICAgdmFyIHdyYXBDbHMgPSBjbGFzc25hbWVzKHByZWZpeENscyArICctaGVhZGVyJywgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHsgY2xhc3NOYW1lOiB3cmFwQ2xzIH0sIHJlc3RQcm9wcyksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlci1jb250ZW50JyB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgdGh1bWIgPT09ICdzdHJpbmcnID9cbiAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmpzeC1uby1tdWx0aWxpbmUtanNcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBzdHlsZTogdGh1bWJTdHlsZSwgc3JjOiB0aHVtYiB9KSA6IHRodW1iLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZXh0cmEgP1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpqc3gtbm8tbXVsdGlsaW5lLWpzXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlci1leHRyYScgfSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFcbiAgICAgICAgICAgICAgICApIDogbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDYXJkSGVhZGVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBDYXJkSGVhZGVyO1xuXG5DYXJkSGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1jYXJkJyxcbiAgICB0aHVtYlN0eWxlOiB7fVxufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENhcmRCb2R5IGZyb20gJy4vQ2FyZEJvZHknO1xuaW1wb3J0IENhcmRGb290ZXIgZnJvbSAnLi9DYXJkRm9vdGVyJztcbmltcG9ydCBDYXJkSGVhZGVyIGZyb20gJy4vQ2FyZEhlYWRlcic7XG5cbnZhciBDYXJkID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQ2FyZCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDYXJkKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FyZCk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDYXJkLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2FyZCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDYXJkLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgZnVsbCA9IF9hLmZ1bGwsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIHJlc2V0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInByZWZpeENsc1wiLCBcImZ1bGxcIiwgXCJjbGFzc05hbWVcIl0pO1xuICAgICAgICAgICAgdmFyIHdyYXBDbHMgPSBjbGFzc25hbWVzKHByZWZpeENscywgY2xhc3NOYW1lLCBfZGVmaW5lUHJvcGVydHkoe30sIHByZWZpeENscyArICctZnVsbCcsIGZ1bGwpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCBfZXh0ZW5kcyh7IGNsYXNzTmFtZTogd3JhcENscyB9LCByZXNldFByb3BzKSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2FyZDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcblxuQ2FyZC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tY2FyZCcsXG4gICAgZnVsbDogZmFsc2Vcbn07XG5DYXJkLkhlYWRlciA9IENhcmRIZWFkZXI7XG5DYXJkLkJvZHkgPSBDYXJkQm9keTtcbkNhcmQuRm9vdGVyID0gQ2FyZEZvb3RlcjsiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xudmFyIERlZmF1bHREZWNvcmF0b3JzID0gW3tcbiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgICAgIF9pbmhlcml0cyhjb21wb25lbnQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBjb21wb25lbnQpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoY29tcG9uZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY29tcG9uZW50KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMucHJldmlvdXNTbGlkZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhjb21wb25lbnQsIFt7XG4gICAgICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHRoaXMuZ2V0QnV0dG9uU3R5bGVzKHRoaXMucHJvcHMuY3VycmVudFNsaWRlID09PSAwICYmICF0aGlzLnByb3BzLndyYXBBcm91bmQpLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrIH0sXG4gICAgICAgICAgICAgICAgICAgICdQUkVWJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldEJ1dHRvblN0eWxlcycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QnV0dG9uU3R5bGVzKGRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAwLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLDAsMCwwLjQpJyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiAwLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBkaXNhYmxlZCA/IDAuMyA6IDEsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfShSZWFjdC5Db21wb25lbnQpLFxuICAgIHBvc2l0aW9uOiAnQ2VudGVyTGVmdCdcbn0sIHtcbiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50Mikge1xuICAgICAgICBfaW5oZXJpdHMoY29tcG9uZW50LCBfUmVhY3QkQ29tcG9uZW50Mik7XG5cbiAgICAgICAgZnVuY3Rpb24gY29tcG9uZW50KCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIGNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoY29tcG9uZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY29tcG9uZW50KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgICAgIF90aGlzMi5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpczIucHJvcHMubmV4dFNsaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5uZXh0U2xpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMjtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhjb21wb25lbnQsIFt7XG4gICAgICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHRoaXMuZ2V0QnV0dG9uU3R5bGVzKHRoaXMucHJvcHMuY3VycmVudFNsaWRlICsgdGhpcy5wcm9wcy5zbGlkZXNUb1Njcm9sbCA+PSB0aGlzLnByb3BzLnNsaWRlQ291bnQgJiYgIXRoaXMucHJvcHMud3JhcEFyb3VuZCksIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2sgfSxcbiAgICAgICAgICAgICAgICAgICAgJ05FWFQnXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0QnV0dG9uU3R5bGVzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCdXR0b25TdHlsZXMoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDAsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsMCwwLDAuNCknLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IDAsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGRpc2FibGVkID8gMC4zIDogMSxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9KFJlYWN0LkNvbXBvbmVudCksXG4gICAgcG9zaXRpb246ICdDZW50ZXJSaWdodCdcbn0sIHtcbiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50Mykge1xuICAgICAgICBfaW5oZXJpdHMoY29tcG9uZW50LCBfUmVhY3QkQ29tcG9uZW50Myk7XG5cbiAgICAgICAgZnVuY3Rpb24gY29tcG9uZW50KCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIGNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoY29tcG9uZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY29tcG9uZW50KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoY29tcG9uZW50LCBbe1xuICAgICAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhlcyA9IHRoaXMuZ2V0SW5kZXhlcyh0aGlzLnByb3BzLnNsaWRlQ291bnQsIHRoaXMucHJvcHMuc2xpZGVzVG9TY3JvbGwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAndWwnLFxuICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB0aGlzLmdldExpc3RTdHlsZXMoKSB9LFxuICAgICAgICAgICAgICAgICAgICBpbmRleGVzLm1hcChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogX3RoaXM0LmdldExpc3RJdGVtU3R5bGVzKCksIGtleTogaW5kZXggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogX3RoaXM0LmdldEJ1dHRvblN0eWxlcyhfdGhpczQucHJvcHMuY3VycmVudFNsaWRlID09PSBpbmRleCksIG9uQ2xpY2s6IF90aGlzNC5wcm9wcy5nb1RvU2xpZGUgJiYgX3RoaXM0LnByb3BzLmdvVG9TbGlkZS5iaW5kKG51bGwsIGluZGV4KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx1MjAyMidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldEluZGV4ZXMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluZGV4ZXMoY291bnQsIGluYykge1xuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpICs9IGluYykge1xuICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0TGlzdFN0eWxlcycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGlzdFN0eWxlcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IC0xMCxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldExpc3RJdGVtU3R5bGVzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMaXN0SXRlbVN0eWxlcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBsaXN0U3R5bGVUeXBlOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0QnV0dG9uU3R5bGVzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCdXR0b25TdHlsZXMoYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAwLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiAwLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMjQsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGFjdGl2ZSA/IDEgOiAwLjVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9KFJlYWN0LkNvbXBvbmVudCksXG4gICAgcG9zaXRpb246ICdCb3R0b21DZW50ZXInXG59XTtcbmV4cG9ydCBkZWZhdWx0IERlZmF1bHREZWNvcmF0b3JzOyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGRlY29yYXRvcnMgZnJvbSAnLi9kZWNvcmF0b3JzJztcbmltcG9ydCBFeGVjdXRpb25FbnZpcm9ubWVudCBmcm9tICdleGVudic7XG5pbXBvcnQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZyb20gJ3JhZic7XG4vLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jaGVuZ2xvdS90d2Vlbi1mdW5jdGlvbnNcbmZ1bmN0aW9uIGVhc2VPdXRDaXJjKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiBNYXRoLnNxcnQoMSAtICh0ID0gdCAvIGQgLSAxKSAqIHQpICsgYjtcbn1cbmZ1bmN0aW9uIGxpbmVhcih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiBjICogdCAvIGQgKyBiO1xufVxudmFyIERFRkFVTFRfU1RBQ0tfQkVIQVZJT1IgPSAnQURESVRJVkUnO1xudmFyIERFRkFVTFRfRFVSQVRJT04gPSAzMDA7XG52YXIgREVGQVVMVF9ERUxBWSA9IDA7XG52YXIgc3RhY2tCZWhhdmlvciA9IHtcbiAgICBBRERJVElWRTogJ0FERElUSVZFJyxcbiAgICBERVNUUlVDVElWRTogJ0RFU1RSVUNUSVZFJ1xufTtcbnZhciBhZGRFdmVudCA9IGZ1bmN0aW9uIGFkZEV2ZW50KGVsZW0sIHR5cGUsIGV2ZW50SGFuZGxlKSB7XG4gICAgaWYgKGVsZW0gPT09IG51bGwgfHwgdHlwZW9mIGVsZW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGVsZW0uYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZXZlbnRIYW5kbGUsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0uYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgZWxlbS5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgZXZlbnRIYW5kbGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1bJ29uJyArIHR5cGVdID0gZXZlbnRIYW5kbGU7XG4gICAgfVxufTtcbnZhciByZW1vdmVFdmVudCA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50KGVsZW0sIHR5cGUsIGV2ZW50SGFuZGxlKSB7XG4gICAgaWYgKGVsZW0gPT09IG51bGwgfHwgdHlwZW9mIGVsZW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZXZlbnRIYW5kbGUsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0uZGV0YWNoRXZlbnQpIHtcbiAgICAgICAgZWxlbS5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgZXZlbnRIYW5kbGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1bJ29uJyArIHR5cGVdID0gbnVsbDtcbiAgICB9XG59O1xuXG52YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhDYXJvdXNlbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDYXJvdXNlbChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2Fyb3VzZWwpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDYXJvdXNlbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENhcm91c2VsKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLl9yYWZDYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IF90aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKHN0YXRlLnR3ZWVuUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICB2YXIgbmV3VHdlZW5RdWV1ZSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS50d2VlblF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBzdGF0ZS50d2VlblF1ZXVlW2ldO1xuICAgICAgICAgICAgICAgIHZhciBpbml0VGltZSA9IGl0ZW0uaW5pdFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGl0ZW0uY29uZmlnO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5vdyAtIGluaXRUaW1lIDwgY29uZmlnLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1R3ZWVuUXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnLm9uRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcub25FbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9uRW5kIG1pZ2h0IHRyaWdnZXIgYSBwYXJlbnQgY2FsbGJhY2sgdGhhdCByZW1vdmVzIHRoaXMgY29tcG9uZW50XG4gICAgICAgICAgICAvLyAtMSBtZWFucyB3ZSd2ZSBjYW5jZWxlZCBpdCBpbiBjb21wb25lbnRXaWxsVW5tb3VudFxuICAgICAgICAgICAgaWYgKF90aGlzLl9yYWZJRCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdHdlZW5RdWV1ZTogbmV3VHdlZW5RdWV1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5fcmFmSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMuX3JhZkNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmNsaWNrU2FmZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChlLm5hdGl2ZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGUubmF0aXZlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5hdXRvcGxheUl0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLndyYXBBcm91bmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubmV4dFNsaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUuY3VycmVudFNsaWRlICE9PSBfdGhpcy5zdGF0ZS5zbGlkZUNvdW50IC0gX3RoaXMuc3RhdGUuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubmV4dFNsaWRlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLnN0b3BBdXRvcGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBBY3Rpb24gTWV0aG9kc1xuICAgICAgICBfdGhpcy5nb1RvU2xpZGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGJlZm9yZVNsaWRlID0gX3RoaXMkcHJvcHMuYmVmb3JlU2xpZGUsXG4gICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZSA9IF90aGlzJHByb3BzLmFmdGVyU2xpZGU7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA+PSBSZWFjdC5DaGlsZHJlbi5jb3VudChfdGhpcy5wcm9wcy5jaGlsZHJlbikgfHwgaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5wcm9wcy53cmFwQXJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSBSZWFjdC5DaGlsZHJlbi5jb3VudChfdGhpcy5wcm9wcy5jaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlU2xpZGUoX3RoaXMuc3RhdGUuY3VycmVudFNsaWRlLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTbGlkZTogMFxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hbmltYXRlU2xpZGUobnVsbCwgbnVsbCwgX3RoaXMuZ2V0VGFyZ2V0TGVmdChudWxsLCBpbmRleCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hbmltYXRlU2xpZGUobnVsbCwgMC4wMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNldEF1dG9wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0RXh0ZXJuYWxEYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFNsaWRlID0gUmVhY3QuQ2hpbGRyZW4uY291bnQoX3RoaXMucHJvcHMuY2hpbGRyZW4pIC0gX3RoaXMuc3RhdGUuc2xpZGVzVG9TY3JvbGw7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZVNsaWRlKF90aGlzLnN0YXRlLmN1cnJlbnRTbGlkZSwgZW5kU2xpZGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNsaWRlOiBlbmRTbGlkZVxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hbmltYXRlU2xpZGUobnVsbCwgbnVsbCwgX3RoaXMuZ2V0VGFyZ2V0TGVmdChudWxsLCBpbmRleCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hbmltYXRlU2xpZGUobnVsbCwgMC4wMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZShlbmRTbGlkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzZXRBdXRvcGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldEV4dGVybmFsRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJlZm9yZVNsaWRlKF90aGlzLnN0YXRlLmN1cnJlbnRTbGlkZSwgaW5kZXgpO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTbGlkZTogaW5kZXhcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hbmltYXRlU2xpZGUoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5hZnRlclNsaWRlKGluZGV4KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNldEF1dG9wbGF5KCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0RXh0ZXJuYWxEYXRhKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMubmV4dFNsaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuQ291bnQgPSBSZWFjdC5DaGlsZHJlbi5jb3VudChfdGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgICAgICAgICB2YXIgc2xpZGVzVG9TaG93ID0gX3RoaXMucHJvcHMuc2xpZGVzVG9TaG93O1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLnNsaWRlc1RvU2Nyb2xsID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3cgPSBfdGhpcy5zdGF0ZS5zbGlkZXNUb1Njcm9sbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5jdXJyZW50U2xpZGUgPj0gY2hpbGRyZW5Db3VudCAtIHNsaWRlc1RvU2hvdyAmJiAhX3RoaXMucHJvcHMud3JhcEFyb3VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy53cmFwQXJvdW5kKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZ29Ub1NsaWRlKF90aGlzLnN0YXRlLmN1cnJlbnRTbGlkZSArIF90aGlzLnN0YXRlLnNsaWRlc1RvU2Nyb2xsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLnNsaWRlV2lkdGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdvVG9TbGlkZShfdGhpcy5zdGF0ZS5jdXJyZW50U2xpZGUgKyBfdGhpcy5zdGF0ZS5zbGlkZXNUb1Njcm9sbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLmdvVG9TbGlkZShNYXRoLm1pbihfdGhpcy5zdGF0ZS5jdXJyZW50U2xpZGUgKyBfdGhpcy5zdGF0ZS5zbGlkZXNUb1Njcm9sbCwgY2hpbGRyZW5Db3VudCAtIHNsaWRlc1RvU2hvdykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5wcmV2aW91c1NsaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlLmN1cnJlbnRTbGlkZSA8PSAwICYmICFfdGhpcy5wcm9wcy53cmFwQXJvdW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLndyYXBBcm91bmQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5nb1RvU2xpZGUoX3RoaXMuc3RhdGUuY3VycmVudFNsaWRlIC0gX3RoaXMuc3RhdGUuc2xpZGVzVG9TY3JvbGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5nb1RvU2xpZGUoTWF0aC5tYXgoMCwgX3RoaXMuc3RhdGUuY3VycmVudFNsaWRlIC0gX3RoaXMuc3RhdGUuc2xpZGVzVG9TY3JvbGwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXREaW1lbnNpb25zKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uUmVhZHlTdGF0ZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNldERpbWVuc2lvbnMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjdXJyZW50U2xpZGU6IF90aGlzLnByb3BzLnNsaWRlSW5kZXgsXG4gICAgICAgICAgICBkcmFnZ2luZzogZmFsc2UsXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiAwLFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHNsaWRlQ291bnQ6IDAsXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogX3RoaXMucHJvcHMuc2xpZGVzVG9TY3JvbGwsXG4gICAgICAgICAgICBzbGlkZVdpZHRoOiAwLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgdHdlZW5RdWV1ZTogW11cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudG91Y2hPYmplY3QgPSB7fTtcbiAgICAgICAgX3RoaXMuY2xpY2tTYWZlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDYXJvdXNlbCwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0SW5pdGlhbERpbWVuc2lvbnMoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLnNldERpbWVuc2lvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgICAgICAgICAgdGhpcy5zZXRFeHRlcm5hbERhdGEoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9wbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEF1dG9wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNsaWRlQ291bnQ6IG5leHRQcm9wcy5jaGlsZHJlbi5sZW5ndGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXREaW1lbnNpb25zKG5leHRQcm9wcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zbGlkZUluZGV4ICE9PSBuZXh0UHJvcHMuc2xpZGVJbmRleCAmJiBuZXh0UHJvcHMuc2xpZGVJbmRleCAhPT0gdGhpcy5zdGF0ZS5jdXJyZW50U2xpZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdvVG9TbGlkZShuZXh0UHJvcHMuc2xpZGVJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5hdXRvcGxheSAhPT0gbmV4dFByb3BzLmF1dG9wbGF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRQcm9wcy5hdXRvcGxheSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QXV0b3BsYXkoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BBdXRvcGxheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xuICAgICAgICAgICAgdGhpcy5zdG9wQXV0b3BsYXkoKTtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZS5jYW5jZWwodGhpcy5fcmFmSUQpO1xuICAgICAgICAgICAgdGhpcy5fcmFmSUQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWFjdC10d2Vlbi1zdGF0ZVxuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0d2VlblN0YXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHR3ZWVuU3RhdGUocGF0aCwgX3JlZikge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBlYXNpbmcgPSBfcmVmLmVhc2luZyxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IF9yZWYuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZGVsYXkgPSBfcmVmLmRlbGF5LFxuICAgICAgICAgICAgICAgIGJlZ2luVmFsdWUgPSBfcmVmLmJlZ2luVmFsdWUsXG4gICAgICAgICAgICAgICAgZW5kVmFsdWUgPSBfcmVmLmVuZFZhbHVlLFxuICAgICAgICAgICAgICAgIG9uRW5kID0gX3JlZi5vbkVuZCxcbiAgICAgICAgICAgICAgICBjb25maWdTQiA9IF9yZWYuc3RhY2tCZWhhdmlvcjtcblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gc3RhdGU7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlTmFtZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAvLyBzZWUgY29tbWVudCBiZWxvdyBvbiBwYXNoIGhhc2hcbiAgICAgICAgICAgICAgICB2YXIgcGF0aEhhc2ggPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWUgPSBwYXRoO1xuICAgICAgICAgICAgICAgICAgICBwYXRoSGFzaCA9IHBhdGg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yID0gY3Vyc29yW3BhdGhbaV1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlTmFtZSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgcGF0aEhhc2ggPSBwYXRoLmpvaW4oJ3wnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc2VlIHRoZSByZWFzb25pbmcgZm9yIHRoZXNlIGRlZmF1bHRzIGF0IHRoZSB0b3Agb2YgZmlsZVxuICAgICAgICAgICAgICAgIHZhciBuZXdDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogZWFzaW5nLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24gPT0gbnVsbCA/IERFRkFVTFRfRFVSQVRJT04gOiBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGVsYXk6IGRlbGF5ID09IG51bGwgPyBERUZBVUxUX0RFTEFZIDogZGVsYXksXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luVmFsdWU6IGJlZ2luVmFsdWUgPT0gbnVsbCA/IGN1cnNvcltzdGF0ZU5hbWVdIDogYmVnaW5WYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZW5kVmFsdWU6IGVuZFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvbkVuZDogb25FbmQsXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrQmVoYXZpb3I6IGNvbmZpZ1NCIHx8IERFRkFVTFRfU1RBQ0tfQkVIQVZJT1JcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBuZXdUd2VlblF1ZXVlID0gc3RhdGUudHdlZW5RdWV1ZTtcbiAgICAgICAgICAgICAgICBpZiAobmV3Q29uZmlnLnN0YWNrQmVoYXZpb3IgPT09IHN0YWNrQmVoYXZpb3IuREVTVFJVQ1RJVkUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VHdlZW5RdWV1ZSA9IHN0YXRlLnR3ZWVuUXVldWUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5wYXRoSGFzaCAhPT0gcGF0aEhhc2g7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB3ZSBzdG9yZSBwYXRoIGhhc2gsIHNvIHRoYXQgZHVyaW5nIHZhbHVlIHJldHJpZXZhbCB3ZSBjYW4gdXNlIGhhc2hcbiAgICAgICAgICAgICAgICAvLyBjb21wYXJpc29uIHRvIGZpbmQgdGhlIHBhdGguIFNlZSB0aGUga2luZCBvZiBzaGl0dHkgdGhpbmcgeW91IGhhdmUgdG9cbiAgICAgICAgICAgICAgICAvLyBkbyB3aGVuIHlvdSBkb24ndCBoYXZlIHZhbHVlIGNvbXBhcmlzb24gZm9yIGNvbGxlY3Rpb25zP1xuICAgICAgICAgICAgICAgIG5ld1R3ZWVuUXVldWUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhIYXNoOiBwYXRoSGFzaCxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBuZXdDb25maWcsXG4gICAgICAgICAgICAgICAgICAgIGluaXRUaW1lOiBEYXRlLm5vdygpICsgbmV3Q29uZmlnLmRlbGF5XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gc29ycnkgZm9yIG11dGF0aW5nLiBGb3IgcGVyZiByZWFzb25zIHdlIGRvbid0IHdhbnQgdG8gZGVlcCBjbG9uZS5cbiAgICAgICAgICAgICAgICAvLyBndXlzLCBjYW4gd2UgcGxlYXNlIGFsbCBzdGFydCB1c2luZyBwZXJzaXN0ZW50IGNvbGxlY3Rpb25zIHNvIHRoYXRcbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gc3RvcCB3b3JyeWluZyBhYm91dCBub25lc2Vuc2UgbGlrZSB0aGlzXG4gICAgICAgICAgICAgICAgY3Vyc29yW3N0YXRlTmFtZV0gPSBuZXdDb25maWcuZW5kVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1R3ZWVuUXVldWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5fcmFmSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMyLl9yYWZDYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBhbHNvIGluY2x1ZGUgdGhlIGFib3ZlIG11dGF0ZWQgdXBkYXRlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHdlZW5RdWV1ZTogbmV3VHdlZW5RdWV1ZSB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFR3ZWVuaW5nVmFsdWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VHdlZW5pbmdWYWx1ZShwYXRoKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgdmFyIHR3ZWVuaW5nVmFsdWUgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgcGF0aEhhc2ggPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdHdlZW5pbmdWYWx1ZSA9IHN0YXRlW3BhdGhdO1xuICAgICAgICAgICAgICAgIHBhdGhIYXNoID0gcGF0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHdlZW5pbmdWYWx1ZSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0d2VlbmluZ1ZhbHVlID0gdHdlZW5pbmdWYWx1ZVtwYXRoW2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGF0aEhhc2ggPSBwYXRoLmpvaW4oJ3wnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHN0YXRlLnR3ZWVuUXVldWUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9zdGF0ZSR0d2VlblF1ZXVlJF9pID0gc3RhdGUudHdlZW5RdWV1ZVtfaV0sXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1QYXRoSGFzaCA9IF9zdGF0ZSR0d2VlblF1ZXVlJF9pLnBhdGhIYXNoLFxuICAgICAgICAgICAgICAgICAgICBpbml0VGltZSA9IF9zdGF0ZSR0d2VlblF1ZXVlJF9pLmluaXRUaW1lLFxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBfc3RhdGUkdHdlZW5RdWV1ZSRfaS5jb25maWc7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbVBhdGhIYXNoICE9PSBwYXRoSGFzaCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzVGltZSA9IG5vdyAtIGluaXRUaW1lID4gY29uZmlnLmR1cmF0aW9uID8gY29uZmlnLmR1cmF0aW9uIDogTWF0aC5tYXgoMCwgbm93IC0gaW5pdFRpbWUpO1xuICAgICAgICAgICAgICAgIC8vIGBub3cgLSBpbml0VGltZWAgY2FuIGJlIG5lZ2F0aXZlIGlmIGluaXRUaW1lIGlzIHNjaGVkdWxlZCBpbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBmdXR1cmUgYnkgYSBkZWxheS4gSW4gdGhpcyBjYXNlIHdlIHRha2UgMFxuICAgICAgICAgICAgICAgIC8vIGlmIGR1cmF0aW9uIGlzIDAsIGNvbnNpZGVyIHRoYXQgYXMganVtcGluZyB0byBlbmRWYWx1ZSBkaXJlY3RseS4gVGhpc1xuICAgICAgICAgICAgICAgIC8vIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBlYXNpbmcgZnVuY3Rpbm8gbWlnaHQgaGF2ZSB1bmRlZmluZWQgYmVoYXZpb3IgZm9yXG4gICAgICAgICAgICAgICAgLy8gZHVyYXRpb24gPSAwXG4gICAgICAgICAgICAgICAgdmFyIGVhc2VWYWx1ZSA9IGNvbmZpZy5kdXJhdGlvbiA9PT0gMCA/IGNvbmZpZy5lbmRWYWx1ZSA6IGNvbmZpZy5lYXNpbmcocHJvZ3Jlc3NUaW1lLCBjb25maWcuYmVnaW5WYWx1ZSwgY29uZmlnLmVuZFZhbHVlLCBjb25maWcuZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIHZhciBjb250cmliID0gZWFzZVZhbHVlIC0gY29uZmlnLmVuZFZhbHVlO1xuICAgICAgICAgICAgICAgIHR3ZWVuaW5nVmFsdWUgKz0gY29udHJpYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0d2VlbmluZ1ZhbHVlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLmNvdW50KHRoaXMucHJvcHMuY2hpbGRyZW4pID4gMSA/IHRoaXMuZm9ybWF0Q2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbikgOiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFsnc2xpZGVyJywgdGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJyddLmpvaW4oJyAnKSwgcmVmOiAnc2xpZGVyJywgc3R5bGU6IF9leHRlbmRzKHt9LCB0aGlzLmdldFNsaWRlclN0eWxlcygpLCB0aGlzLnByb3BzLnN0eWxlKSB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IGNsYXNzTmFtZTogJ3NsaWRlci1mcmFtZScsIHJlZjogJ2ZyYW1lJywgc3R5bGU6IHRoaXMuZ2V0RnJhbWVTdHlsZXMoKSB9LCB0aGlzLmdldFRvdWNoRXZlbnRzKCksIHRoaXMuZ2V0TW91c2VFdmVudHMoKSwgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrIH0pLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3VsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc2xpZGVyLWxpc3QnLCByZWY6ICdsaXN0Jywgc3R5bGU6IHRoaXMuZ2V0TGlzdFN0eWxlcygpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRlY29yYXRvcnMgPyB0aGlzLnByb3BzLmRlY29yYXRvcnMubWFwKGZ1bmN0aW9uIChEZWNvcmF0b3IsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiBfZXh0ZW5kcyh7fSwgX3RoaXMzLmdldERlY29yYXRvclN0eWxlcyhEZWNvcmF0b3IucG9zaXRpb24pLCBEZWNvcmF0b3Iuc3R5bGUgfHwge30pLCBjbGFzc05hbWU6ICdzbGlkZXItZGVjb3JhdG9yLScgKyBpbmRleCwga2V5OiBpbmRleCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEZWNvcmF0b3IuY29tcG9uZW50LCB7IGN1cnJlbnRTbGlkZTogX3RoaXMzLnN0YXRlLmN1cnJlbnRTbGlkZSwgc2xpZGVDb3VudDogX3RoaXMzLnN0YXRlLnNsaWRlQ291bnQsIGZyYW1lV2lkdGg6IF90aGlzMy5zdGF0ZS5mcmFtZVdpZHRoLCBzbGlkZVdpZHRoOiBfdGhpczMuc3RhdGUuc2xpZGVXaWR0aCwgc2xpZGVzVG9TY3JvbGw6IF90aGlzMy5zdGF0ZS5zbGlkZXNUb1Njcm9sbCwgY2VsbFNwYWNpbmc6IF90aGlzMy5wcm9wcy5jZWxsU3BhY2luZywgc2xpZGVzVG9TaG93OiBfdGhpczMucHJvcHMuc2xpZGVzVG9TaG93LCB3cmFwQXJvdW5kOiBfdGhpczMucHJvcHMud3JhcEFyb3VuZCwgbmV4dFNsaWRlOiBfdGhpczMubmV4dFNsaWRlLCBwcmV2aW91c1NsaWRlOiBfdGhpczMucHJldmlvdXNTbGlkZSwgZ29Ub1NsaWRlOiBfdGhpczMuZ29Ub1NsaWRlIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSkgOiBudWxsLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJywgeyB0eXBlOiAndGV4dC9jc3MnLCBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IHRoaXMuZ2V0U3R5bGVUYWdTdHlsZXMoKSB9IH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRvdWNoIEV2ZW50c1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRUb3VjaEV2ZW50cycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUb3VjaEV2ZW50cygpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnN3aXBpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9uVG91Y2hTdGFydDogZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50b3VjaE9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0WDogZS50b3VjaGVzWzBdLnBhZ2VYLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRZOiBlLnRvdWNoZXNbMF0ucGFnZVlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVNb3VzZU92ZXIoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVG91Y2hNb3ZlOiBmdW5jdGlvbiBvblRvdWNoTW92ZShlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBzZWxmLnN3aXBlRGlyZWN0aW9uKHNlbGYudG91Y2hPYmplY3Quc3RhcnRYLCBlLnRvdWNoZXNbMF0ucGFnZVgsIHNlbGYudG91Y2hPYmplY3Quc3RhcnRZLCBlLnRvdWNoZXNbMF0ucGFnZVkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHNlbGYucHJvcHMudmVydGljYWwgPyBNYXRoLnJvdW5kKE1hdGguc3FydChNYXRoLnBvdyhlLnRvdWNoZXNbMF0ucGFnZVkgLSBzZWxmLnRvdWNoT2JqZWN0LnN0YXJ0WSwgMikpKSA6IE1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KGUudG91Y2hlc1swXS5wYWdlWCAtIHNlbGYudG91Y2hPYmplY3Quc3RhcnRYLCAyKSkpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnRvdWNoT2JqZWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRYOiBzZWxmLnRvdWNoT2JqZWN0LnN0YXJ0WCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0WTogc2VsZi50b3VjaE9iamVjdC5zdGFydFksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRYOiBlLnRvdWNoZXNbMF0ucGFnZVgsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRZOiBlLnRvdWNoZXNbMF0ucGFnZVksXG4gICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IGxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogc2VsZi5wcm9wcy52ZXJ0aWNhbCA/IDAgOiBzZWxmLmdldFRhcmdldExlZnQoc2VsZi50b3VjaE9iamVjdC5sZW5ndGggKiBzZWxmLnRvdWNoT2JqZWN0LmRpcmVjdGlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHNlbGYucHJvcHMudmVydGljYWwgPyBzZWxmLmdldFRhcmdldExlZnQoc2VsZi50b3VjaE9iamVjdC5sZW5ndGggKiBzZWxmLnRvdWNoT2JqZWN0LmRpcmVjdGlvbikgOiAwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Ub3VjaEVuZDogZnVuY3Rpb24gb25Ub3VjaEVuZChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlU3dpcGUoZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlTW91c2VPdXQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVG91Y2hDYW5jZWw6IGZ1bmN0aW9uIG9uVG91Y2hDYW5jZWwoZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmhhbmRsZVN3aXBlKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldE1vdXNlRXZlbnRzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1vdXNlRXZlbnRzKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZHJhZ2dpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9uTW91c2VPdmVyOiBmdW5jdGlvbiBvbk1vdXNlT3ZlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVNb3VzZU92ZXIoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uTW91c2VPdXQ6IGZ1bmN0aW9uIG9uTW91c2VPdXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlTW91c2VPdXQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uTW91c2VEb3duOiBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYudG91Y2hPYmplY3QgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFg6IGUuY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0WTogZS5jbGllbnRZXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbk1vdXNlTW92ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuc3RhdGUuZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gc2VsZi5zd2lwZURpcmVjdGlvbihzZWxmLnRvdWNoT2JqZWN0LnN0YXJ0WCwgZS5jbGllbnRYLCBzZWxmLnRvdWNoT2JqZWN0LnN0YXJ0WSwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBzZWxmLnByb3BzLnZlcnRpY2FsID8gTWF0aC5yb3VuZChNYXRoLnNxcnQoTWF0aC5wb3coZS5jbGllbnRZIC0gc2VsZi50b3VjaE9iamVjdC5zdGFydFksIDIpKSkgOiBNYXRoLnJvdW5kKE1hdGguc3FydChNYXRoLnBvdyhlLmNsaWVudFggLSBzZWxmLnRvdWNoT2JqZWN0LnN0YXJ0WCwgMikpKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50b3VjaE9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0WDogc2VsZi50b3VjaE9iamVjdC5zdGFydFgsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFk6IHNlbGYudG91Y2hPYmplY3Quc3RhcnRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kWDogZS5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kWTogZS5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHNlbGYucHJvcHMudmVydGljYWwgPyAwIDogc2VsZi5nZXRUYXJnZXRMZWZ0KHNlbGYudG91Y2hPYmplY3QubGVuZ3RoICogc2VsZi50b3VjaE9iamVjdC5kaXJlY3Rpb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBzZWxmLnByb3BzLnZlcnRpY2FsID8gc2VsZi5nZXRUYXJnZXRMZWZ0KHNlbGYudG91Y2hPYmplY3QubGVuZ3RoICogc2VsZi50b3VjaE9iamVjdC5kaXJlY3Rpb24pIDogMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uTW91c2VVcDogZnVuY3Rpb24gb25Nb3VzZVVwKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLnN0YXRlLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVTd2lwZShlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZTogZnVuY3Rpb24gb25Nb3VzZUxlYXZlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLnN0YXRlLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVTd2lwZShlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoYW5kbGVNb3VzZU92ZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VPdmVyKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuYXV0b3BsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG9wbGF5UGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BBdXRvcGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoYW5kbGVNb3VzZU91dCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVNb3VzZU91dCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9wbGF5ICYmIHRoaXMuYXV0b3BsYXlQYXVzZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QXV0b3BsYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG9wbGF5UGF1c2VkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFuZGxlU3dpcGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU3dpcGUoXykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRvdWNoT2JqZWN0Lmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy50b3VjaE9iamVjdC5sZW5ndGggPiA0NCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tTYWZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGlja1NhZmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdyA9IF9wcm9wcy5zbGlkZXNUb1Nob3csXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGwgPSBfcHJvcHMuc2xpZGVzVG9TY3JvbGwsXG4gICAgICAgICAgICAgICAgc3dpcGVTcGVlZCA9IF9wcm9wcy5zd2lwZVNwZWVkO1xuICAgICAgICAgICAgLy8gdmFyIHNsaWRlc1RvU2hvdyA9IHRoaXMucHJvcHMuc2xpZGVzVG9TaG93O1xuXG4gICAgICAgICAgICBpZiAoc2xpZGVzVG9TY3JvbGwgPT09ICdhdXRvJykge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdyA9IHRoaXMuc3RhdGUuc2xpZGVzVG9TY3JvbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUmVhY3QuQ2hpbGRyZW4uY291bnQodGhpcy5wcm9wcy5jaGlsZHJlbikgPiAxICYmIHRoaXMudG91Y2hPYmplY3QubGVuZ3RoID4gdGhpcy5zdGF0ZS5zbGlkZVdpZHRoIC8gc2xpZGVzVG9TaG93IC8gc3dpcGVTcGVlZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvdWNoT2JqZWN0LmRpcmVjdGlvbiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2xpZGUgPj0gUmVhY3QuQ2hpbGRyZW4uY291bnQodGhpcy5wcm9wcy5jaGlsZHJlbikgLSBzbGlkZXNUb1Nob3cgJiYgIXRoaXMucHJvcHMud3JhcEFyb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlU2xpZGUodGhpcy5wcm9wcy5lZGdlRWFzaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFNsaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudG91Y2hPYmplY3QuZGlyZWN0aW9uID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2xpZGUgPD0gMCAmJiAhdGhpcy5wcm9wcy53cmFwQXJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVTbGlkZSh0aGlzLnByb3BzLmVkZ2VFYXNpbmcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c1NsaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZ29Ub1NsaWRlKHRoaXMuc3RhdGUuY3VycmVudFNsaWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudG91Y2hPYmplY3QgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N3aXBlRGlyZWN0aW9uJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN3aXBlRGlyZWN0aW9uKHgxLCB4MiwgeTEsIHkyKSB7XG4gICAgICAgICAgICB2YXIgeERpc3QgPSB4MSAtIHgyO1xuICAgICAgICAgICAgdmFyIHlEaXN0ID0geTEgLSB5MjtcbiAgICAgICAgICAgIHZhciByID0gTWF0aC5hdGFuMih5RGlzdCwgeERpc3QpO1xuICAgICAgICAgICAgdmFyIHN3aXBlQW5nbGUgPSBNYXRoLnJvdW5kKHIgKiAxODAgLyBNYXRoLlBJKTtcbiAgICAgICAgICAgIGlmIChzd2lwZUFuZ2xlIDwgMCkge1xuICAgICAgICAgICAgICAgIHN3aXBlQW5nbGUgPSAzNjAgLSBNYXRoLmFicyhzd2lwZUFuZ2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzd2lwZUFuZ2xlIDw9IDQ1ICYmIHN3aXBlQW5nbGUgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN3aXBlQW5nbGUgPD0gMzYwICYmIHN3aXBlQW5nbGUgPj0gMzE1KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3dpcGVBbmdsZSA+PSAxMzUgJiYgc3dpcGVBbmdsZSA8PSAyMjUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy52ZXJ0aWNhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChzd2lwZUFuZ2xlID49IDM1ICYmIHN3aXBlQW5nbGUgPD0gMTM1KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3RhcnRBdXRvcGxheScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydEF1dG9wbGF5KCkge1xuICAgICAgICAgICAgaWYgKFJlYWN0LkNoaWxkcmVuLmNvdW50KHRoaXMucHJvcHMuY2hpbGRyZW4pIDw9IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmF1dG9wbGF5SUQgPSBzZXRJbnRlcnZhbCh0aGlzLmF1dG9wbGF5SXRlcmF0b3IsIHRoaXMucHJvcHMuYXV0b3BsYXlJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3Jlc2V0QXV0b3BsYXknLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRBdXRvcGxheSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnJlc2V0QXV0b3BsYXkgJiYgdGhpcy5wcm9wcy5hdXRvcGxheSAmJiAhdGhpcy5hdXRvcGxheVBhdXNlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcEF1dG9wbGF5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEF1dG9wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0b3BBdXRvcGxheScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wQXV0b3BsYXkoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hdXRvcGxheUlEKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9wbGF5SUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEFuaW1hdGlvblxuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbmltYXRlU2xpZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYW5pbWF0ZVNsaWRlKGVhc2luZywgZHVyYXRpb24sIGVuZFZhbHVlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy50d2VlblN0YXRlKHRoaXMucHJvcHMudmVydGljYWwgPyAndG9wJyA6ICdsZWZ0Jywge1xuICAgICAgICAgICAgICAgIGVhc2luZzogZWFzaW5nIHx8IHRoaXMucHJvcHMuZWFzaW5nLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiB8fCB0aGlzLnByb3BzLnNwZWVkLFxuICAgICAgICAgICAgICAgIGVuZFZhbHVlOiBlbmRWYWx1ZSB8fCB0aGlzLmdldFRhcmdldExlZnQoKSxcbiAgICAgICAgICAgICAgICBkZWxheTogbnVsbCxcbiAgICAgICAgICAgICAgICBiZWdpblZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgIG9uRW5kOiBjYWxsYmFjayB8fCBudWxsLFxuICAgICAgICAgICAgICAgIHN0YWNrQmVoYXZpb3I6IHN0YWNrQmVoYXZpb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRUYXJnZXRMZWZ0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRhcmdldExlZnQodG91Y2hPZmZzZXQsIHNsaWRlKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHNsaWRlIHx8IHRoaXMuc3RhdGUuY3VycmVudFNsaWRlO1xuICAgICAgICAgICAgdmFyIGNlbGxTcGFjaW5nID0gdGhpcy5wcm9wcy5jZWxsU3BhY2luZztcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wcm9wcy5jZWxsQWxpZ24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCAtPSBjZWxsU3BhY2luZyAqIHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gKHRoaXMuc3RhdGUuZnJhbWVXaWR0aCAtIHRoaXMuc3RhdGUuc2xpZGVXaWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0IC09IGNlbGxTcGFjaW5nICogdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuc3RhdGUuZnJhbWVXaWR0aCAtIHRoaXMuc3RhdGUuc2xpZGVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCAtPSBjZWxsU3BhY2luZyAqIHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGVmdCA9IHRoaXMuc3RhdGUuc2xpZGVXaWR0aCAqIHRhcmdldDtcbiAgICAgICAgICAgIHZhciBsYXN0U2xpZGUgPSB0aGlzLnN0YXRlLmN1cnJlbnRTbGlkZSA+IDAgJiYgdGFyZ2V0ICsgdGhpcy5zdGF0ZS5zbGlkZXNUb1Njcm9sbCA+PSB0aGlzLnN0YXRlLnNsaWRlQ291bnQ7XG4gICAgICAgICAgICBpZiAobGFzdFNsaWRlICYmIHRoaXMucHJvcHMuc2xpZGVXaWR0aCAhPT0gMSAmJiAhdGhpcy5wcm9wcy53cmFwQXJvdW5kICYmIHRoaXMucHJvcHMuc2xpZGVzVG9TY3JvbGwgPT09ICdhdXRvJykge1xuICAgICAgICAgICAgICAgIGxlZnQgPSB0aGlzLnN0YXRlLnNsaWRlV2lkdGggKiB0aGlzLnN0YXRlLnNsaWRlQ291bnQgLSB0aGlzLnN0YXRlLmZyYW1lV2lkdGg7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICBvZmZzZXQgLT0gY2VsbFNwYWNpbmcgKiAodGhpcy5zdGF0ZS5zbGlkZUNvdW50IC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmZzZXQgLT0gdG91Y2hPZmZzZXQgfHwgMDtcbiAgICAgICAgICAgIHJldHVybiAobGVmdCAtIG9mZnNldCkgKiAtMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCb290c3RyYXBwaW5nXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JpbmRFdmVudHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYmluZEV2ZW50cygpIHtcbiAgICAgICAgICAgIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICAgICAgICAgICAgICBhZGRFdmVudCh3aW5kb3csICdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTtcbiAgICAgICAgICAgICAgICBhZGRFdmVudChkb2N1bWVudCwgJ3JlYWR5c3RhdGVjaGFuZ2UnLCB0aGlzLm9uUmVhZHlTdGF0ZUNoYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3VuYmluZEV2ZW50cycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1bmJpbmRFdmVudHMoKSB7XG4gICAgICAgICAgICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQod2luZG93LCAncmVzaXplJywgdGhpcy5vblJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQoZG9jdW1lbnQsICdyZWFkeXN0YXRlY2hhbmdlJywgdGhpcy5vblJlYWR5U3RhdGVDaGFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb3JtYXRDaGlsZHJlbicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRDaGlsZHJlbihjaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBwb3NpdGlvblZhbHVlID0gdGhpcy5wcm9wcy52ZXJ0aWNhbCA/IHRoaXMuZ2V0VHdlZW5pbmdWYWx1ZSgndG9wJykgOiB0aGlzLmdldFR3ZWVuaW5nVmFsdWUoJ2xlZnQnKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzbGlkZXItc2xpZGUnLCBzdHlsZTogX3RoaXM0LmdldFNsaWRlU3R5bGVzKGluZGV4LCBwb3NpdGlvblZhbHVlKSwga2V5OiBpbmRleCB9LFxuICAgICAgICAgICAgICAgICAgICBjaGlsZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2V0SW5pdGlhbERpbWVuc2lvbnMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SW5pdGlhbERpbWVuc2lvbnMoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsID0gX3Byb3BzMi52ZXJ0aWNhbCxcbiAgICAgICAgICAgICAgICBpbml0aWFsU2xpZGVIZWlnaHQgPSBfcHJvcHMyLmluaXRpYWxTbGlkZUhlaWdodCxcbiAgICAgICAgICAgICAgICBpbml0aWFsU2xpZGVXaWR0aCA9IF9wcm9wczIuaW5pdGlhbFNsaWRlV2lkdGgsXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93ID0gX3Byb3BzMi5zbGlkZXNUb1Nob3csXG4gICAgICAgICAgICAgICAgY2VsbFNwYWNpbmcgPSBfcHJvcHMyLmNlbGxTcGFjaW5nLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzMi5jaGlsZHJlbjtcblxuICAgICAgICAgICAgdmFyIHNsaWRlV2lkdGggPSB2ZXJ0aWNhbCA/IGluaXRpYWxTbGlkZUhlaWdodCB8fCAwIDogaW5pdGlhbFNsaWRlV2lkdGggfHwgMDtcbiAgICAgICAgICAgIHZhciBzbGlkZUhlaWdodCA9IGluaXRpYWxTbGlkZUhlaWdodCA/IGluaXRpYWxTbGlkZUhlaWdodCAqIHNsaWRlc1RvU2hvdyA6IDA7XG4gICAgICAgICAgICB2YXIgZnJhbWVIZWlnaHQgPSBzbGlkZUhlaWdodCArIGNlbGxTcGFjaW5nICogKHNsaWRlc1RvU2hvdyAtIDEpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2xpZGVIZWlnaHQ6IHNsaWRlSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGZyYW1lV2lkdGg6IHZlcnRpY2FsID8gZnJhbWVIZWlnaHQgOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgc2xpZGVDb3VudDogUmVhY3QuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pLFxuICAgICAgICAgICAgICAgIHNsaWRlV2lkdGg6IHNsaWRlV2lkdGhcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczUuc2V0TGVmdCgpO1xuICAgICAgICAgICAgICAgIF90aGlzNS5zZXRFeHRlcm5hbERhdGEoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZXREaW1lbnNpb25zJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERpbWVuc2lvbnMocHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICAgICAgICBwcm9wcyA9IHByb3BzIHx8IHRoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgZnJhbWVXaWR0aCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBmcmFtZUhlaWdodCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBzbGlkZUhlaWdodCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBzbGlkZVdpZHRoID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIHNsaWRlc1RvU2Nyb2xsID0gcHJvcHMuc2xpZGVzVG9TY3JvbGw7XG4gICAgICAgICAgICB2YXIgZnJhbWUgPSB0aGlzLnJlZnMuZnJhbWU7XG4gICAgICAgICAgICB2YXIgZmlyc3RTbGlkZSA9IGZyYW1lLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXTtcbiAgICAgICAgICAgIGlmIChmaXJzdFNsaWRlKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RTbGlkZS5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgICAgICAgc2xpZGVIZWlnaHQgPSB0aGlzLnByb3BzLnZlcnRpY2FsID8gZmlyc3RTbGlkZS5vZmZzZXRIZWlnaHQgKiBwcm9wcy5zbGlkZXNUb1Nob3cgOiBmaXJzdFNsaWRlLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2xpZGVIZWlnaHQgPSAxMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3BzLnNsaWRlV2lkdGggIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgc2xpZGVXaWR0aCA9IHBhcnNlSW50KHByb3BzLnNsaWRlV2lkdGgsIDEwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlV2lkdGggPSBzbGlkZUhlaWdodCAvIHByb3BzLnNsaWRlc1RvU2hvdyAqIHByb3BzLnNsaWRlV2lkdGg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVXaWR0aCA9IGZyYW1lLm9mZnNldFdpZHRoIC8gcHJvcHMuc2xpZGVzVG9TaG93ICogcHJvcHMuc2xpZGVXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXByb3BzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgc2xpZGVXaWR0aCAtPSBwcm9wcy5jZWxsU3BhY2luZyAqICgoMTAwIC0gMTAwIC8gcHJvcHMuc2xpZGVzVG9TaG93KSAvIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZUhlaWdodCA9IHNsaWRlSGVpZ2h0ICsgcHJvcHMuY2VsbFNwYWNpbmcgKiAocHJvcHMuc2xpZGVzVG9TaG93IC0gMSk7XG4gICAgICAgICAgICBmcmFtZVdpZHRoID0gcHJvcHMudmVydGljYWwgPyBmcmFtZUhlaWdodCA6IGZyYW1lLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgaWYgKHByb3BzLnNsaWRlc1RvU2Nyb2xsID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbCA9IE1hdGguZmxvb3IoZnJhbWVXaWR0aCAvIChzbGlkZVdpZHRoICsgcHJvcHMuY2VsbFNwYWNpbmcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNsaWRlSGVpZ2h0OiBzbGlkZUhlaWdodCxcbiAgICAgICAgICAgICAgICBmcmFtZVdpZHRoOiBmcmFtZVdpZHRoLFxuICAgICAgICAgICAgICAgIHNsaWRlV2lkdGg6IHNsaWRlV2lkdGgsXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHNsaWRlc1RvU2Nyb2xsLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHByb3BzLnZlcnRpY2FsID8gMCA6IHRoaXMuZ2V0VGFyZ2V0TGVmdCgpLFxuICAgICAgICAgICAgICAgIHRvcDogcHJvcHMudmVydGljYWwgPyB0aGlzLmdldFRhcmdldExlZnQoKSA6IDBcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczYuc2V0TGVmdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldExlZnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TGVmdCgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMucHJvcHMudmVydGljYWwgPyAwIDogdGhpcy5nZXRUYXJnZXRMZWZ0KCksXG4gICAgICAgICAgICAgICAgdG9wOiB0aGlzLnByb3BzLnZlcnRpY2FsID8gdGhpcy5nZXRUYXJnZXRMZWZ0KCkgOiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEYXRhXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldEV4dGVybmFsRGF0YScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRFeHRlcm5hbERhdGEoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kYXRhKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3R5bGVzXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldExpc3RTdHlsZXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGlzdFN0eWxlcygpIHtcbiAgICAgICAgICAgIHZhciBsaXN0V2lkdGggPSB0aGlzLnN0YXRlLnNsaWRlV2lkdGggKiBSZWFjdC5DaGlsZHJlbi5jb3VudCh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIHZhciBjZWxsU3BhY2luZyA9IHRoaXMucHJvcHMuY2VsbFNwYWNpbmc7XG4gICAgICAgICAgICB2YXIgc3BhY2luZ09mZnNldCA9IGNlbGxTcGFjaW5nICogUmVhY3QuQ2hpbGRyZW4uY291bnQodGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKCcgKyB0aGlzLmdldFR3ZWVuaW5nVmFsdWUoJ2xlZnQnKSArICdweCwgJyArIHRoaXMuZ2V0VHdlZW5pbmdWYWx1ZSgndG9wJykgKyAncHgsIDApJztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgV2Via2l0VHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgbXNUcmFuc2Zvcm06ICd0cmFuc2xhdGUoJyArIHRoaXMuZ2V0VHdlZW5pbmdWYWx1ZSgnbGVmdCcpICsgJ3B4LCAnICsgdGhpcy5nZXRUd2VlbmluZ1ZhbHVlKCd0b3AnKSArICdweCknLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgICAgICAgICAgbWFyZ2luOiB0aGlzLnByb3BzLnZlcnRpY2FsID8gY2VsbFNwYWNpbmcgLyAyICogLTEgKyAncHggMHB4JyA6ICcwcHggJyArIGNlbGxTcGFjaW5nIC8gMiAqIC0xICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5wcm9wcy52ZXJ0aWNhbCA/IGxpc3RXaWR0aCArIHNwYWNpbmdPZmZzZXQgOiB0aGlzLnN0YXRlLnNsaWRlSGVpZ2h0LFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLnZlcnRpY2FsID8gJ2F1dG8nIDogbGlzdFdpZHRoICsgc3BhY2luZ09mZnNldCxcbiAgICAgICAgICAgICAgICBjdXJzb3I6IHRoaXMuc3RhdGUuZHJhZ2dpbmcgPT09IHRydWUgPyAncG9pbnRlcicgOiAnaW5oZXJpdCcsXG4gICAgICAgICAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgICAgICAgICAgTW96Qm94U2l6aW5nOiAnYm9yZGVyLWJveCdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldEZyYW1lU3R5bGVzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZyYW1lU3R5bGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiB0aGlzLnByb3BzLmZyYW1lT3ZlcmZsb3csXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLnZlcnRpY2FsID8gdGhpcy5zdGF0ZS5mcmFtZVdpZHRoIHx8ICdpbml0aWFsJyA6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICBtYXJnaW46IHRoaXMucHJvcHMuZnJhbWVQYWRkaW5nLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwgMCwgMCknLFxuICAgICAgICAgICAgICAgIFdlYmtpdFRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsIDAsIDApJyxcbiAgICAgICAgICAgICAgICBtc1RyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAwKScsXG4gICAgICAgICAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgICAgICAgICAgTW96Qm94U2l6aW5nOiAnYm9yZGVyLWJveCdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFNsaWRlU3R5bGVzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNsaWRlU3R5bGVzKGluZGV4LCBwb3NpdGlvblZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0UG9zaXRpb24gPSB0aGlzLmdldFNsaWRlVGFyZ2V0UG9zaXRpb24oaW5kZXgsIHBvc2l0aW9uVmFsdWUpO1xuICAgICAgICAgICAgdmFyIGNlbGxTcGFjaW5nID0gdGhpcy5wcm9wcy5jZWxsU3BhY2luZztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgbGVmdDogdGhpcy5wcm9wcy52ZXJ0aWNhbCA/IDAgOiB0YXJnZXRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICB0b3A6IHRoaXMucHJvcHMudmVydGljYWwgPyB0YXJnZXRQb3NpdGlvbiA6IDAsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogdGhpcy5wcm9wcy52ZXJ0aWNhbCA/ICdibG9jaycgOiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgICAgICAgICBsaXN0U3R5bGVUeXBlOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMudmVydGljYWwgPyAnMTAwJScgOiB0aGlzLnN0YXRlLnNsaWRlV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgICAgICAgICAgTW96Qm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogdGhpcy5wcm9wcy52ZXJ0aWNhbCA/ICdhdXRvJyA6IGNlbGxTcGFjaW5nIC8gMixcbiAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogdGhpcy5wcm9wcy52ZXJ0aWNhbCA/ICdhdXRvJyA6IGNlbGxTcGFjaW5nIC8gMixcbiAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IHRoaXMucHJvcHMudmVydGljYWwgPyBjZWxsU3BhY2luZyAvIDIgOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiB0aGlzLnByb3BzLnZlcnRpY2FsID8gY2VsbFNwYWNpbmcgLyAyIDogJ2F1dG8nXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRTbGlkZVRhcmdldFBvc2l0aW9uJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNsaWRlVGFyZ2V0UG9zaXRpb24oaW5kZXgsIHBvc2l0aW9uVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBzbGlkZXNUb1Nob3cgPSB0aGlzLnN0YXRlLmZyYW1lV2lkdGggLyB0aGlzLnN0YXRlLnNsaWRlV2lkdGg7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0UG9zaXRpb24gPSAodGhpcy5zdGF0ZS5zbGlkZVdpZHRoICsgdGhpcy5wcm9wcy5jZWxsU3BhY2luZykgKiBpbmRleDtcbiAgICAgICAgICAgIHZhciBlbmQgPSAodGhpcy5zdGF0ZS5zbGlkZVdpZHRoICsgdGhpcy5wcm9wcy5jZWxsU3BhY2luZykgKiBzbGlkZXNUb1Nob3cgKiAtMTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLndyYXBBcm91bmQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVzQmVmb3JlID0gTWF0aC5jZWlsKHBvc2l0aW9uVmFsdWUgLyB0aGlzLnN0YXRlLnNsaWRlV2lkdGgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNsaWRlQ291bnQgLSBzbGlkZXNCZWZvcmUgPD0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLnN0YXRlLnNsaWRlV2lkdGggKyB0aGlzLnByb3BzLmNlbGxTcGFjaW5nKSAqICh0aGlzLnN0YXRlLnNsaWRlQ291bnQgLSBpbmRleCkgKiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlc0FmdGVyID0gTWF0aC5jZWlsKChNYXRoLmFicyhwb3NpdGlvblZhbHVlKSAtIE1hdGguYWJzKGVuZCkpIC8gdGhpcy5zdGF0ZS5zbGlkZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5zbGlkZVdpZHRoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc0FmdGVyID0gTWF0aC5jZWlsKChNYXRoLmFicyhwb3NpdGlvblZhbHVlKSAtIHRoaXMuc3RhdGUuc2xpZGVXaWR0aCkgLyB0aGlzLnN0YXRlLnNsaWRlV2lkdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPD0gc2xpZGVzQWZ0ZXIgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5zdGF0ZS5zbGlkZVdpZHRoICsgdGhpcy5wcm9wcy5jZWxsU3BhY2luZykgKiAodGhpcy5zdGF0ZS5zbGlkZUNvdW50ICsgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0U2xpZGVyU3R5bGVzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNsaWRlclN0eWxlcygpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgICAgICAgICAgICBNb3pCb3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiB0aGlzLnN0YXRlLnNsaWRlV2lkdGggPyAndmlzaWJsZScgOiAnaGlkZGVuJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0U3R5bGVUYWdTdHlsZXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3R5bGVUYWdTdHlsZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gJy5zbGlkZXItc2xpZGUgPiBpbWcge3dpZHRoOiAxMDAlOyBkaXNwbGF5OiBibG9jazt9JztcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0RGVjb3JhdG9yU3R5bGVzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlY29yYXRvclN0eWxlcyhwb3NpdGlvbikge1xuICAgICAgICAgICAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1RvcExlZnQnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnVG9wQ2VudGVyJzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV2Via2l0VHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNUcmFuc2Zvcm06ICd0cmFuc2xhdGVYKC01MCUpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ1RvcFJpZ2h0JzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdDZW50ZXJMZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtNTAlKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV2Via2l0VHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtNTAlKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNUcmFuc2Zvcm06ICd0cmFuc2xhdGVZKC01MCUpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ0NlbnRlckNlbnRlcic6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwtNTAlKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV2Via2l0VHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc1RyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdDZW50ZXJSaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKC01MCUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXZWJraXRUcmFuc2Zvcm06ICd0cmFuc2xhdGVZKC01MCUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc1RyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoLTUwJSknXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnQm90dG9tTGVmdCc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdCb3R0b21DZW50ZXInOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdCb3R0b21SaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENhcm91c2VsO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5DYXJvdXNlbC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgYWZ0ZXJTbGlkZTogZnVuY3Rpb24gYWZ0ZXJTbGlkZSgpIHt9LFxuICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICByZXNldEF1dG9wbGF5OiB0cnVlLFxuICAgIHN3aXBlU3BlZWQ6IDEyLFxuICAgIGF1dG9wbGF5SW50ZXJ2YWw6IDMwMDAsXG4gICAgYmVmb3JlU2xpZGU6IGZ1bmN0aW9uIGJlZm9yZVNsaWRlKCkge30sXG4gICAgY2VsbEFsaWduOiAnbGVmdCcsXG4gICAgY2VsbFNwYWNpbmc6IDAsXG4gICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHt9LFxuICAgIGRlY29yYXRvcnM6IGRlY29yYXRvcnMsXG4gICAgZHJhZ2dpbmc6IHRydWUsXG4gICAgZWFzaW5nOiBlYXNlT3V0Q2lyYyxcbiAgICBlZGdlRWFzaW5nOiBsaW5lYXIsXG4gICAgZnJhbWVQYWRkaW5nOiAnMHB4JyxcbiAgICBmcmFtZU92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICBzbGlkZUluZGV4OiAwLFxuICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICBzbGlkZVdpZHRoOiAxLFxuICAgIHNwZWVkOiA1MDAsXG4gICAgc3dpcGluZzogdHJ1ZSxcbiAgICB2ZXJ0aWNhbDogZmFsc2UsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICB3cmFwQXJvdW5kOiBmYWxzZSxcbiAgICBzdHlsZToge31cbn07XG5leHBvcnQgZGVmYXVsdCBDYXJvdXNlbDsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0Q2Fyb3VzZWwgZnJvbSAncm1jLW51a2EtY2Fyb3VzZWwnO1xuXG52YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhDYXJvdXNlbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDYXJvdXNlbChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2Fyb3VzZWwpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDYXJvdXNlbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENhcm91c2VsKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbmRleDogaW5kZXhcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuYWZ0ZXJDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvcHMuYWZ0ZXJDaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHNlbGVjdGVkSW5kZXg6IF90aGlzLnByb3BzLnNlbGVjdGVkSW5kZXhcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDYXJvdXNlbCwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgaW5maW5pdGUgPSBfYS5pbmZpbml0ZSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEluZGV4ID0gX2Euc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgICAgICAgICBiZWZvcmVDaGFuZ2UgPSBfYS5iZWZvcmVDaGFuZ2UsXG4gICAgICAgICAgICAgICAgYWZ0ZXJDaGFuZ2UgPSBfYS5hZnRlckNoYW5nZSxcbiAgICAgICAgICAgICAgICBkb3RzID0gX2EuZG90cyxcbiAgICAgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcImluZmluaXRlXCIsIFwic2VsZWN0ZWRJbmRleFwiLCBcImJlZm9yZUNoYW5nZVwiLCBcImFmdGVyQ2hhbmdlXCIsIFwiZG90c1wiXSk7dmFyIHByZWZpeENscyA9IHJlc3RQcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgZG90QWN0aXZlU3R5bGUgPSByZXN0UHJvcHMuZG90QWN0aXZlU3R5bGUsXG4gICAgICAgICAgICAgICAgZG90U3R5bGUgPSByZXN0UHJvcHMuZG90U3R5bGUsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gcmVzdFByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbCA9IHJlc3RQcm9wcy52ZXJ0aWNhbDtcblxuICAgICAgICAgICAgdmFyIG5ld1Byb3BzID0gX2V4dGVuZHMoe30sIHJlc3RQcm9wcywgeyB3cmFwQXJvdW5kOiBpbmZpbml0ZSwgc2xpZGVJbmRleDogc2VsZWN0ZWRJbmRleCwgYmVmb3JlU2xpZGU6IGJlZm9yZUNoYW5nZSB9KTtcbiAgICAgICAgICAgIHZhciBEZWNvcmF0b3JzID0gW107XG4gICAgICAgICAgICBpZiAoZG90cykge1xuICAgICAgICAgICAgICAgIERlY29yYXRvcnMgPSBbe1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudChfcmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2xpZGVDb3VudCA9IF9yZWYuc2xpZGVDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbCA9IF9yZWYuc2xpZGVzVG9TY3JvbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNsaWRlID0gX3JlZi5jdXJyZW50U2xpZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVDb3VudDsgaSArPSBzbGlkZXNUb1Njcm9sbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvdERvbSA9IGFyci5tYXAoZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvdENscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzICsgJy13cmFwLWRvdCcsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcHJlZml4Q2xzICsgJy13cmFwLWRvdC1hY3RpdmUnLCBpbmRleCA9PT0gY3VycmVudFNsaWRlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnREb3RTdHlsZSA9IGluZGV4ID09PSBjdXJyZW50U2xpZGUgPyBkb3RBY3RpdmVTdHlsZSA6IGRvdFN0eWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGRvdENscywga2V5OiBpbmRleCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBzdHlsZTogY3VycmVudERvdFN0eWxlIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctd3JhcCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3REb21cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnQm90dG9tQ2VudGVyJ1xuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHdyYXBDbHMgPSBjbGFzc25hbWVzKHByZWZpeENscywgY2xhc3NOYW1lLCBfZGVmaW5lUHJvcGVydHkoe30sIHByZWZpeENscyArICctdmVydGljYWwnLCB2ZXJ0aWNhbCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3RDYXJvdXNlbCwgX2V4dGVuZHMoe30sIG5ld1Byb3BzLCB7IGNsYXNzTmFtZTogd3JhcENscywgZGVjb3JhdG9yczogRGVjb3JhdG9ycywgYWZ0ZXJTbGlkZTogdGhpcy5vbkNoYW5nZSB9KSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2Fyb3VzZWw7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IENhcm91c2VsO1xuXG5DYXJvdXNlbC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tY2Fyb3VzZWwnLFxuICAgIGRvdHM6IHRydWUsXG4gICAgYXJyb3dzOiBmYWxzZSxcbiAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgaW5maW5pdGU6IGZhbHNlLFxuICAgIGNlbGxBbGlnbjogJ2NlbnRlcicsXG4gICAgc2VsZWN0ZWRJbmRleDogMCxcbiAgICBkb3RTdHlsZToge30sXG4gICAgZG90QWN0aXZlU3R5bGU6IHt9XG59OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUHVyZVJlbmRlck1peGluIGZyb20gJ3JjLXV0aWwvZXMvUHVyZVJlbmRlck1peGluJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG52YXIgQ2hlY2tib3ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ2hlY2tib3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENoZWNrYm94KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoZWNrYm94KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDaGVja2JveC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENoZWNrYm94KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgIHZhciBjaGVja2VkID0gJ2NoZWNrZWQnIGluIHByb3BzID8gcHJvcHMuY2hlY2tlZCA6IHByb3BzLmRlZmF1bHRDaGVja2VkO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjaGVja2VkOiBjaGVja2VkXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2hlY2tib3gsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAoJ2NoZWNrZWQnIGluIG5leHRQcm9wcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjaGVja2VkOiBuZXh0UHJvcHMuY2hlY2tlZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzaG91bGRDb21wb25lbnRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHVyZVJlbmRlck1peGluLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBuYW1lID0gX3Byb3BzLm5hbWUsXG4gICAgICAgICAgdHlwZSA9IF9wcm9wcy50eXBlLFxuICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgIHJlYWRPbmx5ID0gX3Byb3BzLnJlYWRPbmx5LFxuICAgICAgICAgIHRhYkluZGV4ID0gX3Byb3BzLnRhYkluZGV4LFxuICAgICAgICAgIG9uQ2xpY2sgPSBfcHJvcHMub25DbGljayxcbiAgICAgICAgICBvbkZvY3VzID0gX3Byb3BzLm9uRm9jdXMsXG4gICAgICAgICAgb25CbHVyID0gX3Byb3BzLm9uQmx1cixcbiAgICAgICAgICBvdGhlcnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbJ3ByZWZpeENscycsICdjbGFzc05hbWUnLCAnc3R5bGUnLCAnbmFtZScsICd0eXBlJywgJ2Rpc2FibGVkJywgJ3JlYWRPbmx5JywgJ3RhYkluZGV4JywgJ29uQ2xpY2snLCAnb25Gb2N1cycsICdvbkJsdXInXSk7XG5cbiAgICAgIHZhciBnbG9iYWxQcm9wcyA9IE9iamVjdC5rZXlzKG90aGVycykucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBrZXkpIHtcbiAgICAgICAgaWYgKGtleS5zdWJzdHIoMCwgNSkgPT09ICdhcmlhLScgfHwga2V5LnN1YnN0cigwLCA1KSA9PT0gJ2RhdGEtJyB8fCBrZXkgPT09ICdyb2xlJykge1xuICAgICAgICAgIHByZXZba2V5XSA9IG90aGVyc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgfSwge30pO1xuXG4gICAgICB2YXIgY2hlY2tlZCA9IHRoaXMuc3RhdGUuY2hlY2tlZDtcblxuICAgICAgdmFyIGNsYXNzU3RyaW5nID0gY2xhc3NOYW1lcyhwcmVmaXhDbHMsIGNsYXNzTmFtZSwgKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1jaGVja2VkJywgY2hlY2tlZCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSwgX2NsYXNzTmFtZXMpKTtcblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzcGFuJyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogc3R5bGUgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBfZXh0ZW5kcyh7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgIHJlYWRPbmx5OiByZWFkT25seSxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgdGFiSW5kZXg6IHRhYkluZGV4LFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dCcsXG4gICAgICAgICAgY2hlY2tlZDogISFjaGVja2VkLFxuICAgICAgICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgICAgICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICAgICAgICBvbkJsdXI6IG9uQmx1cixcbiAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VcbiAgICAgICAgfSwgZ2xvYmFsUHJvcHMpKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlubmVyJyB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2hlY2tib3g7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbkNoZWNrYm94LnByb3BUeXBlcyA9IHtcbiAgcHJlZml4Q2xzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBkZWZhdWx0Q2hlY2tlZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLmJvb2xdKSxcbiAgY2hlY2tlZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLmJvb2xdKSxcbiAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25CbHVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgdGFiSW5kZXg6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHJlYWRPbmx5OiBQcm9wVHlwZXMuYm9vbFxufTtcbkNoZWNrYm94LmRlZmF1bHRQcm9wcyA9IHtcbiAgcHJlZml4Q2xzOiAncmMtY2hlY2tib3gnLFxuICBjbGFzc05hbWU6ICcnLFxuICBzdHlsZToge30sXG4gIHR5cGU6ICdjaGVja2JveCcsXG4gIGRlZmF1bHRDaGVja2VkOiBmYWxzZSxcbiAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHt9LFxuICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHt9LFxuICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fVxufTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICB0aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHByb3BzID0gX3RoaXMyLnByb3BzO1xuXG4gICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghKCdjaGVja2VkJyBpbiBwcm9wcykpIHtcbiAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgIGNoZWNrZWQ6IGUudGFyZ2V0LmNoZWNrZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgICBwcm9wcy5vbkNoYW5nZSh7XG4gICAgICB0YXJnZXQ6IF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICBjaGVja2VkOiBlLnRhcmdldC5jaGVja2VkXG4gICAgICB9KSxcbiAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSxcbiAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hlY2tib3g7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmNDaGVja2JveCBmcm9tICdyYy1jaGVja2JveCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgQ2hlY2tib3ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhDaGVja2JveCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDaGVja2JveCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoZWNrYm94KTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENoZWNrYm94Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2hlY2tib3gpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2hlY2tib3gsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBzdHlsZSA9IF9hLnN0eWxlLFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wiY2xhc3NOYW1lXCIsIFwic3R5bGVcIl0pO3ZhciBwcmVmaXhDbHMgPSByZXN0UHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gcmVzdFByb3BzLmNoaWxkcmVuO1xuXG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzICsgJy13cmFwcGVyJywgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIC8vIFRvZG86IHdhaXQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvcHJlYWN0LWNvbXBhdC9pc3N1ZXMvNDIyLCB0aGVuIHdlIGNhbiByZW1vdmUgY2xhc3MgYmVsb3dcbiAgICAgICAgICAgIGlmICgnY2xhc3MnIGluIHJlc3RQcm9wcykge1xuICAgICAgICAgICAgICAgIC8qIHRzbGludDpkaXNhYmxlOm5vLXN0cmluZy1saXRlcmFsICovXG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc3RQcm9wc1snY2xhc3MnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtYXJrID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiB3cmFwQ2xzLCBzdHlsZTogc3R5bGUgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJjQ2hlY2tib3gsIHJlc3RQcm9wcyksXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy53cmFwTGFiZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFyaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJjQ2hlY2tib3gsIHRoaXMucHJvcHMpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENoZWNrYm94O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBDaGVja2JveDtcblxuQ2hlY2tib3guZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLWNoZWNrYm94JyxcbiAgICB3cmFwTGFiZWw6IHRydWVcbn07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBnZXREYXRhQXR0ciBmcm9tICcuLi9fdXRpbC9nZXREYXRhQXR0cic7XG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnLi9DaGVja2JveCc7XG5cbnZhciBBZ3JlZUl0ZW0gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhBZ3JlZUl0ZW0sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQWdyZWVJdGVtKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWdyZWVJdGVtKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFncmVlSXRlbS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFncmVlSXRlbSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhBZ3JlZUl0ZW0sIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHN0eWxlID0gX2Euc3R5bGUsXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJzdHlsZVwiXSk7dmFyIHByZWZpeENscyA9IHJlc3RQcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gcmVzdFByb3BzLmNsYXNzTmFtZTtcblxuICAgICAgICAgICAgdmFyIHdyYXBDbHMgPSBjbGFzc25hbWVzKHByZWZpeENscyArICctYWdyZWUnLCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgX2V4dGVuZHMoe30sIGdldERhdGFBdHRyKHJlc3RQcm9wcyksIHsgY2xhc3NOYW1lOiB3cmFwQ2xzLCBzdHlsZTogc3R5bGUgfSksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveCwgX2V4dGVuZHMoe30sIHJlc3RQcm9wcywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYWdyZWUtbGFiZWwnIH0pKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBZ3JlZUl0ZW07XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IEFncmVlSXRlbTtcblxuQWdyZWVJdGVtLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1jaGVja2JveCdcbn07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbi8qIHRzbGludDpkaXNhYmxlOmpzeC1uby1tdWx0aWxpbmUtanMgKi9cbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUb3VjaEZlZWRiYWNrIGZyb20gJ3JtYy1mZWVkYmFjayc7XG5leHBvcnQgdmFyIEJyaWVmID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQnJpZWYsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQnJpZWYoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCcmllZik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChCcmllZi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEJyaWVmKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEJyaWVmLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdhbS1saXN0LWJyaWVmJywgc3R5bGU6IHRoaXMucHJvcHMuc3R5bGUgfSxcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJyaWVmO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG52YXIgTGlzdEl0ZW0gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudDIpIHtcbiAgICBfaW5oZXJpdHMoTGlzdEl0ZW0sIF9SZWFjdCRDb21wb25lbnQyKTtcblxuICAgIGZ1bmN0aW9uIExpc3RJdGVtKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0SXRlbSk7XG5cbiAgICAgICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMaXN0SXRlbS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExpc3RJdGVtKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzMi5vbkNsaWNrID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyJHByb3BzID0gX3RoaXMyLnByb3BzLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2sgPSBfdGhpczIkcHJvcHMub25DbGljayxcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybSA9IF90aGlzMiRwcm9wcy5wbGF0Zm9ybTtcblxuICAgICAgICAgICAgdmFyIGlzQW5kcm9pZCA9IHBsYXRmb3JtID09PSAnYW5kcm9pZCc7XG4gICAgICAgICAgICBpZiAoISFvbkNsaWNrICYmIGlzQW5kcm9pZCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpczIuZGVib3VuY2VUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpczIuZGVib3VuY2VUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRlYm91bmNlVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBJdGVtID0gZXYuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgICB2YXIgUmlwcGxlV2lkdGggPSBNYXRoLm1heChJdGVtLm9mZnNldEhlaWdodCwgSXRlbS5vZmZzZXRXaWR0aCk7XG4gICAgICAgICAgICAgICAgdmFyIENsaWVudFJlY3QgPSBldi5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHZhciBwb2ludFggPSBldi5jbGllbnRYIC0gQ2xpZW50UmVjdC5sZWZ0IC0gSXRlbS5vZmZzZXRXaWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgdmFyIHBvaW50WSA9IGV2LmNsaWVudFkgLSBDbGllbnRSZWN0LnRvcCAtIEl0ZW0ub2Zmc2V0V2lkdGggLyAyO1xuICAgICAgICAgICAgICAgIHZhciBjb3ZlclJpcHBsZVN0eWxlID0ge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogUmlwcGxlV2lkdGggKyAncHgnLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFJpcHBsZVdpZHRoICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogcG9pbnRYICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBwb2ludFkgKyAncHgnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBjb3ZlclJpcHBsZVN0eWxlOiBjb3ZlclJpcHBsZVN0eWxlLFxuICAgICAgICAgICAgICAgICAgICBSaXBwbGVDbGlja2VkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuZGVib3VuY2VUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyUmlwcGxlU3R5bGU6IHsgZGlzcGxheTogJ25vbmUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmlwcGxlQ2xpY2tlZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICAgICAgb25DbGljayhldik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzMi5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNvdmVyUmlwcGxlU3R5bGU6IHsgZGlzcGxheTogJ25vbmUnIH0sXG4gICAgICAgICAgICBSaXBwbGVDbGlja2VkOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXMyO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhMaXN0SXRlbSwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJvdW5jZVRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVib3VuY2VUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NuYW1lcyxcbiAgICAgICAgICAgICAgICBfY2xhc3NuYW1lczMsXG4gICAgICAgICAgICAgICAgX2NsYXNzbmFtZXM0LFxuICAgICAgICAgICAgICAgIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBhY3RpdmVTdHlsZSA9IF9hLmFjdGl2ZVN0eWxlLFxuICAgICAgICAgICAgICAgIGVycm9yID0gX2EuZXJyb3IsXG4gICAgICAgICAgICAgICAgYWxpZ24gPSBfYS5hbGlnbixcbiAgICAgICAgICAgICAgICB3cmFwID0gX2Eud3JhcCxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgbXVsdGlwbGVMaW5lID0gX2EubXVsdGlwbGVMaW5lLFxuICAgICAgICAgICAgICAgIHRodW1iID0gX2EudGh1bWIsXG4gICAgICAgICAgICAgICAgZXh0cmEgPSBfYS5leHRyYSxcbiAgICAgICAgICAgICAgICBhcnJvdyA9IF9hLmFycm93LFxuICAgICAgICAgICAgICAgIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wicHJlZml4Q2xzXCIsIFwiY2xhc3NOYW1lXCIsIFwiYWN0aXZlU3R5bGVcIiwgXCJlcnJvclwiLCBcImFsaWduXCIsIFwid3JhcFwiLCBcImRpc2FibGVkXCIsIFwiY2hpbGRyZW5cIiwgXCJtdWx0aXBsZUxpbmVcIiwgXCJ0aHVtYlwiLCBcImV4dHJhXCIsIFwiYXJyb3dcIiwgXCJvbkNsaWNrXCJdKTt2YXIgcGxhdGZvcm0gPSByZXN0UHJvcHMucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgb3RoZXJQcm9wcyA9IF9fcmVzdChyZXN0UHJvcHMsIFtcInBsYXRmb3JtXCJdKTt2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICBjb3ZlclJpcHBsZVN0eWxlID0gX3N0YXRlLmNvdmVyUmlwcGxlU3R5bGUsXG4gICAgICAgICAgICAgICAgUmlwcGxlQ2xpY2tlZCA9IF9zdGF0ZS5SaXBwbGVDbGlja2VkO1xuXG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzICsgJy1pdGVtJywgY2xhc3NOYW1lLCAoX2NsYXNzbmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWl0ZW0tZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1pdGVtLWVycm9yJywgZXJyb3IpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctaXRlbS10b3AnLCBhbGlnbiA9PT0gJ3RvcCcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctaXRlbS1taWRkbGUnLCBhbGlnbiA9PT0gJ21pZGRsZScpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctaXRlbS1ib3R0b20nLCBhbGlnbiA9PT0gJ2JvdHRvbScpLCBfY2xhc3NuYW1lcykpO1xuICAgICAgICAgICAgdmFyIHJpcHBsZUNscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzICsgJy1yaXBwbGUnLCBfZGVmaW5lUHJvcGVydHkoe30sIHByZWZpeENscyArICctcmlwcGxlLWFuaW1hdGUnLCBSaXBwbGVDbGlja2VkKSk7XG4gICAgICAgICAgICB2YXIgbGluZUNscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzICsgJy1saW5lJywgKF9jbGFzc25hbWVzMyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMzLCBwcmVmaXhDbHMgKyAnLWxpbmUtbXVsdGlwbGUnLCBtdWx0aXBsZUxpbmUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMzLCBwcmVmaXhDbHMgKyAnLWxpbmUtd3JhcCcsIHdyYXApLCBfY2xhc3NuYW1lczMpKTtcbiAgICAgICAgICAgIHZhciBhcnJvd0NscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzICsgJy1hcnJvdycsIChfY2xhc3NuYW1lczQgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzNCwgcHJlZml4Q2xzICsgJy1hcnJvdy1ob3Jpem9udGFsJywgYXJyb3cgPT09ICdob3Jpem9udGFsJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lczQsIHByZWZpeENscyArICctYXJyb3ctdmVydGljYWwnLCBhcnJvdyA9PT0gJ2Rvd24nIHx8IGFycm93ID09PSAndXAnKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzNCwgcHJlZml4Q2xzICsgJy1hcnJvdy12ZXJ0aWNhbC11cCcsIGFycm93ID09PSAndXAnKSwgX2NsYXNzbmFtZXM0KSk7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgX2V4dGVuZHMoe30sIG90aGVyUHJvcHMsIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLm9uQ2xpY2soZXYpO1xuICAgICAgICAgICAgICAgICAgICB9LCBjbGFzc05hbWU6IHdyYXBDbHMgfSksXG4gICAgICAgICAgICAgICAgdGh1bWIgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGh1bWInIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiB0aHVtYiA9PT0gJ3N0cmluZycgPyBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHNyYzogdGh1bWIgfSkgOiB0aHVtYlxuICAgICAgICAgICAgICAgICkgOiBudWxsLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogbGluZUNscyB9LFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiAhPT0gdW5kZWZpbmVkICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbnRlbnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBleHRyYSAhPT0gdW5kZWZpbmVkICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4dHJhJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgYXJyb3cgJiYgUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IGFycm93Q2xzLCAnYXJpYS1oaWRkZW4nOiAndHJ1ZScgfSlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IGNvdmVyUmlwcGxlU3R5bGUsIGNsYXNzTmFtZTogcmlwcGxlQ2xzIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdmFyIHRvdWNoUHJvcHMgPSB7fTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG90aGVyUHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGlmICgvb25Ub3VjaC9pLnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaFByb3BzW2tleV0gPSBvdGhlclByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvdGhlclByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBUb3VjaEZlZWRiYWNrLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHt9LCB0b3VjaFByb3BzLCB7IGRpc2FibGVkOiBkaXNhYmxlZCB8fCAhb25DbGljaywgYWN0aXZlU3R5bGU6IGFjdGl2ZVN0eWxlLCBhY3RpdmVDbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS1hY3RpdmUnIH0pLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTGlzdEl0ZW07XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbkxpc3RJdGVtLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1saXN0JyxcbiAgICBhbGlnbjogJ21pZGRsZScsXG4gICAgZXJyb3I6IGZhbHNlLFxuICAgIG11bHRpcGxlTGluZTogZmFsc2UsXG4gICAgd3JhcDogZmFsc2UsXG4gICAgcGxhdGZvcm06ICdpb3MnXG59O1xuTGlzdEl0ZW0uQnJpZWYgPSBCcmllZjtcbmV4cG9ydCBkZWZhdWx0IExpc3RJdGVtOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG4vKiB0c2xpbnQ6ZGlzYWJsZTpqc3gtbm8tbXVsdGlsaW5lLWpzICovXG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSXRlbSBmcm9tICcuL0xpc3RJdGVtJztcblxudmFyIExpc3QgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhMaXN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIExpc3QoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0KTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKExpc3QuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMaXN0KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKExpc3QsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBzdHlsZSA9IF9hLnN0eWxlLFxuICAgICAgICAgICAgICAgIHJlbmRlckhlYWRlciA9IF9hLnJlbmRlckhlYWRlcixcbiAgICAgICAgICAgICAgICByZW5kZXJGb290ZXIgPSBfYS5yZW5kZXJGb290ZXIsXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJwcmVmaXhDbHNcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcInN0eWxlXCIsIFwicmVuZGVySGVhZGVyXCIsIFwicmVuZGVyRm9vdGVyXCJdKTtcbiAgICAgICAgICAgIHZhciB3cmFwQ2xzID0gY2xhc3NuYW1lcyhwcmVmaXhDbHMsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IGNsYXNzTmFtZTogd3JhcENscywgc3R5bGU6IHN0eWxlIH0sIHJlc3RQcm9wcyksXG4gICAgICAgICAgICAgICAgcmVuZGVySGVhZGVyID8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHJlbmRlckhlYWRlciA9PT0gJ2Z1bmN0aW9uJyA/IHJlbmRlckhlYWRlcigpIDogcmVuZGVySGVhZGVyXG4gICAgICAgICAgICAgICAgKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScgfSxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICApIDogbnVsbCxcbiAgICAgICAgICAgICAgICByZW5kZXJGb290ZXIgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZm9vdGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcmVuZGVyRm9vdGVyID09PSAnZnVuY3Rpb24nID8gcmVuZGVyRm9vdGVyKCkgOiByZW5kZXJGb290ZXJcbiAgICAgICAgICAgICAgICApIDogbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMaXN0O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuXG5MaXN0Lkl0ZW0gPSBJdGVtO1xuTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tbGlzdCdcbn07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMaXN0IGZyb20gJy4uL2xpc3QnO1xuaW1wb3J0IENoZWNrYm94IGZyb20gJy4vQ2hlY2tib3gnO1xudmFyIExpc3RJdGVtID0gTGlzdC5JdGVtO1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5XG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIENoZWNrYm94SXRlbSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKENoZWNrYm94SXRlbSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDaGVja2JveEl0ZW0oKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGVja2JveEl0ZW0pO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2hlY2tib3hJdGVtLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2hlY2tib3hJdGVtKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENoZWNrYm94SXRlbSwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGxpc3RQcmVmaXhDbHMgPSBfYS5saXN0UHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICBjaGVja2JveFByb3BzID0gX2EuY2hlY2tib3hQcm9wcyxcbiAgICAgICAgICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljayxcbiAgICAgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcImxpc3RQcmVmaXhDbHNcIiwgXCJvbkNoYW5nZVwiLCBcImRpc2FibGVkXCIsIFwiY2hlY2tib3hQcm9wc1wiLCBcIm9uQ2xpY2tcIl0pO3ZhciBwcmVmaXhDbHMgPSByZXN0UHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IHJlc3RQcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSByZXN0UHJvcHMuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIHZhciB3cmFwQ2xzID0gY2xhc3NuYW1lcyhwcmVmaXhDbHMgKyAnLWl0ZW0nLCBjbGFzc05hbWUsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcHJlZml4Q2xzICsgJy1pdGVtLWRpc2FibGVkJywgZGlzYWJsZWQgPT09IHRydWUpKTtcbiAgICAgICAgICAgIC8vIE5vdGU6IGlmIG5vdCBvbWl0IGBvbkNoYW5nZWAsIGl0IHdpbGwgdHJpZ2dlciB0d2ljZSBvbiBjaGVjayBsaXN0aXRlbVxuICAgICAgICAgICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHJlc3RQcm9wcy5vbkNsaWNrID0gb25DbGljayB8fCBub29wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGV4dHJhUHJvcHMgPSB7fTtcbiAgICAgICAgICAgIFsnbmFtZScsICdkZWZhdWx0Q2hlY2tlZCcsICdjaGVja2VkJywgJ29uQ2hhbmdlJywgJ2Rpc2FibGVkJ10uZm9yRWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIGlmIChpIGluIF90aGlzMi5wcm9wcykge1xuICAgICAgICAgICAgICAgICAgICBleHRyYVByb3BzW2ldID0gX3RoaXMyLnByb3BzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgTGlzdEl0ZW0sXG4gICAgICAgICAgICAgICAgX2V4dGVuZHMoe30sIHJlc3RQcm9wcywgeyBwcmVmaXhDbHM6IGxpc3RQcmVmaXhDbHMsIGNsYXNzTmFtZTogd3JhcENscywgdGh1bWI6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3gsIF9leHRlbmRzKHt9LCBjaGVja2JveFByb3BzLCBleHRyYVByb3BzKSkgfSksXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2hlY2tib3hJdGVtO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBDaGVja2JveEl0ZW07XG5cbkNoZWNrYm94SXRlbS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tY2hlY2tib3gnLFxuICAgIGxpc3RQcmVmaXhDbHM6ICdhbS1saXN0JyxcbiAgICBjaGVja2JveFByb3BzOiB7fVxufTsiLCJpbXBvcnQgQWdyZWVJdGVtIGZyb20gJy4vQWdyZWVJdGVtJztcbmltcG9ydCBDaGVja2JveCBmcm9tICcuL0NoZWNrYm94JztcbmltcG9ydCBDaGVja2JveEl0ZW0gZnJvbSAnLi9DaGVja2JveEl0ZW0nO1xuQ2hlY2tib3guQ2hlY2tib3hJdGVtID0gQ2hlY2tib3hJdGVtO1xuQ2hlY2tib3guQWdyZWVJdGVtID0gQWdyZWVJdGVtO1xuZXhwb3J0IGRlZmF1bHQgQ2hlY2tib3g7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9wdXBNaXhpbihnZXRNb2RhbCwgcGxhdGZvcm1Qcm9wcykge1xuICAgIHJldHVybiBfYSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgICAgIF9pbmhlcml0cyhfYSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICAgICAgZnVuY3Rpb24gX2EocHJvcHMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBfYSk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfYS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKF9hKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgICAgICBfdGhpcy5vblBpY2tlckNoYW5nZSA9IGZ1bmN0aW9uIChwaWNrZXJWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5waWNrZXJWYWx1ZSAhPT0gcGlja2VyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGlja2VyVmFsdWU6IHBpY2tlclZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlciA9IF90aGlzJHByb3BzLnBpY2tlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlclZhbHVlQ2hhbmdlUHJvcCA9IF90aGlzJHByb3BzLnBpY2tlclZhbHVlQ2hhbmdlUHJvcDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGlja2VyICYmIHBpY2tlci5wcm9wc1twaWNrZXJWYWx1ZUNoYW5nZVByb3BdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaWNrZXIucHJvcHNbcGlja2VyVmFsdWVDaGFuZ2VQcm9wXShwaWNrZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc2F2ZVJlZiA9IGZ1bmN0aW9uIChwaWNrZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5waWNrZXIgPSBwaWNrZXI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMub25UcmlnZ2VyQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IF90aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZFByb3BzID0gY2hpbGQucHJvcHMgfHwge307XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkUHJvcHNbX3RoaXMucHJvcHMudHJpZ2dlclR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkUHJvcHNbX3RoaXMucHJvcHMudHJpZ2dlclR5cGVdKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5maXJlVmlzaWJsZUNoYW5nZSghX3RoaXMuc3RhdGUudmlzaWJsZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMub25PayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbk9rKF90aGlzLnBpY2tlciAmJiBfdGhpcy5waWNrZXIuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZmlyZVZpc2libGVDaGFuZ2UoZmFsc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLnBpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX1JlYWN0JGNsb25lRWxlbWVudDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGlja2VyVmFsdWUgPSBfdGhpcy5zdGF0ZS5waWNrZXJWYWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGlja2VyVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlclZhbHVlID0gX3RoaXMucHJvcHMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChfdGhpcy5wcm9wcy5waWNrZXIsIChfUmVhY3QkY2xvbmVFbGVtZW50ID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfUmVhY3QkY2xvbmVFbGVtZW50LCBfdGhpcy5wcm9wcy5waWNrZXJWYWx1ZVByb3AsIHBpY2tlclZhbHVlKSwgX2RlZmluZVByb3BlcnR5KF9SZWFjdCRjbG9uZUVsZW1lbnQsIF90aGlzLnByb3BzLnBpY2tlclZhbHVlQ2hhbmdlUHJvcCwgX3RoaXMub25QaWNrZXJDaGFuZ2UpLCBfZGVmaW5lUHJvcGVydHkoX1JlYWN0JGNsb25lRWxlbWVudCwgJ3JlZicsIF90aGlzLnNhdmVSZWYpLCBfUmVhY3QkY2xvbmVFbGVtZW50KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLm9uRGlzbWlzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkRpc21pc3MoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5maXJlVmlzaWJsZUNoYW5nZShmYWxzZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5maXJlVmlzaWJsZUNoYW5nZShmYWxzZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgcGlja2VyVmFsdWU6ICd2YWx1ZScgaW4gX3RoaXMucHJvcHMgPyBfdGhpcy5wcm9wcy52YWx1ZSA6IG51bGwsXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogX3RoaXMucHJvcHMudmlzaWJsZSB8fCBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhfYSwgW3tcbiAgICAgICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGlja2VyVmFsdWU6IG5leHRQcm9wcy52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCd2aXNpYmxlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRWaXNpYmxlU3RhdGUobmV4dFByb3BzLnZpc2libGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VmlzaWJsZVN0YXRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaXNpYmxlU3RhdGUodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGlja2VyVmFsdWU6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdmaXJlVmlzaWJsZUNoYW5nZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmlyZVZpc2libGVDaGFuZ2UodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnZpc2libGUgIT09IHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoJ3Zpc2libGUnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFZpc2libGVTdGF0ZSh2aXNpYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uVmlzaWJsZUNoYW5nZSh2aXNpYmxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldFJlbmRlcicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVuZGVyKCkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TW9kYWwocHJvcHMsIHRoaXMuc3RhdGUudmlzaWJsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Q29udGVudDogdGhpcy5nZXRDb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25PazogdGhpcy5vbk9rLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZTogdGhpcy5oaWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25EaXNtaXNzOiB0aGlzLm9uRGlzbWlzc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIFdyYXBDb21wb25lbnQgPSBfcHJvcHMuV3JhcENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbjtcbiAgICAgICAgICAgICAgICB2YXIgbmV3Q2hpbGRQcm9wcyA9IHt9O1xuICAgICAgICAgICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGRQcm9wc1twcm9wcy50cmlnZ2VyVHlwZV0gPSB0aGlzLm9uVHJpZ2dlckNsaWNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgV3JhcENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogcHJvcHMud3JhcFN0eWxlIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgbmV3Q2hpbGRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgIGdldE1vZGFsKHByb3BzLCB0aGlzLnN0YXRlLnZpc2libGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldENvbnRlbnQ6IHRoaXMuZ2V0Q29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6IHRoaXMub25PayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGU6IHRoaXMuaGlkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRGlzbWlzczogdGhpcy5vbkRpc21pc3NcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRSZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBfYTtcbiAgICB9KFJlYWN0LkNvbXBvbmVudCksIF9hLmRlZmF1bHRQcm9wcyA9IF9leHRlbmRzKHtcbiAgICAgICAgb25WaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBvblZpc2libGVDaGFuZ2UoXykge30sXG4gICAgICAgIG9rVGV4dDogJ09rJywgZGlzbWlzc1RleHQ6ICdEaXNtaXNzJywgdGl0bGU6ICcnLCBvbk9rOiBmdW5jdGlvbiBvbk9rKF8pIHt9LFxuICAgICAgICBvbkRpc21pc3M6IGZ1bmN0aW9uIG9uRGlzbWlzcygpIHt9XG4gICAgfSwgcGxhdGZvcm1Qcm9wcyksIF9hO1xuICAgIHZhciBfYTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1vZGFsIGZyb20gJ3JtYy1kaWFsb2cnO1xuaW1wb3J0IFBvcHVwTWl4aW4gZnJvbSAnLi9Qb3B1cE1peGluJztcbmltcG9ydCBUb3VjaGFibGUgZnJvbSAncm1jLWZlZWRiYWNrJztcbnZhciBnZXRNb2RhbCA9IGZ1bmN0aW9uIGdldE1vZGFsKHByb3BzLCB2aXNpYmxlLCBfcmVmKSB7XG4gIHZhciBnZXRDb250ZW50ID0gX3JlZi5nZXRDb250ZW50LFxuICAgICAgaGlkZSA9IF9yZWYuaGlkZSxcbiAgICAgIG9uRGlzbWlzcyA9IF9yZWYub25EaXNtaXNzLFxuICAgICAgb25PayA9IF9yZWYub25PaztcblxuICBpZiAoIXZpc2libGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgIE1vZGFsLFxuICAgIHsgcHJlZml4Q2xzOiAnJyArIHByZWZpeENscywgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUgfHwgJycsIHZpc2libGU6IHRydWUsIGNsb3NhYmxlOiBmYWxzZSwgdHJhbnNpdGlvbk5hbWU6IHByb3BzLnRyYW5zaXRpb25OYW1lIHx8IHByb3BzLnBvcHVwVHJhbnNpdGlvbk5hbWUsIG1hc2tUcmFuc2l0aW9uTmFtZTogcHJvcHMubWFza1RyYW5zaXRpb25OYW1lLCBvbkNsb3NlOiBoaWRlLCBzdHlsZTogcHJvcHMuc3R5bGUgfSxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICBudWxsLFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlcicgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBUb3VjaGFibGUsXG4gICAgICAgICAgeyBhY3RpdmVDbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS1hY3RpdmUnIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbSAnICsgcHJlZml4Q2xzICsgJy1oZWFkZXItbGVmdCcsIG9uQ2xpY2s6IG9uRGlzbWlzcyB9LFxuICAgICAgICAgICAgcHJvcHMuZGlzbWlzc1RleHRcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbSAnICsgcHJlZml4Q2xzICsgJy10aXRsZScgfSxcbiAgICAgICAgICBwcm9wcy50aXRsZVxuICAgICAgICApLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIFRvdWNoYWJsZSxcbiAgICAgICAgICB7IGFjdGl2ZUNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWFjdGl2ZScgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtICcgKyBwcmVmaXhDbHMgKyAnLWhlYWRlci1yaWdodCcsIG9uQ2xpY2s6IG9uT2sgfSxcbiAgICAgICAgICAgIHByb3BzLm9rVGV4dFxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKSxcbiAgICAgIGdldENvbnRlbnQoKVxuICAgIClcbiAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBQb3B1cE1peGluKGdldE1vZGFsLCB7XG4gIHByZWZpeENsczogJ3JtYy1waWNrZXItcG9wdXAnLFxuICBXcmFwQ29tcG9uZW50OiAnc3BhbicsXG4gIHRyaWdnZXJUeXBlOiAnb25DbGljaycsXG4gIHBpY2tlclZhbHVlUHJvcDogJ3NlbGVjdGVkVmFsdWUnLFxuICBwaWNrZXJWYWx1ZUNoYW5nZVByb3A6ICdvblZhbHVlQ2hhbmdlJ1xufSk7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBvcHVwUGlja2VyIGZyb20gJ3JtYy1waWNrZXIvZXMvUG9wdXAnO1xuXG52YXIgUG9wdXBEYXRlUGlja2VyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUG9wdXBEYXRlUGlja2VyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFBvcHVwRGF0ZVBpY2tlcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvcHVwRGF0ZVBpY2tlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvcHVwRGF0ZVBpY2tlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBvcHVwRGF0ZVBpY2tlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLm9uT2sgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgb25DaGFuZ2UgPSBfdGhpcyRwcm9wcy5vbkNoYW5nZSxcbiAgICAgICAgICAgICAgICBvbk9rID0gX3RoaXMkcHJvcHMub25PaztcblxuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2Uodik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25Paykge1xuICAgICAgICAgICAgICAgIG9uT2sodik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUG9wdXBEYXRlUGlja2VyLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wdXBQaWNrZXIsIF9leHRlbmRzKHsgcGlja2VyOiB0aGlzLnByb3BzLmRhdGVQaWNrZXIsIHZhbHVlOiB0aGlzLnByb3BzLmRhdGUgfSwgdGhpcy5wcm9wcywgeyBvbk9rOiB0aGlzLm9uT2sgfSkpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFBvcHVwRGF0ZVBpY2tlcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuUG9wdXBEYXRlUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwaWNrZXJWYWx1ZVByb3A6ICdkYXRlJyxcbiAgICBwaWNrZXJWYWx1ZUNoYW5nZVByb3A6ICdvbkRhdGVDaGFuZ2UnXG59O1xuZXhwb3J0IGRlZmF1bHQgUG9wdXBEYXRlUGlja2VyOyIsImltcG9ydCBfdHlwZW9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YnO1xuZnVuY3Rpb24gZm9ybWF0SXQoZGF0ZSwgZm9ybSkge1xuICAgIHZhciBwYWQgPSBmdW5jdGlvbiBwYWQobikge1xuICAgICAgICByZXR1cm4gbiA8IDEwID8gJzAnICsgbiA6IG47XG4gICAgfTtcbiAgICB2YXIgZGF0ZVN0ciA9IGRhdGUuZ2V0RnVsbFllYXIoKSArICctJyArIHBhZChkYXRlLmdldE1vbnRoKCkgKyAxKSArICctJyArIHBhZChkYXRlLmdldERhdGUoKSk7XG4gICAgdmFyIHRpbWVTdHIgPSBwYWQoZGF0ZS5nZXRIb3VycygpKSArICc6JyArIHBhZChkYXRlLmdldE1pbnV0ZXMoKSk7XG4gICAgaWYgKGZvcm0gPT09ICdZWVlZLU1NLUREJykge1xuICAgICAgICByZXR1cm4gZGF0ZVN0cjtcbiAgICB9XG4gICAgaWYgKGZvcm0gPT09ICdISDptbScpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVTdHI7XG4gICAgfVxuICAgIHJldHVybiBkYXRlU3RyICsgJyAnICsgdGltZVN0cjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRGbihpbnN0YW5jZSwgdmFsdWUpIHtcbiAgICB2YXIgZm9ybWF0c0VudW0gPSB7XG4gICAgICAgIGRhdGU6ICdZWVlZLU1NLUREJyxcbiAgICAgICAgdGltZTogJ0hIOm1tJyxcbiAgICAgICAgZGF0ZXRpbWU6ICdZWVlZLU1NLUREIEhIOm1tJ1xuICAgIH07XG4gICAgdmFyIGZvcm1hdCA9IGluc3RhbmNlLnByb3BzLmZvcm1hdDtcblxuICAgIHZhciB0eXBlID0gdHlwZW9mIGZvcm1hdCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoZm9ybWF0KTtcbiAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEl0KHZhbHVlLCBmb3JtYXQpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZm9ybWF0KHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdEl0KHZhbHVlLCBmb3JtYXRzRW51bVtpbnN0YW5jZS5wcm9wcy5tb2RlXSk7XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG4vKiB0c2xpbnQ6ZGlzYWJsZTpqc3gtbm8tbXVsdGlsaW5lLWpzICovXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSQ0RhdGVQaWNrZXIgZnJvbSAncm1jLWRhdGUtcGlja2VyL2VzL0RhdGVQaWNrZXInO1xuaW1wb3J0IFBvcHVwRGF0ZVBpY2tlciBmcm9tICdybWMtZGF0ZS1waWNrZXIvZXMvUG9wdXAnO1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50TG9jYWxlIH0gZnJvbSAnLi4vX3V0aWwvZ2V0TG9jYWxlJztcbmltcG9ydCB7IGZvcm1hdEZuIH0gZnJvbSAnLi91dGlscyc7XG5cbnZhciBEYXRlUGlja2VyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRGF0ZVBpY2tlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEYXRlUGlja2VyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZVBpY2tlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERhdGVQaWNrZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEYXRlUGlja2VyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMuc2V0U2Nyb2xsVmFsdWUgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgX3RoaXMuc2Nyb2xsVmFsdWUgPSB2O1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbk9rID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zY3JvbGxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdiA9IF90aGlzLnNjcm9sbFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uodik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25Paykge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uT2sodik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uVmlzaWJsZUNoYW5nZSA9IGZ1bmN0aW9uICh2aXNpYmxlKSB7XG4gICAgICAgICAgICBfdGhpcy5zY3JvbGxWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vblZpc2libGVDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblZpc2libGVDaGFuZ2UodmlzaWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmZpeE9uT2sgPSBmdW5jdGlvbiAocGlja2VyKSB7XG4gICAgICAgICAgICBpZiAocGlja2VyKSB7XG4gICAgICAgICAgICAgICAgcGlja2VyLm9uT2sgPSBfdGhpcy5vbk9rO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKERhdGVQaWNrZXIsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdGhpcy1hc3NpZ25tZW50XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICAgIHBvcHVwUHJlZml4Q2xzID0gcHJvcHMucG9wdXBQcmVmaXhDbHM7XG5cbiAgICAgICAgICAgIHZhciBsb2NhbGUgPSBnZXRDb21wb25lbnRMb2NhbGUocHJvcHMsIGNvbnRleHQsICdEYXRlUGlja2VyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1aXJlKCcuL2xvY2FsZS96aF9DTicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgb2tUZXh0ID0gbG9jYWxlLm9rVGV4dCxcbiAgICAgICAgICAgICAgICBkaXNtaXNzVGV4dCA9IGxvY2FsZS5kaXNtaXNzVGV4dCxcbiAgICAgICAgICAgICAgICBleHRyYSA9IGxvY2FsZS5leHRyYSxcbiAgICAgICAgICAgICAgICBEYXRlUGlja2VyTG9jYWxlID0gbG9jYWxlLkRhdGVQaWNrZXJMb2NhbGU7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIOazqOaEjzpcbiAgICAgICAgICAgICAqIOWPl+aOpyDooajnpLog6YCa6L+H6K6+572uIHZhbHVlIOWxnuaAp+OAgee7hOS7tueahOacgOe7iOeKtuaAgei3nyB2YWx1ZSDorr7nva7lgLzkuIDoh7TjgIJcbiAgICAgICAgICAgICAqIOm7mOiupOS4jeiuvue9riB2YWx1ZSDmiJYg5Y+q6K6+572uIGRlZmF1bHRWYWx1ZSDooajnpLrpnZ7lj5fmjqfjgIJcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBEYXRlUGlja2VyVmlldyDlr7nlpJbpgJrov4cgdmFsdWUg4oCc5Y+q5pSv5oyBIOWPl+aOp+KAnSDmqKHlvI/vvIjlj6/ku6Xkvb/nlKggZGVmYXVsdERhdGUg5pSv5oyBIOmdnuWPl+aOpyDmqKHlvI/vvIzkvYbkuI3lr7nlpJbvvIlcbiAgICAgICAgICAgICAqIFBpY2tlclZpZXcg5a+55aSW6YCa6L+HIHZhbHVlIOKAnOWPquaUr+aMgSDlj5fmjqfigJ0g5qih5byPXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogRGF0ZVBpY2tlciAvIFBpY2tlciDlr7nlpJblj6rmnIkgdmFsdWUg5bGe5oCnICjmsqHmnIkgZGVmYXVsdFZhbHVlKe+8jFxuICAgICAgICAgICAgICog5YW25LitIExpc3Qg5bGV56S66YOo5YiGIOKAnOWPquaUr+aMgSDlj5fmjqfigJ0g5qih5byP77yMXG4gICAgICAgICAgICAgKiDlvLnlh7rnmoQg6YCJ5oup5Zmo6YOo5YiGIOS8mumaj+WklumDqCB2YWx1ZSDmlLnlj5jogIzlj5jjgIHlkIzml7bog73oh6rnlLHmu5rliqhcbiAgICAgICAgICAgICAqIO+8iOWNs+S4jeS8muWboOS4uuS8oOWFpeeahCB2YWx1ZSDkuI3lj5jogIzkuI3og73mu5rliqggKOS4jeWDj+WOn+eUnyBpbnB1dCDnmoTlj5fmjqfooYzkuLop77yJXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIHZhciBkYXRhUGlja2VyID0gUmVhY3QuY3JlYXRlRWxlbWVudChSQ0RhdGVQaWNrZXIsIHsgbWludXRlU3RlcDogcHJvcHMubWludXRlU3RlcCwgbG9jYWxlOiBEYXRlUGlja2VyTG9jYWxlLCBtaW5EYXRlOiBwcm9wcy5taW5EYXRlLCBtYXhEYXRlOiBwcm9wcy5tYXhEYXRlLCBtb2RlOiBwcm9wcy5tb2RlLCBwaWNrZXJQcmVmaXhDbHM6IHByb3BzLnBpY2tlclByZWZpeENscywgcHJlZml4Q2xzOiBwcm9wcy5wcmVmaXhDbHMsIGRlZmF1bHREYXRlOiB2YWx1ZSB8fCBuZXcgRGF0ZSgpLCB1c2UxMkhvdXJzOiBwcm9wcy51c2UxMkhvdXJzLCBvblZhbHVlQ2hhbmdlOiBwcm9wcy5vblZhbHVlQ2hhbmdlLCBvblNjcm9sbENoYW5nZTogdGhpcy5zZXRTY3JvbGxWYWx1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIFBvcHVwRGF0ZVBpY2tlcixcbiAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IGRhdGVQaWNrZXI6IGRhdGFQaWNrZXIsIFdyYXBDb21wb25lbnQ6ICdkaXYnLCB0cmFuc2l0aW9uTmFtZTogJ2FtLXNsaWRlLXVwJywgbWFza1RyYW5zaXRpb25OYW1lOiAnYW0tZmFkZScgfSwgcHJvcHMsIHsgcHJlZml4Q2xzOiBwb3B1cFByZWZpeENscywgZGF0ZTogdmFsdWUgfHwgbmV3IERhdGUoKSwgZGlzbWlzc1RleHQ6IHRoaXMucHJvcHMuZGlzbWlzc1RleHQgfHwgZGlzbWlzc1RleHQsIG9rVGV4dDogdGhpcy5wcm9wcy5va1RleHQgfHwgb2tUZXh0LCByZWY6IHRoaXMuZml4T25Paywgb25WaXNpYmxlQ2hhbmdlOiB0aGlzLm9uVmlzaWJsZUNoYW5nZSB9KSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiAmJiBSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikgJiYgUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhOiB2YWx1ZSA/IGZvcm1hdEZuKHRoaXMsIHZhbHVlKSA6IHRoaXMucHJvcHMuZXh0cmEgfHwgZXh0cmFcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEYXRlUGlja2VyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBEYXRlUGlja2VyO1xuXG5EYXRlUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtb2RlOiAnZGF0ZXRpbWUnLFxuICAgIHByZWZpeENsczogJ2FtLXBpY2tlcicsXG4gICAgcGlja2VyUHJlZml4Q2xzOiAnYW0tcGlja2VyLWNvbCcsXG4gICAgcG9wdXBQcmVmaXhDbHM6ICdhbS1waWNrZXItcG9wdXAnLFxuICAgIG1pbnV0ZVN0ZXA6IDEsXG4gICAgdXNlMTJIb3VyczogZmFsc2Vcbn07XG5EYXRlUGlja2VyLmNvbnRleHRUeXBlcyA9IHtcbiAgICBhbnRMb2NhbGU6IFByb3BUeXBlcy5vYmplY3Rcbn07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSQ0RhdGVQaWNrZXIgZnJvbSAncm1jLWRhdGUtcGlja2VyL2VzL0RhdGVQaWNrZXInO1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50TG9jYWxlIH0gZnJvbSAnLi4vX3V0aWwvZ2V0TG9jYWxlJztcblxudmFyIERhdGVQaWNrZXJWaWV3ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRGF0ZVBpY2tlclZpZXcsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRGF0ZVBpY2tlclZpZXcoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRlUGlja2VyVmlldyk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEYXRlUGlja2VyVmlldy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERhdGVQaWNrZXJWaWV3KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKERhdGVQaWNrZXJWaWV3LCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRoaXMtYXNzaWdubWVudFxuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgICAgICB2YXIgbG9jYWxlID0gZ2V0Q29tcG9uZW50TG9jYWxlKHByb3BzLCBjb250ZXh0LCAnRGF0ZVBpY2tlclZpZXcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmUoJy4vbG9jYWxlL3poX0NOJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIERhdGVQaWNrZXIgdXNlIGBkZWZhdWx0RGF0ZWAsIG1heWJlIGJlY2F1c2UgdGhlcmUgYXJlIFBvcHVwRGF0ZVBpY2tlciBpbnNpZGU/IEB5aW1pbmdoZVxuICAgICAgICAgICAgLy8gSGVyZSBVc2UgYGRhdGVgIGluc3RlYWQgb2YgYGRlZmF1bHREYXRlYCwgbWFrZSBpdCBjb250cm9sbGVkIGZ1bGx5LlxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUkNEYXRlUGlja2VyLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsgbG9jYWxlOiBsb2NhbGUsIGRhdGU6IHByb3BzLnZhbHVlLCBvbkRhdGVDaGFuZ2U6IHByb3BzLm9uQ2hhbmdlLCBvblZhbHVlQ2hhbmdlOiBwcm9wcy5vblZhbHVlQ2hhbmdlLCBvblNjcm9sbENoYW5nZTogcHJvcHMub25TY3JvbGxDaGFuZ2UgfSkpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERhdGVQaWNrZXJWaWV3O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBEYXRlUGlja2VyVmlldztcblxuRGF0ZVBpY2tlclZpZXcuZGVmYXVsdFByb3BzID0ge1xuICAgIG1vZGU6ICdkYXRldGltZScsXG4gICAgZXh0cmE6ICfor7fpgInmi6knLFxuICAgIHByZWZpeENsczogJ2FtLXBpY2tlcicsXG4gICAgcGlja2VyUHJlZml4Q2xzOiAnYW0tcGlja2VyLWNvbCcsXG4gICAgbWludXRlU3RlcDogMSxcbiAgICB1c2UxMkhvdXJzOiBmYWxzZVxufTtcbkRhdGVQaWNrZXJWaWV3LmNvbnRleHRUeXBlcyA9IHtcbiAgICBhbnRMb2NhbGU6IFByb3BUeXBlcy5vYmplY3Rcbn07IiwiaW1wb3J0IERhdGVQaWNrZXJWaWV3IGZyb20gJy4vZGF0ZS1waWNrZXItdmlldyc7XG5leHBvcnQgZGVmYXVsdCBEYXRlUGlja2VyVmlldzsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF90eXBlb2YgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZic7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5mdW5jdGlvbiBnZXRPZmZzZXQoZWxlKSB7XG4gIHZhciBlbCA9IGVsZTtcbiAgdmFyIF94ID0gMDtcbiAgdmFyIF95ID0gMDtcbiAgd2hpbGUgKGVsICYmICFpc05hTihlbC5vZmZzZXRMZWZ0KSAmJiAhaXNOYU4oZWwub2Zmc2V0VG9wKSkge1xuICAgIF94ICs9IGVsLm9mZnNldExlZnQgLSBlbC5zY3JvbGxMZWZ0O1xuICAgIF95ICs9IGVsLm9mZnNldFRvcCAtIGVsLnNjcm9sbFRvcDtcbiAgICBlbCA9IGVsLm9mZnNldFBhcmVudDtcbiAgfVxuICByZXR1cm4geyB0b3A6IF95LCBsZWZ0OiBfeCB9O1xufVxuXG52YXIgQ0FOQ0VMX0RJU1RBTkNFX09OX1NDUk9MTCA9IDIwO1xuXG52YXIgRHJhd2VyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKERyYXdlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRHJhd2VyKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyYXdlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRHJhd2VyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRHJhd2VyKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMub25PdmVybGF5Q2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vcGVuKSB7XG4gICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtY29tcG9uZW50L2RyYXdlci9pc3N1ZXMvOVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5wcm9wcy5vbk9wZW5DaGFuZ2UoZmFsc2UsIHsgb3ZlcmxheUNsaWNrZWQ6IHRydWUgfSk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vblRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgIC8vIGZpbHRlciBvdXQgaWYgYSB1c2VyIHN0YXJ0cyBzd2lwaW5nIHdpdGggYSBzZWNvbmQgZmluZ2VyXG4gICAgICBpZiAoIV90aGlzLmlzVG91Y2hpbmcoKSkge1xuICAgICAgICB2YXIgdG91Y2ggPSBldi50YXJnZXRUb3VjaGVzWzBdO1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdG91Y2hJZGVudGlmaWVyOiAhX3RoaXMubm90VG91Y2ggPyB0b3VjaC5pZGVudGlmaWVyIDogbnVsbCxcbiAgICAgICAgICB0b3VjaFN0YXJ0WDogdG91Y2guY2xpZW50WCxcbiAgICAgICAgICB0b3VjaFN0YXJ0WTogdG91Y2guY2xpZW50WSxcbiAgICAgICAgICB0b3VjaEN1cnJlbnRYOiB0b3VjaC5jbGllbnRYLFxuICAgICAgICAgIHRvdWNoQ3VycmVudFk6IHRvdWNoLmNsaWVudFlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLm9uVG91Y2hNb3ZlID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAvLyBldi5wcmV2ZW50RGVmYXVsdCgpOyAvLyBjYW5ub3QgdG91Y2htb3ZlIHdpdGggRmFzdENsaWNrXG4gICAgICBpZiAoX3RoaXMuaXNUb3VjaGluZygpKSB7XG4gICAgICAgIGZvciAodmFyIGluZCA9IDA7IGluZCA8IGV2LnRhcmdldFRvdWNoZXMubGVuZ3RoOyBpbmQrKykge1xuICAgICAgICAgIC8vIHdlIG9ubHkgY2FyZSBhYm91dCB0aGUgZmluZ2VyIHRoYXQgd2UgYXJlIHRyYWNraW5nXG4gICAgICAgICAgaWYgKGV2LnRhcmdldFRvdWNoZXNbaW5kXS5pZGVudGlmaWVyID09PSBfdGhpcy5zdGF0ZS50b3VjaElkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgdG91Y2hDdXJyZW50WDogZXYudGFyZ2V0VG91Y2hlc1tpbmRdLmNsaWVudFgsXG4gICAgICAgICAgICAgIHRvdWNoQ3VycmVudFk6IGV2LnRhcmdldFRvdWNoZXNbaW5kXS5jbGllbnRZXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vblRvdWNoRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMubm90VG91Y2ggPSBmYWxzZTtcbiAgICAgIGlmIChfdGhpcy5pc1RvdWNoaW5nKCkpIHtcbiAgICAgICAgLy8gdHJpZ2dlciBhIGNoYW5nZSB0byBvcGVuIGlmIHNpZGViYXIgaGFzIGJlZW4gZHJhZ2dlZCBiZXlvbmQgZHJhZ1RvZ2dsZURpc3RhbmNlXG4gICAgICAgIHZhciB0b3VjaFdpZHRoID0gX3RoaXMudG91Y2hTaWRlYmFyV2lkdGgoKTtcblxuICAgICAgICBpZiAoX3RoaXMucHJvcHMub3BlbiAmJiB0b3VjaFdpZHRoIDwgX3RoaXMuc3RhdGUuc2lkZWJhcldpZHRoIC0gX3RoaXMucHJvcHMuZHJhZ1RvZ2dsZURpc3RhbmNlIHx8ICFfdGhpcy5wcm9wcy5vcGVuICYmIHRvdWNoV2lkdGggPiBfdGhpcy5wcm9wcy5kcmFnVG9nZ2xlRGlzdGFuY2UpIHtcbiAgICAgICAgICBfdGhpcy5wcm9wcy5vbk9wZW5DaGFuZ2UoIV90aGlzLnByb3BzLm9wZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvdWNoSGVpZ2h0ID0gX3RoaXMudG91Y2hTaWRlYmFySGVpZ2h0KCk7XG5cbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9wZW4gJiYgdG91Y2hIZWlnaHQgPCBfdGhpcy5zdGF0ZS5zaWRlYmFySGVpZ2h0IC0gX3RoaXMucHJvcHMuZHJhZ1RvZ2dsZURpc3RhbmNlIHx8ICFfdGhpcy5wcm9wcy5vcGVuICYmIHRvdWNoSGVpZ2h0ID4gX3RoaXMucHJvcHMuZHJhZ1RvZ2dsZURpc3RhbmNlKSB7XG4gICAgICAgICAgX3RoaXMucHJvcHMub25PcGVuQ2hhbmdlKCFfdGhpcy5wcm9wcy5vcGVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0b3VjaElkZW50aWZpZXI6IG51bGwsXG4gICAgICAgICAgdG91Y2hTdGFydFg6IG51bGwsXG4gICAgICAgICAgdG91Y2hTdGFydFk6IG51bGwsXG4gICAgICAgICAgdG91Y2hDdXJyZW50WDogbnVsbCxcbiAgICAgICAgICB0b3VjaEN1cnJlbnRZOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5vblNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5pc1RvdWNoaW5nKCkgJiYgX3RoaXMuaW5DYW5jZWxEaXN0YW5jZU9uU2Nyb2xsKCkpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHRvdWNoSWRlbnRpZmllcjogbnVsbCxcbiAgICAgICAgICB0b3VjaFN0YXJ0WDogbnVsbCxcbiAgICAgICAgICB0b3VjaFN0YXJ0WTogbnVsbCxcbiAgICAgICAgICB0b3VjaEN1cnJlbnRYOiBudWxsLFxuICAgICAgICAgIHRvdWNoQ3VycmVudFk6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmluQ2FuY2VsRGlzdGFuY2VPblNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjYW5jZWxEaXN0YW5jZU9uU2Nyb2xsID0gdm9pZCAwO1xuICAgICAgc3dpdGNoIChfdGhpcy5wcm9wcy5wb3NpdGlvbikge1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgY2FuY2VsRGlzdGFuY2VPblNjcm9sbCA9IE1hdGguYWJzKF90aGlzLnN0YXRlLnRvdWNoQ3VycmVudFggLSBfdGhpcy5zdGF0ZS50b3VjaFN0YXJ0WCkgPCBDQU5DRUxfRElTVEFOQ0VfT05fU0NST0xMO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgIGNhbmNlbERpc3RhbmNlT25TY3JvbGwgPSBNYXRoLmFicyhfdGhpcy5zdGF0ZS50b3VjaEN1cnJlbnRZIC0gX3RoaXMuc3RhdGUudG91Y2hTdGFydFkpIDwgQ0FOQ0VMX0RJU1RBTkNFX09OX1NDUk9MTDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICBjYW5jZWxEaXN0YW5jZU9uU2Nyb2xsID0gTWF0aC5hYnMoX3RoaXMuc3RhdGUudG91Y2hTdGFydFkgLSBfdGhpcy5zdGF0ZS50b3VjaEN1cnJlbnRZKSA8IENBTkNFTF9ESVNUQU5DRV9PTl9TQ1JPTEw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNhbmNlbERpc3RhbmNlT25TY3JvbGwgPSBNYXRoLmFicyhfdGhpcy5zdGF0ZS50b3VjaFN0YXJ0WCAtIF90aGlzLnN0YXRlLnRvdWNoQ3VycmVudFgpIDwgQ0FOQ0VMX0RJU1RBTkNFX09OX1NDUk9MTDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYW5jZWxEaXN0YW5jZU9uU2Nyb2xsO1xuICAgIH07XG5cbiAgICBfdGhpcy5pc1RvdWNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnN0YXRlLnRvdWNoSWRlbnRpZmllciAhPT0gbnVsbDtcbiAgICB9O1xuXG4gICAgX3RoaXMuc2F2ZVNpZGViYXJTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNpZGViYXIgPSBSZWFjdERPTS5maW5kRE9NTm9kZShfdGhpcy5yZWZzLnNpZGViYXIpO1xuICAgICAgdmFyIHdpZHRoID0gc2lkZWJhci5vZmZzZXRXaWR0aDtcbiAgICAgIHZhciBoZWlnaHQgPSBzaWRlYmFyLm9mZnNldEhlaWdodDtcbiAgICAgIHZhciBzaWRlYmFyVG9wID0gZ2V0T2Zmc2V0KFJlYWN0RE9NLmZpbmRET01Ob2RlKF90aGlzLnJlZnMuc2lkZWJhcikpLnRvcDtcbiAgICAgIHZhciBkcmFnSGFuZGxlVG9wID0gZ2V0T2Zmc2V0KFJlYWN0RE9NLmZpbmRET01Ob2RlKF90aGlzLnJlZnMuZHJhZ0hhbmRsZSkpLnRvcDtcblxuICAgICAgaWYgKHdpZHRoICE9PSBfdGhpcy5zdGF0ZS5zaWRlYmFyV2lkdGgpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzaWRlYmFyV2lkdGg6IHdpZHRoIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGhlaWdodCAhPT0gX3RoaXMuc3RhdGUuc2lkZWJhckhlaWdodCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNpZGViYXJIZWlnaHQ6IGhlaWdodCB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChzaWRlYmFyVG9wICE9PSBfdGhpcy5zdGF0ZS5zaWRlYmFyVG9wKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2lkZWJhclRvcDogc2lkZWJhclRvcCB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChkcmFnSGFuZGxlVG9wICE9PSBfdGhpcy5zdGF0ZS5kcmFnSGFuZGxlVG9wKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgZHJhZ0hhbmRsZVRvcDogZHJhZ0hhbmRsZVRvcCB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMudG91Y2hTaWRlYmFyV2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBpZiB0aGUgc2lkZWJhciBpcyBvcGVuIGFuZCBzdGFydCBwb2ludCBvZiBkcmFnIGlzIGluc2lkZSB0aGUgc2lkZWJhclxuICAgICAgLy8gd2Ugd2lsbCBvbmx5IGRyYWcgdGhlIGRpc3RhbmNlIHRoZXkgbW92ZWQgdGhlaXIgZmluZ2VyXG4gICAgICAvLyBvdGhlcndpc2Ugd2Ugd2lsbCBtb3ZlIHRoZSBzaWRlYmFyIHRvIGJlIGJlbG93IHRoZSBmaW5nZXIuXG4gICAgICBpZiAoX3RoaXMucHJvcHMucG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9wZW4gJiYgd2luZG93LmlubmVyV2lkdGggLSBfdGhpcy5zdGF0ZS50b3VjaFN0YXJ0WCA8IF90aGlzLnN0YXRlLnNpZGViYXJXaWR0aCkge1xuICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS50b3VjaEN1cnJlbnRYID4gX3RoaXMuc3RhdGUudG91Y2hTdGFydFgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5zdGF0ZS5zaWRlYmFyV2lkdGggKyBfdGhpcy5zdGF0ZS50b3VjaFN0YXJ0WCAtIF90aGlzLnN0YXRlLnRvdWNoQ3VycmVudFg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfdGhpcy5zdGF0ZS5zaWRlYmFyV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoIC0gX3RoaXMuc3RhdGUudG91Y2hDdXJyZW50WCwgX3RoaXMuc3RhdGUuc2lkZWJhcldpZHRoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnByb3BzLnBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgaWYgKF90aGlzLnByb3BzLm9wZW4gJiYgX3RoaXMuc3RhdGUudG91Y2hTdGFydFggPCBfdGhpcy5zdGF0ZS5zaWRlYmFyV2lkdGgpIHtcbiAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUudG91Y2hDdXJyZW50WCA+IF90aGlzLnN0YXRlLnRvdWNoU3RhcnRYKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuc3RhdGUuc2lkZWJhcldpZHRoO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3RoaXMuc3RhdGUuc2lkZWJhcldpZHRoIC0gX3RoaXMuc3RhdGUudG91Y2hTdGFydFggKyBfdGhpcy5zdGF0ZS50b3VjaEN1cnJlbnRYO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLm1pbihfdGhpcy5zdGF0ZS50b3VjaEN1cnJlbnRYLCBfdGhpcy5zdGF0ZS5zaWRlYmFyV2lkdGgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy50b3VjaFNpZGViYXJIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBpZiB0aGUgc2lkZWJhciBpcyBvcGVuIGFuZCBzdGFydCBwb2ludCBvZiBkcmFnIGlzIGluc2lkZSB0aGUgc2lkZWJhclxuICAgICAgLy8gd2Ugd2lsbCBvbmx5IGRyYWcgdGhlIGRpc3RhbmNlIHRoZXkgbW92ZWQgdGhlaXIgZmluZ2VyXG4gICAgICAvLyBvdGhlcndpc2Ugd2Ugd2lsbCBtb3ZlIHRoZSBzaWRlYmFyIHRvIGJlIGJlbG93IHRoZSBmaW5nZXIuXG4gICAgICBpZiAoX3RoaXMucHJvcHMucG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5vcGVuICYmIHdpbmRvdy5pbm5lckhlaWdodCAtIF90aGlzLnN0YXRlLnRvdWNoU3RhcnRZIDwgX3RoaXMuc3RhdGUuc2lkZWJhckhlaWdodCkge1xuICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS50b3VjaEN1cnJlbnRZID4gX3RoaXMuc3RhdGUudG91Y2hTdGFydFkpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5zdGF0ZS5zaWRlYmFySGVpZ2h0ICsgX3RoaXMuc3RhdGUudG91Y2hTdGFydFkgLSBfdGhpcy5zdGF0ZS50b3VjaEN1cnJlbnRZO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3RoaXMuc3RhdGUuc2lkZWJhckhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5taW4od2luZG93LmlubmVySGVpZ2h0IC0gX3RoaXMuc3RhdGUudG91Y2hDdXJyZW50WSwgX3RoaXMuc3RhdGUuc2lkZWJhckhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5wb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgdmFyIHRvdWNoU3RhcnRPZmZzZXRZID0gX3RoaXMuc3RhdGUudG91Y2hTdGFydFkgLSBfdGhpcy5zdGF0ZS5zaWRlYmFyVG9wO1xuICAgICAgICBpZiAoX3RoaXMucHJvcHMub3BlbiAmJiB0b3VjaFN0YXJ0T2Zmc2V0WSA8IF90aGlzLnN0YXRlLnNpZGViYXJIZWlnaHQpIHtcbiAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUudG91Y2hDdXJyZW50WSA+IF90aGlzLnN0YXRlLnRvdWNoU3RhcnRZKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuc3RhdGUuc2lkZWJhckhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnN0YXRlLnNpZGViYXJIZWlnaHQgLSBfdGhpcy5zdGF0ZS50b3VjaFN0YXJ0WSArIF90aGlzLnN0YXRlLnRvdWNoQ3VycmVudFk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGgubWluKF90aGlzLnN0YXRlLnRvdWNoQ3VycmVudFkgLSBfdGhpcy5zdGF0ZS5kcmFnSGFuZGxlVG9wLCBfdGhpcy5zdGF0ZS5zaWRlYmFySGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucmVuZGVyU3R5bGUgPSBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIHNpZGViYXJTdHlsZSA9IF9yZWYuc2lkZWJhclN0eWxlLFxuICAgICAgICAgIGlzVG91Y2hpbmcgPSBfcmVmLmlzVG91Y2hpbmcsXG4gICAgICAgICAgb3ZlcmxheVN0eWxlID0gX3JlZi5vdmVybGF5U3R5bGUsXG4gICAgICAgICAgY29udGVudFN0eWxlID0gX3JlZi5jb250ZW50U3R5bGU7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5wb3NpdGlvbiA9PT0gJ3JpZ2h0JyB8fCBfdGhpcy5wcm9wcy5wb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIHNpZGViYXJTdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwJSknO1xuICAgICAgICBzaWRlYmFyU3R5bGUuV2Via2l0VHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCUpJztcbiAgICAgICAgaWYgKGlzVG91Y2hpbmcpIHtcbiAgICAgICAgICB2YXIgcGVyY2VudGFnZSA9IF90aGlzLnRvdWNoU2lkZWJhcldpZHRoKCkgLyBfdGhpcy5zdGF0ZS5zaWRlYmFyV2lkdGg7XG4gICAgICAgICAgLy8gc2xpZGUgb3BlbiB0byB3aGF0IHdlIGRyYWdnZWRcbiAgICAgICAgICBpZiAoX3RoaXMucHJvcHMucG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIHNpZGViYXJTdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgKDEgLSBwZXJjZW50YWdlKSAqIDEwMCArICclKSc7XG4gICAgICAgICAgICBzaWRlYmFyU3R5bGUuV2Via2l0VHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoJyArICgxIC0gcGVyY2VudGFnZSkgKiAxMDAgKyAnJSknO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoX3RoaXMucHJvcHMucG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgc2lkZWJhclN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nICsgKDEgLSBwZXJjZW50YWdlKSAqIDEwMCArICclKSc7XG4gICAgICAgICAgICBzaWRlYmFyU3R5bGUuV2Via2l0VHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScgKyAoMSAtIHBlcmNlbnRhZ2UpICogMTAwICsgJyUpJztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZmFkZSBvdmVybGF5IHRvIG1hdGNoIGRpc3RhbmNlIG9mIGRyYWdcbiAgICAgICAgICBvdmVybGF5U3R5bGUub3BhY2l0eSA9IHBlcmNlbnRhZ2U7XG4gICAgICAgICAgb3ZlcmxheVN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRlbnRTdHlsZSkge1xuICAgICAgICAgIGNvbnRlbnRTdHlsZVtfdGhpcy5wcm9wcy5wb3NpdGlvbl0gPSBfdGhpcy5zdGF0ZS5zaWRlYmFyV2lkdGggKyAncHgnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMucHJvcHMucG9zaXRpb24gPT09ICd0b3AnIHx8IF90aGlzLnByb3BzLnBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICBzaWRlYmFyU3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMCUpJztcbiAgICAgICAgc2lkZWJhclN0eWxlLldlYmtpdFRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDAlKSc7XG4gICAgICAgIGlmIChpc1RvdWNoaW5nKSB7XG4gICAgICAgICAgdmFyIF9wZXJjZW50YWdlID0gX3RoaXMudG91Y2hTaWRlYmFySGVpZ2h0KCkgLyBfdGhpcy5zdGF0ZS5zaWRlYmFySGVpZ2h0O1xuICAgICAgICAgIC8vIHNsaWRlIG9wZW4gdG8gd2hhdCB3ZSBkcmFnZ2VkXG4gICAgICAgICAgaWYgKF90aGlzLnByb3BzLnBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgc2lkZWJhclN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKCcgKyAoMSAtIF9wZXJjZW50YWdlKSAqIDEwMCArICclKSc7XG4gICAgICAgICAgICBzaWRlYmFyU3R5bGUuV2Via2l0VHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoJyArICgxIC0gX3BlcmNlbnRhZ2UpICogMTAwICsgJyUpJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKF90aGlzLnByb3BzLnBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgICAgICAgc2lkZWJhclN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC0nICsgKDEgLSBfcGVyY2VudGFnZSkgKiAxMDAgKyAnJSknO1xuICAgICAgICAgICAgc2lkZWJhclN0eWxlLldlYmtpdFRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC0nICsgKDEgLSBfcGVyY2VudGFnZSkgKiAxMDAgKyAnJSknO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBmYWRlIG92ZXJsYXkgdG8gbWF0Y2ggZGlzdGFuY2Ugb2YgZHJhZ1xuICAgICAgICAgIG92ZXJsYXlTdHlsZS5vcGFjaXR5ID0gX3BlcmNlbnRhZ2U7XG4gICAgICAgICAgb3ZlcmxheVN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRlbnRTdHlsZSkge1xuICAgICAgICAgIGNvbnRlbnRTdHlsZVtfdGhpcy5wcm9wcy5wb3NpdGlvbl0gPSBfdGhpcy5zdGF0ZS5zaWRlYmFySGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIC8vIHRoZSBkZXRlY3RlZCB3aWR0aCBvZiB0aGUgc2lkZWJhciBpbiBwaXhlbHNcbiAgICAgIHNpZGViYXJXaWR0aDogMCxcbiAgICAgIHNpZGViYXJIZWlnaHQ6IDAsXG4gICAgICBzaWRlYmFyVG9wOiAwLFxuICAgICAgZHJhZ0hhbmRsZVRvcDogMCxcblxuICAgICAgLy8ga2VlcCB0cmFjayBvZiB0b3VjaGluZyBwYXJhbXNcbiAgICAgIHRvdWNoSWRlbnRpZmllcjogbnVsbCxcbiAgICAgIHRvdWNoU3RhcnRYOiBudWxsLFxuICAgICAgdG91Y2hTdGFydFk6IG51bGwsXG4gICAgICB0b3VjaEN1cnJlbnRYOiBudWxsLFxuICAgICAgdG91Y2hDdXJyZW50WTogbnVsbCxcblxuICAgICAgLy8gaWYgdG91Y2ggaXMgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyXG4gICAgICB0b3VjaFN1cHBvcnRlZDogKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHdpbmRvdykpID09PSAnb2JqZWN0JyAmJiAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3dcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEcmF3ZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuc2F2ZVNpZGViYXJTaXplKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgLy8gZmlsdGVyIG91dCB0aGUgdXBkYXRlcyB3aGVuIHdlJ3JlIHRvdWNoaW5nXG4gICAgICBpZiAoIXRoaXMuaXNUb3VjaGluZygpKSB7XG4gICAgICAgIHRoaXMuc2F2ZVNpZGViYXJTaXplKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhpcyBsb2dpYyBoZWxwcyB1cyBwcmV2ZW50cyB0aGUgdXNlciBmcm9tIHNsaWRpbmcgdGhlIHNpZGViYXIgaG9yaXpvbnRhbGx5XG4gICAgLy8gd2hpbGUgc2Nyb2xsaW5nIHRoZSBzaWRlYmFyIHZlcnRpY2FsbHkuIFdoZW4gYSBzY3JvbGwgZXZlbnQgY29tZXMgaW4sIHdlJ3JlXG4gICAgLy8gY2FuY2VsbGluZyB0aGUgb25nb2luZyBnZXN0dXJlIGlmIGl0IGRpZCBub3QgbW92ZSBob3Jpem9udGFsbHkgbXVjaC5cblxuXG4gICAgLy8gVHJ1ZSBpZiB0aGUgb24gZ29pbmcgZ2VzdHVyZSBYIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiB0aGUgY2FuY2VsIGRpc3RhbmNlXG5cblxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgc2lkZWJhcldpZHRoIGJhc2VkIG9uIGN1cnJlbnQgdG91Y2ggaW5mb1xuXG4gICAgLy8gY2FsY3VsYXRlIHRoZSBzaWRlYmFySGVpZ2h0IGJhc2VkIG9uIGN1cnJlbnQgdG91Y2ggaW5mb1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Jvb3RDbHMsXG4gICAgICAgICAgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgIHBvc2l0aW9uID0gX3Byb3BzLnBvc2l0aW9uLFxuICAgICAgICAgIHRyYW5zaXRpb25zID0gX3Byb3BzLnRyYW5zaXRpb25zLFxuICAgICAgICAgIHRvdWNoID0gX3Byb3BzLnRvdWNoLFxuICAgICAgICAgIGVuYWJsZURyYWdIYW5kbGUgPSBfcHJvcHMuZW5hYmxlRHJhZ0hhbmRsZSxcbiAgICAgICAgICBzaWRlYmFyID0gX3Byb3BzLnNpZGViYXIsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgZG9ja2VkID0gX3Byb3BzLmRvY2tlZCxcbiAgICAgICAgICBvcGVuID0gX3Byb3BzLm9wZW47XG5cblxuICAgICAgdmFyIHNpZGViYXJTdHlsZSA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLnNpZGViYXJTdHlsZSk7XG4gICAgICB2YXIgY29udGVudFN0eWxlID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuY29udGVudFN0eWxlKTtcbiAgICAgIHZhciBvdmVybGF5U3R5bGUgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5vdmVybGF5U3R5bGUpO1xuXG4gICAgICB2YXIgcm9vdENscyA9IChfcm9vdENscyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX3Jvb3RDbHMsIGNsYXNzTmFtZSwgISFjbGFzc05hbWUpLCBfZGVmaW5lUHJvcGVydHkoX3Jvb3RDbHMsIHByZWZpeENscywgdHJ1ZSksIF9kZWZpbmVQcm9wZXJ0eShfcm9vdENscywgcHJlZml4Q2xzICsgJy0nICsgcG9zaXRpb24sIHRydWUpLCBfcm9vdENscyk7XG5cbiAgICAgIHZhciByb290UHJvcHMgPSB7IHN0eWxlOiBzdHlsZSB9O1xuICAgICAgdmFyIGlzVG91Y2hpbmcgPSB0aGlzLmlzVG91Y2hpbmcoKTtcblxuICAgICAgaWYgKGlzVG91Y2hpbmcpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTdHlsZSh7IHNpZGViYXJTdHlsZTogc2lkZWJhclN0eWxlLCBpc1RvdWNoaW5nOiB0cnVlLCBvdmVybGF5U3R5bGU6IG92ZXJsYXlTdHlsZSB9KTtcbiAgICAgIH0gZWxzZSBpZiAoZG9ja2VkKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNpZGViYXJXaWR0aCAhPT0gMCkge1xuICAgICAgICAgIHJvb3RDbHNbcHJlZml4Q2xzICsgJy1kb2NrZWQnXSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5yZW5kZXJTdHlsZSh7IHNpZGViYXJTdHlsZTogc2lkZWJhclN0eWxlLCBjb250ZW50U3R5bGU6IGNvbnRlbnRTdHlsZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvcGVuKSB7XG4gICAgICAgIHJvb3RDbHNbcHJlZml4Q2xzICsgJy1vcGVuJ10gPSB0cnVlO1xuICAgICAgICB0aGlzLnJlbmRlclN0eWxlKHsgc2lkZWJhclN0eWxlOiBzaWRlYmFyU3R5bGUgfSk7XG4gICAgICAgIG92ZXJsYXlTdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgb3ZlcmxheVN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1RvdWNoaW5nIHx8ICF0cmFuc2l0aW9ucykge1xuICAgICAgICBzaWRlYmFyU3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgICAgc2lkZWJhclN0eWxlLldlYmtpdFRyYW5zaXRpb24gPSAnbm9uZSc7XG4gICAgICAgIGNvbnRlbnRTdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICAgICAgICBvdmVybGF5U3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgdmFyIGRyYWdIYW5kbGUgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS50b3VjaFN1cHBvcnRlZCAmJiB0b3VjaCkge1xuICAgICAgICBpZiAob3Blbikge1xuICAgICAgICAgIHJvb3RQcm9wcy5vblRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIF90aGlzMi5ub3RUb3VjaCA9IHRydWU7XG4gICAgICAgICAgICBfdGhpczIub25Ub3VjaFN0YXJ0KGV2KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJvb3RQcm9wcy5vblRvdWNoTW92ZSA9IHRoaXMub25Ub3VjaE1vdmU7XG4gICAgICAgICAgcm9vdFByb3BzLm9uVG91Y2hFbmQgPSB0aGlzLm9uVG91Y2hFbmQ7XG4gICAgICAgICAgcm9vdFByb3BzLm9uVG91Y2hDYW5jZWwgPSB0aGlzLm9uVG91Y2hFbmQ7XG4gICAgICAgICAgcm9vdFByb3BzLm9uU2Nyb2xsID0gdGhpcy5vblNjcm9sbDtcbiAgICAgICAgfSBlbHNlIGlmIChlbmFibGVEcmFnSGFuZGxlKSB7XG4gICAgICAgICAgZHJhZ0hhbmRsZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRyYWdoYW5kbGUnLCBzdHlsZTogdGhpcy5wcm9wcy5kcmFnSGFuZGxlU3R5bGUsXG4gICAgICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMub25Ub3VjaFN0YXJ0LCBvblRvdWNoTW92ZTogdGhpcy5vblRvdWNoTW92ZSxcbiAgICAgICAgICAgIG9uVG91Y2hFbmQ6IHRoaXMub25Ub3VjaEVuZCwgb25Ub3VjaENhbmNlbDogdGhpcy5vblRvdWNoRW5kLFxuICAgICAgICAgICAgcmVmOiAnZHJhZ0hhbmRsZSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb25zdCBldnQgPSB7fTtcbiAgICAgIC8vIC8vIEZhc3RDbGljayB1c2UgdG91Y2hzdGFydCBpbnN0ZWFkIG9mIGNsaWNrXG4gICAgICAvLyBpZiAodGhpcy5zdGF0ZS50b3VjaFN1cHBvcnRlZCkge1xuICAgICAgLy8gICBldnQub25Ub3VjaFN0YXJ0ID0gKCkgPT4ge1xuICAgICAgLy8gICAgIHRoaXMubm90VG91Y2ggPSB0cnVlO1xuICAgICAgLy8gICAgIHRoaXMub25PdmVybGF5Q2xpY2tlZCgpO1xuICAgICAgLy8gICB9O1xuICAgICAgLy8gICBldnQub25Ub3VjaEVuZCA9ICgpID0+IHtcbiAgICAgIC8vICAgICB0aGlzLm5vdFRvdWNoID0gZmFsc2U7XG4gICAgICAvLyAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAvLyAgICAgICB0b3VjaElkZW50aWZpZXI6IG51bGwsXG4gICAgICAvLyAgICAgfSk7XG4gICAgICAvLyAgIH07XG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gICBldnQub25DbGljayA9IHRoaXMub25PdmVybGF5Q2xpY2tlZDtcbiAgICAgIC8vIH1cblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBfZXh0ZW5kcyh7IGNsYXNzTmFtZTogY2xhc3NOYW1lcyhyb290Q2xzKSB9LCByb290UHJvcHMpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNpZGViYXInLCBzdHlsZTogc2lkZWJhclN0eWxlLFxuICAgICAgICAgICAgcmVmOiAnc2lkZWJhcidcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNpZGViYXJcbiAgICAgICAgKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctb3ZlcmxheScsXG4gICAgICAgICAgc3R5bGU6IG92ZXJsYXlTdHlsZSxcbiAgICAgICAgICByb2xlOiAncHJlc2VudGF0aW9uJyxcbiAgICAgICAgICByZWY6ICdvdmVybGF5JyxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uT3ZlcmxheUNsaWNrZWRcbiAgICAgICAgfSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29udGVudCcsIHN0eWxlOiBjb250ZW50U3R5bGUsXG4gICAgICAgICAgICByZWY6ICdjb250ZW50J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZHJhZ0hhbmRsZSxcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEcmF3ZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbkRyYXdlci5wcm9wVHlwZXMgPSB7XG4gIHByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvLyBtYWluIGNvbnRlbnQgdG8gcmVuZGVyXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuXG4gIC8vIHN0eWxlc1xuICAvLyBzdHlsZXM6IFByb3BUeXBlcy5zaGFwZSh7XG4gIC8vICAgZHJhZ0hhbmRsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgLy8gfSksXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBzaWRlYmFyU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNvbnRlbnRTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgb3ZlcmxheVN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBkcmFnSGFuZGxlU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLy8gc2lkZWJhciBjb250ZW50IHRvIHJlbmRlclxuICBzaWRlYmFyOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuXG4gIC8vIGJvb2xlYW4gaWYgc2lkZWJhciBzaG91bGQgYmUgZG9ja2VkXG4gIGRvY2tlZDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLy8gYm9vbGVhbiBpZiBzaWRlYmFyIHNob3VsZCBzbGlkZSBvcGVuXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLFxuXG4gIC8vIGJvb2xlYW4gaWYgdHJhbnNpdGlvbnMgc2hvdWxkIGJlIGRpc2FibGVkXG4gIHRyYW5zaXRpb25zOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvLyBib29sZWFuIGlmIHRvdWNoIGdlc3R1cmVzIGFyZSBlbmFibGVkXG4gIHRvdWNoOiBQcm9wVHlwZXMuYm9vbCxcbiAgZW5hYmxlRHJhZ0hhbmRsZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLy8gd2hlcmUgdG8gcGxhY2UgdGhlIHNpZGViYXJcbiAgcG9zaXRpb246IFByb3BUeXBlcy5vbmVPZihbJ2xlZnQnLCAncmlnaHQnLCAndG9wJywgJ2JvdHRvbSddKSxcblxuICAvLyBkaXN0YW5jZSB3ZSBoYXZlIHRvIGRyYWcgdGhlIHNpZGViYXIgdG8gdG9nZ2xlIG9wZW4gc3RhdGVcbiAgZHJhZ1RvZ2dsZURpc3RhbmNlOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gIC8vIGNhbGxiYWNrIGNhbGxlZCB3aGVuIHRoZSBvdmVybGF5IGlzIGNsaWNrZWRcbiAgb25PcGVuQ2hhbmdlOiBQcm9wVHlwZXMuZnVuY1xufTtcbkRyYXdlci5kZWZhdWx0UHJvcHMgPSB7XG4gIHByZWZpeENsczogJ3JtYy1kcmF3ZXInLFxuICBzaWRlYmFyU3R5bGU6IHt9LFxuICBjb250ZW50U3R5bGU6IHt9LFxuICBvdmVybGF5U3R5bGU6IHt9LFxuICBkcmFnSGFuZGxlU3R5bGU6IHt9LFxuICBkb2NrZWQ6IGZhbHNlLFxuICBvcGVuOiBmYWxzZSxcbiAgdHJhbnNpdGlvbnM6IHRydWUsXG4gIHRvdWNoOiB0cnVlLFxuICBlbmFibGVEcmFnSGFuZGxlOiB0cnVlLFxuICBwb3NpdGlvbjogJ2xlZnQnLFxuICBkcmFnVG9nZ2xlRGlzdGFuY2U6IDMwLFxuICBvbk9wZW5DaGFuZ2U6IGZ1bmN0aW9uIG9uT3BlbkNoYW5nZSgpIHt9XG59O1xuZXhwb3J0IGRlZmF1bHQgRHJhd2VyOyIsIi8vIGV4cG9ydCB0aGlzIHBhY2thZ2UncyBhcGlcbmltcG9ydCBEcmF3ZXIgZnJvbSAnLi9EcmF3ZXInO1xuZXhwb3J0IGRlZmF1bHQgRHJhd2VyOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUm1jRHJhd2VyIGZyb20gJ3JtYy1kcmF3ZXInO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIERyYXdlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKERyYXdlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEcmF3ZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcmF3ZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRHJhd2VyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRHJhd2VyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKERyYXdlciwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJtY0RyYXdlciwgdGhpcy5wcm9wcyk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRHJhd2VyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBEcmF3ZXI7XG5cbkRyYXdlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tZHJhd2VyJyxcbiAgICBlbmFibGVEcmFnSGFuZGxlOiBmYWxzZVxufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgRmxleCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEZsZXgsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRmxleCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZsZXgpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRmxleC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZsZXgpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRmxleCwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NuYW1lcztcblxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBfYS5kaXJlY3Rpb24sXG4gICAgICAgICAgICAgICAgd3JhcCA9IF9hLndyYXAsXG4gICAgICAgICAgICAgICAganVzdGlmeSA9IF9hLmp1c3RpZnksXG4gICAgICAgICAgICAgICAgYWxpZ24gPSBfYS5hbGlnbixcbiAgICAgICAgICAgICAgICBhbGlnbkNvbnRlbnQgPSBfYS5hbGlnbkNvbnRlbnQsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIHN0eWxlID0gX2Euc3R5bGUsXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJkaXJlY3Rpb25cIiwgXCJ3cmFwXCIsIFwianVzdGlmeVwiLCBcImFsaWduXCIsIFwiYWxpZ25Db250ZW50XCIsIFwiY2xhc3NOYW1lXCIsIFwiY2hpbGRyZW5cIiwgXCJwcmVmaXhDbHNcIiwgXCJzdHlsZVwiXSk7XG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzLCBjbGFzc05hbWUsIChfY2xhc3NuYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctZGlyLXJvdycsIGRpcmVjdGlvbiA9PT0gJ3JvdycpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctZGlyLXJvdy1yZXZlcnNlJywgZGlyZWN0aW9uID09PSAncm93LXJldmVyc2UnKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWRpci1jb2x1bW4nLCBkaXJlY3Rpb24gPT09ICdjb2x1bW4nKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWRpci1jb2x1bW4tcmV2ZXJzZScsIGRpcmVjdGlvbiA9PT0gJ2NvbHVtbi1yZXZlcnNlJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1ub3dyYXAnLCB3cmFwID09PSAnbm93cmFwJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy13cmFwJywgd3JhcCA9PT0gJ3dyYXAnKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXdyYXAtcmV2ZXJzZScsIHdyYXAgPT09ICd3cmFwLXJldmVyc2UnKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWp1c3RpZnktc3RhcnQnLCBqdXN0aWZ5ID09PSAnc3RhcnQnKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWp1c3RpZnktZW5kJywganVzdGlmeSA9PT0gJ2VuZCcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctanVzdGlmeS1jZW50ZXInLCBqdXN0aWZ5ID09PSAnY2VudGVyJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1qdXN0aWZ5LWJldHdlZW4nLCBqdXN0aWZ5ID09PSAnYmV0d2VlbicpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctanVzdGlmeS1hcm91bmQnLCBqdXN0aWZ5ID09PSAnYXJvdW5kJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1hbGlnbi1zdGFydCcsIGFsaWduID09PSAnc3RhcnQnKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWFsaWduLWNlbnRlcicsIGFsaWduID09PSAnY2VudGVyJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1hbGlnbi1lbmQnLCBhbGlnbiA9PT0gJ2VuZCcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctYWxpZ24tYmFzZWxpbmUnLCBhbGlnbiA9PT0gJ2Jhc2VsaW5lJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1hbGlnbi1zdHJldGNoJywgYWxpZ24gPT09ICdzdHJldGNoJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1hbGlnbi1jb250ZW50LXN0YXJ0JywgYWxpZ25Db250ZW50ID09PSAnc3RhcnQnKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWFsaWduLWNvbnRlbnQtZW5kJywgYWxpZ25Db250ZW50ID09PSAnZW5kJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1hbGlnbi1jb250ZW50LWNlbnRlcicsIGFsaWduQ29udGVudCA9PT0gJ2NlbnRlcicpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctYWxpZ24tY29udGVudC1iZXR3ZWVuJywgYWxpZ25Db250ZW50ID09PSAnYmV0d2VlbicpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctYWxpZ24tY29udGVudC1hcm91bmQnLCBhbGlnbkNvbnRlbnQgPT09ICdhcm91bmQnKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWFsaWduLWNvbnRlbnQtc3RyZXRjaCcsIGFsaWduQ29udGVudCA9PT0gJ3N0cmV0Y2gnKSwgX2NsYXNzbmFtZXMpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHsgY2xhc3NOYW1lOiB3cmFwQ2xzLCBzdHlsZTogc3R5bGUgfSwgcmVzdFByb3BzKSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBGbGV4O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBGbGV4O1xuXG5GbGV4LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1mbGV4Ym94JyxcbiAgICBhbGlnbjogJ2NlbnRlcidcbn07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIEZsZXhJdGVtID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoRmxleEl0ZW0sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRmxleEl0ZW0oKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGbGV4SXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGbGV4SXRlbS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZsZXhJdGVtKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEZsZXhJdGVtLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBfYS5zdHlsZSxcbiAgICAgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwicHJlZml4Q2xzXCIsIFwic3R5bGVcIl0pO1xuICAgICAgICAgICAgdmFyIHdyYXBDbHMgPSBjbGFzc25hbWVzKHByZWZpeENscyArICctaXRlbScsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IGNsYXNzTmFtZTogd3JhcENscywgc3R5bGU6IHN0eWxlIH0sIHJlc3RQcm9wcyksXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRmxleEl0ZW07XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IEZsZXhJdGVtO1xuXG5GbGV4SXRlbS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tZmxleGJveCdcbn07IiwiaW1wb3J0IEZsZXggZnJvbSAnLi9GbGV4JztcbmltcG9ydCBGbGV4SXRlbSBmcm9tICcuL0ZsZXhJdGVtJztcbkZsZXguSXRlbSA9IEZsZXhJdGVtO1xuZXhwb3J0IGRlZmF1bHQgRmxleDsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuLyogdHNsaW50OmRpc2FibGU6anN4LW5vLW11bHRpbGluZS1qcyAqL1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRvdWNoRmVlZGJhY2sgZnJvbSAncm1jLWZlZWRiYWNrJztcbmltcG9ydCBDYXJvdXNlbCBmcm9tICcuLi9jYXJvdXNlbCc7XG5pbXBvcnQgRmxleCBmcm9tICcuLi9mbGV4JztcblxudmFyIEdyaWQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhHcmlkLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEdyaWQoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmlkKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoR3JpZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEdyaWQpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGluaXRpYWxTbGlkZVdpZHRoOiAwXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnJlbmRlckNhcm91c2VsID0gZnVuY3Rpb24gKHJvd3NBcnIsIHBhZ2VDb3VudCwgcm93Q291bnQpIHtcbiAgICAgICAgICAgIHZhciBwcmVmaXhDbHMgPSBfdGhpcy5wcm9wcy5wcmVmaXhDbHM7XG5cbiAgICAgICAgICAgIHZhciBjYXJvdXNlbE1heFJvdyA9IF90aGlzLnByb3BzLmNhcm91c2VsTWF4Um93O1xuICAgICAgICAgICAgdmFyIHBhZ2VzQXJyID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBwYWdlSW5kZXggPSAwOyBwYWdlSW5kZXggPCBwYWdlQ291bnQ7IHBhZ2VJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VSb3dzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGNhcm91c2VsTWF4Um93OyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dJbmRleCA9IHBhZ2VJbmRleCAqIGNhcm91c2VsTWF4Um93ICsgaWk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3dJbmRleCA8IHJvd0NvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlUm93cy5wdXNoKHJvd3NBcnJbcm93SW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOepuuiKgueCueS4uuS6huehruS/neacq+WwvumhteeahOacgOWQjuacquWIsOW6leeahOihjOacieW6lee6vyjmoLflvI/kuK1sYXN0LWNoaWxk5Lya5rKh57q/KVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVJvd3MucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGtleTogJ2dyaWRsaW5lLScgKyByb3dJbmRleCB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFnZXNBcnIucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdwYWdlaXRlbS0nICsgcGFnZUluZGV4LCBjbGFzc05hbWU6IHByZWZpeENscyArICctY2Fyb3VzZWwtcGFnZScgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFnZVJvd3NcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYWdlc0FycjtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMucmVuZGVySXRlbSA9IGZ1bmN0aW9uIChkYXRhSXRlbSwgaW5kZXgsIGNvbHVtbk51bSwgcmVuZGVySXRlbSkge1xuICAgICAgICAgICAgdmFyIHByZWZpeENscyA9IF90aGlzLnByb3BzLnByZWZpeENscztcblxuICAgICAgICAgICAgdmFyIGl0ZW1FbCA9IG51bGw7XG4gICAgICAgICAgICBpZiAocmVuZGVySXRlbSkge1xuICAgICAgICAgICAgICAgIGl0ZW1FbCA9IHJlbmRlckl0ZW0oZGF0YUl0ZW0sIGluZGV4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpY29uID0gZGF0YUl0ZW0uaWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBkYXRhSXRlbS50ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1FbCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0taW5uZXItY29udGVudCBjb2x1bW4tbnVtLScgKyBjb2x1bW5OdW0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmlzVmFsaWRFbGVtZW50KGljb24pID8gaWNvbiA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24nLCBzcmM6IGljb24gfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRleHQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tY29udGVudCcgfSxcbiAgICAgICAgICAgICAgICBpdGVtRWxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldFJvd3MgPSBmdW5jdGlvbiAocm93Q291bnQsIGRhdGFMZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOnByZWZlci1jb25zdFxuICAgICAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY29sdW1uTnVtID0gX3RoaXMkcHJvcHMuY29sdW1uTnVtLFxuICAgICAgICAgICAgICAgIGRhdGEgPSBfdGhpcyRwcm9wcy5kYXRhLFxuICAgICAgICAgICAgICAgIHJlbmRlckl0ZW0gPSBfdGhpcyRwcm9wcy5yZW5kZXJJdGVtLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF90aGlzJHByb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBfb25DbGljayA9IF90aGlzJHByb3BzLm9uQ2xpY2ssXG4gICAgICAgICAgICAgICAgYWN0aXZlU3R5bGUgPSBfdGhpcyRwcm9wcy5hY3RpdmVTdHlsZSxcbiAgICAgICAgICAgICAgICBhY3RpdmVDbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5hY3RpdmVDbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgaXRlbVN0eWxlID0gX3RoaXMkcHJvcHMuaXRlbVN0eWxlO1xuXG4gICAgICAgICAgICB2YXIgcm93c0FyciA9IFtdO1xuICAgICAgICAgICAgY29sdW1uTnVtID0gY29sdW1uTnVtO1xuICAgICAgICAgICAgdmFyIHJvd1dpZHRoID0gMTAwIC8gY29sdW1uTnVtICsgJyUnO1xuICAgICAgICAgICAgdmFyIGNvbFN0eWxlID0gX2V4dGVuZHMoeyB3aWR0aDogcm93V2lkdGggfSwgaXRlbVN0eWxlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciByb3dBcnIgPSBbXTtcblxuICAgICAgICAgICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGopIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFJbmRleCA9IGkgKiBjb2x1bW5OdW0gKyBqO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUVsID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YUluZGV4IDwgZGF0YUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gZGF0YSAmJiBkYXRhW2RhdGFJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtRWwgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvdWNoRmVlZGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdncmlkaXRlbS0nICsgZGF0YUluZGV4LCBhY3RpdmVDbGFzc05hbWU6IGFjdGl2ZUNsYXNzTmFtZSA/IGFjdGl2ZUNsYXNzTmFtZSA6IHByZWZpeENscyArICctaXRlbS1hY3RpdmUnLCBhY3RpdmVTdHlsZTogYWN0aXZlU3R5bGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGbGV4Lkl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0nLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfb25DbGljayAmJiBfb25DbGljayhlbCwgZGF0YUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHN0eWxlOiBjb2xTdHlsZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJJdGVtKGVsLCBkYXRhSW5kZXgsIGNvbHVtbk51bSwgcmVuZGVySXRlbSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUVsID0gUmVhY3QuY3JlYXRlRWxlbWVudChGbGV4Lkl0ZW0sIHsga2V5OiAnZ3JpZGl0ZW0tJyArIGRhdGFJbmRleCwgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0gJyArIHByZWZpeENscyArICctbnVsbC1pdGVtJywgc3R5bGU6IGNvbFN0eWxlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJvd0Fyci5wdXNoKGl0ZW1FbCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uTnVtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgX2xvb3Aoaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvd3NBcnIucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBGbGV4LFxuICAgICAgICAgICAgICAgICAgICB7IGp1c3RpZnk6ICdjZW50ZXInLCBhbGlnbjogJ3N0cmV0Y2gnLCBrZXk6ICdncmlkbGluZS0nICsgaSB9LFxuICAgICAgICAgICAgICAgICAgICByb3dBcnJcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByb3dzQXJyO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEdyaWQsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaW5pdGlhbFNsaWRlV2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2NsYXNzbmFtZXM7XG5cbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhID0gX2EuZGF0YSxcbiAgICAgICAgICAgICAgICBoYXNMaW5lID0gX2EuaGFzTGluZSxcbiAgICAgICAgICAgICAgICBpc0Nhcm91c2VsID0gX2EuaXNDYXJvdXNlbCxcbiAgICAgICAgICAgICAgICBzcXVhcmUgPSBfYS5zcXVhcmUsXG4gICAgICAgICAgICAgICAgYWN0aXZlU3R5bGUgPSBfYS5hY3RpdmVTdHlsZSxcbiAgICAgICAgICAgICAgICBhY3RpdmVDbGFzc05hbWUgPSBfYS5hY3RpdmVDbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJwcmVmaXhDbHNcIiwgXCJjbGFzc05hbWVcIiwgXCJkYXRhXCIsIFwiaGFzTGluZVwiLCBcImlzQ2Fyb3VzZWxcIiwgXCJzcXVhcmVcIiwgXCJhY3RpdmVTdHlsZVwiLCBcImFjdGl2ZUNsYXNzTmFtZVwiXSk7XG4gICAgICAgICAgICB2YXIgY29sdW1uTnVtID0gcmVzdFByb3BzLmNvbHVtbk51bSxcbiAgICAgICAgICAgICAgICBjYXJvdXNlbE1heFJvdyA9IHJlc3RQcm9wcy5jYXJvdXNlbE1heFJvdyxcbiAgICAgICAgICAgICAgICBvbkNsaWNrID0gcmVzdFByb3BzLm9uQ2xpY2ssXG4gICAgICAgICAgICAgICAgcmVuZGVySXRlbSA9IHJlc3RQcm9wcy5yZW5kZXJJdGVtLFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wc0ZvckNhcm91c2VsID0gX19yZXN0KHJlc3RQcm9wcywgW1wiY29sdW1uTnVtXCIsIFwiY2Fyb3VzZWxNYXhSb3dcIiwgXCJvbkNsaWNrXCIsIFwicmVuZGVySXRlbVwiXSk7XG5cbiAgICAgICAgICAgIHZhciBpbml0aWFsU2xpZGVXaWR0aCA9IHRoaXMuc3RhdGUuaW5pdGlhbFNsaWRlV2lkdGg7XG5cbiAgICAgICAgICAgIGNvbHVtbk51bSA9IGNvbHVtbk51bTtcbiAgICAgICAgICAgIGNhcm91c2VsTWF4Um93ID0gY2Fyb3VzZWxNYXhSb3c7XG4gICAgICAgICAgICB2YXIgZGF0YUxlbmd0aCA9IGRhdGEgJiYgZGF0YS5sZW5ndGggfHwgMDtcbiAgICAgICAgICAgIHZhciByb3dDb3VudCA9IE1hdGguY2VpbChkYXRhTGVuZ3RoIC8gY29sdW1uTnVtKTtcbiAgICAgICAgICAgIHZhciByb3dzQXJyID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIHJlbmRlckVsID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKGlzQ2Fyb3VzZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFNsaWRlV2lkdGggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhcm91c2VsICBzZXJ2ZXIgcmVuZGVyLiBiZWNhdXNlIGNhcm91c2VsIGRlcGVuZGVzIG9uIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm93Q291bnQgJSBjYXJvdXNlbE1heFJvdyAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByb3dDb3VudCA9IHJvd0NvdW50ICsgY2Fyb3VzZWxNYXhSb3cgLSByb3dDb3VudCAlIGNhcm91c2VsTWF4Um93O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcGFnZUNvdW50ID0gTWF0aC5jZWlsKHJvd0NvdW50IC8gY2Fyb3VzZWxNYXhSb3cpO1xuICAgICAgICAgICAgICAgIHJvd3NBcnIgPSB0aGlzLmdldFJvd3Mocm93Q291bnQsIGRhdGFMZW5ndGgpO1xuICAgICAgICAgICAgICAgIHZhciBjYXJvdXNlbFByb3BzID0ge307XG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VDb3VudCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcm91c2VsUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb3RzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBpbmc6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlbmRlckVsID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgQ2Fyb3VzZWwsXG4gICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKHsgaW5pdGlhbFNsaWRlV2lkdGg6IGluaXRpYWxTbGlkZVdpZHRoIH0sIHJlc3RQcm9wc0ZvckNhcm91c2VsLCBjYXJvdXNlbFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYXJvdXNlbChyb3dzQXJyLCBwYWdlQ291bnQsIHJvd0NvdW50KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvd3NBcnIgPSB0aGlzLmdldFJvd3Mocm93Q291bnQsIGRhdGFMZW5ndGgpO1xuICAgICAgICAgICAgICAgIHJlbmRlckVsID0gcm93c0FycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbHMgPSBjbGFzc25hbWVzKHByZWZpeENscywgY2xhc3NOYW1lLCAoX2NsYXNzbmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXNxdWFyZScsIHNxdWFyZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1saW5lJywgaGFzTGluZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1jYXJvdXNlbCcsIGlzQ2Fyb3VzZWwpLCBfY2xhc3NuYW1lcykpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNscyB9LFxuICAgICAgICAgICAgICAgIHJlbmRlckVsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEdyaWQ7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWQ7XG5cbkdyaWQuZGVmYXVsdFByb3BzID0ge1xuICAgIGRhdGE6IFtdLFxuICAgIGhhc0xpbmU6IHRydWUsXG4gICAgaXNDYXJvdXNlbDogZmFsc2UsXG4gICAgY29sdW1uTnVtOiA0LFxuICAgIGNhcm91c2VsTWF4Um93OiAyLFxuICAgIHByZWZpeENsczogJ2FtLWdyaWQnLFxuICAgIHNxdWFyZTogdHJ1ZSxcbiAgICBpdGVtU3R5bGU6IHt9XG59OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby1iaXR3aXNlICovXG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVG91Y2hGZWVkYmFjayBmcm9tICdybWMtZmVlZGJhY2snO1xuaW1wb3J0IEZsZXggZnJvbSAnLi4vZmxleCc7XG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIEltYWdlUGlja2VyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoSW1hZ2VQaWNrZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gSW1hZ2VQaWNrZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbWFnZVBpY2tlcik7XG5cbiAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NTg0Nzk0L2FjY2Vzc2luZy1qcGVnLWV4aWYtcm90YXRpb24tZGF0YS1pbi1qYXZhc2NyaXB0LW9uLXRoZS1jbGllbnQtc2lkZVxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW1hZ2VQaWNrZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihJbWFnZVBpY2tlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLmdldE9yaWVudGF0aW9uID0gZnVuY3Rpb24gKGZpbGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcuZ2V0VWludDE2KDAsIGZhbHNlKSAhPT0gMHhmZmQ4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygtMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSB2aWV3LmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IDI7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gdmlldy5nZXRVaW50MTYob2Zmc2V0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAyO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFya2VyID09PSAweGZmZTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSB2aWV3LmdldFVpbnQzMihvZmZzZXQgKz0gMiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcCAhPT0gMHg0NTc4Njk2Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGl0dGxlID0gdmlldy5nZXRVaW50MTYob2Zmc2V0ICs9IDYsIGZhbHNlKSA9PT0gMHg0OTQ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHZpZXcuZ2V0VWludDMyKG9mZnNldCArIDQsIGxpdHRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFncyA9IHZpZXcuZ2V0VWludDE2KG9mZnNldCwgbGl0dGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWdzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlldy5nZXRVaW50MTYob2Zmc2V0ICsgaSAqIDEyLCBsaXR0bGUpID09PSAweDAxMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHZpZXcuZ2V0VWludDE2KG9mZnNldCArIGkgKiAxMiArIDgsIGxpdHRsZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgobWFya2VyICYgMHhmZjAwKSAhPT0gMHhmZjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSB2aWV3LmdldFVpbnQxNihvZmZzZXQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soLTEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlLnNsaWNlKDAsIDY0ICogMTAyNCkpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRSb3RhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvcmllbnRhdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTtcblxuICAgICAgICAgICAgdmFyIGltZ1JvdGF0aW9uID0gMDtcbiAgICAgICAgICAgIHN3aXRjaCAob3JpZW50YXRpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGltZ1JvdGF0aW9uID0gMTgwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGltZ1JvdGF0aW9uID0gOTA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgaW1nUm90YXRpb24gPSAyNzA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW1nUm90YXRpb247XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnJlbW92ZUltYWdlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgbmV3SW1hZ2VzID0gW107XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMkZmlsZXMgPSBfdGhpcy5wcm9wcy5maWxlcyxcbiAgICAgICAgICAgICAgICBmaWxlcyA9IF90aGlzJHByb3BzJGZpbGVzID09PSB1bmRlZmluZWQgPyBbXSA6IF90aGlzJHByb3BzJGZpbGVzO1xuXG4gICAgICAgICAgICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbWFnZSwgaWR4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW1hZ2VzLnB1c2goaW1hZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UobmV3SW1hZ2VzLCAncmVtb3ZlJywgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5hZGRJbWFnZSA9IGZ1bmN0aW9uIChpbWdJdGVtKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMkZmlsZXMyID0gX3RoaXMucHJvcHMuZmlsZXMsXG4gICAgICAgICAgICAgICAgZmlsZXMgPSBfdGhpcyRwcm9wcyRmaWxlczIgPT09IHVuZGVmaW5lZCA/IFtdIDogX3RoaXMkcHJvcHMkZmlsZXMyO1xuXG4gICAgICAgICAgICB2YXIgbmV3SW1hZ2VzID0gZmlsZXMuY29uY2F0KGltZ0l0ZW0pO1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UobmV3SW1hZ2VzLCAnYWRkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uSW1hZ2VDbGljayA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uSW1hZ2VDbGljaykge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uSW1hZ2VDbGljayhpbmRleCwgX3RoaXMucHJvcHMuZmlsZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkZpbGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZmlsZVNlbGVjdG9yRWwgPSBfdGhpcy5maWxlU2VsZWN0b3JJbnB1dDtcbiAgICAgICAgICAgIGlmIChmaWxlU2VsZWN0b3JFbCAmJiBmaWxlU2VsZWN0b3JFbC5maWxlcyAmJiBmaWxlU2VsZWN0b3JFbC5maWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZXMgPSBmaWxlU2VsZWN0b3JFbC5maWxlcztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBhcnNlRmlsZShmaWxlc1tpXSwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpbGVTZWxlY3RvckVsKSB7XG4gICAgICAgICAgICAgICAgZmlsZVNlbGVjdG9yRWwudmFsdWUgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMucGFyc2VGaWxlID0gZnVuY3Rpb24gKGZpbGUsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhVVJMID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmICghZGF0YVVSTCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25GYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkZhaWwoJ0ZhaWwgdG8gZ2V0IHRoZSAnICsgaW5kZXggKyAnIGltYWdlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb3JpZW50YXRpb24gPSAxO1xuICAgICAgICAgICAgICAgIF90aGlzLmdldE9yaWVudGF0aW9uKGZpbGUsIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gLTI6IG5vdCBqcGVnICwgLTE6IG5vdCBkZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9IHJlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRJbWFnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGRhdGFVUkwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbjogb3JpZW50YXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBmaWxlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEltYWdlUGlja2VyLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBfcHJvcHMkZmlsZXMgPSBfcHJvcHMuZmlsZXMsXG4gICAgICAgICAgICAgICAgZmlsZXMgPSBfcHJvcHMkZmlsZXMgPT09IHVuZGVmaW5lZCA/IFtdIDogX3Byb3BzJGZpbGVzLFxuICAgICAgICAgICAgICAgIHNlbGVjdGFibGUgPSBfcHJvcHMuc2VsZWN0YWJsZSxcbiAgICAgICAgICAgICAgICBvbkFkZEltYWdlQ2xpY2sgPSBfcHJvcHMub25BZGRJbWFnZUNsaWNrLFxuICAgICAgICAgICAgICAgIG11bHRpcGxlID0gX3Byb3BzLm11bHRpcGxlLFxuICAgICAgICAgICAgICAgIGFjY2VwdCA9IF9wcm9wcy5hY2NlcHQ7XG5cbiAgICAgICAgICAgIHZhciBpbWdJdGVtTGlzdCA9IFtdO1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gcGFyc2VJbnQoJycgKyB0aGlzLnByb3BzLmxlbmd0aCwgMTApO1xuICAgICAgICAgICAgaWYgKGNvdW50IDw9IDApIHtcbiAgICAgICAgICAgICAgICBjb3VudCA9IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMoJycgKyBwcmVmaXhDbHMsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbWFnZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nU3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogJ3VybCgnICsgaW1hZ2UudXJsICsgJyknLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoJyArIF90aGlzMi5nZXRSb3RhdGlvbihpbWFnZS5vcmllbnRhdGlvbikgKyAnZGVnKSdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBpdGVtU3R5bGUgPSB7fTtcbiAgICAgICAgICAgICAgICBpbWdJdGVtTGlzdC5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIEZsZXguSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdpdGVtLScgKyBpbmRleCwgc3R5bGU6IGl0ZW1TdHlsZSB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogaW5kZXgsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS1yZW1vdmUnLCByb2xlOiAnYnV0dG9uJywgJ2FyaWEtbGFiZWwnOiAnQ2xpY2sgYW5kIFJlbW92ZSB0aGlzIGltYWdlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpqc3gtbm8tbXVsdGlsaW5lLWpzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVtb3ZlSW1hZ2UoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWNvbnRlbnQnLCByb2xlOiAnYnV0dG9uJywgJ2FyaWEtbGFiZWwnOiAnSW1hZ2UgY2FuIGJlIGNsaWNrZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmpzeC1uby1tdWx0aWxpbmUtanNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5vbkltYWdlQ2xpY2soaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHN0eWxlOiBpbWdTdHlsZSB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RFbCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgRmxleC5JdGVtLFxuICAgICAgICAgICAgICAgIHsga2V5OiAnc2VsZWN0JyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIFRvdWNoRmVlZGJhY2ssXG4gICAgICAgICAgICAgICAgICAgIHsgYWN0aXZlQ2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXVwbG9hZC1idG4tYWN0aXZlJyB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtICcgKyBwcmVmaXhDbHMgKyAnLXVwbG9hZC1idG4nLCBvbkNsaWNrOiBvbkFkZEltYWdlQ2xpY2ssIHJvbGU6ICdidXR0b24nLCAnYXJpYS1sYWJlbCc6ICdDaG9vc2UgYW5kIGFkZCBpbWFnZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyByZWY6IGZ1bmN0aW9uIHJlZihpbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5maWxlU2VsZWN0b3JJbnB1dCA9IGlucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdHlwZTogJ2ZpbGUnLCBhY2NlcHQ6IGFjY2VwdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpqc3gtbm8tbXVsdGlsaW5lLWpzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5vbkZpbGVDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBtdWx0aXBsZTogbXVsdGlwbGUgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2YXIgYWxsRWwgPSBzZWxlY3RhYmxlID8gaW1nSXRlbUxpc3QuY29uY2F0KFtzZWxlY3RFbF0pIDogaW1nSXRlbUxpc3Q7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gYWxsRWwubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCAhPT0gMCAmJiBsZW5ndGggJSBjb3VudCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciBibGFua0NvdW50ID0gY291bnQgLSBsZW5ndGggJSBjb3VudDtcbiAgICAgICAgICAgICAgICB2YXIgZmlsbEJsYW5rRWwgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsYW5rQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmaWxsQmxhbmtFbC5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmxleC5JdGVtLCB7IGtleTogJ2JsYW5rLScgKyBpIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWxsRWwgPSBhbGxFbC5jb25jYXQoZmlsbEJsYW5rRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZsZXhFbCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFsbEVsLmxlbmd0aCAvIGNvdW50OyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvd0VsID0gYWxsRWwuc2xpY2UoX2kgKiBjb3VudCwgX2kgKiBjb3VudCArIGNvdW50KTtcbiAgICAgICAgICAgICAgICBmbGV4RWwucHVzaChyb3dFbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVuZGVyRWwgPSBmbGV4RWwubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBGbGV4LFxuICAgICAgICAgICAgICAgICAgICB7IGtleTogJ2ZsZXgtJyArIGluZGV4IH0sXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogd3JhcENscywgc3R5bGU6IHN0eWxlIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWxpc3QnLCByb2xlOiAnZ3JvdXAnIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckVsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBJbWFnZVBpY2tlcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VQaWNrZXI7XG5cbkltYWdlUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1pbWFnZS1waWNrZXInLFxuICAgIGZpbGVzOiBbXSxcbiAgICBvbkNoYW5nZTogbm9vcCxcbiAgICBvbkltYWdlQ2xpY2s6IG5vb3AsXG4gICAgb25BZGRJbWFnZUNsaWNrOiBub29wLFxuICAgIG9uRmFpbDogbm9vcCxcbiAgICBzZWxlY3RhYmxlOiB0cnVlLFxuICAgIG11bHRpcGxlOiBmYWxzZSxcbiAgICBhY2NlcHQ6ICdpbWFnZS8qJyxcbiAgICBsZW5ndGg6IDRcbn07IiwiZXhwb3J0IGZ1bmN0aW9uIGhhc0NsYXNzKG5vZGUsIGNsYXNzTmFtZSkge1xuICAgIGlmIChub2RlLmNsYXNzTGlzdCkge1xuICAgICAgICByZXR1cm4gbm9kZS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcbiAgICB9XG4gICAgdmFyIG9yaWdpbkNsYXNzID0gbm9kZS5jbGFzc05hbWU7XG4gICAgcmV0dXJuICgnICcgKyBvcmlnaW5DbGFzcyArICcgJykuaW5kZXhPZignICcgKyBjbGFzc05hbWUgKyAnICcpID4gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKSB7XG4gICAgaWYgKG5vZGUuY2xhc3NMaXN0KSB7XG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBub2RlLmNsYXNzTmFtZSArICcgJyArIGNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc05hbWUpIHtcbiAgICBpZiAobm9kZS5jbGFzc0xpc3QpIHtcbiAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGhhc0NsYXNzKG5vZGUsIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5DbGFzcyA9IG5vZGUuY2xhc3NOYW1lO1xuICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSAoJyAnICsgb3JpZ2luQ2xhc3MgKyAnICcpLnJlcGxhY2UoJyAnICsgY2xhc3NOYW1lICsgJyAnLCAnJyk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiZXhwb3J0IHZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuZXhwb3J0IHZhciBJU19JT1MgPSBjYW5Vc2VET00gJiYgL2lwaG9uZXxpcGFkfGlwb2QvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRvdWNoRmVlZGJhY2sgZnJvbSAncm1jLWZlZWRiYWNrJztcbmltcG9ydCB7IElTX0lPUyB9IGZyb20gJy4uL191dGlsL2V4ZW52JztcbmV4cG9ydCB2YXIgS2V5Ym9hcmRJdGVtID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoS2V5Ym9hcmRJdGVtLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEtleWJvYXJkSXRlbSgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEtleWJvYXJkSXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChLZXlib2FyZEl0ZW0uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihLZXlib2FyZEl0ZW0pKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoS2V5Ym9hcmRJdGVtLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgX29uQ2xpY2sgPSBfYS5vbkNsaWNrLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgdGRSZWYgPSBfYS50ZFJlZixcbiAgICAgICAgICAgICAgICBsYWJlbCA9IF9hLmxhYmVsLFxuICAgICAgICAgICAgICAgIGljb25Pbmx5ID0gX2EuaWNvbk9ubHksXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJwcmVmaXhDbHNcIiwgXCJvbkNsaWNrXCIsIFwiY2xhc3NOYW1lXCIsIFwiZGlzYWJsZWRcIiwgXCJjaGlsZHJlblwiLCBcInRkUmVmXCIsIFwibGFiZWxcIiwgXCJpY29uT25seVwiXSk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBjaGlsZHJlbjtcbiAgICAgICAgICAgIGlmIChjbGFzc05hbWUgPT09ICdrZXlib2FyZC1kZWxldGUnKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnZGVsZXRlJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lID09PSAna2V5Ym9hcmQtaGlkZScpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICdoaWRlJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lID09PSAna2V5Ym9hcmQtY29uZmlybScpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICdjb25maXJtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB3cmFwQ2xzID0gY2xhc3NuYW1lcyhwcmVmaXhDbHMgKyAnLWl0ZW0nLCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgVG91Y2hGZWVkYmFjayxcbiAgICAgICAgICAgICAgICB7IGFjdGl2ZUNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWFjdGl2ZScgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAndGQnLFxuICAgICAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IHJlZjogdGRSZWZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpqc3gtbm8tbXVsdGlsaW5lLWpzXG4gICAgICAgICAgICAgICAgICAgICAgICAsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vbkNsaWNrKGUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGNsYXNzTmFtZTogd3JhcENscyB9LCByZXN0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgICAgICAgICAgaWNvbk9ubHkgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc3Itb25seScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEtleWJvYXJkSXRlbTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcbktleWJvYXJkSXRlbS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tbnVtYmVyLWtleWJvYXJkJyxcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge30sXG4gICAgZGlzYWJsZWQ6IGZhbHNlXG59O1xuXG52YXIgQ3VzdG9tS2V5Ym9hcmQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudDIpIHtcbiAgICBfaW5oZXJpdHMoQ3VzdG9tS2V5Ym9hcmQsIF9SZWFjdCRDb21wb25lbnQyKTtcblxuICAgIGZ1bmN0aW9uIEN1c3RvbUtleWJvYXJkKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3VzdG9tS2V5Ym9hcmQpO1xuXG4gICAgICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ3VzdG9tS2V5Ym9hcmQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDdXN0b21LZXlib2FyZCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzMi5vbktleWJvYXJkQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcblxuICAgICAgICAgICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJ2NvbmZpcm0nICYmIF90aGlzMi5jb25maXJtRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzMi5saW5rZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIubGlua2VkSW5wdXQub25LZXlib2FyZENsaWNrKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzMi5yZW5kZXJLZXlib2FyZEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIEtleWJvYXJkSXRlbSxcbiAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IF90aGlzMi5vbktleWJvYXJkQ2xpY2ssIGtleTogJ2l0ZW0tJyArIGl0ZW0gKyAnLScgKyBpbmRleCB9LFxuICAgICAgICAgICAgICAgIGl0ZW1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpczI7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEN1c3RvbUtleWJvYXJkLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgY29uZmlybUxhYmVsID0gX3Byb3BzLmNvbmZpcm1MYWJlbCxcbiAgICAgICAgICAgICAgICBiYWNrc3BhY2VMYWJlbCA9IF9wcm9wcy5iYWNrc3BhY2VMYWJlbCxcbiAgICAgICAgICAgICAgICBjYW5jZWxLZXlib2FyZExhYmVsID0gX3Byb3BzLmNhbmNlbEtleWJvYXJkTGFiZWwsXG4gICAgICAgICAgICAgICAgd3JhcFByb3BzID0gX3Byb3BzLndyYXBQcm9wcyxcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSBfcHJvcHMuaGVhZGVyO1xuXG4gICAgICAgICAgICB2YXIgd3JhcHBlckNscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzICsgJy13cmFwcGVyJywgcHJlZml4Q2xzICsgJy13cmFwcGVyLWhpZGUnKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHsgY2xhc3NOYW1lOiB3cmFwcGVyQ2xzLCByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5hbnRtS2V5Ym9hcmQgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgfSB9LCB3cmFwUHJvcHMpLFxuICAgICAgICAgICAgICAgIGhlYWRlciAmJiBSZWFjdC5jbG9uZUVsZW1lbnQoaGVhZGVyLCB7IG9uQ2xpY2s6IHRoaXMub25LZXlib2FyZENsaWNrIH0pLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICd0YWJsZScsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAndGJvZHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnMScsICcyJywgJzMnXS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6anN4LW5vLW11bHRpbGluZS1qc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnJlbmRlcktleWJvYXJkSXRlbShpdGVtLCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkSXRlbSwgX2V4dGVuZHMoeyBjbGFzc05hbWU6ICdrZXlib2FyZC1kZWxldGUnLCByb3dTcGFuOiAyLCBvbkNsaWNrOiB0aGlzLm9uS2V5Ym9hcmRDbGljayB9LCB0aGlzLmdldEFyaWFBdHRyKGJhY2tzcGFjZUxhYmVsKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWyc0JywgJzUnLCAnNiddLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpqc3gtbm8tbXVsdGlsaW5lLWpzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMucmVuZGVyS2V5Ym9hcmRJdGVtKGl0ZW0sIGluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWyc3JywgJzgnLCAnOSddLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpqc3gtbm8tbXVsdGlsaW5lLWpzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMucmVuZGVyS2V5Ym9hcmRJdGVtKGl0ZW0sIGluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtleWJvYXJkSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdrZXlib2FyZC1jb25maXJtJywgcm93U3BhbjogMiwgb25DbGljazogdGhpcy5vbktleWJvYXJkQ2xpY2ssIHRkUmVmOiBmdW5jdGlvbiB0ZFJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuY29uZmlybUtleWJvYXJkSXRlbSA9IGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtTGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWycuJywgJzAnXS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6anN4LW5vLW11bHRpbGluZS1qc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnJlbmRlcktleWJvYXJkSXRlbShpdGVtLCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkSXRlbSwgX2V4dGVuZHMoeyBjbGFzc05hbWU6ICdrZXlib2FyZC1oaWRlJywgb25DbGljazogdGhpcy5vbktleWJvYXJkQ2xpY2sgfSwgdGhpcy5nZXRBcmlhQXR0cihjYW5jZWxLZXlib2FyZExhYmVsKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRBcmlhQXR0cicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBcmlhQXR0cihsYWJlbCkge1xuICAgICAgICAgICAgaWYgKElTX0lPUykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGxhYmVsOiBsYWJlbCwgaWNvbk9ubHk6IHRydWUgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcm9sZTogJ2J1dHRvbicsICdhcmlhLWxhYmVsJzogbGFiZWwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDdXN0b21LZXlib2FyZDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuQ3VzdG9tS2V5Ym9hcmQuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLW51bWJlci1rZXlib2FyZCdcbn07XG5leHBvcnQgZGVmYXVsdCBDdXN0b21LZXlib2FyZDsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xudmFyIGNyZWF0ZVBvcnRhbCA9IFJlYWN0RE9NLmNyZWF0ZVBvcnRhbDtcblxudmFyIFBvcnRhbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFBvcnRhbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBQb3J0YWwocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvcnRhbCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvcnRhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBvcnRhbCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5jb250YWluZXIgPSBfdGhpcy5wcm9wcy5nZXRDb250YWluZXIoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQb3J0YWwsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVQb3J0YWwodGhpcy5wcm9wcy5jaGlsZHJlbiwgdGhpcy5jb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUG9ydGFsO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBQb3J0YWw7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgYWRkQ2xhc3MsIHJlbW92ZUNsYXNzIH0gZnJvbSAnLi4vX3V0aWwvY2xhc3MnO1xuaW1wb3J0IEN1c3RvbUtleWJvYXJkIGZyb20gJy4vQ3VzdG9tS2V5Ym9hcmQnO1xuaW1wb3J0IFBvcnRhbCBmcm9tICcuL1BvcnRhbCc7XG5pbXBvcnQgeyBjYW5Vc2VET00gfSBmcm9tICcuLi9fdXRpbC9leGVudic7XG52YXIgaW5zdGFuY2VBcnIgPSBbXTtcbnZhciBjdXN0b21OdW1iZXJLZXlib2FyZCA9IG51bGw7XG52YXIgSVNfUkVBQ1RfMTYgPSAhIVJlYWN0RE9NLmNyZWF0ZVBvcnRhbDtcblxudmFyIE51bWJlcklucHV0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoTnVtYmVySW5wdXQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gTnVtYmVySW5wdXQocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE51bWJlcklucHV0KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTnVtYmVySW5wdXQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOdW1iZXJJbnB1dCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBfdGhpcy5wcm9wcykpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZS50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uQ29uZmlybSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgX3RoaXMucHJvcHMub25WaXJ0dWFsS2V5Ym9hcmRDb25maXJtKHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuYWRkQmx1ckxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpcy5kb0JsdXIsIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMucmVtb3ZlQmx1ckxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpcy5kb0JsdXIsIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc2F2ZVJlZiA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgaWYgKElTX1JFQUNUXzE2ICYmIGVsKSB7XG4gICAgICAgICAgICAgICAgY3VzdG9tTnVtYmVyS2V5Ym9hcmQgPSBlbDtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUFyci5wdXNoKHsgZWw6IGVsLCBjb250YWluZXI6IF90aGlzLmNvbnRhaW5lciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZG9CbHVyID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBfdGhpcy5zdGF0ZS52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKGV2LnRhcmdldCAhPT0gX3RoaXMuaW5wdXRSZWYpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbklucHV0Qmx1cih2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnJlbW92ZUN1cnJlbnRFeHRyYUtleWJvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5zdGFuY2VBcnIgPSBpbnN0YW5jZUFyci5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBpdGVtLmVsLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBpdGVtLmNvbnRhaW5lcjtcblxuICAgICAgICAgICAgICAgIGlmIChlbCAmJiBjb250YWluZXIgJiYgZWwgIT09IGN1c3RvbU51bWJlcktleWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbCA9PT0gY3VzdG9tTnVtYmVyS2V5Ym9hcmQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudW5MaW5rSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoY3VzdG9tTnVtYmVyS2V5Ym9hcmQgJiYgY3VzdG9tTnVtYmVyS2V5Ym9hcmQuYW50bUtleWJvYXJkICYmIGN1c3RvbU51bWJlcktleWJvYXJkLmxpbmtlZElucHV0ICYmIGN1c3RvbU51bWJlcktleWJvYXJkLmxpbmtlZElucHV0ID09PSBfdGhpcykge1xuICAgICAgICAgICAgICAgIGN1c3RvbU51bWJlcktleWJvYXJkLmxpbmtlZElucHV0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhjdXN0b21OdW1iZXJLZXlib2FyZC5hbnRtS2V5Ym9hcmQsIF90aGlzLnByb3BzLmtleWJvYXJkUHJlZml4Q2xzICsgJy13cmFwcGVyLWhpZGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZvciB1bm1vdW50XG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVCbHVyTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIGlmIChJU19SRUFDVF8xNikge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZUN1cnJlbnRFeHRyYUtleWJvYXJkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uSW5wdXRCbHVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZm9jdXMgPSBfdGhpcy5zdGF0ZS5mb2N1cztcblxuICAgICAgICAgICAgaWYgKGZvY3VzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBmb2N1czogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkJsdXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51bkxpbmtJbnB1dCgpO1xuICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25JbnB1dEZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gX3RoaXMuc3RhdGUudmFsdWU7XG5cbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uRm9jdXModmFsdWUpO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1c3RvbU51bWJlcktleWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbU51bWJlcktleWJvYXJkLmxpbmtlZElucHV0ID0gX3RoaXM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXN0b21OdW1iZXJLZXlib2FyZC5hbnRtS2V5Ym9hcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGN1c3RvbU51bWJlcktleWJvYXJkLmFudG1LZXlib2FyZCwgX3RoaXMucHJvcHMua2V5Ym9hcmRQcmVmaXhDbHMgKyAnLXdyYXBwZXItaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbU51bWJlcktleWJvYXJkLmNvbmZpcm1EaXNhYmxlZCA9IHZhbHVlID09PSAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbU51bWJlcktleWJvYXJkLmNvbmZpcm1LZXlib2FyZEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhjdXN0b21OdW1iZXJLZXlib2FyZC5jb25maXJtS2V5Ym9hcmRJdGVtLCBfdGhpcy5wcm9wcy5rZXlib2FyZFByZWZpeENscyArICctaXRlbS1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhjdXN0b21OdW1iZXJLZXlib2FyZC5jb25maXJtS2V5Ym9hcmRJdGVtLCBfdGhpcy5wcm9wcy5rZXlib2FyZFByZWZpeENscyArICctaXRlbS1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uS2V5Ym9hcmRDbGljayA9IGZ1bmN0aW9uIChLZXlib2FyZEl0ZW1WYWx1ZSkge1xuICAgICAgICAgICAgdmFyIG1heExlbmd0aCA9IF90aGlzLnByb3BzLm1heExlbmd0aDtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IF90aGlzLnN0YXRlLnZhbHVlO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRoaXMtYXNzaWdubWVudFxuXG4gICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5vbkNoYW5nZTtcblxuICAgICAgICAgICAgdmFyIHZhbHVlQWZ0ZXJDaGFuZ2UgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyDliKDpmaTplK5cbiAgICAgICAgICAgIGlmIChLZXlib2FyZEl0ZW1WYWx1ZSA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZUFmdGVyQ2hhbmdlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHsgdGFyZ2V0OiB7IHZhbHVlOiB2YWx1ZUFmdGVyQ2hhbmdlIH0gfSk7XG4gICAgICAgICAgICAgICAgLy8g56Gu6K6k6ZSuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKEtleWJvYXJkSXRlbVZhbHVlID09PSAnY29uZmlybScpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZUFmdGVyQ2hhbmdlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2UoeyB0YXJnZXQ6IHsgdmFsdWU6IHZhbHVlQWZ0ZXJDaGFuZ2UgfSB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbklucHV0Qmx1cih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMub25Db25maXJtKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyDmlLbotbfplK5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoS2V5Ym9hcmRJdGVtVmFsdWUgPT09ICdoaWRlJykge1xuICAgICAgICAgICAgICAgIHZhbHVlQWZ0ZXJDaGFuZ2UgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbklucHV0Qmx1cih2YWx1ZUFmdGVyQ2hhbmdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heExlbmd0aCAhPT0gdW5kZWZpbmVkICYmICttYXhMZW5ndGggPj0gMCAmJiAodmFsdWUgKyBLZXlib2FyZEl0ZW1WYWx1ZSkubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlQWZ0ZXJDaGFuZ2UgPSAodmFsdWUgKyBLZXlib2FyZEl0ZW1WYWx1ZSkuc3Vic3RyKDAsIG1heExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHsgdGFyZ2V0OiB7IHZhbHVlOiB2YWx1ZUFmdGVyQ2hhbmdlIH0gfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVBZnRlckNoYW5nZSA9IHZhbHVlICsgS2V5Ym9hcmRJdGVtVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHsgdGFyZ2V0OiB7IHZhbHVlOiB2YWx1ZUFmdGVyQ2hhbmdlIH0gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1c3RvbU51bWJlcktleWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgY3VzdG9tTnVtYmVyS2V5Ym9hcmQuY29uZmlybURpc2FibGVkID0gdmFsdWVBZnRlckNoYW5nZSA9PT0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKGN1c3RvbU51bWJlcktleWJvYXJkLmNvbmZpcm1LZXlib2FyZEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlQWZ0ZXJDaGFuZ2UgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhjdXN0b21OdW1iZXJLZXlib2FyZC5jb25maXJtS2V5Ym9hcmRJdGVtLCBfdGhpcy5wcm9wcy5rZXlib2FyZFByZWZpeENscyArICctaXRlbS1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoY3VzdG9tTnVtYmVyS2V5Ym9hcmQuY29uZmlybUtleWJvYXJkSXRlbSwgX3RoaXMucHJvcHMua2V5Ym9hcmRQcmVmaXhDbHMgKyAnLWl0ZW0tZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25GYWtlSW5wdXRDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmZvY3VzKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdGhpcyBmb2N1cyBtYXkgaW52b2NrZWQgYnkgdXNlcnMgcGFnZSBidXR0b24gY2xpY2ssIHNvIHRoaXMgY2xpY2sgbWF5IHRyaWdnZXIgYmx1ckV2ZW50TGlzdGVuZXIgYXQgdGhlIHNhbWUgdGltZVxuICAgICAgICAgICAgX3RoaXMucmVtb3ZlQmx1ckxpc3RlbmVyKCk7XG4gICAgICAgICAgICB2YXIgZm9jdXMgPSBfdGhpcy5zdGF0ZS5mb2N1cztcblxuICAgICAgICAgICAgaWYgKCFmb2N1cykge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uSW5wdXRGb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkQmx1ckxpc3RlbmVyKCk7XG4gICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgZm9jdXM6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IHByb3BzLnZhbHVlIHx8ICcnXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTnVtYmVySW5wdXQsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV4dFByb3BzLnZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckN1c3RvbUtleWJvYXJkKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgLy8gZm9jdXM6dHJ1ZSB1bm1vdW50IOS4jeiDveinpuWPkSBibHVyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5mb2N1cykge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25CbHVyKHRoaXMuc3RhdGUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51bkxpbmtJbnB1dCgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRDb21wb25lbnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29tcG9uZW50KCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY29uZmlybUxhYmVsID0gX3Byb3BzLmNvbmZpcm1MYWJlbCxcbiAgICAgICAgICAgICAgICBiYWNrc3BhY2VMYWJlbCA9IF9wcm9wcy5iYWNrc3BhY2VMYWJlbCxcbiAgICAgICAgICAgICAgICBjYW5jZWxLZXlib2FyZExhYmVsID0gX3Byb3BzLmNhbmNlbEtleWJvYXJkTGFiZWwsXG4gICAgICAgICAgICAgICAga2V5Ym9hcmRQcmVmaXhDbHMgPSBfcHJvcHMua2V5Ym9hcmRQcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgbW9uZXlLZXlib2FyZFdyYXBQcm9wcyA9IF9wcm9wcy5tb25leUtleWJvYXJkV3JhcFByb3BzLFxuICAgICAgICAgICAgICAgIG1vbmV5S2V5Ym9hcmRIZWFkZXIgPSBfcHJvcHMubW9uZXlLZXlib2FyZEhlYWRlcjtcblxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ3VzdG9tS2V5Ym9hcmQsIHsgcmVmOiB0aGlzLnNhdmVSZWYsIG9uQ2xpY2s6IHRoaXMub25LZXlib2FyZENsaWNrLCBwcmVmaXhDbHM6IGtleWJvYXJkUHJlZml4Q2xzLCBjb25maXJtTGFiZWw6IGNvbmZpcm1MYWJlbCwgYmFja3NwYWNlTGFiZWw6IGJhY2tzcGFjZUxhYmVsLCBjYW5jZWxLZXlib2FyZExhYmVsOiBjYW5jZWxLZXlib2FyZExhYmVsLCB3cmFwUHJvcHM6IG1vbmV5S2V5Ym9hcmRXcmFwUHJvcHMsIGhlYWRlcjogbW9uZXlLZXlib2FyZEhlYWRlciB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0Q29udGFpbmVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRhaW5lcigpIHtcbiAgICAgICAgICAgIHZhciBrZXlib2FyZFByZWZpeENscyA9IHRoaXMucHJvcHMua2V5Ym9hcmRQcmVmaXhDbHM7XG5cbiAgICAgICAgICAgIGlmIChJU19SRUFDVF8xNikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsIGtleWJvYXJkUHJlZml4Q2xzICsgJy1jb250YWluZXItJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBfY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBrZXlib2FyZFByZWZpeENscyArICctY29udGFpbmVyJyk7XG4gICAgICAgICAgICAgICAgaWYgKCFfY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywga2V5Ym9hcmRQcmVmaXhDbHMgKyAnLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKF9jb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IF9jb250YWluZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlckN1c3RvbUtleWJvYXJkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckN1c3RvbUtleWJvYXJkKCkge1xuICAgICAgICAgICAgaWYgKElTX1JFQUNUXzE2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VzdG9tTnVtYmVyS2V5Ym9hcmQgPSBSZWFjdERPTS51bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcih0aGlzLCB0aGlzLmdldENvbXBvbmVudCgpLCB0aGlzLmdldENvbnRhaW5lcigpKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyUG9ydGFsJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclBvcnRhbCgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoIUlTX1JFQUNUXzE2IHx8ICFjYW5Vc2VET00pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIFBvcnRhbCxcbiAgICAgICAgICAgICAgICB7IGdldENvbnRhaW5lcjogZnVuY3Rpb24gZ2V0Q29udGFpbmVyKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRDb250YWluZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gX3Byb3BzMi5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wczIuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgZWRpdGFibGUgPSBfcHJvcHMyLmVkaXRhYmxlLFxuICAgICAgICAgICAgICAgIG1vbmV5S2V5Ym9hcmRBbGlnbiA9IF9wcm9wczIubW9uZXlLZXlib2FyZEFsaWduO1xuICAgICAgICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgZm9jdXMgPSBfc3RhdGUuZm9jdXMsXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBfc3RhdGUudmFsdWU7XG5cbiAgICAgICAgICAgIHZhciBwcmV2ZW50S2V5Ym9hcmQgPSBkaXNhYmxlZCB8fCAhZWRpdGFibGU7XG4gICAgICAgICAgICB2YXIgZmFrZUlucHV0Q2xzID0gY2xhc3NuYW1lcygnZmFrZS1pbnB1dCcsIHtcbiAgICAgICAgICAgICAgICBmb2N1czogZm9jdXMsXG4gICAgICAgICAgICAgICAgJ2Zha2UtaW5wdXQtZGlzYWJsZWQnOiBkaXNhYmxlZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgZmFrZUlucHV0Q29udGFpbmVyQ2xzID0gY2xhc3NuYW1lcygnZmFrZS1pbnB1dC1jb250YWluZXInLCB7XG4gICAgICAgICAgICAgICAgJ2Zha2UtaW5wdXQtY29udGFpbmVyLWxlZnQnOiBtb25leUtleWJvYXJkQWxpZ24gPT09ICdsZWZ0J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogZmFrZUlucHV0Q29udGFpbmVyQ2xzIH0sXG4gICAgICAgICAgICAgICAgdmFsdWUgPT09ICcnICYmXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmpzeC1uby1tdWx0aWxpbmUtanNcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmYWtlLWlucHV0LXBsYWNlaG9sZGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgcm9sZTogJ3RleHRib3gnLCAnYXJpYS1sYWJlbCc6IHZhbHVlIHx8IHBsYWNlaG9sZGVyLCBjbGFzc05hbWU6IGZha2VJbnB1dENscywgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmlucHV0UmVmID0gZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBvbkNsaWNrOiBwcmV2ZW50S2V5Ym9hcmQgPyBmdW5jdGlvbiAoKSB7fSA6IHRoaXMub25GYWtlSW5wdXRDbGljayB9LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQb3J0YWwoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBOdW1iZXJJbnB1dDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuTnVtYmVySW5wdXQuZGVmYXVsdFByb3BzID0ge1xuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9LFxuICAgIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoKSB7fSxcbiAgICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHt9LFxuICAgIG9uVmlydHVhbEtleWJvYXJkQ29uZmlybTogZnVuY3Rpb24gb25WaXJ0dWFsS2V5Ym9hcmRDb25maXJtKCkge30sXG4gICAgcGxhY2Vob2xkZXI6ICcnLFxuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICBwcmVmaXhDbHM6ICdhbS1pbnB1dCcsXG4gICAga2V5Ym9hcmRQcmVmaXhDbHM6ICdhbS1udW1iZXIta2V5Ym9hcmQnXG59O1xuZXhwb3J0IGRlZmF1bHQgTnVtYmVySW5wdXQ7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgSW5wdXQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhJbnB1dCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBJbnB1dCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElucHV0KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW5wdXQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihJbnB1dCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLm9uSW5wdXRCbHVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQmx1cikge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQmx1cih2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uSW5wdXRGb2N1cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAvLyBoZXJlIHNob3VsZCBoYXZlIGEgdmFsdWUgZGVmaW5pdGlvbiBidXQgbm9uZS5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uRm9jdXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkZvY3VzKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaW5wdXRSZWYpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pbnB1dFJlZi5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKElucHV0LCBbe1xuICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBvbkJsdXIgPSBfYS5vbkJsdXIsXG4gICAgICAgICAgICAgICAgb25Gb2N1cyA9IF9hLm9uRm9jdXMsXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJvbkJsdXJcIiwgXCJvbkZvY3VzXCJdKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoeyByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmlucHV0UmVmID0gZWw7XG4gICAgICAgICAgICAgICAgfSwgb25CbHVyOiB0aGlzLm9uSW5wdXRCbHVyLCBvbkZvY3VzOiB0aGlzLm9uSW5wdXRGb2N1cyB9LCByZXN0UHJvcHMpKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBJbnB1dDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgSW5wdXQ7IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbi8qIHRzbGludDpkaXNhYmxlOmpzeC1uby1tdWx0aWxpbmUtanMgKi9cbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVG91Y2hGZWVkYmFjayBmcm9tICdybWMtZmVlZGJhY2snO1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50TG9jYWxlIH0gZnJvbSAnLi4vX3V0aWwvZ2V0TG9jYWxlJztcbmltcG9ydCBDdXN0b21JbnB1dCBmcm9tICcuL0N1c3RvbUlucHV0JztcbmltcG9ydCBJbnB1dCBmcm9tICcuL0lucHV0JztcbmZ1bmN0aW9uIG5vb3AoKSB7fVxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZSArICcnO1xufVxuXG52YXIgSW5wdXRJdGVtID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoSW5wdXRJdGVtLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIElucHV0SXRlbShwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5wdXRJdGVtKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW5wdXRJdGVtLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW5wdXRJdGVtKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLm9uSW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XG4gICAgICAgICAgICB2YXIgcmF3VmFsID0gZWwudmFsdWUsXG4gICAgICAgICAgICAgICAgcHJlUG9zID0gZWwuc2VsZWN0aW9uRW5kO1xuICAgICAgICAgICAgdmFyIF90aGlzJHN0YXRlJHZhbHVlID0gX3RoaXMuc3RhdGUudmFsdWUsXG4gICAgICAgICAgICAgICAgcHJlQ3RybFZhbCA9IF90aGlzJHN0YXRlJHZhbHVlID09PSB1bmRlZmluZWQgPyAnJyA6IF90aGlzJHN0YXRlJHZhbHVlO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBfdGhpcy5wcm9wcy50eXBlO1xuXG4gICAgICAgICAgICB2YXIgY3RybFZhbHVlID0gcmF3VmFsO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnYmFua0NhcmQnOlxuICAgICAgICAgICAgICAgICAgICBjdHJsVmFsdWUgPSByYXdWYWwucmVwbGFjZSgvXFxEL2csICcnKS5yZXBsYWNlKC8oLi4uLikoPz0uKS9nLCAnJDEgJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Bob25lJzpcbiAgICAgICAgICAgICAgICAgICAgY3RybFZhbHVlID0gcmF3VmFsLnJlcGxhY2UoL1xcRC9nLCAnJykuc3Vic3RyaW5nKDAsIDExKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlTGVuID0gY3RybFZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlTGVuID4gMyAmJiB2YWx1ZUxlbiA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmxWYWx1ZSA9IGN0cmxWYWx1ZS5zdWJzdHIoMCwgMykgKyAnICcgKyBjdHJsVmFsdWUuc3Vic3RyKDMpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlTGVuID49IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmxWYWx1ZSA9IGN0cmxWYWx1ZS5zdWJzdHIoMCwgMykgKyAnICcgKyBjdHJsVmFsdWUuc3Vic3RyKDMsIDQpICsgJyAnICsgY3RybFZhbHVlLnN1YnN0cig3KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgICAgICBjdHJsVmFsdWUgPSByYXdWYWwucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICAgICAgY2FzZSAncGFzc3dvcmQnOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuaGFuZGxlT25DaGFuZ2UoY3RybFZhbHVlLCBjdHJsVmFsdWUgIT09IHJhd1ZhbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdiYW5rQ2FyZCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Bob25lJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xsZWQgaW5wdXQgdHlwZSBuZWVkcyB0byBhZGp1c3QgdGhlIHBvc2l0aW9uIG9mIHRoZSBjYXJldFxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuc2VsZWN0aW9uU3RhcnQgPSBlbC5zZWxlY3Rpb25FbmQgPSBfdGhpcy5jYWxjUG9zKHByZVBvcyB8fCAwLCBwcmVDdHJsVmFsLCByYXdWYWwsIGN0cmxWYWx1ZSwgWycgJ10sIC9cXEQvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVPbkNoYW5nZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGlzTXV0YXRlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICAgICAgICB2YXIgYWRqdXN0UG9zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBub29wO1xuICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cbiAgICAgICAgICAgIGlmICghKCd2YWx1ZScgaW4gX3RoaXMucHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdmFsdWU6IF90aGlzLnByb3BzLnZhbHVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTXV0YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkanVzdFBvcygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkanVzdFBvcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRqdXN0UG9zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uSW5wdXRGb2N1cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmRlYm91bmNlVGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5kZWJvdW5jZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlYm91bmNlVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZm9jdXM6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uRm9jdXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkZvY3VzKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25JbnB1dEJsdXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5pbnB1dFJlZikge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuaW5wdXRSZWYgbWF5IGJlIG51bGwgaWYgY3VzdG9tS2V5Ym9hcmQgdW5tb3VudFxuICAgICAgICAgICAgICAgIF90aGlzLmRlYm91bmNlVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IChfdGhpcy5pbnB1dFJlZiAmJiBfdGhpcy5pbnB1dFJlZi5pbnB1dFJlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkJsdXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkJsdXIodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5jbGVhcklucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLnR5cGUgIT09ICdwYXNzd29yZCcgJiYgX3RoaXMucHJvcHMudXBkYXRlUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBfdGhpcy5wcm9wcy52YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSgnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5mb2N1cygpO1xuICAgICAgICB9O1xuICAgICAgICAvLyB0aGlzIGlzIGluc3RhbmNlIG1ldGhvZCBmb3IgdXNlciB0byB1c2VcbiAgICAgICAgX3RoaXMuZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaW5wdXRSZWYpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pbnB1dFJlZi5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBjYXJldFxuICAgICAgICBfdGhpcy5jYWxjUG9zID0gZnVuY3Rpb24gKHByZVBvcywgcHJlQ3RybFZhbCwgcmF3VmFsLCBjdHJsVmFsLCBwbGFjZWhvbGRlckNoYXJzLCBtYXNrUmVnKSB7XG4gICAgICAgICAgICB2YXIgZWRpdExlbmd0aCA9IHJhd1ZhbC5sZW5ndGggLSBwcmVDdHJsVmFsLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBpc0FkZGl0aW9uID0gZWRpdExlbmd0aCA+IDA7XG4gICAgICAgICAgICB2YXIgcG9zID0gcHJlUG9zO1xuICAgICAgICAgICAgaWYgKGlzQWRkaXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgYWRkaXRpb25TdHIgPSByYXdWYWwuc3Vic3RyKHBvcyAtIGVkaXRMZW5ndGgsIGVkaXRMZW5ndGgpO1xuICAgICAgICAgICAgICAgIHZhciBjdHJsQ2hhckNvdW50ID0gYWRkaXRpb25TdHIucmVwbGFjZShtYXNrUmVnLCAnJykubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHBvcyAtPSBlZGl0TGVuZ3RoIC0gY3RybENoYXJDb3VudDtcbiAgICAgICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXJDaGFyQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdHJsQ2hhckNvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2Vob2xkZXJDaGFycy5pbmRleE9mKGN0cmxWYWwuY2hhckF0KHBvcyAtIGN0cmxDaGFyQ291bnQgKyBwbGFjZWhvbGRlckNoYXJDb3VudCkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RybENoYXJDb3VudC0tO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJDaGFyQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwb3MgKz0gcGxhY2Vob2xkZXJDaGFyQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgIHZhbHVlOiBub3JtYWxpemVWYWx1ZShwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWUpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoSW5wdXRJdGVtLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgICBpZiAoJ3BsYWNlaG9sZGVyJyBpbiBuZXh0UHJvcHMgJiYgIW5leHRQcm9wcy51cGRhdGVQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbmV4dFByb3BzLnBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYm91bmNlVGltZW91dCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVib3VuY2VUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NuYW1lcyxcbiAgICAgICAgICAgICAgICBfY2xhc3NuYW1lczIsXG4gICAgICAgICAgICAgICAgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgZGVsZXRlIHByb3BzLnVwZGF0ZVBsYWNlaG9sZGVyO1xuXG4gICAgICAgICAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIHByZWZpeExpc3RDbHMgPSBwcm9wcy5wcmVmaXhMaXN0Q2xzLFxuICAgICAgICAgICAgICAgIGVkaXRhYmxlID0gcHJvcHMuZWRpdGFibGUsXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgICAgICAgICAgICBjbGVhciA9IHByb3BzLmNsZWFyLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgZXJyb3IgPSBwcm9wcy5lcnJvcixcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgZXh0cmEgPSBwcm9wcy5leHRyYSxcbiAgICAgICAgICAgICAgICBsYWJlbE51bWJlciA9IHByb3BzLmxhYmVsTnVtYmVyLFxuICAgICAgICAgICAgICAgIHR5cGUgPSBwcm9wcy50eXBlLFxuICAgICAgICAgICAgICAgIG9uRXh0cmFDbGljayA9IHByb3BzLm9uRXh0cmFDbGljayxcbiAgICAgICAgICAgICAgICBvbkVycm9yQ2xpY2sgPSBwcm9wcy5vbkVycm9yQ2xpY2ssXG4gICAgICAgICAgICAgICAgbW9uZXlLZXlib2FyZEFsaWduID0gcHJvcHMubW9uZXlLZXlib2FyZEFsaWduLFxuICAgICAgICAgICAgICAgIG1vbmV5S2V5Ym9hcmRXcmFwUHJvcHMgPSBwcm9wcy5tb25leUtleWJvYXJkV3JhcFByb3BzLFxuICAgICAgICAgICAgICAgIG1vbmV5S2V5Ym9hcmRIZWFkZXIgPSBwcm9wcy5tb25leUtleWJvYXJkSGVhZGVyLFxuICAgICAgICAgICAgICAgIG9uVmlydHVhbEtleWJvYXJkQ29uZmlybSA9IHByb3BzLm9uVmlydHVhbEtleWJvYXJkQ29uZmlybSxcbiAgICAgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QocHJvcHMsIFtcInByZWZpeENsc1wiLCBcInByZWZpeExpc3RDbHNcIiwgXCJlZGl0YWJsZVwiLCBcInN0eWxlXCIsIFwiY2xlYXJcIiwgXCJjaGlsZHJlblwiLCBcImVycm9yXCIsIFwiY2xhc3NOYW1lXCIsIFwiZXh0cmFcIiwgXCJsYWJlbE51bWJlclwiLCBcInR5cGVcIiwgXCJvbkV4dHJhQ2xpY2tcIiwgXCJvbkVycm9yQ2xpY2tcIiwgXCJtb25leUtleWJvYXJkQWxpZ25cIiwgXCJtb25leUtleWJvYXJkV3JhcFByb3BzXCIsIFwibW9uZXlLZXlib2FyZEhlYWRlclwiLCBcIm9uVmlydHVhbEtleWJvYXJkQ29uZmlybVwiXSk7XG5cbiAgICAgICAgICAgIHZhciBuYW1lID0gcmVzdFByb3BzLm5hbWUsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSByZXN0UHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoID0gcmVzdFByb3BzLm1heExlbmd0aDtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFyaWFibGUtbmFtZVxuXG4gICAgICAgICAgICB2YXIgX2xvY2FsZSA9IGdldENvbXBvbmVudExvY2FsZSh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsICdJbnB1dEl0ZW0nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmUoJy4vbG9jYWxlL3poX0NOJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBjb25maXJtTGFiZWwgPSBfbG9jYWxlLmNvbmZpcm1MYWJlbCxcbiAgICAgICAgICAgICAgICBiYWNrc3BhY2VMYWJlbCA9IF9sb2NhbGUuYmFja3NwYWNlTGFiZWwsXG4gICAgICAgICAgICAgICAgY2FuY2VsS2V5Ym9hcmRMYWJlbCA9IF9sb2NhbGUuY2FuY2VsS2V5Ym9hcmRMYWJlbDtcbiAgICAgICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIGZvY3VzID0gX3N0YXRlLmZvY3VzLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gX3N0YXRlLnBsYWNlaG9sZGVyO1xuXG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMocHJlZml4TGlzdENscyArICctaXRlbScsIHByZWZpeENscyArICctaXRlbScsIHByZWZpeExpc3RDbHMgKyAnLWl0ZW0tbWlkZGxlJywgY2xhc3NOYW1lLCAoX2NsYXNzbmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgZGlzYWJsZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctZXJyb3InLCBlcnJvciksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1mb2N1cycsIGZvY3VzKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWFuZHJvaWQnLCBmb2N1cyksIF9jbGFzc25hbWVzKSk7XG4gICAgICAgICAgICB2YXIgbGFiZWxDbHMgPSBjbGFzc25hbWVzKHByZWZpeENscyArICctbGFiZWwnLCAoX2NsYXNzbmFtZXMyID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lczIsIHByZWZpeENscyArICctbGFiZWwtMicsIGxhYmVsTnVtYmVyID09PSAyKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzMiwgcHJlZml4Q2xzICsgJy1sYWJlbC0zJywgbGFiZWxOdW1iZXIgPT09IDMpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMyLCBwcmVmaXhDbHMgKyAnLWxhYmVsLTQnLCBsYWJlbE51bWJlciA9PT0gNCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lczIsIHByZWZpeENscyArICctbGFiZWwtNScsIGxhYmVsTnVtYmVyID09PSA1KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzMiwgcHJlZml4Q2xzICsgJy1sYWJlbC02JywgbGFiZWxOdW1iZXIgPT09IDYpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMyLCBwcmVmaXhDbHMgKyAnLWxhYmVsLTcnLCBsYWJlbE51bWJlciA9PT0gNyksIF9jbGFzc25hbWVzMikpO1xuICAgICAgICAgICAgdmFyIGNvbnRyb2xDbHMgPSBwcmVmaXhDbHMgKyAnLWNvbnRyb2wnO1xuICAgICAgICAgICAgdmFyIGlucHV0VHlwZSA9ICd0ZXh0JztcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnYmFua0NhcmQnIHx8IHR5cGUgPT09ICdwaG9uZScpIHtcbiAgICAgICAgICAgICAgICBpbnB1dFR5cGUgPSAndGVsJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3Bhc3N3b3JkJykge1xuICAgICAgICAgICAgICAgIGlucHV0VHlwZSA9ICdwYXNzd29yZCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdkaWdpdCcpIHtcbiAgICAgICAgICAgICAgICBpbnB1dFR5cGUgPSAnbnVtYmVyJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSAhPT0gJ3RleHQnICYmIHR5cGUgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRUeXBlID0gdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwYXR0ZXJuUHJvcHMgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm46ICdbMC05XSonXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbGFzc05hbWVQcm9wcyA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnZGlnaXQnKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2g1bnVtSW5wdXQnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiB3cmFwQ2xzIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhMaXN0Q2xzICsgJy1saW5lJyB9LFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBsYWJlbENscyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjb250cm9sQ2xzIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID09PSAnbW9uZXknID8gUmVhY3QuY3JlYXRlRWxlbWVudChDdXN0b21JbnB1dCwgeyB2YWx1ZTogbm9ybWFsaXplVmFsdWUodmFsdWUpLCB0eXBlOiB0eXBlLCByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmlucHV0UmVmID0gZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbWF4TGVuZ3RoOiBtYXhMZW5ndGgsIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciwgb25DaGFuZ2U6IHRoaXMub25JbnB1dENoYW5nZSwgb25Gb2N1czogdGhpcy5vbklucHV0Rm9jdXMsIG9uQmx1cjogdGhpcy5vbklucHV0Qmx1ciwgb25WaXJ0dWFsS2V5Ym9hcmRDb25maXJtOiBvblZpcnR1YWxLZXlib2FyZENvbmZpcm0sIGRpc2FibGVkOiBkaXNhYmxlZCwgZWRpdGFibGU6IGVkaXRhYmxlLCBwcmVmaXhDbHM6IHByZWZpeENscywgc3R5bGU6IHN0eWxlLCBjb25maXJtTGFiZWw6IGNvbmZpcm1MYWJlbCwgYmFja3NwYWNlTGFiZWw6IGJhY2tzcGFjZUxhYmVsLCBjYW5jZWxLZXlib2FyZExhYmVsOiBjYW5jZWxLZXlib2FyZExhYmVsLCBtb25leUtleWJvYXJkQWxpZ246IG1vbmV5S2V5Ym9hcmRBbGlnbiwgbW9uZXlLZXlib2FyZFdyYXBQcm9wczogbW9uZXlLZXlib2FyZFdyYXBQcm9wcywgbW9uZXlLZXlib2FyZEhlYWRlcjogbW9uZXlLZXlib2FyZEhlYWRlciB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5wdXQsIF9leHRlbmRzKHt9LCBwYXR0ZXJuUHJvcHMsIHJlc3RQcm9wcywgY2xhc3NOYW1lUHJvcHMsIHsgdmFsdWU6IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSwgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWQsIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaW5wdXRSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBzdHlsZTogc3R5bGUsIHR5cGU6IGlucHV0VHlwZSwgbWF4TGVuZ3RoOiBtYXhMZW5ndGgsIG5hbWU6IG5hbWUsIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciwgb25DaGFuZ2U6IHRoaXMub25JbnB1dENoYW5nZSwgb25Gb2N1czogdGhpcy5vbklucHV0Rm9jdXMsIG9uQmx1cjogdGhpcy5vbklucHV0Qmx1ciwgcmVhZE9ubHk6ICFlZGl0YWJsZSwgZGlzYWJsZWQ6IGRpc2FibGVkIH0pKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBjbGVhciAmJiBlZGl0YWJsZSAmJiAhZGlzYWJsZWQgJiYgdmFsdWUgJiYgKCcnICsgdmFsdWUpLmxlbmd0aCA+IDAgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgVG91Y2hGZWVkYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgYWN0aXZlQ2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsZWFyLWFjdGl2ZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsZWFyJywgb25DbGljazogdGhpcy5jbGVhcklucHV0IH0pXG4gICAgICAgICAgICAgICAgICAgICkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBlcnJvciA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWVycm9yLWV4dHJhJywgb25DbGljazogb25FcnJvckNsaWNrIH0pIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmEgIT09ICcnID8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZXh0cmEnLCBvbkNsaWNrOiBvbkV4dHJhQ2xpY2sgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhXG4gICAgICAgICAgICAgICAgICAgICkgOiBudWxsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBJbnB1dEl0ZW07XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbklucHV0SXRlbS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0taW5wdXQnLFxuICAgIHByZWZpeExpc3RDbHM6ICdhbS1saXN0JyxcbiAgICB0eXBlOiAndGV4dCcsXG4gICAgZWRpdGFibGU6IHRydWUsXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIHBsYWNlaG9sZGVyOiAnJyxcbiAgICBjbGVhcjogZmFsc2UsXG4gICAgb25DaGFuZ2U6IG5vb3AsXG4gICAgb25CbHVyOiBub29wLFxuICAgIG9uRm9jdXM6IG5vb3AsXG4gICAgZXh0cmE6ICcnLFxuICAgIG9uRXh0cmFDbGljazogbm9vcCxcbiAgICBlcnJvcjogZmFsc2UsXG4gICAgb25FcnJvckNsaWNrOiBub29wLFxuICAgIG9uVmlydHVhbEtleWJvYXJkQ29uZmlybTogbm9vcCxcbiAgICBsYWJlbE51bWJlcjogNSxcbiAgICB1cGRhdGVQbGFjZWhvbGRlcjogZmFsc2UsXG4gICAgbW9uZXlLZXlib2FyZEFsaWduOiAncmlnaHQnLFxuICAgIG1vbmV5S2V5Ym9hcmRXcmFwUHJvcHM6IHt9LFxuICAgIG1vbmV5S2V5Ym9hcmRIZWFkZXI6IG51bGxcbn07XG5JbnB1dEl0ZW0uY29udGV4dFR5cGVzID0ge1xuICAgIGFudExvY2FsZTogUHJvcFR5cGVzLm9iamVjdFxufTtcbmV4cG9ydCBkZWZhdWx0IElucHV0SXRlbTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ZianMvbGliL2ludmFyaWFudCc7XG5pbXBvcnQgaXNFbXB0eSBmcm9tICdmYmpzL2xpYi9pc0VtcHR5JztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnO1xuXG5mdW5jdGlvbiBkZWZhdWx0R2V0Um93RGF0YShkYXRhQmxvYiwgc2VjdGlvbklELCByb3dJRCkge1xuICByZXR1cm4gZGF0YUJsb2Jbc2VjdGlvbklEXVtyb3dJRF07XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRHZXRTZWN0aW9uSGVhZGVyRGF0YShkYXRhQmxvYiwgc2VjdGlvbklEKSB7XG4gIHJldHVybiBkYXRhQmxvYltzZWN0aW9uSURdO1xufVxuXG4vLyB0eXBlIGRpZmZlclR5cGUgPSAoZGF0YTEsIGRhdGEyKSA9PiBib29sO1xuLy9cbi8vIHR5cGUgUGFyYW1UeXBlID0ge1xuLy8gICByb3dIYXNDaGFuZ2VkOiBkaWZmZXJUeXBlO1xuLy8gICBnZXRSb3dEYXRhOiA/dHlwZW9mIGRlZmF1bHRHZXRSb3dEYXRhO1xuLy8gICBzZWN0aW9uSGVhZGVySGFzQ2hhbmdlZDogP2RpZmZlclR5cGU7XG4vLyAgIGdldFNlY3Rpb25IZWFkZXJEYXRhOiA/dHlwZW9mIGRlZmF1bHRHZXRTZWN0aW9uSGVhZGVyRGF0YTtcbi8vIH1cblxuLyoqXG4gKiBQcm92aWRlcyBlZmZpY2llbnQgZGF0YSBwcm9jZXNzaW5nIGFuZCBhY2Nlc3MgdG8gdGhlXG4gKiBgTGlzdFZpZXdgIGNvbXBvbmVudC4gIEEgYExpc3RWaWV3RGF0YVNvdXJjZWAgaXMgY3JlYXRlZCB3aXRoIGZ1bmN0aW9ucyBmb3JcbiAqIGV4dHJhY3RpbmcgZGF0YSBmcm9tIHRoZSBpbnB1dCBibG9iLCBhbmQgY29tcGFyaW5nIGVsZW1lbnRzICh3aXRoIGRlZmF1bHRcbiAqIGltcGxlbWVudGF0aW9ucyBmb3IgY29udmVuaWVuY2UpLiAgVGhlIGlucHV0IGJsb2IgY2FuIGJlIGFzIHNpbXBsZSBhcyBhblxuICogYXJyYXkgb2Ygc3RyaW5ncywgb3IgYW4gb2JqZWN0IHdpdGggcm93cyBuZXN0ZWQgaW5zaWRlIHNlY3Rpb24gb2JqZWN0cy5cbiAqXG4gKiBUbyB1cGRhdGUgdGhlIGRhdGEgaW4gdGhlIGRhdGFzb3VyY2UsIHVzZSBgY2xvbmVXaXRoUm93c2AgKG9yXG4gKiBgY2xvbmVXaXRoUm93c0FuZFNlY3Rpb25zYCBpZiB5b3UgY2FyZSBhYm91dCBzZWN0aW9ucykuICBUaGUgZGF0YSBpbiB0aGVcbiAqIGRhdGEgc291cmNlIGlzIGltbXV0YWJsZSwgc28geW91IGNhbid0IG1vZGlmeSBpdCBkaXJlY3RseS4gIFRoZSBjbG9uZSBtZXRob2RzXG4gKiBzdWNrIGluIHRoZSBuZXcgZGF0YSBhbmQgY29tcHV0ZSBhIGRpZmYgZm9yIGVhY2ggcm93IHNvIExpc3RWaWV3IGtub3dzXG4gKiB3aGV0aGVyIHRvIHJlLXJlbmRlciBpdCBvciBub3QuXG4gKlxuICogSW4gdGhpcyBleGFtcGxlLCBhIGNvbXBvbmVudCByZWNlaXZlcyBkYXRhIGluIGNodW5rcywgaGFuZGxlZCBieVxuICogYF9vbkRhdGFBcnJpdmVkYCwgd2hpY2ggY29uY2F0cyB0aGUgbmV3IGRhdGEgb250byB0aGUgb2xkIGRhdGEgYW5kIHVwZGF0ZXMgdGhlXG4gKiBkYXRhIHNvdXJjZS4gIFdlIHVzZSBgY29uY2F0YCB0byBjcmVhdGUgYSBuZXcgYXJyYXkgLSBtdXRhdGluZyBgdGhpcy5fZGF0YWAsXG4gKiBlLmcuIHdpdGggYHRoaXMuX2RhdGEucHVzaChuZXdSb3dEYXRhKWAsIHdvdWxkIGJlIGFuIGVycm9yLiBgX3Jvd0hhc0NoYW5nZWRgXG4gKiB1bmRlcnN0YW5kcyB0aGUgc2hhcGUgb2YgdGhlIHJvdyBkYXRhIGFuZCBrbm93cyBob3cgdG8gZWZmaWNpZW50bHkgY29tcGFyZVxuICogaXQuXG4gKlxuICogYGBgXG4gKiBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICogICB2YXIgZHMgPSBuZXcgTGlzdFZpZXdEYXRhU291cmNlKHtyb3dIYXNDaGFuZ2VkOiB0aGlzLl9yb3dIYXNDaGFuZ2VkfSk7XG4gKiAgIHJldHVybiB7ZHN9O1xuICogfSxcbiAqIF9vbkRhdGFBcnJpdmVkKG5ld0RhdGEpIHtcbiAqICAgdGhpcy5fZGF0YSA9IHRoaXMuX2RhdGEuY29uY2F0KG5ld0RhdGEpO1xuICogICB0aGlzLnNldFN0YXRlKHtcbiAqICAgICBkczogdGhpcy5zdGF0ZS5kcy5jbG9uZVdpdGhSb3dzKHRoaXMuX2RhdGEpXG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKi9cblxudmFyIExpc3RWaWV3RGF0YVNvdXJjZSA9IGZ1bmN0aW9uICgpIHtcblxuICAvKipcbiAgICogWW91IGNhbiBwcm92aWRlIGN1c3RvbSBleHRyYWN0aW9uIGFuZCBgaGFzQ2hhbmdlZGAgZnVuY3Rpb25zIGZvciBzZWN0aW9uXG4gICAqIGhlYWRlcnMgYW5kIHJvd3MuICBJZiBhYnNlbnQsIGRhdGEgd2lsbCBiZSBleHRyYWN0ZWQgd2l0aCB0aGVcbiAgICogYGRlZmF1bHRHZXRSb3dEYXRhYCBhbmQgYGRlZmF1bHRHZXRTZWN0aW9uSGVhZGVyRGF0YWAgZnVuY3Rpb25zLlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCBleHRyYWN0b3IgZXhwZWN0cyBkYXRhIG9mIG9uZSBvZiB0aGUgZm9sbG93aW5nIGZvcm1zOlxuICAgKlxuICAgKiAgICAgIHsgc2VjdGlvbklEXzE6IHsgcm93SURfMTogPHJvd0RhdGExPiwgLi4uIH0sIC4uLiB9XG4gICAqXG4gICAqICAgIG9yXG4gICAqXG4gICAqICAgICAgeyBzZWN0aW9uSURfMTogWyA8cm93RGF0YTE+LCA8cm93RGF0YTI+LCAuLi4gXSwgLi4uIH1cbiAgICpcbiAgICogICAgb3JcbiAgICpcbiAgICogICAgICBbIFsgPHJvd0RhdGExPiwgPHJvd0RhdGEyPiwgLi4uIF0sIC4uLiBdXG4gICAqXG4gICAqIFRoZSBjb25zdHJ1Y3RvciB0YWtlcyBpbiBhIHBhcmFtcyBhcmd1bWVudCB0aGF0IGNhbiBjb250YWluIGFueSBvZiB0aGVcbiAgICogZm9sbG93aW5nOlxuICAgKlxuICAgKiAtIGdldFJvd0RhdGEoZGF0YUJsb2IsIHNlY3Rpb25JRCwgcm93SUQpO1xuICAgKiAtIGdldFNlY3Rpb25IZWFkZXJEYXRhKGRhdGFCbG9iLCBzZWN0aW9uSUQpO1xuICAgKiAtIHJvd0hhc0NoYW5nZWQocHJldlJvd0RhdGEsIG5leHRSb3dEYXRhKTtcbiAgICogLSBzZWN0aW9uSGVhZGVySGFzQ2hhbmdlZChwcmV2U2VjdGlvbkRhdGEsIG5leHRTZWN0aW9uRGF0YSk7XG4gICAqL1xuICBmdW5jdGlvbiBMaXN0Vmlld0RhdGFTb3VyY2UocGFyYW1zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3RWaWV3RGF0YVNvdXJjZSk7XG5cbiAgICBpbnZhcmlhbnQocGFyYW1zICYmIHR5cGVvZiBwYXJhbXMucm93SGFzQ2hhbmdlZCA9PT0gJ2Z1bmN0aW9uJywgJ011c3QgcHJvdmlkZSBhIHJvd0hhc0NoYW5nZWQgZnVuY3Rpb24uJyk7XG4gICAgdGhpcy5fcm93SGFzQ2hhbmdlZCA9IHBhcmFtcy5yb3dIYXNDaGFuZ2VkO1xuICAgIHRoaXMuX2dldFJvd0RhdGEgPSBwYXJhbXMuZ2V0Um93RGF0YSB8fCBkZWZhdWx0R2V0Um93RGF0YTtcbiAgICB0aGlzLl9zZWN0aW9uSGVhZGVySGFzQ2hhbmdlZCA9IHBhcmFtcy5zZWN0aW9uSGVhZGVySGFzQ2hhbmdlZDtcbiAgICB0aGlzLl9nZXRTZWN0aW9uSGVhZGVyRGF0YSA9IHBhcmFtcy5nZXRTZWN0aW9uSGVhZGVyRGF0YSB8fCBkZWZhdWx0R2V0U2VjdGlvbkhlYWRlckRhdGE7XG5cbiAgICB0aGlzLl9kYXRhQmxvYiA9IG51bGw7XG4gICAgdGhpcy5fZGlydHlSb3dzID0gW107XG4gICAgdGhpcy5fZGlydHlTZWN0aW9ucyA9IFtdO1xuICAgIHRoaXMuX2NhY2hlZFJvd0NvdW50ID0gMDtcblxuICAgIC8vIFRoZXNlIHR3byBwcml2YXRlIHZhcmlhYmxlcyBhcmUgYWNjZXNzZWQgYnkgb3V0c2lkZXJzIGJlY2F1c2UgTGlzdFZpZXdcbiAgICAvLyB1c2VzIHRoZW0gdG8gaXRlcmF0ZSBvdmVyIHRoZSBkYXRhIGluIHRoaXMgY2xhc3MuXG4gICAgdGhpcy5yb3dJZGVudGl0aWVzID0gW107XG4gICAgdGhpcy5zZWN0aW9uSWRlbnRpdGllcyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGlzIGBMaXN0Vmlld0RhdGFTb3VyY2VgIHdpdGggdGhlIHNwZWNpZmllZCBgZGF0YUJsb2JgIGFuZFxuICAgKiBgcm93SWRlbnRpdGllc2AuIFRoZSBgZGF0YUJsb2JgIGlzIGp1c3QgYW4gYXJiaXRyYXJ5IGJsb2Igb2YgZGF0YS4gQXRcbiAgICogY29uc3RydWN0aW9uIGFuIGV4dHJhY3RvciB0byBnZXQgdGhlIGludGVyZXN0aW5nIGluZm9ybWF0aW9uIHdhcyBkZWZpbmVkXG4gICAqIChvciB0aGUgZGVmYXVsdCB3YXMgdXNlZCkuXG4gICAqXG4gICAqIFRoZSBgcm93SWRlbnRpdGllc2AgaXMgaXMgYSAyRCBhcnJheSBvZiBpZGVudGlmaWVycyBmb3Igcm93cy5cbiAgICogaWUuIFtbJ2ExJywgJ2EyJ10sIFsnYjEnLCAnYjInLCAnYjMnXSwgLi4uXS4gIElmIG5vdCBwcm92aWRlZCwgaXQnc1xuICAgKiBhc3N1bWVkIHRoYXQgdGhlIGtleXMgb2YgdGhlIHNlY3Rpb24gZGF0YSBhcmUgdGhlIHJvdyBpZGVudGl0aWVzLlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIGZ1bmN0aW9uIGRvZXMgTk9UIGNsb25lIHRoZSBkYXRhIGluIHRoaXMgZGF0YSBzb3VyY2UuIEl0IHNpbXBseVxuICAgKiBwYXNzZXMgdGhlIGZ1bmN0aW9ucyBkZWZpbmVkIGF0IGNvbnN0cnVjdGlvbiB0byBhIG5ldyBkYXRhIHNvdXJjZSB3aXRoXG4gICAqIHRoZSBkYXRhIHNwZWNpZmllZC4gSWYgeW91IHdpc2ggdG8gbWFpbnRhaW4gdGhlIGV4aXN0aW5nIGRhdGEgeW91IG11c3RcbiAgICogaGFuZGxlIG1lcmdpbmcgb2Ygb2xkIGFuZCBuZXcgZGF0YSBzZXBhcmF0ZWx5IGFuZCB0aGVuIHBhc3MgdGhhdCBpbnRvXG4gICAqIHRoaXMgZnVuY3Rpb24gYXMgdGhlIGBkYXRhQmxvYmAuXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKExpc3RWaWV3RGF0YVNvdXJjZSwgW3tcbiAgICBrZXk6ICdjbG9uZVdpdGhSb3dzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmVXaXRoUm93cyhkYXRhQmxvYiwgcm93SWRlbnRpdGllcykge1xuICAgICAgdmFyIHJvd0lkcyA9IHJvd0lkZW50aXRpZXMgPyBbcm93SWRlbnRpdGllc10gOiBudWxsO1xuICAgICAgaWYgKCF0aGlzLl9zZWN0aW9uSGVhZGVySGFzQ2hhbmdlZCkge1xuICAgICAgICB0aGlzLl9zZWN0aW9uSGVhZGVySGFzQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZVdpdGhSb3dzQW5kU2VjdGlvbnMoeyBzMTogZGF0YUJsb2IgfSwgWydzMSddLCByb3dJZHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgcGVyZm9ybXMgdGhlIHNhbWUgZnVuY3Rpb24gYXMgdGhlIGBjbG9uZVdpdGhSb3dzYCBmdW5jdGlvbiBidXQgaGVyZVxuICAgICAqIHlvdSBhbHNvIHNwZWNpZnkgd2hhdCB5b3VyIGBzZWN0aW9uSWRlbnRpdGllc2AgYXJlLiBJZiB5b3UgZG9uJ3QgY2FyZVxuICAgICAqIGFib3V0IHNlY3Rpb25zIHlvdSBzaG91bGQgc2FmZWx5IGJlIGFibGUgdG8gdXNlIGBjbG9uZVdpdGhSb3dzYC5cbiAgICAgKlxuICAgICAqIGBzZWN0aW9uSWRlbnRpdGllc2AgaXMgYW4gYXJyYXkgb2YgaWRlbnRpZmllcnMgZm9yICBzZWN0aW9ucy5cbiAgICAgKiBpZS4gWydzMScsICdzMicsIC4uLl0uICBJZiBub3QgcHJvdmlkZWQsIGl0J3MgYXNzdW1lZCB0aGF0IHRoZVxuICAgICAqIGtleXMgb2YgZGF0YUJsb2IgYXJlIHRoZSBzZWN0aW9uIGlkZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiBOb3RlOiB0aGlzIHJldHVybnMgYSBuZXcgb2JqZWN0IVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjbG9uZVdpdGhSb3dzQW5kU2VjdGlvbnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9uZVdpdGhSb3dzQW5kU2VjdGlvbnMoZGF0YUJsb2IsIHNlY3Rpb25JZGVudGl0aWVzLCByb3dJZGVudGl0aWVzKSB7XG4gICAgICBpbnZhcmlhbnQodHlwZW9mIHRoaXMuX3NlY3Rpb25IZWFkZXJIYXNDaGFuZ2VkID09PSAnZnVuY3Rpb24nLCAnTXVzdCBwcm92aWRlIGEgc2VjdGlvbkhlYWRlckhhc0NoYW5nZWQgZnVuY3Rpb24gd2l0aCBzZWN0aW9uIGRhdGEuJyk7XG4gICAgICBpbnZhcmlhbnQoIXNlY3Rpb25JZGVudGl0aWVzIHx8ICFyb3dJZGVudGl0aWVzIHx8IHNlY3Rpb25JZGVudGl0aWVzLmxlbmd0aCA9PT0gcm93SWRlbnRpdGllcy5sZW5ndGgsICdyb3cgYW5kIHNlY3Rpb24gaWRzIGxlbmd0aHMgbXVzdCBiZSB0aGUgc2FtZScpO1xuXG4gICAgICB2YXIgbmV3U291cmNlID0gbmV3IExpc3RWaWV3RGF0YVNvdXJjZSh7XG4gICAgICAgIGdldFJvd0RhdGE6IHRoaXMuX2dldFJvd0RhdGEsXG4gICAgICAgIGdldFNlY3Rpb25IZWFkZXJEYXRhOiB0aGlzLl9nZXRTZWN0aW9uSGVhZGVyRGF0YSxcbiAgICAgICAgcm93SGFzQ2hhbmdlZDogdGhpcy5fcm93SGFzQ2hhbmdlZCxcbiAgICAgICAgc2VjdGlvbkhlYWRlckhhc0NoYW5nZWQ6IHRoaXMuX3NlY3Rpb25IZWFkZXJIYXNDaGFuZ2VkXG4gICAgICB9KTtcbiAgICAgIG5ld1NvdXJjZS5fZGF0YUJsb2IgPSBkYXRhQmxvYjtcbiAgICAgIGlmIChzZWN0aW9uSWRlbnRpdGllcykge1xuICAgICAgICBuZXdTb3VyY2Uuc2VjdGlvbklkZW50aXRpZXMgPSBzZWN0aW9uSWRlbnRpdGllcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1NvdXJjZS5zZWN0aW9uSWRlbnRpdGllcyA9IE9iamVjdC5rZXlzKGRhdGFCbG9iKTtcbiAgICAgIH1cbiAgICAgIGlmIChyb3dJZGVudGl0aWVzKSB7XG4gICAgICAgIG5ld1NvdXJjZS5yb3dJZGVudGl0aWVzID0gcm93SWRlbnRpdGllcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1NvdXJjZS5yb3dJZGVudGl0aWVzID0gW107XG4gICAgICAgIG5ld1NvdXJjZS5zZWN0aW9uSWRlbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uIChzZWN0aW9uSUQpIHtcbiAgICAgICAgICBuZXdTb3VyY2Uucm93SWRlbnRpdGllcy5wdXNoKE9iamVjdC5rZXlzKGRhdGFCbG9iW3NlY3Rpb25JRF0pKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBuZXdTb3VyY2UuX2NhY2hlZFJvd0NvdW50ID0gY291bnRSb3dzKG5ld1NvdXJjZS5yb3dJZGVudGl0aWVzKTtcblxuICAgICAgbmV3U291cmNlLl9jYWxjdWxhdGVEaXJ0eUFycmF5cyh0aGlzLl9kYXRhQmxvYiwgdGhpcy5zZWN0aW9uSWRlbnRpdGllcywgdGhpcy5yb3dJZGVudGl0aWVzKTtcblxuICAgICAgcmV0dXJuIG5ld1NvdXJjZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRSb3dDb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJvd0NvdW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFJvd0NvdW50O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFJvd0FuZFNlY3Rpb25Db3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJvd0FuZFNlY3Rpb25Db3VudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRSb3dDb3VudCArIHRoaXMuc2VjdGlvbklkZW50aXRpZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaWYgdGhlIHJvdyBpcyBkaXJ0aWVkIGFuZCBuZWVkcyB0byBiZSByZXJlbmRlcmVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Jvd1Nob3VsZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJvd1Nob3VsZFVwZGF0ZShzZWN0aW9uSW5kZXgsIHJvd0luZGV4KSB7XG4gICAgICB2YXIgbmVlZHNVcGRhdGUgPSB0aGlzLl9kaXJ0eVJvd3Nbc2VjdGlvbkluZGV4XVtyb3dJbmRleF07XG4gICAgICB3YXJuaW5nKG5lZWRzVXBkYXRlICE9PSB1bmRlZmluZWQsICdtaXNzaW5nIGRpcnR5Qml0IGZvciBzZWN0aW9uLCByb3c6ICcgKyBzZWN0aW9uSW5kZXggKyAnLCAnICsgcm93SW5kZXgpO1xuICAgICAgcmV0dXJuIG5lZWRzVXBkYXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGEgcmVxdWlyZWQgdG8gcmVuZGVyIHRoZSByb3cuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFJvd0RhdGEnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSb3dEYXRhKHNlY3Rpb25JbmRleCwgcm93SW5kZXgpIHtcbiAgICAgIHZhciBzZWN0aW9uSUQgPSB0aGlzLnNlY3Rpb25JZGVudGl0aWVzW3NlY3Rpb25JbmRleF07XG4gICAgICB2YXIgcm93SUQgPSB0aGlzLnJvd0lkZW50aXRpZXNbc2VjdGlvbkluZGV4XVtyb3dJbmRleF07XG4gICAgICB3YXJuaW5nKHNlY3Rpb25JRCAhPT0gdW5kZWZpbmVkICYmIHJvd0lEICE9PSB1bmRlZmluZWQsICdyZW5kZXJpbmcgaW52YWxpZCBzZWN0aW9uLCByb3c6ICcgKyBzZWN0aW9uSW5kZXggKyAnLCAnICsgcm93SW5kZXgpO1xuICAgICAgcmV0dXJuIHRoaXMuX2dldFJvd0RhdGEodGhpcy5fZGF0YUJsb2IsIHNlY3Rpb25JRCwgcm93SUQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHJvd0lEIGF0IGluZGV4IHByb3ZpZGVkIGlmIHRoZSBkYXRhU291cmNlIGFycmF5cyB3ZXJlIGZsYXR0ZW5lZCxcbiAgICAgKiBvciBudWxsIG9mIG91dCBvZiByYW5nZSBpbmRleGVzLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRSb3dJREZvckZsYXRJbmRleCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJvd0lERm9yRmxhdEluZGV4KGluZGV4KSB7XG4gICAgICB2YXIgYWNjZXNzSW5kZXggPSBpbmRleDtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB0aGlzLnNlY3Rpb25JZGVudGl0aWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICBpZiAoYWNjZXNzSW5kZXggPj0gdGhpcy5yb3dJZGVudGl0aWVzW2lpXS5sZW5ndGgpIHtcbiAgICAgICAgICBhY2Nlc3NJbmRleCAtPSB0aGlzLnJvd0lkZW50aXRpZXNbaWldLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5yb3dJZGVudGl0aWVzW2lpXVthY2Nlc3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNlY3Rpb25JRCBhdCBpbmRleCBwcm92aWRlZCBpZiB0aGUgZGF0YVNvdXJjZSBhcnJheXMgd2VyZSBmbGF0dGVuZWQsXG4gICAgICogb3IgbnVsbCBmb3Igb3V0IG9mIHJhbmdlIGluZGV4ZXMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFNlY3Rpb25JREZvckZsYXRJbmRleCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlY3Rpb25JREZvckZsYXRJbmRleChpbmRleCkge1xuICAgICAgdmFyIGFjY2Vzc0luZGV4ID0gaW5kZXg7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgdGhpcy5zZWN0aW9uSWRlbnRpdGllcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgaWYgKGFjY2Vzc0luZGV4ID49IHRoaXMucm93SWRlbnRpdGllc1tpaV0ubGVuZ3RoKSB7XG4gICAgICAgICAgYWNjZXNzSW5kZXggLT0gdGhpcy5yb3dJZGVudGl0aWVzW2lpXS5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VjdGlvbklkZW50aXRpZXNbaWldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWJlciBvZiByb3dzIGluIGVhY2ggc2VjdGlvblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTZWN0aW9uTGVuZ3RocycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlY3Rpb25MZW5ndGhzKCkge1xuICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB0aGlzLnNlY3Rpb25JZGVudGl0aWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICByZXN1bHRzLnB1c2godGhpcy5yb3dJZGVudGl0aWVzW2lpXS5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpZiB0aGUgc2VjdGlvbiBoZWFkZXIgaXMgZGlydGllZCBhbmQgbmVlZHMgdG8gYmUgcmVyZW5kZXJlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZWN0aW9uSGVhZGVyU2hvdWxkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VjdGlvbkhlYWRlclNob3VsZFVwZGF0ZShzZWN0aW9uSW5kZXgpIHtcbiAgICAgIHZhciBuZWVkc1VwZGF0ZSA9IHRoaXMuX2RpcnR5U2VjdGlvbnNbc2VjdGlvbkluZGV4XTtcbiAgICAgIHdhcm5pbmcobmVlZHNVcGRhdGUgIT09IHVuZGVmaW5lZCwgJ21pc3NpbmcgZGlydHlCaXQgZm9yIHNlY3Rpb246ICcgKyBzZWN0aW9uSW5kZXgpO1xuICAgICAgcmV0dXJuIG5lZWRzVXBkYXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGEgcmVxdWlyZWQgdG8gcmVuZGVyIHRoZSBzZWN0aW9uIGhlYWRlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTZWN0aW9uSGVhZGVyRGF0YScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlY3Rpb25IZWFkZXJEYXRhKHNlY3Rpb25JbmRleCkge1xuICAgICAgaWYgKCF0aGlzLl9nZXRTZWN0aW9uSGVhZGVyRGF0YSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHZhciBzZWN0aW9uSUQgPSB0aGlzLnNlY3Rpb25JZGVudGl0aWVzW3NlY3Rpb25JbmRleF07XG4gICAgICB3YXJuaW5nKHNlY3Rpb25JRCAhPT0gdW5kZWZpbmVkLCAncmVuZGVyU2VjdGlvbiBjYWxsZWQgb24gaW52YWxpZCBzZWN0aW9uOiAnICsgc2VjdGlvbkluZGV4KTtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRTZWN0aW9uSGVhZGVyRGF0YSh0aGlzLl9kYXRhQmxvYiwgc2VjdGlvbklEKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcml2YXRlIG1lbWJlcnMgYW5kIG1ldGhvZHMuXG4gICAgICovXG5cbiAgICAvLyBUaGVzZSB0d28gJ3Byb3RlY3RlZCcgdmFyaWFibGVzIGFyZSBhY2Nlc3NlZCBieSBMaXN0VmlldyB0byBpdGVyYXRlIG92ZXJcbiAgICAvLyB0aGUgZGF0YSBpbiB0aGlzIGNsYXNzLlxuXG4gIH0sIHtcbiAgICBrZXk6ICdfY2FsY3VsYXRlRGlydHlBcnJheXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsY3VsYXRlRGlydHlBcnJheXMocHJldkRhdGFCbG9iLCBwcmV2U2VjdGlvbklEcywgcHJldlJvd0lEcykge1xuICAgICAgLy8gY29uc3RydWN0IGEgaGFzaG1hcCBvZiB0aGUgZXhpc3RpbmcgKG9sZCkgaWQgYXJyYXlzXG4gICAgICB2YXIgcHJldlNlY3Rpb25zSGFzaCA9IGtleWVkRGljdGlvbmFyeUZyb21BcnJheShwcmV2U2VjdGlvbklEcyk7XG4gICAgICB2YXIgcHJldlJvd3NIYXNoID0ge307XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgcHJldlJvd0lEcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgdmFyIHNlY3Rpb25JRCA9IHByZXZTZWN0aW9uSURzW2lpXTtcbiAgICAgICAgd2FybmluZyghcHJldlJvd3NIYXNoW3NlY3Rpb25JRF0sICdTZWN0aW9uSUQgYXBwZWFycyBtb3JlIHRoYW4gb25jZTogJyArIHNlY3Rpb25JRCk7XG4gICAgICAgIHByZXZSb3dzSGFzaFtzZWN0aW9uSURdID0ga2V5ZWREaWN0aW9uYXJ5RnJvbUFycmF5KHByZXZSb3dJRHNbaWldKTtcbiAgICAgIH1cblxuICAgICAgLy8gY29tcGFyZSB0aGUgMiBpZGVudGl0eSBhcnJheSBhbmQgZ2V0IHRoZSBkaXJ0aWVkIHJvd3NcbiAgICAgIHRoaXMuX2RpcnR5U2VjdGlvbnMgPSBbXTtcbiAgICAgIHRoaXMuX2RpcnR5Um93cyA9IFtdO1xuXG4gICAgICB2YXIgZGlydHk7XG4gICAgICBmb3IgKHZhciBzSW5kZXggPSAwOyBzSW5kZXggPCB0aGlzLnNlY3Rpb25JZGVudGl0aWVzLmxlbmd0aDsgc0luZGV4KyspIHtcbiAgICAgICAgdmFyIHNlY3Rpb25JRCA9IHRoaXMuc2VjdGlvbklkZW50aXRpZXNbc0luZGV4XTtcbiAgICAgICAgLy8gZGlydHkgaWYgdGhlIHNlY3Rpb25IZWFkZXIgaXMgbmV3IG9yIF9zZWN0aW9uSGFzQ2hhbmdlZCBpcyB0cnVlXG4gICAgICAgIGRpcnR5ID0gIXByZXZTZWN0aW9uc0hhc2hbc2VjdGlvbklEXTtcbiAgICAgICAgdmFyIHNlY3Rpb25IZWFkZXJIYXNDaGFuZ2VkID0gdGhpcy5fc2VjdGlvbkhlYWRlckhhc0NoYW5nZWQ7XG4gICAgICAgIGlmICghZGlydHkgJiYgc2VjdGlvbkhlYWRlckhhc0NoYW5nZWQpIHtcbiAgICAgICAgICBkaXJ0eSA9IHNlY3Rpb25IZWFkZXJIYXNDaGFuZ2VkKHRoaXMuX2dldFNlY3Rpb25IZWFkZXJEYXRhKHByZXZEYXRhQmxvYiwgc2VjdGlvbklEKSwgdGhpcy5fZ2V0U2VjdGlvbkhlYWRlckRhdGEodGhpcy5fZGF0YUJsb2IsIHNlY3Rpb25JRCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RpcnR5U2VjdGlvbnMucHVzaCghIWRpcnR5KTtcblxuICAgICAgICB0aGlzLl9kaXJ0eVJvd3Nbc0luZGV4XSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBySW5kZXggPSAwOyBySW5kZXggPCB0aGlzLnJvd0lkZW50aXRpZXNbc0luZGV4XS5sZW5ndGg7IHJJbmRleCsrKSB7XG4gICAgICAgICAgdmFyIHJvd0lEID0gdGhpcy5yb3dJZGVudGl0aWVzW3NJbmRleF1bckluZGV4XTtcbiAgICAgICAgICAvLyBkaXJ0eSBpZiB0aGUgc2VjdGlvbiBpcyBuZXcsIHJvdyBpcyBuZXcgb3IgX3Jvd0hhc0NoYW5nZWQgaXMgdHJ1ZVxuICAgICAgICAgIGRpcnR5ID0gIXByZXZTZWN0aW9uc0hhc2hbc2VjdGlvbklEXSB8fCAhcHJldlJvd3NIYXNoW3NlY3Rpb25JRF1bcm93SURdIHx8IHRoaXMuX3Jvd0hhc0NoYW5nZWQodGhpcy5fZ2V0Um93RGF0YShwcmV2RGF0YUJsb2IsIHNlY3Rpb25JRCwgcm93SUQpLCB0aGlzLl9nZXRSb3dEYXRhKHRoaXMuX2RhdGFCbG9iLCBzZWN0aW9uSUQsIHJvd0lEKSk7XG4gICAgICAgICAgdGhpcy5fZGlydHlSb3dzW3NJbmRleF0ucHVzaCghIWRpcnR5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMaXN0Vmlld0RhdGFTb3VyY2U7XG59KCk7XG5cbmZ1bmN0aW9uIGNvdW50Um93cyhhbGxSb3dJRHMpIHtcbiAgdmFyIHRvdGFsUm93cyA9IDA7XG4gIGZvciAodmFyIHNlY3Rpb25JZHggPSAwOyBzZWN0aW9uSWR4IDwgYWxsUm93SURzLmxlbmd0aDsgc2VjdGlvbklkeCsrKSB7XG4gICAgdmFyIHJvd0lEcyA9IGFsbFJvd0lEc1tzZWN0aW9uSWR4XTtcbiAgICB0b3RhbFJvd3MgKz0gcm93SURzLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gdG90YWxSb3dzO1xufVxuXG5mdW5jdGlvbiBrZXllZERpY3Rpb25hcnlGcm9tQXJyYXkoYXJyKSB7XG4gIGlmIChpc0VtcHR5KGFycikpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgYXJyLmxlbmd0aDsgaWkrKykge1xuICAgIHZhciBrZXkgPSBhcnJbaWldO1xuICAgIHdhcm5pbmcoIXJlc3VsdFtrZXldLCAnVmFsdWUgYXBwZWFycyBtb3JlIHRoYW4gb25jZSBpbiBhcnJheTogJyArIGtleSk7XG4gICAgcmVzdWx0W2tleV0gPSB0cnVlO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIG1vZHVsZS5leHBvcnRzID0gTGlzdFZpZXdEYXRhU291cmNlO1xuZXhwb3J0IGRlZmF1bHQgTGlzdFZpZXdEYXRhU291cmNlOyIsImV4cG9ydCBmdW5jdGlvbiBnZXRPZmZzZXRUb3AoZWxlbSkge1xuICB2YXIgb2Zmc2V0VG9wID0gMDtcbiAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXG4gIGRvIHtcbiAgICBpZiAoIWlzTmFOKGVsZW0ub2Zmc2V0VG9wKSkge1xuICAgICAgb2Zmc2V0VG9wICs9IGVsZW0ub2Zmc2V0VG9wO1xuICAgIH1cbiAgfSB3aGlsZSAoZWxlbSA9IGVsZW0ub2Zmc2V0UGFyZW50KTtcbiAgcmV0dXJuIG9mZnNldFRvcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9ldmVudChlKSB7XG4gIGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCkge1xuICAgIHJldHVybiBlLnRvdWNoZXNbMF07XG4gIH1cbiAgaWYgKGUuY2hhbmdlZFRvdWNoZXMgJiYgZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgfVxuICByZXR1cm4gZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlKGZuLCBkZWxheSkge1xuICB2YXIgZGVsYXlGbGFnID0gdHJ1ZTtcbiAgdmFyIGZpcnN0SW52b2tlID0gdHJ1ZTtcbiAgLy8gY29uc29sZS5sb2coJ2V4ZWMgb25jZScpO1xuICByZXR1cm4gZnVuY3Rpb24gX3Rocm90dGxlKGUpIHtcbiAgICBpZiAoZGVsYXlGbGFnKSB7XG4gICAgICBkZWxheUZsYWcgPSBmYWxzZTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWxheUZsYWcgPSB0cnVlO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnZXhlYyBkZWxheSB0aW1lJyk7XG4gICAgICAgIGZuKGUpO1xuICAgICAgfSwgZGVsYXkpO1xuICAgICAgaWYgKGZpcnN0SW52b2tlKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdmaXJzdCBpbnZva2UnKTtcbiAgICAgICAgZm4oZSk7XG4gICAgICAgIGZpcnN0SW52b2tlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VHJhbnNmb3JtKG5vZGVTdHlsZSwgdmFsdWUpIHtcbiAgbm9kZVN0eWxlLnRyYW5zZm9ybSA9IHZhbHVlO1xuICBub2RlU3R5bGUud2Via2l0VHJhbnNmb3JtID0gdmFsdWU7XG4gIG5vZGVTdHlsZS5Nb3pUcmFuc2Zvcm0gPSB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFRyYW5zZm9ybU9yaWdpbihub2RlU3R5bGUsIHZhbHVlKSB7XG4gIG5vZGVTdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSB2YWx1ZTtcbiAgbm9kZVN0eWxlLndlYmtpdFRyYW5zZm9ybU9yaWdpbiA9IHZhbHVlO1xuICBub2RlU3R5bGUuTW96VHJhbnNmb3JtT3JpZ2luID0gdmFsdWU7XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tICcuL3V0aWwnO1xuXG4vLyBjb25zdCBTQ1JPTExWSUVXID0gJ1Njcm9sbFZpZXdSZWYnO1xuLy8gY29uc3QgSU5ORVJWSUVXID0gJ0lubmVyU2Nyb2xsVmlld1JlZic7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvYmxvYi8wLjI2LXN0YWJsZS9MaWJyYXJpZXMvQ29tcG9uZW50cy9TY3JvbGxWaWV3L1Njcm9sbFZpZXcuanNcblxuLyogZXNsaW50IHJlYWN0L3Byb3AtdHlwZXM6IDAsIHJlYWN0L3NvcnQtY29tcDogMCwgbm8tdW51c2VkLWV4cHJlc3Npb25zOiAwICovXG5cbnZhciBwcm9wVHlwZXMgPSB7XG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgcHJlZml4Q2xzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBsaXN0UHJlZml4Q2xzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBsaXN0Vmlld1ByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNvbnRlbnRDb250YWluZXJTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgb25TY3JvbGw6IFByb3BUeXBlcy5mdW5jXG59O1xuXG52YXIgU2Nyb2xsVmlldyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTY3JvbGxWaWV3LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTY3JvbGxWaWV3KCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY3JvbGxWaWV3KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBTY3JvbGxWaWV3Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2Nyb2xsVmlldykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyksIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNjcm9sbFZpZXcsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduLW1vYmlsZS9pc3N1ZXMvMTQ4MFxuICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTM4NjY5Ni9tYWtlLXNjcm9sbGxlZnQtc2Nyb2xsdG9wLWNoYW5nZXMtbm90LXRyaWdnZXItc2Nyb2xsLWV2ZW50XG4gICAgICAvLyDpl67popjmg4Xmma/vvJrnlKjmiLfmu5rliqjlhoXlrrnlkI7vvIzmlLnlj5ggZGF0YVNvdXJjZSDop6blj5EgTGlzdFZpZXcgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1xuICAgICAgLy8g5YaF5a655Y+Y5YyW5ZCOIHNjcm9sbFRvcCDlpoLmnpzmlLnlj5jjgIHkvJroh6rliqjop6blj5Egc2Nyb2xsIOS6i+S7tu+8jOiAjOatpOS6i+S7tuW6lOivpemBv+WFjeiiq+aJp+ihjFxuICAgICAgaWYgKCh0aGlzLnByb3BzLmRhdGFTb3VyY2UgIT09IG5leHRQcm9wcy5kYXRhU291cmNlIHx8IHRoaXMucHJvcHMuaW5pdGlhbExpc3RTaXplICE9PSBuZXh0UHJvcHMuaW5pdGlhbExpc3RTaXplKSAmJiB0aGlzLmhhbmRsZVNjcm9sbCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnY29tcG9uZW50V2lsbFVwZGF0ZScpO1xuICAgICAgICBpZiAodGhpcy5wcm9wcy51c2VCb2R5U2Nyb2xsKSB7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLlNjcm9sbFZpZXdSZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIC8vIGhhbmRsZSBjb21wb25lbnRXaWxsVXBkYXRlIGFjY29yZGluZ2x5XG4gICAgICBpZiAoKHRoaXMucHJvcHMuZGF0YVNvdXJjZSAhPT0gcHJldlByb3BzLmRhdGFTb3VyY2UgfHwgdGhpcy5wcm9wcy5pbml0aWFsTGlzdFNpemUgIT09IHByZXZQcm9wcy5pbml0aWFsTGlzdFNpemUpICYmIHRoaXMuaGFuZGxlU2Nyb2xsKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpczIucHJvcHMudXNlQm9keVNjcm9sbCkge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF90aGlzMi5oYW5kbGVTY3JvbGwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczIuU2Nyb2xsVmlld1JlZi5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfdGhpczIuaGFuZGxlU2Nyb2xsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIGhhbmRsZVNjcm9sbCA9IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbChlKSB7XG4gICAgICAgIHJldHVybiBfdGhpczMucHJvcHMub25TY3JvbGwgJiYgX3RoaXMzLnByb3BzLm9uU2Nyb2xsKGUsIF90aGlzMy5nZXRNZXRyaWNzKCkpO1xuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUpIHtcbiAgICAgICAgaGFuZGxlU2Nyb2xsID0gdGhyb3R0bGUoaGFuZGxlU2Nyb2xsLCB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUpO1xuICAgICAgfVxuICAgICAgdGhpcy5oYW5kbGVTY3JvbGwgPSBoYW5kbGVTY3JvbGw7XG5cbiAgICAgIC8vIElFIHN1cHBvcnRzIG9ucmVzaXplIG9uIGFsbCBIVE1MIGVsZW1lbnRzLlxuICAgICAgLy8gSW4gYWxsIG90aGVyIEJyb3dzZXJzIHRoZSBvbnJlc2l6ZSBpcyBvbmx5IGF2YWlsYWJsZSBhdCB0aGUgd2luZG93IG9iamVjdFxuICAgICAgdGhpcy5vbkxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5wcm9wcy5vbkxheW91dCh7XG4gICAgICAgICAgbmF0aXZlRXZlbnQ6IHsgbGF5b3V0OiB7IHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCwgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgfSB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMucHJvcHMudXNlQm9keVNjcm9sbCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbkxheW91dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLlNjcm9sbFZpZXdSZWYuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy51c2VCb2R5U2Nyb2xsKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uTGF5b3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuU2Nyb2xsVmlld1JlZi5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICBsaXN0UHJlZml4Q2xzID0gX3Byb3BzLmxpc3RQcmVmaXhDbHMsXG4gICAgICAgICAgbGlzdFZpZXdQcmVmaXhDbHMgPSBfcHJvcHMubGlzdFZpZXdQcmVmaXhDbHMsXG4gICAgICAgICAgX3Byb3BzJHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzJHN0eWxlID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wcyRzdHlsZSxcbiAgICAgICAgICBfcHJvcHMkY29udGVudENvbnRhaW4gPSBfcHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlLFxuICAgICAgICAgIGNvbnRlbnRDb250YWluZXJTdHlsZSA9IF9wcm9wcyRjb250ZW50Q29udGFpbiA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkY29udGVudENvbnRhaW4sXG4gICAgICAgICAgdXNlQm9keVNjcm9sbCA9IF9wcm9wcy51c2VCb2R5U2Nyb2xsLFxuICAgICAgICAgIHB1bGxUb1JlZnJlc2ggPSBfcHJvcHMucHVsbFRvUmVmcmVzaDtcblxuXG4gICAgICB2YXIgc3R5bGVCYXNlID0ge1xuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgb3ZlcmZsb3c6ICdhdXRvJyxcbiAgICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCdcbiAgICAgIH07XG4gICAgICB2YXIgcHJlQ2xzID0gcHJlZml4Q2xzIHx8IGxpc3RWaWV3UHJlZml4Q2xzIHx8ICcnO1xuXG4gICAgICB2YXIgY29udGFpbmVyUHJvcHMgPSB7XG4gICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNC5TY3JvbGxWaWV3UmVmID0gZWwgfHwgX3RoaXM0LlNjcm9sbFZpZXdSZWY7XG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgdXNlQm9keVNjcm9sbCA/IHt9IDogc3R5bGVCYXNlLCBzdHlsZSksXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhjbGFzc05hbWUsIHByZUNscyArICctc2Nyb2xsdmlldycpXG4gICAgICB9O1xuICAgICAgdmFyIGNvbnRlbnRDb250YWluZXJQcm9wcyA9IHtcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM0LklubmVyU2Nyb2xsVmlld1JlZiA9IGVsO1xuICAgICAgICB9LFxuICAgICAgICBzdHlsZTogX2V4dGVuZHMoeyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbWluV2lkdGg6ICcxMDAlJyB9LCBjb250ZW50Q29udGFpbmVyU3R5bGUpLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMocHJlQ2xzICsgJy1zY3JvbGx2aWV3LWNvbnRlbnQnLCBsaXN0UHJlZml4Q2xzKVxuICAgICAgfTtcblxuICAgICAgdmFyIGNsb25lUHVsbFRvUmVmcmVzaCA9IGZ1bmN0aW9uIGNsb25lUHVsbFRvUmVmcmVzaChpc0JvZHkpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChwdWxsVG9SZWZyZXNoLCB7XG4gICAgICAgICAgZ2V0U2Nyb2xsQ29udGFpbmVyOiBpc0JvZHkgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgICB9IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5TY3JvbGxWaWV3UmVmO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgY2hpbGRyZW4pO1xuICAgICAgfTtcblxuICAgICAgaWYgKHVzZUJvZHlTY3JvbGwpIHtcbiAgICAgICAgaWYgKHB1bGxUb1JlZnJlc2gpIHtcbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgY29udGFpbmVyUHJvcHMsXG4gICAgICAgICAgICBjbG9uZVB1bGxUb1JlZnJlc2godHJ1ZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIGNvbnRhaW5lclByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwdWxsVG9SZWZyZXNoKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIGNvbnRhaW5lclByb3BzLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIGNvbnRlbnRDb250YWluZXJQcm9wcyxcbiAgICAgICAgICAgIGNsb25lUHVsbFRvUmVmcmVzaCgpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIGNvbnRhaW5lclByb3BzLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIGNvbnRlbnRDb250YWluZXJQcm9wcyxcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTY3JvbGxWaWV3O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5TY3JvbGxWaWV3LnByb3BUeXBlcyA9IHByb3BUeXBlcztcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICB0aGlzLmdldE1ldHJpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlzVmVydGljYWwgPSAhX3RoaXM1LnByb3BzLmhvcml6b250YWw7XG4gICAgaWYgKF90aGlzNS5wcm9wcy51c2VCb2R5U2Nyb2xsKSB7XG4gICAgICAvLyBJbiBjaHJvbWU2MSBgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3BgIGlzIGludmFsaWQsXG4gICAgICAvLyBhbmQgYWRkIG5ldyBgZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudGAoY2hyb21lNjEsIGlPUyBzdXBwb3J0KS5cbiAgICAgIC8vIEluIG9sZC1hbmRyb2lkLWJyb3dzZXIgYW5kIGlPUyBgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcGAgaXMgaW52YWxpZC5cbiAgICAgIHZhciBzY3JvbGxOb2RlID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCA/IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgOiBkb2N1bWVudC5ib2R5O1xuICAgICAgLy8gdG9kb3M6IFdoeSBzb21ldGltZXMgZG8gbm90IGhhdmUgYHRoaXMuU2Nyb2xsVmlld1JlZmAgP1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmlzaWJsZUxlbmd0aDogd2luZG93W2lzVmVydGljYWwgPyAnaW5uZXJIZWlnaHQnIDogJ2lubmVyV2lkdGgnXSxcbiAgICAgICAgY29udGVudExlbmd0aDogX3RoaXM1LlNjcm9sbFZpZXdSZWYgPyBfdGhpczUuU2Nyb2xsVmlld1JlZltpc1ZlcnRpY2FsID8gJ3Njcm9sbEhlaWdodCcgOiAnc2Nyb2xsV2lkdGgnXSA6IDAsXG4gICAgICAgIG9mZnNldDogc2Nyb2xsTm9kZVtpc1ZlcnRpY2FsID8gJ3Njcm9sbFRvcCcgOiAnc2Nyb2xsTGVmdCddXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdmlzaWJsZUxlbmd0aDogX3RoaXM1LlNjcm9sbFZpZXdSZWZbaXNWZXJ0aWNhbCA/ICdvZmZzZXRIZWlnaHQnIDogJ29mZnNldFdpZHRoJ10sXG4gICAgICBjb250ZW50TGVuZ3RoOiBfdGhpczUuU2Nyb2xsVmlld1JlZltpc1ZlcnRpY2FsID8gJ3Njcm9sbEhlaWdodCcgOiAnc2Nyb2xsV2lkdGgnXSxcbiAgICAgIG9mZnNldDogX3RoaXM1LlNjcm9sbFZpZXdSZWZbaXNWZXJ0aWNhbCA/ICdzY3JvbGxUb3AnIDogJ3Njcm9sbExlZnQnXVxuICAgIH07XG4gIH07XG5cbiAgdGhpcy5nZXRJbm5lclZpZXdOb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdGhpczUuSW5uZXJTY3JvbGxWaWV3UmVmO1xuICB9O1xuXG4gIHRoaXMuc2Nyb2xsVG8gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKF90aGlzNS5wcm9wcy51c2VCb2R5U2Nyb2xsKSB7XG4gICAgICB2YXIgX3dpbmRvdztcblxuICAgICAgKF93aW5kb3cgPSB3aW5kb3cpLnNjcm9sbFRvLmFwcGx5KF93aW5kb3csIGFyZ3VtZW50cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzNS5TY3JvbGxWaWV3UmVmLnNjcm9sbExlZnQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF07XG4gICAgICBfdGhpczUuU2Nyb2xsVmlld1JlZi5zY3JvbGxUb3AgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMV07XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2Nyb2xsVmlldzsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogMCwgcmVhY3Qvbm8tbXVsdGktY29tcDogMFxucmVhY3QvcHJvcC10eXBlczogMCwgcmVhY3Qvc29ydC1jb21wOiAwLCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IDAgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgTGlzdFZpZXdEYXRhU291cmNlIGZyb20gJy4vTGlzdFZpZXdEYXRhU291cmNlJztcbmltcG9ydCBTY3JvbGxWaWV3IGZyb20gJy4vU2Nyb2xsVmlldyc7XG5cbnZhciBERUZBVUxUX1BBR0VfU0laRSA9IDE7XG52YXIgREVGQVVMVF9JTklUSUFMX1JPV1MgPSAxMDtcbnZhciBERUZBVUxUX1NDUk9MTF9SRU5ERVJfQUhFQUQgPSAxMDAwO1xudmFyIERFRkFVTFRfRU5EX1JFQUNIRURfVEhSRVNIT0xEID0gMTAwMDtcbnZhciBERUZBVUxUX1NDUk9MTF9DQUxMQkFDS19USFJPVFRMRSA9IDUwO1xuLy8gY29uc3QgU0NST0xMVklFV19SRUYgPSAnTGlzdFZpZXdSZWYnO1xuXG52YXIgU3RhdGljUmVuZGVyZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoU3RhdGljUmVuZGVyZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFN0YXRpY1JlbmRlcmVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGF0aWNSZW5kZXJlcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFN0YXRpY1JlbmRlcmVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3RhdGljUmVuZGVyZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdGF0aWNSZW5kZXJlciwgW3tcbiAgICBrZXk6ICdzaG91bGRDb21wb25lbnRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgICByZXR1cm4gbmV4dFByb3BzLnNob3VsZFVwZGF0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5yZW5kZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3RhdGljUmVuZGVyZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL2Jsb2IvMC4yNi1zdGFibGUvTGlicmFyaWVzL0N1c3RvbUNvbXBvbmVudHMvTGlzdFZpZXcvTGlzdFZpZXcuanNcblxuXG52YXIgTGlzdFZpZXcgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudDIpIHtcbiAgX2luaGVyaXRzKExpc3RWaWV3LCBfUmVhY3QkQ29tcG9uZW50Mik7XG5cbiAgZnVuY3Rpb24gTGlzdFZpZXcoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzMiwgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0Vmlldyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IExpc3RWaWV3Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTGlzdFZpZXcpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMyKSwgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzMiksIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMyLCBfcmV0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvcnRzIHNvbWUgZGF0YSwgZS5nLiBmb3IgcGVyZiBpbnZlc3RpZ2F0aW9ucyBvciBhbmFseXRpY3MuXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKExpc3RWaWV3LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIC8vIHRoaXMgZGF0YSBzaG91bGQgbmV2ZXIgdHJpZ2dlciBhIHJlbmRlciBwYXNzLCBzbyBkb24ndCBwdXQgaW4gc3RhdGVcbiAgICAgIHRoaXMuc2Nyb2xsUHJvcGVydGllcyA9IHtcbiAgICAgICAgdmlzaWJsZUxlbmd0aDogbnVsbCxcbiAgICAgICAgY29udGVudExlbmd0aDogbnVsbCxcbiAgICAgICAgb2Zmc2V0OiAwXG4gICAgICB9O1xuICAgICAgdGhpcy5fY2hpbGRGcmFtZXMgPSBbXTtcbiAgICAgIHRoaXMuX3Zpc2libGVSb3dzID0ge307XG4gICAgICB0aGlzLl9wcmV2UmVuZGVyZWRSb3dzQ291bnQgPSAwO1xuICAgICAgdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmRhdGFTb3VyY2UgIT09IG5leHRQcm9wcy5kYXRhU291cmNlIHx8IHRoaXMucHJvcHMuaW5pdGlhbExpc3RTaXplICE9PSBuZXh0UHJvcHMuaW5pdGlhbExpc3RTaXplKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlLCBwcm9wcykge1xuICAgICAgICAgIF90aGlzMy5fcHJldlJlbmRlcmVkUm93c0NvdW50ID0gMDtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3VyUmVuZGVyZWRSb3dzQ291bnQ6IE1hdGgubWluKE1hdGgubWF4KHN0YXRlLmN1clJlbmRlcmVkUm93c0NvdW50LCBuZXh0UHJvcHMuaW5pdGlhbExpc3RTaXplIC8vIGZvciBwcmVhY3RcbiAgICAgICAgICAgICksIG5leHRQcm9wcy5kYXRhU291cmNlLmdldFJvd0NvdW50KCkgLy8gZm9yIHByZWFjdFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH07XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMzLl9yZW5kZXJNb3JlUm93c0lmTmVlZGVkKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgZGF0YVNvdXJjZSA9IHRoaXMucHJvcHMuZGF0YVNvdXJjZTtcbiAgICAgIHZhciBhbGxSb3dJRHMgPSBkYXRhU291cmNlLnJvd0lkZW50aXRpZXM7XG4gICAgICB2YXIgYm9keUNvbXBvbmVudHMgPSBbXTtcbiAgICAgIHZhciByb3dDb3VudCA9IDA7XG5cbiAgICAgIGZvciAodmFyIHNlY3Rpb25JZHggPSAwOyBzZWN0aW9uSWR4IDwgYWxsUm93SURzLmxlbmd0aDsgc2VjdGlvbklkeCsrKSB7XG4gICAgICAgIHZhciBzZWN0aW9uSUQgPSBkYXRhU291cmNlLnNlY3Rpb25JZGVudGl0aWVzW3NlY3Rpb25JZHhdO1xuICAgICAgICB2YXIgcm93SURzID0gYWxsUm93SURzW3NlY3Rpb25JZHhdO1xuICAgICAgICBpZiAocm93SURzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlbmRlclNlY3Rpb25IZWFkZXIgPSB2b2lkIDA7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlbmRlclNlY3Rpb25IZWFkZXIpIHtcbiAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlSGVhZGVyID0gcm93Q291bnQgPj0gdGhpcy5fcHJldlJlbmRlcmVkUm93c0NvdW50ICYmIGRhdGFTb3VyY2Uuc2VjdGlvbkhlYWRlclNob3VsZFVwZGF0ZShzZWN0aW9uSWR4KTtcblxuICAgICAgICAgIHJlbmRlclNlY3Rpb25IZWFkZXIgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFN0YXRpY1JlbmRlcmVyLCB7XG4gICAgICAgICAgICBrZXk6ICdzXycgKyBzZWN0aW9uSUQsXG4gICAgICAgICAgICBzaG91bGRVcGRhdGU6ICEhc2hvdWxkVXBkYXRlSGVhZGVyLFxuICAgICAgICAgICAgcmVuZGVyOiB0aGlzLnByb3BzLnJlbmRlclNlY3Rpb25IZWFkZXIuYmluZChudWxsLCBkYXRhU291cmNlLmdldFNlY3Rpb25IZWFkZXJEYXRhKHNlY3Rpb25JZHgpLCBzZWN0aW9uSUQpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VjdGlvbkJvZHkgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgcm93SWR4ID0gMDsgcm93SWR4IDwgcm93SURzLmxlbmd0aDsgcm93SWR4KyspIHtcbiAgICAgICAgICB2YXIgcm93SUQgPSByb3dJRHNbcm93SWR4XTtcbiAgICAgICAgICB2YXIgY29tYm9JRCA9IHNlY3Rpb25JRCArICdfJyArIHJvd0lEO1xuICAgICAgICAgIHZhciBzaG91bGRVcGRhdGVSb3cgPSByb3dDb3VudCA+PSB0aGlzLl9wcmV2UmVuZGVyZWRSb3dzQ291bnQgJiYgZGF0YVNvdXJjZS5yb3dTaG91bGRVcGRhdGUoc2VjdGlvbklkeCwgcm93SWR4KTtcbiAgICAgICAgICB2YXIgcm93ID0gUmVhY3QuY3JlYXRlRWxlbWVudChTdGF0aWNSZW5kZXJlciwge1xuICAgICAgICAgICAga2V5OiAncl8nICsgY29tYm9JRCxcbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZTogISFzaG91bGRVcGRhdGVSb3csXG4gICAgICAgICAgICByZW5kZXI6IHRoaXMucHJvcHMucmVuZGVyUm93LmJpbmQobnVsbCwgZGF0YVNvdXJjZS5nZXRSb3dEYXRhKHNlY3Rpb25JZHgsIHJvd0lkeCksIHNlY3Rpb25JRCwgcm93SUQsIHRoaXMub25Sb3dIaWdobGlnaHRlZClcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZWN0aW9uQm9keS5wdXNoKHJvdyk7XG5cbiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJTZXBhcmF0b3IgJiYgKHJvd0lkeCAhPT0gcm93SURzLmxlbmd0aCAtIDEgfHwgc2VjdGlvbklkeCA9PT0gYWxsUm93SURzLmxlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICB2YXIgYWRqYWNlbnRSb3dIaWdobGlnaHRlZCA9IHRoaXMuc3RhdGUuaGlnaGxpZ2h0ZWRSb3cuc2VjdGlvbklEID09PSBzZWN0aW9uSUQgJiYgKHRoaXMuc3RhdGUuaGlnaGxpZ2h0ZWRSb3cucm93SUQgPT09IHJvd0lEIHx8IHRoaXMuc3RhdGUuaGlnaGxpZ2h0ZWRSb3cucm93SUQgPT09IHJvd0lEc1tyb3dJZHggKyAxXSk7XG4gICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gdGhpcy5wcm9wcy5yZW5kZXJTZXBhcmF0b3Ioc2VjdGlvbklELCByb3dJRCwgYWRqYWNlbnRSb3dIaWdobGlnaHRlZCk7XG4gICAgICAgICAgICBpZiAoc2VwYXJhdG9yKSB7XG4gICAgICAgICAgICAgIHNlY3Rpb25Cb2R5LnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCsrcm93Q291bnQgPT09IHRoaXMuc3RhdGUuY3VyUmVuZGVyZWRSb3dzQ291bnQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByb3dzQW5kU2VwYXJhdG9ycyA9IFJlYWN0LmNsb25lRWxlbWVudCh0aGlzLnByb3BzLnJlbmRlclNlY3Rpb25Cb2R5V3JhcHBlcihzZWN0aW9uSUQpLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnByb3BzLnNlY3Rpb25Cb2R5Q2xhc3NOYW1lXG4gICAgICAgIH0sIHNlY3Rpb25Cb2R5KTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJTZWN0aW9uV3JhcHBlcikge1xuICAgICAgICAgIGJvZHlDb21wb25lbnRzLnB1c2goUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMucHJvcHMucmVuZGVyU2VjdGlvbldyYXBwZXIoc2VjdGlvbklEKSwge30sIHJlbmRlclNlY3Rpb25IZWFkZXIsIHJvd3NBbmRTZXBhcmF0b3JzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYm9keUNvbXBvbmVudHMucHVzaChyZW5kZXJTZWN0aW9uSGVhZGVyKTtcbiAgICAgICAgICBib2R5Q29tcG9uZW50cy5wdXNoKHJvd3NBbmRTZXBhcmF0b3JzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm93Q291bnQgPj0gdGhpcy5zdGF0ZS5jdXJSZW5kZXJlZFJvd3NDb3VudCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHJlbmRlclNjcm9sbENvbXBvbmVudCA9IF9wcm9wcy5yZW5kZXJTY3JvbGxDb21wb25lbnQsXG4gICAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbJ3JlbmRlclNjcm9sbENvbXBvbmVudCddKTtcblxuICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChyZW5kZXJTY3JvbGxDb21wb25lbnQoX2V4dGVuZHMoe30sIHByb3BzLCB7IG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCB9KSksIHtcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM0Lkxpc3RWaWV3UmVmID0gZWw7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IHRoaXMuX29uQ29udGVudFNpemVDaGFuZ2UsXG4gICAgICAgIG9uTGF5b3V0OiB0aGlzLl9vbkxheW91dFxuICAgICAgfSwgdGhpcy5wcm9wcy5yZW5kZXJIZWFkZXIgPyB0aGlzLnByb3BzLnJlbmRlckhlYWRlcigpIDogbnVsbCwgUmVhY3QuY2xvbmVFbGVtZW50KHByb3BzLnJlbmRlckJvZHlDb21wb25lbnQoKSwge30sIGJvZHlDb21wb25lbnRzKSwgdGhpcy5wcm9wcy5yZW5kZXJGb290ZXIgPyB0aGlzLnByb3BzLnJlbmRlckZvb3RlcigpIDogbnVsbCwgcHJvcHMuY2hpbGRyZW4pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMaXN0Vmlldztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuTGlzdFZpZXcuRGF0YVNvdXJjZSA9IExpc3RWaWV3RGF0YVNvdXJjZTtcbkxpc3RWaWV3LnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBTY3JvbGxWaWV3LnByb3BUeXBlcywge1xuICBkYXRhU291cmNlOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihMaXN0Vmlld0RhdGFTb3VyY2UpLmlzUmVxdWlyZWQsXG4gIHJlbmRlclNlcGFyYXRvcjogUHJvcFR5cGVzLmZ1bmMsXG4gIHJlbmRlclJvdzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgaW5pdGlhbExpc3RTaXplOiBQcm9wVHlwZXMubnVtYmVyLFxuICBvbkVuZFJlYWNoZWQ6IFByb3BUeXBlcy5mdW5jLFxuICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIHBhZ2VTaXplOiBQcm9wVHlwZXMubnVtYmVyLFxuICByZW5kZXJGb290ZXI6IFByb3BUeXBlcy5mdW5jLFxuICByZW5kZXJIZWFkZXI6IFByb3BUeXBlcy5mdW5jLFxuICByZW5kZXJTZWN0aW9uSGVhZGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgcmVuZGVyU2Nyb2xsQ29tcG9uZW50OiBQcm9wVHlwZXMuZnVuYyxcbiAgc2Nyb2xsUmVuZGVyQWhlYWREaXN0YW5jZTogUHJvcFR5cGVzLm51bWJlcixcbiAgb25DaGFuZ2VWaXNpYmxlUm93czogUHJvcFR5cGVzLmZ1bmMsXG4gIHNjcm9sbEV2ZW50VGhyb3R0bGU6IFByb3BUeXBlcy5udW1iZXIsXG4gIC8vIGFub3RoZXIgYWRkZWRcbiAgcmVuZGVyQm9keUNvbXBvbmVudDogUHJvcFR5cGVzLmZ1bmMsXG4gIHJlbmRlclNlY3Rpb25XcmFwcGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgcmVuZGVyU2VjdGlvbkJvZHlXcmFwcGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgc2VjdGlvbkJvZHlDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxpc3RWaWV3UHJlZml4Q2xzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB1c2VCb2R5U2Nyb2xsOiBQcm9wVHlwZXMuYm9vbFxufSk7XG5MaXN0Vmlldy5kZWZhdWx0UHJvcHMgPSB7XG4gIGluaXRpYWxMaXN0U2l6ZTogREVGQVVMVF9JTklUSUFMX1JPV1MsXG4gIHBhZ2VTaXplOiBERUZBVUxUX1BBR0VfU0laRSxcbiAgcmVuZGVyU2Nyb2xsQ29tcG9uZW50OiBmdW5jdGlvbiByZW5kZXJTY3JvbGxDb21wb25lbnQocHJvcHMpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTY3JvbGxWaWV3LCBwcm9wcyk7XG4gIH0sXG4gIHJlbmRlckJvZHlDb21wb25lbnQ6IGZ1bmN0aW9uIHJlbmRlckJvZHlDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIG51bGwpO1xuICB9LFxuICByZW5kZXJTZWN0aW9uQm9keVdyYXBwZXI6IGZ1bmN0aW9uIHJlbmRlclNlY3Rpb25Cb2R5V3JhcHBlcihzZWN0aW9uSUQpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBrZXk6IHNlY3Rpb25JRCB9KTtcbiAgfSxcbiAgc2VjdGlvbkJvZHlDbGFzc05hbWU6ICdsaXN0LXZpZXctc2VjdGlvbi1ib2R5JyxcbiAgbGlzdFZpZXdQcmVmaXhDbHM6ICdybWMtbGlzdC12aWV3JyxcbiAgc2Nyb2xsUmVuZGVyQWhlYWREaXN0YW5jZTogREVGQVVMVF9TQ1JPTExfUkVOREVSX0FIRUFELFxuICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6IERFRkFVTFRfRU5EX1JFQUNIRURfVEhSRVNIT0xELFxuICBzY3JvbGxFdmVudFRocm90dGxlOiBERUZBVUxUX1NDUk9MTF9DQUxMQkFDS19USFJPVFRMRSxcbiAgc2Nyb2xsZXJPcHRpb25zOiB7fVxufTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICB0aGlzLnN0YXRlID0ge1xuICAgIGN1clJlbmRlcmVkUm93c0NvdW50OiB0aGlzLnByb3BzLmluaXRpYWxMaXN0U2l6ZSxcbiAgICBoaWdobGlnaHRlZFJvdzoge30gfTtcblxuICB0aGlzLmdldE1ldHJpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRlbnRMZW5ndGg6IF90aGlzNS5zY3JvbGxQcm9wZXJ0aWVzLmNvbnRlbnRMZW5ndGgsXG4gICAgICB0b3RhbFJvd3M6IF90aGlzNS5wcm9wcy5kYXRhU291cmNlLmdldFJvd0NvdW50KCksXG4gICAgICByZW5kZXJlZFJvd3M6IF90aGlzNS5zdGF0ZS5jdXJSZW5kZXJlZFJvd3NDb3VudCxcbiAgICAgIHZpc2libGVSb3dzOiBPYmplY3Qua2V5cyhfdGhpczUuX3Zpc2libGVSb3dzKS5sZW5ndGhcbiAgICB9O1xuICB9O1xuXG4gIHRoaXMuZ2V0SW5uZXJWaWV3Tm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXM1Lkxpc3RWaWV3UmVmLmdldElubmVyVmlld05vZGUoKTtcbiAgfTtcblxuICB0aGlzLnNjcm9sbFRvID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfTGlzdFZpZXdSZWY7XG5cbiAgICBfdGhpczUuTGlzdFZpZXdSZWYgJiYgX3RoaXM1Lkxpc3RWaWV3UmVmLnNjcm9sbFRvICYmIChfTGlzdFZpZXdSZWYgPSBfdGhpczUuTGlzdFZpZXdSZWYpLnNjcm9sbFRvLmFwcGx5KF9MaXN0Vmlld1JlZiwgYXJndW1lbnRzKTtcbiAgfTtcblxuICB0aGlzLm9uUm93SGlnaGxpZ2h0ZWQgPSBmdW5jdGlvbiAoc2VjdGlvbklELCByb3dJRCkge1xuICAgIF90aGlzNS5zZXRTdGF0ZSh7IGhpZ2hsaWdodGVkUm93OiB7IHNlY3Rpb25JRDogc2VjdGlvbklELCByb3dJRDogcm93SUQgfSB9KTtcbiAgfTtcblxuICB0aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB2YXIgY29udGVudExlbmd0aCA9ICFfdGhpczUucHJvcHMuaG9yaXpvbnRhbCA/IGhlaWdodCA6IHdpZHRoO1xuICAgIGlmIChjb250ZW50TGVuZ3RoICE9PSBfdGhpczUuc2Nyb2xsUHJvcGVydGllcy5jb250ZW50TGVuZ3RoKSB7XG4gICAgICBfdGhpczUuc2Nyb2xsUHJvcGVydGllcy5jb250ZW50TGVuZ3RoID0gY29udGVudExlbmd0aDtcbiAgICAgIF90aGlzNS5fcmVuZGVyTW9yZVJvd3NJZk5lZWRlZCgpO1xuICAgIH1cbiAgICBfdGhpczUucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSAmJiBfdGhpczUucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfTtcblxuICB0aGlzLl9vbkxheW91dCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBfZXZlbnQkbmF0aXZlRXZlbnQkbGEgPSBldmVudC5uYXRpdmVFdmVudC5sYXlvdXQsXG4gICAgICAgIHdpZHRoID0gX2V2ZW50JG5hdGl2ZUV2ZW50JGxhLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBfZXZlbnQkbmF0aXZlRXZlbnQkbGEuaGVpZ2h0O1xuXG4gICAgdmFyIHZpc2libGVMZW5ndGggPSAhX3RoaXM1LnByb3BzLmhvcml6b250YWwgPyBoZWlnaHQgOiB3aWR0aDtcbiAgICBpZiAodmlzaWJsZUxlbmd0aCAhPT0gX3RoaXM1LnNjcm9sbFByb3BlcnRpZXMudmlzaWJsZUxlbmd0aCkge1xuICAgICAgX3RoaXM1LnNjcm9sbFByb3BlcnRpZXMudmlzaWJsZUxlbmd0aCA9IHZpc2libGVMZW5ndGg7XG4gICAgICBfdGhpczUuX3JlbmRlck1vcmVSb3dzSWZOZWVkZWQoKTtcbiAgICB9XG4gICAgX3RoaXM1LnByb3BzLm9uTGF5b3V0ICYmIF90aGlzNS5wcm9wcy5vbkxheW91dChldmVudCk7XG4gIH07XG5cbiAgdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5zY3JvbGxQcm9wZXJ0aWVzLCB0aGlzLl9nZXREaXN0YW5jZUZyb21FbmQodGhpcy5zY3JvbGxQcm9wZXJ0aWVzKSk7XG4gICAgaWYgKF90aGlzNS5wcm9wcy5vbkVuZFJlYWNoZWQgJiYgX3RoaXM1LnNjcm9sbFByb3BlcnRpZXMuY29udGVudExlbmd0aCAhPT0gX3RoaXM1Ll9zZW50RW5kRm9yQ29udGVudExlbmd0aCAmJiBfdGhpczUuX2dldERpc3RhbmNlRnJvbUVuZChfdGhpczUuc2Nyb2xsUHJvcGVydGllcykgPCBfdGhpczUucHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkICYmIF90aGlzNS5zdGF0ZS5jdXJSZW5kZXJlZFJvd3NDb3VudCA9PT0gX3RoaXM1LnByb3BzLmRhdGFTb3VyY2UuZ2V0Um93Q291bnQoKSkge1xuICAgICAgX3RoaXM1Ll9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IF90aGlzNS5zY3JvbGxQcm9wZXJ0aWVzLmNvbnRlbnRMZW5ndGg7XG4gICAgICBfdGhpczUucHJvcHMub25FbmRSZWFjaGVkKGV2ZW50KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdGhpcy5fcmVuZGVyTW9yZVJvd3NJZk5lZWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoX3RoaXM1LnNjcm9sbFByb3BlcnRpZXMuY29udGVudExlbmd0aCA9PT0gbnVsbCB8fCBfdGhpczUuc2Nyb2xsUHJvcGVydGllcy52aXNpYmxlTGVuZ3RoID09PSBudWxsIHx8IF90aGlzNS5zdGF0ZS5jdXJSZW5kZXJlZFJvd3NDb3VudCA9PT0gX3RoaXM1LnByb3BzLmRhdGFTb3VyY2UuZ2V0Um93Q291bnQoKSkge1xuICAgICAgX3RoaXM1Ll9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGlzdGFuY2VGcm9tRW5kID0gX3RoaXM1Ll9nZXREaXN0YW5jZUZyb21FbmQoX3RoaXM1LnNjcm9sbFByb3BlcnRpZXMpO1xuICAgIC8vIGNvbnNvbGUubG9nKGRpc3RhbmNlRnJvbUVuZCwgdGhpcy5wcm9wcy5zY3JvbGxSZW5kZXJBaGVhZERpc3RhbmNlKTtcbiAgICBpZiAoZGlzdGFuY2VGcm9tRW5kIDwgX3RoaXM1LnByb3BzLnNjcm9sbFJlbmRlckFoZWFkRGlzdGFuY2UpIHtcbiAgICAgIF90aGlzNS5fcGFnZUluTmV3Um93cygpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLl9wYWdlSW5OZXdSb3dzID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzNS5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUsIHByb3BzKSB7XG4gICAgICB2YXIgcm93c1RvUmVuZGVyID0gTWF0aC5taW4oc3RhdGUuY3VyUmVuZGVyZWRSb3dzQ291bnQgKyBwcm9wcy5wYWdlU2l6ZSwgcHJvcHMuZGF0YVNvdXJjZS5nZXRSb3dDb3VudCgpKTtcbiAgICAgIF90aGlzNS5fcHJldlJlbmRlcmVkUm93c0NvdW50ID0gc3RhdGUuY3VyUmVuZGVyZWRSb3dzQ291bnQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjdXJSZW5kZXJlZFJvd3NDb3VudDogcm93c1RvUmVuZGVyXG4gICAgICB9O1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzNS5fcHJldlJlbmRlcmVkUm93c0NvdW50ID0gX3RoaXM1LnN0YXRlLmN1clJlbmRlcmVkUm93c0NvdW50O1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuX2dldERpc3RhbmNlRnJvbUVuZCA9IGZ1bmN0aW9uIChzY3JvbGxQcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIHNjcm9sbFByb3BlcnRpZXMuY29udGVudExlbmd0aCAtIHNjcm9sbFByb3BlcnRpZXMudmlzaWJsZUxlbmd0aCAtIHNjcm9sbFByb3BlcnRpZXMub2Zmc2V0O1xuICB9O1xuXG4gIHRoaXMuX29uU2Nyb2xsID0gZnVuY3Rpb24gKGUsIG1ldHJpY3MpIHtcbiAgICAvLyB3aGVuIHRoZSBMaXN0VmlldyBpcyBkZXN0cm95ZWQsXG4gICAgLy8gYnV0IGFsc28gd2lsbCB0cmlnZ2VyIHNjcm9sbCBldmVudCBhZnRlciBgc2Nyb2xsRXZlbnRUaHJvdHRsZWBcbiAgICBpZiAoIV90aGlzNS5MaXN0Vmlld1JlZikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF90aGlzNS5zY3JvbGxQcm9wZXJ0aWVzID0gbWV0cmljcztcblxuICAgIGlmICghX3RoaXM1Ll9tYXliZUNhbGxPbkVuZFJlYWNoZWQoZSkpIHtcbiAgICAgIF90aGlzNS5fcmVuZGVyTW9yZVJvd3NJZk5lZWRlZCgpO1xuICAgIH1cblxuICAgIGlmIChfdGhpczUucHJvcHMub25FbmRSZWFjaGVkICYmIF90aGlzNS5fZ2V0RGlzdGFuY2VGcm9tRW5kKF90aGlzNS5zY3JvbGxQcm9wZXJ0aWVzKSA+IF90aGlzNS5wcm9wcy5vbkVuZFJlYWNoZWRUaHJlc2hvbGQpIHtcbiAgICAgIC8vIFNjcm9sbGVkIG91dCBvZiB0aGUgZW5kIHpvbmUsIHNvIGl0IHNob3VsZCBiZSBhYmxlIHRvIHRyaWdnZXIgYWdhaW4uXG4gICAgICBfdGhpczUuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gbnVsbDtcbiAgICB9XG5cbiAgICBfdGhpczUucHJvcHMub25TY3JvbGwgJiYgX3RoaXM1LnByb3BzLm9uU2Nyb2xsKGUpO1xuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGlzdFZpZXc7IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgTGlzdFZpZXcgZnJvbSAnLi9MaXN0Vmlldyc7XG5pbXBvcnQgeyBnZXRPZmZzZXRUb3AsIF9ldmVudCB9IGZyb20gJy4vdXRpbCc7XG5cbmZ1bmN0aW9uIHNldERvY3VtZW50U2Nyb2xsVG9wKHZhbCkge1xuICB3aW5kb3cuZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSB2YWw7IC8vIGNocm9tZTYxIGlzIGludmFsaWRcbiAgd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSB2YWw7XG59XG5cbi8qIGVzbGludCByZWFjdC9wcm9wLXR5cGVzOiAwICovXG5cbnZhciBJbmRleGVkTGlzdCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhJbmRleGVkTGlzdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSW5kZXhlZExpc3QocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5kZXhlZExpc3QpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEluZGV4ZWRMaXN0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW5kZXhlZExpc3QpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBwYWdlU2l6ZTogcHJvcHMucGFnZVNpemUsXG4gICAgICBfZGVsYXk6IGZhbHNlXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSW5kZXhlZExpc3QsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuZGF0YUNoYW5nZSh0aGlzLnByb3BzKTtcbiAgICAgIC8vIGhhbmRsZSBxdWlja1NlYXJjaEJhclxuICAgICAgdGhpcy5nZXRRc0luZm8oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmRhdGFTb3VyY2UgIT09IG5leHRQcm9wcy5kYXRhU291cmNlKSB7XG4gICAgICAgIHRoaXMuZGF0YUNoYW5nZShuZXh0UHJvcHMpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuZ2V0UXNJbmZvKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLl90aW1lcikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgICAgfVxuICAgICAgdGhpcy5faENhY2hlID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXJRdWlja1NlYXJjaEJhcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclF1aWNrU2VhcmNoQmFyKHF1aWNrU2VhcmNoQmFyVG9wLCBxdWlja1NlYXJjaEJhclN0eWxlKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZGF0YVNvdXJjZSA9IF9wcm9wcy5kYXRhU291cmNlLFxuICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHM7XG5cbiAgICAgIHZhciBzZWN0aW9uS3ZzID0gZGF0YVNvdXJjZS5zZWN0aW9uSWRlbnRpdGllcy5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2YWx1ZTogaSxcbiAgICAgICAgICBsYWJlbDogZGF0YVNvdXJjZS5fZ2V0U2VjdGlvbkhlYWRlckRhdGEoZGF0YVNvdXJjZS5fZGF0YUJsb2IsIGkpXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAndWwnLFxuICAgICAgICB7XG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIucXVpY2tTZWFyY2hCYXJSZWYgPSBlbDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1xdWljay1zZWFyY2gtYmFyJywgc3R5bGU6IHF1aWNrU2VhcmNoQmFyU3R5bGUsXG4gICAgICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLm9uVG91Y2hTdGFydCxcbiAgICAgICAgICBvblRvdWNoTW92ZTogdGhpcy5vblRvdWNoTW92ZSxcbiAgICAgICAgICBvblRvdWNoRW5kOiB0aGlzLm9uVG91Y2hFbmQsXG4gICAgICAgICAgb25Ub3VjaENhbmNlbDogdGhpcy5vblRvdWNoRW5kXG4gICAgICAgIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2xpJyxcbiAgICAgICAgICB7ICdkYXRhLXFmLXRhcmdldCc6IHF1aWNrU2VhcmNoQmFyVG9wLnZhbHVlLFxuICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vblF1aWNrU2VhcmNoVG9wKHVuZGVmaW5lZCwgcXVpY2tTZWFyY2hCYXJUb3AudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcXVpY2tTZWFyY2hCYXJUb3AubGFiZWxcbiAgICAgICAgKSxcbiAgICAgICAgc2VjdGlvbkt2cy5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICB7IGtleTogaS52YWx1ZSwgJ2RhdGEtcWYtdGFyZ2V0JzogaS52YWx1ZSxcbiAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uUXVpY2tTZWFyY2goaS52YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpLmxhYmVsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXMsXG4gICAgICAgICAgX2NsYXNzTmFtZXM7XG5cbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIF9kZWxheSA9IF9zdGF0ZS5fZGVsYXksXG4gICAgICAgICAgcGFnZVNpemUgPSBfc3RhdGUucGFnZVNpemU7XG5cbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMyLmNsYXNzTmFtZSxcbiAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wczIuY2hpbGRyZW4sXG4gICAgICAgICAgcXVpY2tTZWFyY2hCYXJUb3AgPSBfcHJvcHMyLnF1aWNrU2VhcmNoQmFyVG9wLFxuICAgICAgICAgIHF1aWNrU2VhcmNoQmFyU3R5bGUgPSBfcHJvcHMyLnF1aWNrU2VhcmNoQmFyU3R5bGUsXG4gICAgICAgICAgX3Byb3BzMiRpbml0aWFsTGlzdFNpID0gX3Byb3BzMi5pbml0aWFsTGlzdFNpemUsXG4gICAgICAgICAgaW5pdGlhbExpc3RTaXplID0gX3Byb3BzMiRpbml0aWFsTGlzdFNpID09PSB1bmRlZmluZWQgPyBNYXRoLm1pbigyMCwgdGhpcy5wcm9wcy5kYXRhU291cmNlLmdldFJvd0NvdW50KCkpIDogX3Byb3BzMiRpbml0aWFsTGlzdFNpLFxuICAgICAgICAgIHNob3dRdWlja1NlYXJjaEluZGljYXRvciA9IF9wcm9wczIuc2hvd1F1aWNrU2VhcmNoSW5kaWNhdG9yLFxuICAgICAgICAgIF9yZW5kZXJTZWN0aW9uSGVhZGVyID0gX3Byb3BzMi5yZW5kZXJTZWN0aW9uSGVhZGVyLFxuICAgICAgICAgIHNlY3Rpb25IZWFkZXJDbGFzc05hbWUgPSBfcHJvcHMyLnNlY3Rpb25IZWFkZXJDbGFzc05hbWUsXG4gICAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzMiwgWydjbGFzc05hbWUnLCAncHJlZml4Q2xzJywgJ2NoaWxkcmVuJywgJ3F1aWNrU2VhcmNoQmFyVG9wJywgJ3F1aWNrU2VhcmNoQmFyU3R5bGUnLCAnaW5pdGlhbExpc3RTaXplJywgJ3Nob3dRdWlja1NlYXJjaEluZGljYXRvcicsICdyZW5kZXJTZWN0aW9uSGVhZGVyJywgJ3NlY3Rpb25IZWFkZXJDbGFzc05hbWUnXSk7XG5cbiAgICAgIC8vIGluaXRpYWxMaXN0U2l6ZT17dGhpcy5wcm9wcy5kYXRhU291cmNlLmdldFJvd0NvdW50KCl9XG5cblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250YWluZXInIH0sXG4gICAgICAgIF9kZWxheSAmJiB0aGlzLnByb3BzLmRlbGF5QWN0aXZpdHlJbmRpY2F0b3IsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgTGlzdFZpZXcsXG4gICAgICAgICAgX2V4dGVuZHMoe30sIG90aGVyLCB7XG4gICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmluZGV4ZWRMaXN0Vmlld1JlZiA9IGVsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhwcmVmaXhDbHMsIGNsYXNzTmFtZSksXG4gICAgICAgICAgICBpbml0aWFsTGlzdFNpemU6IGluaXRpYWxMaXN0U2l6ZSxcbiAgICAgICAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZSxcbiAgICAgICAgICAgIHJlbmRlclNlY3Rpb25IZWFkZXI6IGZ1bmN0aW9uIHJlbmRlclNlY3Rpb25IZWFkZXIoc2VjdGlvbkRhdGEsIHNlY3Rpb25JRCkge1xuICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KF9yZW5kZXJTZWN0aW9uSGVhZGVyKHNlY3Rpb25EYXRhLCBzZWN0aW9uSUQpLCB7XG4gICAgICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoYykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zZWN0aW9uQ29tcG9uZW50c1tzZWN0aW9uSURdID0gYztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogc2VjdGlvbkhlYWRlckNsYXNzTmFtZSB8fCBwcmVmaXhDbHMgKyAnLXNlY3Rpb24taGVhZGVyJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSxcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICApLFxuICAgICAgICB0aGlzLnJlbmRlclF1aWNrU2VhcmNoQmFyKHF1aWNrU2VhcmNoQmFyVG9wLCBxdWlja1NlYXJjaEJhclN0eWxlKSxcbiAgICAgICAgc2hvd1F1aWNrU2VhcmNoSW5kaWNhdG9yID8gUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZXMoKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1xc2luZGljYXRvcicsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctcXNpbmRpY2F0b3ItaGlkZScsICFzaG93UXVpY2tTZWFyY2hJbmRpY2F0b3IgfHwgIXRoaXMuc3RhdGUuc2hvd1F1aWNrU2VhcmNoSW5kaWNhdG9yKSwgX2NsYXNzTmFtZXMpKSwgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMucXNJbmRpY2F0b3JSZWYgPSBlbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogbnVsbFxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSW5kZXhlZExpc3Q7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbkluZGV4ZWRMaXN0LnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBMaXN0Vmlldy5wcm9wVHlwZXMsIHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnksXG4gIHByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzZWN0aW9uSGVhZGVyQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBxdWlja1NlYXJjaEJhclRvcDogUHJvcFR5cGVzLm9iamVjdCxcbiAgcXVpY2tTZWFyY2hCYXJTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgb25RdWlja1NlYXJjaDogUHJvcFR5cGVzLmZ1bmMsXG4gIHNob3dRdWlja1NlYXJjaEluZGljYXRvcjogUHJvcFR5cGVzLmJvb2xcbn0pO1xuSW5kZXhlZExpc3QuZGVmYXVsdFByb3BzID0ge1xuICBwcmVmaXhDbHM6ICdybWMtaW5kZXhlZC1saXN0JyxcbiAgcXVpY2tTZWFyY2hCYXJUb3A6IHsgdmFsdWU6ICcjJywgbGFiZWw6ICcjJyB9LFxuICBvblF1aWNrU2VhcmNoOiBmdW5jdGlvbiBvblF1aWNrU2VhcmNoKCkge30sXG4gIHNob3dRdWlja1NlYXJjaEluZGljYXRvcjogZmFsc2UsXG4gIGRlbGF5VGltZTogMTAwLFxuICAvLyBkZWxheUFjdGl2aXR5SW5kaWNhdG9yOiA8ZGl2IHN0eWxlPXt7cGFkZGluZzogNSwgdGV4dEFsaWduOiAnY2VudGVyJ319PnJlbmRlcmluZyBtb3JlPC9kaXY+LFxuICBkZWxheUFjdGl2aXR5SW5kaWNhdG9yOiAnJ1xufTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICB0aGlzLm9uUXVpY2tTZWFyY2hUb3AgPSBmdW5jdGlvbiAoc2VjdGlvbklELCB0b3BJZCkge1xuICAgIGlmIChfdGhpczQucHJvcHMudXNlQm9keVNjcm9sbCkge1xuICAgICAgc2V0RG9jdW1lbnRTY3JvbGxUb3AoMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RE9NLmZpbmRET01Ob2RlKF90aGlzNC5pbmRleGVkTGlzdFZpZXdSZWYuTGlzdFZpZXdSZWYpLnNjcm9sbFRvcCA9IDA7XG4gICAgfVxuICAgIF90aGlzNC5wcm9wcy5vblF1aWNrU2VhcmNoKHNlY3Rpb25JRCwgdG9wSWQpO1xuICB9O1xuXG4gIHRoaXMub25RdWlja1NlYXJjaCA9IGZ1bmN0aW9uIChzZWN0aW9uSUQpIHtcbiAgICB2YXIgbHYgPSBSZWFjdERPTS5maW5kRE9NTm9kZShfdGhpczQuaW5kZXhlZExpc3RWaWV3UmVmLkxpc3RWaWV3UmVmKTtcbiAgICB2YXIgc2VjID0gUmVhY3RET00uZmluZERPTU5vZGUoX3RoaXM0LnNlY3Rpb25Db21wb25lbnRzW3NlY3Rpb25JRF0pO1xuICAgIGlmIChfdGhpczQucHJvcHMudXNlQm9keVNjcm9sbCkge1xuICAgICAgc2V0RG9jdW1lbnRTY3JvbGxUb3Aoc2VjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIGx2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIGdldE9mZnNldFRvcChsdikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsdi5zY3JvbGxUb3AgKz0gc2VjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIGx2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICB9XG4gICAgX3RoaXM0LnByb3BzLm9uUXVpY2tTZWFyY2goc2VjdGlvbklEKTtcbiAgfTtcblxuICB0aGlzLm9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgX3RoaXM0Ll90YXJnZXQgPSBlLnRhcmdldDtcbiAgICBfdGhpczQuX2Jhc2VQb3MgPSBfdGhpczQucXVpY2tTZWFyY2hCYXJSZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgX3RoaXM0Ll9kaXNhYmxlUGFyZW50LCBmYWxzZSk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSArICcgJyArIF90aGlzNC5wcm9wcy5wcmVmaXhDbHMgKyAnLXFzYi1tb3ZpbmcnO1xuICAgIF90aGlzNC51cGRhdGVJbmRpY2F0b3IoX3RoaXM0Ll90YXJnZXQpO1xuICB9O1xuXG4gIHRoaXMub25Ub3VjaE1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoX3RoaXM0Ll90YXJnZXQpIHtcbiAgICAgIHZhciBleCA9IF9ldmVudChlKTtcbiAgICAgIHZhciBiYXNlUG9zID0gX3RoaXM0Ll9iYXNlUG9zO1xuICAgICAgdmFyIF9wb3MgPSB2b2lkIDA7XG4gICAgICBpZiAoZXguY2xpZW50WSA+PSBiYXNlUG9zLnRvcCAmJiBleC5jbGllbnRZIDw9IGJhc2VQb3MudG9wICsgX3RoaXM0Ll9xc0hlaWdodCkge1xuICAgICAgICBfcG9zID0gTWF0aC5mbG9vcigoZXguY2xpZW50WSAtIGJhc2VQb3MudG9wKSAvIF90aGlzNC5fYXZnSCk7XG4gICAgICAgIHZhciB0YXJnZXQgPSB2b2lkIDA7XG4gICAgICAgIGlmIChfcG9zIGluIF90aGlzNC5faENhY2hlKSB7XG4gICAgICAgICAgdGFyZ2V0ID0gX3RoaXM0Ll9oQ2FjaGVbX3Bvc11bMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgIHZhciBvdmVyVmFsdWUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXFmLXRhcmdldCcpO1xuICAgICAgICAgIGlmIChfdGhpczQuX3RhcmdldCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAoX3RoaXM0LnByb3BzLnF1aWNrU2VhcmNoQmFyVG9wLnZhbHVlID09PSBvdmVyVmFsdWUpIHtcbiAgICAgICAgICAgICAgX3RoaXM0Lm9uUXVpY2tTZWFyY2hUb3AodW5kZWZpbmVkLCBvdmVyVmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXM0Lm9uUXVpY2tTZWFyY2gob3ZlclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzNC51cGRhdGVJbmRpY2F0b3IodGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3RoaXM0Ll90YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdGhpcy5vblRvdWNoRW5kID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghX3RoaXM0Ll90YXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgX3RoaXM0Ll9kaXNhYmxlUGFyZW50LCBmYWxzZSk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFxzKicgKyBfdGhpczQucHJvcHMucHJlZml4Q2xzICsgJy1xc2ItbW92aW5nJywgJ2cnKSwgJycpO1xuICAgIF90aGlzNC51cGRhdGVJbmRpY2F0b3IoX3RoaXM0Ll90YXJnZXQsIHRydWUpO1xuICAgIF90aGlzNC5fdGFyZ2V0ID0gbnVsbDtcbiAgfTtcblxuICB0aGlzLmdldFFzSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcXVpY2tTZWFyY2hCYXIgPSBfdGhpczQucXVpY2tTZWFyY2hCYXJSZWY7XG4gICAgdmFyIGhlaWdodCA9IHF1aWNrU2VhcmNoQmFyLm9mZnNldEhlaWdodDtcbiAgICB2YXIgaENhY2hlID0gW107XG4gICAgW10uc2xpY2UuY2FsbChxdWlja1NlYXJjaEJhci5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1xZi10YXJnZXRdJykpLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgIGhDYWNoZS5wdXNoKFtkXSk7XG4gICAgfSk7XG4gICAgdmFyIF9hdmdIID0gaGVpZ2h0IC8gaENhY2hlLmxlbmd0aDtcbiAgICB2YXIgX3RvcCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhDYWNoZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgX3RvcCA9IGkgKiBfYXZnSDtcbiAgICAgIGhDYWNoZVtpXVsxXSA9IFtfdG9wLCBfdG9wICsgX2F2Z0hdO1xuICAgIH1cbiAgICBfdGhpczQuX3FzSGVpZ2h0ID0gaGVpZ2h0O1xuICAgIF90aGlzNC5fYXZnSCA9IF9hdmdIO1xuICAgIF90aGlzNC5faENhY2hlID0gaENhY2hlO1xuICB9O1xuXG4gIHRoaXMuc2VjdGlvbkNvbXBvbmVudHMgPSB7fTtcblxuICB0aGlzLmRhdGFDaGFuZ2UgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAvLyBkZWxheSByZW5kZXIgbW9yZVxuICAgIHZhciByb3dDb3VudCA9IHByb3BzLmRhdGFTb3VyY2UuZ2V0Um93Q291bnQoKTtcbiAgICBpZiAoIXJvd0NvdW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF90aGlzNC5zZXRTdGF0ZSh7XG4gICAgICBfZGVsYXk6IHRydWVcbiAgICB9KTtcbiAgICBpZiAoX3RoaXM0Ll90aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzNC5fdGltZXIpO1xuICAgIH1cbiAgICBfdGhpczQuX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczQuc2V0U3RhdGUoe1xuICAgICAgICBwYWdlU2l6ZTogcm93Q291bnQsXG4gICAgICAgIF9kZWxheTogZmFsc2VcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNC5pbmRleGVkTGlzdFZpZXdSZWYuX3BhZ2VJbk5ld1Jvd3MoKTtcbiAgICAgIH0pO1xuICAgIH0sIHByb3BzLmRlbGF5VGltZSk7XG4gIH07XG5cbiAgdGhpcy51cGRhdGVJbmRpY2F0b3IgPSBmdW5jdGlvbiAoZWxlLCBlbmQpIHtcbiAgICB2YXIgZWwgPSBlbGU7XG4gICAgaWYgKCFlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcWYtdGFyZ2V0JykpIHtcbiAgICAgIGVsID0gZWwucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgaWYgKF90aGlzNC5wcm9wcy5zaG93UXVpY2tTZWFyY2hJbmRpY2F0b3IpIHtcbiAgICAgIF90aGlzNC5xc0luZGljYXRvclJlZi5pbm5lclRleHQgPSBlbC5pbm5lclRleHQudHJpbSgpO1xuICAgICAgX3RoaXM0LnNldFN0YXRlKHtcbiAgICAgICAgc2hvd1F1aWNrU2VhcmNoSW5kaWNhdG9yOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGlmIChfdGhpczQuX2luZGljYXRvclRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChfdGhpczQuX2luZGljYXRvclRpbWVyKTtcbiAgICAgIH1cbiAgICAgIF90aGlzNC5faW5kaWNhdG9yVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHtcbiAgICAgICAgICBzaG93UXVpY2tTZWFyY2hJbmRpY2F0b3I6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgdmFyIGNscyA9IF90aGlzNC5wcm9wcy5wcmVmaXhDbHMgKyAnLXF1aWNrLXNlYXJjaC1iYXItb3Zlcic7XG4gICAgLy8gY2FuIG5vdCB1c2Ugc2V0U3RhdGUgdG8gY2hhbmdlIGNsYXNzTmFtZSwgaXQgaGFzIGEgYmlnIHBlcmZvcm1hbmNlIGlzc3VlIVxuICAgIF90aGlzNC5faENhY2hlLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgIGRbMF0uY2xhc3NOYW1lID0gZFswXS5jbGFzc05hbWUucmVwbGFjZShjbHMsICcnKTtcbiAgICB9KTtcbiAgICBpZiAoIWVuZCkge1xuICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lICsgJyAnICsgY2xzO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLl9kaXNhYmxlUGFyZW50ID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4ZWRMaXN0OyIsIi8vIGV4cG9ydCB0aGlzIHBhY2thZ2UncyBhcGlcbmltcG9ydCBMaXN0VmlldyBmcm9tICcuL0xpc3RWaWV3JztcbmltcG9ydCBJbmRleGVkTGlzdCBmcm9tICcuL0luZGV4ZWQnO1xuXG5MaXN0Vmlldy5JbmRleGVkTGlzdCA9IEluZGV4ZWRMaXN0O1xudmFyIERhdGFTb3VyY2UgPSBMaXN0Vmlldy5EYXRhU291cmNlO1xuXG5leHBvcnQgeyBEYXRhU291cmNlLCBJbmRleGVkTGlzdCB9O1xuZXhwb3J0IGRlZmF1bHQgTGlzdFZpZXc7IiwidmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG4vKiB0c2xpbnQ6ZW5hYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xuaW1wb3J0IExpc3QgZnJvbSAnLi4vbGlzdCc7XG52YXIgSXRlbSA9IExpc3QuSXRlbTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUHJvcHMocHJvcHMsIGlzSW5kZXhlZCkge1xuICAgIHZhciByZW5kZXJIZWFkZXIgPSBwcm9wcy5yZW5kZXJIZWFkZXIsXG4gICAgICAgIHJlbmRlckZvb3RlciA9IHByb3BzLnJlbmRlckZvb3RlcixcbiAgICAgICAgcmVuZGVyU2VjdGlvbkhlYWRlciA9IHByb3BzLnJlbmRlclNlY3Rpb25IZWFkZXIsXG4gICAgICAgIHJlbmRlckJvZHlDb21wb25lbnQgPSBwcm9wcy5yZW5kZXJCb2R5Q29tcG9uZW50LFxuICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QocHJvcHMsIFtcInJlbmRlckhlYWRlclwiLCBcInJlbmRlckZvb3RlclwiLCBcInJlbmRlclNlY3Rpb25IZWFkZXJcIiwgXCJyZW5kZXJCb2R5Q29tcG9uZW50XCJdKTtcblxuICAgIHZhciBsaXN0UHJlZml4Q2xzID0gcHJvcHMubGlzdFByZWZpeENscztcbiAgICB2YXIgZXh0cmFQcm9wcyA9IHtcbiAgICAgICAgcmVuZGVySGVhZGVyOiBudWxsLFxuICAgICAgICByZW5kZXJGb290ZXI6IG51bGwsXG4gICAgICAgIHJlbmRlclNlY3Rpb25IZWFkZXI6IG51bGwsXG4gICAgICAgIHJlbmRlckJvZHlDb21wb25lbnQ6IHJlbmRlckJvZHlDb21wb25lbnQgfHwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBsaXN0UHJlZml4Q2xzICsgJy1ib2R5JyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKHJlbmRlckhlYWRlcikge1xuICAgICAgICBleHRyYVByb3BzLnJlbmRlckhlYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBsaXN0UHJlZml4Q2xzICsgJy1oZWFkZXInIH0sXG4gICAgICAgICAgICAgICAgcmVuZGVySGVhZGVyKClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChyZW5kZXJGb290ZXIpIHtcbiAgICAgICAgZXh0cmFQcm9wcy5yZW5kZXJGb290ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogbGlzdFByZWZpeENscyArICctZm9vdGVyJyB9LFxuICAgICAgICAgICAgICAgIHJlbmRlckZvb3RlcigpXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAocmVuZGVyU2VjdGlvbkhlYWRlcikge1xuICAgICAgICBleHRyYVByb3BzLnJlbmRlclNlY3Rpb25IZWFkZXIgPSBpc0luZGV4ZWQgPyBmdW5jdGlvbiAoc2VjdGlvbkRhdGEsIHNlY3Rpb25JRCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBJdGVtLFxuICAgICAgICAgICAgICAgICAgICB7IHByZWZpeENsczogbGlzdFByZWZpeENscyB9LFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJTZWN0aW9uSGVhZGVyKHNlY3Rpb25EYXRhLCBzZWN0aW9uSUQpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSA6IGZ1bmN0aW9uIChzZWN0aW9uRGF0YSwgc2VjdGlvbklEKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBJdGVtLFxuICAgICAgICAgICAgICAgIHsgcHJlZml4Q2xzOiBsaXN0UHJlZml4Q2xzIH0sXG4gICAgICAgICAgICAgICAgcmVuZGVyU2VjdGlvbkhlYWRlcihzZWN0aW9uRGF0YSwgc2VjdGlvbklEKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVzdFByb3BzOiByZXN0UHJvcHMsIGV4dHJhUHJvcHM6IGV4dHJhUHJvcHMgfTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTUxpc3RWaWV3IGZyb20gJ3JtYy1saXN0LXZpZXcnO1xuaW1wb3J0IGhhbmRsZVByb3BzIGZyb20gJy4vaGFuZGxlUHJvcHMnO1xudmFyIEluZGV4ZWRMaXN0ID0gTUxpc3RWaWV3LkluZGV4ZWRMaXN0O1xuXG52YXIgTUluZGV4ZWRMaXN0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoTUluZGV4ZWRMaXN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIE1JbmRleGVkTGlzdCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1JbmRleGVkTGlzdCk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChNSW5kZXhlZExpc3QuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNSW5kZXhlZExpc3QpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTUluZGV4ZWRMaXN0LCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgbGlzdFByZWZpeENscyA9IF9wcm9wcy5saXN0UHJlZml4Q2xzO1xuXG4gICAgICAgICAgICB2YXIgX2hhbmRsZVByb3BzID0gaGFuZGxlUHJvcHModGhpcy5wcm9wcywgdHJ1ZSksXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX2hhbmRsZVByb3BzLnJlc3RQcm9wcyxcbiAgICAgICAgICAgICAgICBleHRyYVByb3BzID0gX2hhbmRsZVByb3BzLmV4dHJhUHJvcHM7XG5cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIEluZGV4ZWRMaXN0LFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHsgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaW5kZXhlZExpc3RSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgfSwgc2VjdGlvbkhlYWRlckNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWN0aW9uLWhlYWRlciAnICsgbGlzdFByZWZpeENscyArICctYm9keScsIHNlY3Rpb25Cb2R5Q2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlY3Rpb24tYm9keSAnICsgbGlzdFByZWZpeENscyArICctYm9keScgfSwgcmVzdFByb3BzLCBleHRyYVByb3BzKSxcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE1JbmRleGVkTGlzdDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgTUluZGV4ZWRMaXN0O1xuXG5NSW5kZXhlZExpc3QuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLWluZGV4ZWQtbGlzdCcsXG4gICAgbGlzdFByZWZpeENsczogJ2FtLWxpc3QnLFxuICAgIGxpc3RWaWV3UHJlZml4Q2xzOiAnYW0tbGlzdC12aWV3J1xufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTUxpc3RWaWV3IGZyb20gJ3JtYy1saXN0LXZpZXcnO1xuaW1wb3J0IGhhbmRsZVByb3BzIGZyb20gJy4vaGFuZGxlUHJvcHMnO1xuaW1wb3J0IEluZGV4ZWRMaXN0IGZyb20gJy4vSW5kZXhlZCc7XG5cbnZhciBMaXN0VmlldyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKExpc3RWaWV3LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIExpc3RWaWV3KCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGlzdFZpZXcpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMaXN0Vmlldy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExpc3RWaWV3KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMuc2Nyb2xsVG8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkbGlzdHZpZXdSZWY7XG5cbiAgICAgICAgICAgIHJldHVybiAoX3RoaXMkbGlzdHZpZXdSZWYgPSBfdGhpcy5saXN0dmlld1JlZikuc2Nyb2xsVG8uYXBwbHkoX3RoaXMkbGlzdHZpZXdSZWYsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldElubmVyVmlld05vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMubGlzdHZpZXdSZWYuZ2V0SW5uZXJWaWV3Tm9kZSgpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKExpc3RWaWV3LCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfaGFuZGxlUHJvcHMgPSBoYW5kbGVQcm9wcyh0aGlzLnByb3BzLCBmYWxzZSksXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX2hhbmRsZVByb3BzLnJlc3RQcm9wcyxcbiAgICAgICAgICAgICAgICBleHRyYVByb3BzID0gX2hhbmRsZVByb3BzLmV4dHJhUHJvcHM7XG5cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KE1MaXN0VmlldywgX2V4dGVuZHMoeyByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmxpc3R2aWV3UmVmID0gZWw7XG4gICAgICAgICAgICAgICAgfSB9LCByZXN0UHJvcHMsIGV4dHJhUHJvcHMpKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMaXN0Vmlldztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgTGlzdFZpZXc7XG5cbkxpc3RWaWV3LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1saXN0LXZpZXcnLFxuICAgIGxpc3RQcmVmaXhDbHM6ICdhbS1saXN0J1xufTtcbkxpc3RWaWV3LkRhdGFTb3VyY2UgPSBNTGlzdFZpZXcuRGF0YVNvdXJjZTtcbkxpc3RWaWV3LkluZGV4ZWRMaXN0ID0gSW5kZXhlZExpc3Q7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJjQ2hlY2tib3ggZnJvbSAncmMtY2hlY2tib3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIFJhZGlvID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUmFkaW8sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUmFkaW8oKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYWRpbyk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSYWRpby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhZGlvKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFJhZGlvLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBfYS5zdHlsZSxcbiAgICAgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNsYXNzTmFtZVwiLCBcInN0eWxlXCJdKTt2YXIgcHJlZml4Q2xzID0gcmVzdFByb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IHJlc3RQcm9wcy5jaGlsZHJlbjtcblxuICAgICAgICAgICAgdmFyIHdyYXBDbHMgPSBjbGFzc25hbWVzKHByZWZpeENscyArICctd3JhcHBlcicsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICBpZiAoJ2NsYXNzJyBpbiByZXN0UHJvcHMpIHtcbiAgICAgICAgICAgICAgICAvLyBUb2RvIGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvcHJlYWN0LWNvbXBhdC9pc3N1ZXMvNDIyXG4gICAgICAgICAgICAgICAgLyogdHNsaW50OmRpc2FibGU6bm8tc3RyaW5nLWxpdGVyYWwgKi9cbiAgICAgICAgICAgICAgICBkZWxldGUgcmVzdFByb3BzWydjbGFzcyddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1hcmsgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHdyYXBDbHMsIHN0eWxlOiBzdHlsZSB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmNDaGVja2JveCwgX2V4dGVuZHMoe30sIHJlc3RQcm9wcywgeyB0eXBlOiAncmFkaW8nIH0pKSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLndyYXBMYWJlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXJrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmNDaGVja2JveCwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgdHlwZTogJ3JhZGlvJyB9KSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmFkaW87XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlvO1xuXG5SYWRpby5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tcmFkaW8nLFxuICAgIHdyYXBMYWJlbDogdHJ1ZVxufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi4vbGlzdCc7XG5pbXBvcnQgUmFkaW8gZnJvbSAnLi9SYWRpbyc7XG52YXIgTGlzdEl0ZW0gPSBMaXN0Lkl0ZW07XG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIFJhZGlvSXRlbSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFJhZGlvSXRlbSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBSYWRpb0l0ZW0oKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYWRpb0l0ZW0pO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmFkaW9JdGVtLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFkaW9JdGVtKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFJhZGlvSXRlbSwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGxpc3RQcmVmaXhDbHMgPSBfYS5saXN0UHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlID0gX2Eub25DaGFuZ2UsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICByYWRpb1Byb3BzID0gX2EucmFkaW9Qcm9wcyxcbiAgICAgICAgICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljayxcbiAgICAgICAgICAgICAgICBvdGhlclByb3BzID0gX19yZXN0KF9hLCBbXCJsaXN0UHJlZml4Q2xzXCIsIFwib25DaGFuZ2VcIiwgXCJkaXNhYmxlZFwiLCBcInJhZGlvUHJvcHNcIiwgXCJvbkNsaWNrXCJdKTt2YXIgcHJlZml4Q2xzID0gb3RoZXJQcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gb3RoZXJQcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBvdGhlclByb3BzLmNoaWxkcmVuO1xuXG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzICsgJy1pdGVtJywgY2xhc3NOYW1lLCBfZGVmaW5lUHJvcGVydHkoe30sIHByZWZpeENscyArICctaXRlbS1kaXNhYmxlZCcsIGRpc2FibGVkID09PSB0cnVlKSk7XG4gICAgICAgICAgICAvLyBOb3RlOiBpZiBub3Qgb21pdCBgb25DaGFuZ2VgLCBpdCB3aWxsIHRyaWdnZXIgdHdpY2Ugb24gY2hlY2sgbGlzdGl0ZW1cbiAgICAgICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBvdGhlclByb3BzLm9uQ2xpY2sgPSBvbkNsaWNrIHx8IG5vb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXh0cmFQcm9wcyA9IHt9O1xuICAgICAgICAgICAgWyduYW1lJywgJ2RlZmF1bHRDaGVja2VkJywgJ2NoZWNrZWQnLCAnb25DaGFuZ2UnLCAnZGlzYWJsZWQnXS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgaW4gX3RoaXMyLnByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhUHJvcHNbaV0gPSBfdGhpczIucHJvcHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBMaXN0SXRlbSxcbiAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7fSwgb3RoZXJQcm9wcywgeyBwcmVmaXhDbHM6IGxpc3RQcmVmaXhDbHMsIGNsYXNzTmFtZTogd3JhcENscywgZXh0cmE6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmFkaW8sIF9leHRlbmRzKHt9LCByYWRpb1Byb3BzLCBleHRyYVByb3BzKSkgfSksXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmFkaW9JdGVtO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBSYWRpb0l0ZW07XG5cblJhZGlvSXRlbS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tcmFkaW8nLFxuICAgIGxpc3RQcmVmaXhDbHM6ICdhbS1saXN0JyxcbiAgICByYWRpb1Byb3BzOiB7fVxufTsiLCJpbXBvcnQgUmFkaW8gZnJvbSAnLi9SYWRpbyc7XG5pbXBvcnQgUmFkaW9JdGVtIGZyb20gJy4vUmFkaW9JdGVtJztcblJhZGlvLlJhZGlvSXRlbSA9IFJhZGlvSXRlbTtcbmV4cG9ydCBkZWZhdWx0IFJhZGlvOyIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jztcbi8qIHRzbGludDpkaXNhYmxlOmpzeC1uby1tdWx0aWxpbmUtanMgKi9cbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaGVja2JveCBmcm9tICcuLi9jaGVja2JveCc7XG5pbXBvcnQgTGlzdCBmcm9tICcuLi9saXN0JztcbmltcG9ydCBSYWRpbyBmcm9tICcuLi9yYWRpbyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTdWJNZW51KHByb3BzKSB7XG4gICAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKGRhdGFJdGVtKSB7XG4gICAgICAgIGlmIChwcm9wcy5vblNlbCkge1xuICAgICAgICAgICAgcHJvcHMub25TZWwoZGF0YUl0ZW0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3ViTWVudVByZWZpeENscyA9IHByb3BzLnN1Yk1lbnVQcmVmaXhDbHMsXG4gICAgICAgIHJhZGlvUHJlZml4Q2xzID0gcHJvcHMucmFkaW9QcmVmaXhDbHMsXG4gICAgICAgIHN1Yk1lbnVEYXRhID0gcHJvcHMuc3ViTWVudURhdGEsXG4gICAgICAgIHNob3dTZWxlY3QgPSBwcm9wcy5zaG93U2VsZWN0LFxuICAgICAgICBzZWxJdGVtID0gcHJvcHMuc2VsSXRlbSxcbiAgICAgICAgbXVsdGlTZWxlY3QgPSBwcm9wcy5tdWx0aVNlbGVjdDtcblxuICAgIHZhciBzZWxlY3RlZCA9IGZ1bmN0aW9uIHNlbGVjdGVkKGRhdGFJdGVtKSB7XG4gICAgICAgIHJldHVybiBzaG93U2VsZWN0ICYmIHNlbEl0ZW0ubGVuZ3RoID4gMCAmJiBzZWxJdGVtLmluZGV4T2YoZGF0YUl0ZW0udmFsdWUpICE9PSAtMTtcbiAgICB9O1xuICAgIHZhciBJdGVtQ29tcG9uZW50ID0gIW11bHRpU2VsZWN0ID8gUmFkaW8gOiBDaGVja2JveDtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgTGlzdCxcbiAgICAgICAgeyBzdHlsZTogeyBwYWRkaW5nVG9wOiAwIH0sIGNsYXNzTmFtZTogc3ViTWVudVByZWZpeENscyB9LFxuICAgICAgICBzdWJNZW51RGF0YS5tYXAoZnVuY3Rpb24gKGRhdGFJdGVtLCBpZHgpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NuYW1lcztcblxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgTGlzdC5JdGVtLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKHJhZGlvUHJlZml4Q2xzICsgJy1pdGVtJywgKF9jbGFzc25hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgc3ViTWVudVByZWZpeENscyArICctaXRlbS1zZWxlY3RlZCcsIHNlbGVjdGVkKGRhdGFJdGVtKSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgc3ViTWVudVByZWZpeENscyArICctaXRlbS1kaXNhYmxlZCcsIGRhdGFJdGVtLmRpc2FibGVkKSwgX2NsYXNzbmFtZXMpKSwga2V5OiBpZHgsIGV4dHJhOiBSZWFjdC5jcmVhdGVFbGVtZW50KEl0ZW1Db21wb25lbnQsIHsgY2hlY2tlZDogc2VsZWN0ZWQoZGF0YUl0ZW0pLCBkaXNhYmxlZDogZGF0YUl0ZW0uZGlzYWJsZWQsIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25DbGljayhkYXRhSXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pIH0sXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW0ubGFiZWxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgKTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbi8qIHRzbGludDpkaXNhYmxlOmpzeC1uby1tdWx0aWxpbmUtanMgKi9cbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL2J1dHRvbic7XG5pbXBvcnQgRmxleCBmcm9tICcuLi9mbGV4JztcbmltcG9ydCBMaXN0IGZyb20gJy4uL2xpc3QnO1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50TG9jYWxlIH0gZnJvbSAnLi4vX3V0aWwvZ2V0TG9jYWxlJztcbmltcG9ydCBTdWJNZW51IGZyb20gJy4vU3ViTWVudSc7XG5cbnZhciBNZW51ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoTWVudSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBNZW51KHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZW51KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTWVudS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1lbnUpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMub25NZW51T2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb25PayA9IF90aGlzLnByb3BzLm9uT2s7XG5cbiAgICAgICAgICAgIGlmIChvbk9rKSB7XG4gICAgICAgICAgICAgICAgb25PayhfdGhpcy5zdGF0ZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uTWVudUNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvbkNhbmNlbCA9IF90aGlzLnByb3BzLm9uQ2FuY2VsO1xuXG4gICAgICAgICAgICBpZiAob25DYW5jZWwpIHtcbiAgICAgICAgICAgICAgICBvbkNhbmNlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkNsaWNrRmlyc3RMZXZlbEl0ZW0gPSBmdW5jdGlvbiAoZGF0YUl0ZW0pIHtcbiAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZmlyc3RMZXZlbFNlbGVjdFZhbHVlOiBkYXRhSXRlbS52YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZGF0YUl0ZW0uaXNMZWFmICYmIG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2UoW2RhdGFJdGVtLnZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldFNlbGVjdFZhbHVlID0gZnVuY3Rpb24gKGRhdGFJdGVtKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBsZXZlbCA9IF90aGlzJHByb3BzLmxldmVsLFxuICAgICAgICAgICAgICAgIG11bHRpU2VsZWN0ID0gX3RoaXMkcHJvcHMubXVsdGlTZWxlY3Q7XG5cbiAgICAgICAgICAgIGlmIChtdWx0aVNlbGVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF90aGlzJHN0YXRlLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBmaXJzdExldmVsU2VsZWN0VmFsdWUgPSBfdGhpcyRzdGF0ZS5maXJzdExldmVsU2VsZWN0VmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPT09IDIgJiYgdmFsdWVbMF0gIT09IGZpcnN0TGV2ZWxTZWxlY3RWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogaWYgbGV2ZWwgaXMgMiwgd2hlbiBmaXJzdCBsZXZlbCBpcyByZXNlbGVjdCwgcmVzZXQgc3VibWVudSBhcnJheSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmaXJzdExldmVsU2VsZWN0VmFsdWUsIFtkYXRhSXRlbS52YWx1ZV1dO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogaWYgbGV2ZWwgaXMgMSwgb3IgZmlyc3QgbGV2ZWwgaXNuJ3QgY2hhbmdlZCB3aGVuIGxldmVsIGlzIDIsIGp1c3QgZG8gYWRkIG9yIGRlbGV0ZSBmb3Igc3VibWVudSBhcnJheSAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaG9zZW5WYWx1ZXMgPSBsZXZlbCA9PT0gMiA/IHZhbHVlWzFdIDogdmFsdWU7IC8vIEZJWE1FOiBoYWNrIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleGlzdEluZGV4ID0gY2hvc2VuVmFsdWVzLmluZGV4T2YoZGF0YUl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvc2VuVmFsdWVzLnB1c2goZGF0YUl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9zZW5WYWx1ZXMuc3BsaWNlKGV4aXN0SW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyogaWYgdmFsdWUgaXMgbm90IGV4aXN0IGJlZm9yZSwgaW5pdCB2YWx1ZSAqL1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGV2ZWwgPT09IDIgPyBbZmlyc3RMZXZlbFNlbGVjdFZhbHVlLCBbZGF0YUl0ZW0udmFsdWVdXSA6IFtkYXRhSXRlbS52YWx1ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxldmVsID09PSAyID8gW190aGlzLnN0YXRlLmZpcnN0TGV2ZWxTZWxlY3RWYWx1ZSwgZGF0YUl0ZW0udmFsdWVdIDogW2RhdGFJdGVtLnZhbHVlXTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25DbGlja1N1Yk1lbnVJdGVtID0gZnVuY3Rpb24gKGRhdGFJdGVtKSB7XG4gICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcblxuICAgICAgICAgICAgdmFyIHZhbHVlID0gX3RoaXMuZ2V0U2VsZWN0VmFsdWUoZGF0YUl0ZW0pO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBvbkNoYW5nZSB3aWxsIGNsb3NlIHRoZSBtZW51LCBzZXQgYSBsaXR0bGUgdGltZSB0byBzaG93IGl0cyBzZWxlY3Rpb24gc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGZpcnN0TGV2ZWxTZWxlY3RWYWx1ZTogX3RoaXMuZ2V0TmV3RnN2KHByb3BzKSxcbiAgICAgICAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSxcbiAgICAgICAgICAgIGhlaWdodDogcHJvcHMuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTWVudSwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgaWYgKG5leHRQcm9wcy52YWx1ZSAhPT0gdGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBmaXJzdExldmVsU2VsZWN0VmFsdWU6IHRoaXMuZ2V0TmV3RnN2KG5leHRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXh0UHJvcHMudmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmhlaWdodCAhPT0gbmV4dFByb3BzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG5leHRQcm9wcy5oZWlnaHRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICBpZiAoISgnaGVpZ2h0JyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAvIDIpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldE5ld0ZzdicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROZXdGc3YocHJvcHMpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICAgIGRhdGEgPSBwcm9wcy5kYXRhO1xuXG4gICAgICAgICAgICB2YXIgZmlyc3RWYWx1ZSA9ICcnO1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGhhcyBpbml0IHBhdGgsIGNob3NlIGluaXQgZmlyc3QgdmFsdWVcbiAgICAgICAgICAgICAgICBmaXJzdFZhbHVlID0gdmFsdWVbMF07IC8vIHRoaXMgaXMgYSBjb250cmFjdFxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoICYmICFkYXRhWzBdLmlzTGVhZikge1xuICAgICAgICAgICAgICAgIC8vIGNob3NlIHRoZSBmaXJzdCBtZW51IGl0ZW0gaWYgaXQncyBub3QgbGVhZi5cbiAgICAgICAgICAgICAgICBmaXJzdFZhbHVlID0gZGF0YVswXS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmaXJzdFZhbHVlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgICAgX3Byb3BzJGRhdGEgPSBfcHJvcHMuZGF0YSxcbiAgICAgICAgICAgICAgICBkYXRhID0gX3Byb3BzJGRhdGEgPT09IHVuZGVmaW5lZCA/IFtdIDogX3Byb3BzJGRhdGEsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBsZXZlbCA9IF9wcm9wcy5sZXZlbCxcbiAgICAgICAgICAgICAgICBtdWx0aVNlbGVjdCA9IF9wcm9wcy5tdWx0aVNlbGVjdCxcbiAgICAgICAgICAgICAgICBtdWx0aVNlbGVjdE1lbnVCdG5zQ2xzID0gX3Byb3BzLm11bHRpU2VsZWN0TWVudUJ0bnNDbHMsXG4gICAgICAgICAgICAgICAgTWVudVNlbGVjdENvbnRhbmVyUHJlZml4Q2xzID0gX3Byb3BzLk1lbnVTZWxlY3RDb250YW5lclByZWZpeENscztcbiAgICAgICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIGZpcnN0TGV2ZWxTZWxlY3RWYWx1ZSA9IF9zdGF0ZS5maXJzdExldmVsU2VsZWN0VmFsdWUsXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBfc3RhdGUudmFsdWUsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gX3N0YXRlLmhlaWdodDtcblxuICAgICAgICAgICAgdmFyIHN1Yk1lbnVEYXRhID0gZGF0YTsgLy8gbWVudSBvbmx5IGhhcyBvbmUgbGV2ZWwgYXMgaW5pdFxuICAgICAgICAgICAgaWYgKGxldmVsID09PSAyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IGRhdGE7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0TGV2ZWxTZWxlY3RWYWx1ZSAmJiBmaXJzdExldmVsU2VsZWN0VmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChkYXRhSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFJdGVtLnZhbHVlID09PSBmaXJzdExldmVsU2VsZWN0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cHJlZmVyLWNvbmRpdGlvbmFsLWV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICBpZiAocGFyZW50WzBdICYmIHBhcmVudFswXS5jaGlsZHJlbiAmJiBwYXJlbnRbMF0uaXNMZWFmICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Yk1lbnVEYXRhID0gcGFyZW50WzBdLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Yk1lbnVEYXRhID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN1YlZhbHVlID0gdmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gMCAmJiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlKSkgfHwgW107XG4gICAgICAgICAgICBpZiAobGV2ZWwgPT09IDIgJiYgc3ViVmFsdWUubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHN1YlZhbHVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKG11bHRpU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGV4YW1wbGU6IFtbMSwyLDNdXSAtPiBbMSwyLDNdICovXG4gICAgICAgICAgICAgICAgICAgIHN1YlZhbHVlID0gc3ViVmFsdWVbMF07IC8vIEZJWE1FOiBoYWNrIHR5cGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGFyZW50VmFsdWUgPSB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiAxICYmIGxldmVsID09PSAyID8gdmFsdWVbMF0gOiBudWxsO1xuICAgICAgICAgICAgdmFyIHN1YlNlbEluaXRJdGVtID0gc3ViTWVudURhdGEuZmlsdGVyKGZ1bmN0aW9uIChkYXRhSXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJWYWx1ZS5pbmRleE9mKGRhdGFJdGVtLnZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHNob3dTZWxlY3QgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGxldmVsID09PSAyICYmIHBhcmVudFZhbHVlICE9PSBmaXJzdExldmVsU2VsZWN0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzaG93U2VsZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFyaWFibGUtbmFtZVxuICAgICAgICAgICAgdmFyIF9sb2NhbGUgPSBnZXRDb21wb25lbnRMb2NhbGUodGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCAnTWVudScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWlyZSgnLi9sb2NhbGUvemhfQ04nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGhlaWdodFN0eWxlID0gaGVpZ2h0ICE9PSB1bmRlZmluZWQgPyB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKyAncHgnXG4gICAgICAgICAgICB9IDoge307XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBGbGV4LFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKHByZWZpeENscywgX2RlZmluZVByb3BlcnR5KHt9LCBjbGFzc05hbWUsICEhY2xhc3NOYW1lKSksIHN0eWxlOiBfZXh0ZW5kcyh7fSwgc3R5bGUsIGhlaWdodFN0eWxlKSwgZGlyZWN0aW9uOiAnY29sdW1uJywgYWxpZ246ICdzdHJldGNoJyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIEZsZXgsXG4gICAgICAgICAgICAgICAgICAgIHsgYWxpZ246ICdzdGFydCcsIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhfZGVmaW5lUHJvcGVydHkoe30sIE1lbnVTZWxlY3RDb250YW5lclByZWZpeENscywgdHJ1ZSkpIH0sXG4gICAgICAgICAgICAgICAgICAgIGxldmVsID09PSAyICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBGbGV4Lkl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMaXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcm9sZTogJ3RhYmxpc3QnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5tYXAoZnVuY3Rpb24gKGRhdGFJdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExpc3QuSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBkYXRhSXRlbS52YWx1ZSA9PT0gZmlyc3RMZXZlbFNlbGVjdFZhbHVlID8gcHJlZml4Q2xzICsgJy1zZWxlY3RlZCcgOiAnJywgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrRmlyc3RMZXZlbEl0ZW0oZGF0YUl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGtleTogJ2xpc3RpdGVtLTEtJyArIGluZGV4LCByb2xlOiAndGFiJywgJ2FyaWEtc2VsZWN0ZWQnOiBkYXRhSXRlbS52YWx1ZSA9PT0gZmlyc3RMZXZlbFNlbGVjdFZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBGbGV4Lkl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHJvbGU6ICd0YWJwYW5lbCcsICdhcmlhLWhpZGRlbic6ICdmYWxzZScsIGNsYXNzTmFtZTogTWVudVNlbGVjdENvbnRhbmVyUHJlZml4Q2xzICsgJy1zdWJtZW51JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTdWJNZW51LCB7IHN1Yk1lbnVQcmVmaXhDbHM6IHRoaXMucHJvcHMuc3ViTWVudVByZWZpeENscywgcmFkaW9QcmVmaXhDbHM6IHRoaXMucHJvcHMucmFkaW9QcmVmaXhDbHMsIHN1Yk1lbnVEYXRhOiBzdWJNZW51RGF0YSwgc2VsSXRlbTogc3ViU2VsSW5pdEl0ZW0sIG9uU2VsOiB0aGlzLm9uQ2xpY2tTdWJNZW51SXRlbSwgc2hvd1NlbGVjdDogc2hvd1NlbGVjdCwgbXVsdGlTZWxlY3Q6IG11bHRpU2VsZWN0IH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIG11bHRpU2VsZWN0ICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogbXVsdGlTZWxlY3RNZW51QnRuc0NscyB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpbmxpbmU6IHRydWUsIGNsYXNzTmFtZTogbXVsdGlTZWxlY3RNZW51QnRuc0NscyArICctYnRuJywgb25DbGljazogdGhpcy5vbk1lbnVDYW5jZWwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb2NhbGUuY2FuY2VsVGV4dFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpbmxpbmU6IHRydWUsIHR5cGU6ICdwcmltYXJ5JywgY2xhc3NOYW1lOiBtdWx0aVNlbGVjdE1lbnVCdG5zQ2xzICsgJy1idG4nLCBvbkNsaWNrOiB0aGlzLm9uTWVudU9rIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9jYWxlLm9rVGV4dFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNZW51O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBNZW51O1xuXG5NZW51LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1tZW51JyxcbiAgICBzdWJNZW51UHJlZml4Q2xzOiAnYW0tc3ViLW1lbnUnLFxuICAgIHJhZGlvUHJlZml4Q2xzOiAnYW0tcmFkaW8nLFxuICAgIG11bHRpU2VsZWN0TWVudUJ0bnNDbHM6ICdhbS1tdWx0aS1zZWxlY3QtYnRucycsXG4gICAgTWVudVNlbGVjdENvbnRhbmVyUHJlZml4Q2xzOiAnYW0tbWVudS1zZWxlY3QtY29udGFpbmVyJyxcbiAgICBkYXRhOiBbXSxcbiAgICBsZXZlbDogMixcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fSxcbiAgICBvbk9rOiBmdW5jdGlvbiBvbk9rKCkge30sXG4gICAgb25DYW5jZWw6IGZ1bmN0aW9uIG9uQ2FuY2VsKCkge30sXG4gICAgbXVsdGlTZWxlY3Q6IGZhbHNlXG59O1xuTWVudS5jb250ZXh0VHlwZXMgPSB7XG4gICAgYW50TG9jYWxlOiBQcm9wVHlwZXMub2JqZWN0XG59OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsb3Nlc3QoZWwsIHNlbGVjdG9yKSB7XG4gICAgdmFyIG1hdGNoZXNTZWxlY3RvciA9IGVsLm1hdGNoZXMgfHwgZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGVsLm1vek1hdGNoZXNTZWxlY3RvciB8fCBlbC5tc01hdGNoZXNTZWxlY3RvcjtcbiAgICB2YXIgcCA9IGVsO1xuICAgIHdoaWxlIChwKSB7XG4gICAgICAgIGlmIChtYXRjaGVzU2VsZWN0b3IuY2FsbChwLCBzZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRGlhbG9nIGZyb20gJ3JtYy1kaWFsb2cnO1xuaW1wb3J0IFRvdWNoRmVlZGJhY2sgZnJvbSAncm1jLWZlZWRiYWNrJztcbmV4cG9ydCB2YXIgTW9kYWxDb21wb25lbnQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhNb2RhbENvbXBvbmVudCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBNb2RhbENvbXBvbmVudCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsQ29tcG9uZW50KTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1vZGFsQ29tcG9uZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTW9kYWxDb21wb25lbnQpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTW9kYWxDb21wb25lbnQ7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBNb2RhbCA9IGZ1bmN0aW9uIChfTW9kYWxDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoTW9kYWwsIF9Nb2RhbENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBNb2RhbCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1vZGFsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTW9kYWwpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTW9kYWwsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlckZvb3RlckJ1dHRvbicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJGb290ZXJCdXR0b24oYnV0dG9uLCBwcmVmaXhDbHMsIGkpIHtcbiAgICAgICAgICAgIHZhciBidXR0b25TdHlsZSA9IHt9O1xuICAgICAgICAgICAgaWYgKGJ1dHRvbi5zdHlsZSkge1xuICAgICAgICAgICAgICAgIGJ1dHRvblN0eWxlID0gYnV0dG9uLnN0eWxlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYnV0dG9uU3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZU1hcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdHJ1Y3RpdmU6IHsgY29sb3I6ICdyZWQnIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uU3R5bGUgPSBzdHlsZU1hcFtidXR0b25TdHlsZV0gfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9uQ2xpY2tGbiA9IGZ1bmN0aW9uIG9uQ2xpY2tGbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGlmIChidXR0b24ub25QcmVzcykge1xuICAgICAgICAgICAgICAgICAgICBidXR0b24ub25QcmVzcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBUb3VjaEZlZWRiYWNrLFxuICAgICAgICAgICAgICAgIHsgYWN0aXZlQ2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJ1dHRvbi1hY3RpdmUnLCBrZXk6IGkgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJ1dHRvbicsIHJvbGU6ICdidXR0b24nLCBzdHlsZTogYnV0dG9uU3R5bGUsIG9uQ2xpY2s6IG9uQ2xpY2tGbiB9LFxuICAgICAgICAgICAgICAgICAgICBidXR0b24udGV4dCB8fCAnQnV0dG9uJ1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcyxcbiAgICAgICAgICAgICAgICBfY2xhc3NuYW1lczI7XG5cbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICB3cmFwQ2xhc3NOYW1lID0gX2Eud3JhcENsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uTmFtZSA9IF9hLnRyYW5zaXRpb25OYW1lLFxuICAgICAgICAgICAgICAgIG1hc2tUcmFuc2l0aW9uTmFtZSA9IF9hLm1hc2tUcmFuc2l0aW9uTmFtZSxcbiAgICAgICAgICAgICAgICBzdHlsZSA9IF9hLnN0eWxlLFxuICAgICAgICAgICAgICAgIHBsYXRmb3JtID0gX2EucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgX2EkZm9vdGVyID0gX2EuZm9vdGVyLFxuICAgICAgICAgICAgICAgIGZvb3RlciA9IF9hJGZvb3RlciA9PT0gdW5kZWZpbmVkID8gW10gOiBfYSRmb290ZXIsXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uID0gX2Eub3BlcmF0aW9uLFxuICAgICAgICAgICAgICAgIGFuaW1hdGVkID0gX2EuYW5pbWF0ZWQsXG4gICAgICAgICAgICAgICAgdHJhbnNwYXJlbnQgPSBfYS50cmFuc3BhcmVudCxcbiAgICAgICAgICAgICAgICBwb3B1cCA9IF9hLnBvcHVwLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvblR5cGUgPSBfYS5hbmltYXRpb25UeXBlLFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wicHJlZml4Q2xzXCIsIFwiY2xhc3NOYW1lXCIsIFwid3JhcENsYXNzTmFtZVwiLCBcInRyYW5zaXRpb25OYW1lXCIsIFwibWFza1RyYW5zaXRpb25OYW1lXCIsIFwic3R5bGVcIiwgXCJwbGF0Zm9ybVwiLCBcImZvb3RlclwiLCBcIm9wZXJhdGlvblwiLCBcImFuaW1hdGVkXCIsIFwidHJhbnNwYXJlbnRcIiwgXCJwb3B1cFwiLCBcImFuaW1hdGlvblR5cGVcIl0pO1xuICAgICAgICAgICAgdmFyIGJ0bkdyb3VwQ2xhc3MgPSBjbGFzc25hbWVzKHByZWZpeENscyArICctYnV0dG9uLWdyb3VwLScgKyAoZm9vdGVyLmxlbmd0aCA9PT0gMiAmJiAhb3BlcmF0aW9uID8gJ2gnIDogJ3YnKSwgcHJlZml4Q2xzICsgJy1idXR0b24tZ3JvdXAtJyArIChvcGVyYXRpb24gPyAnb3BlcmF0aW9uJyA6ICdub3JtYWwnKSk7XG4gICAgICAgICAgICB2YXIgZm9vdGVyRG9tID0gZm9vdGVyLmxlbmd0aCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGJ0bkdyb3VwQ2xhc3MsIHJvbGU6ICdncm91cCcgfSxcbiAgICAgICAgICAgICAgICBmb290ZXIubWFwKGZ1bmN0aW9uIChidXR0b24sIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpqc3gtbm8tbXVsdGlsaW5lLWpzXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMucmVuZGVyRm9vdGVyQnV0dG9uKGJ1dHRvbiwgcHJlZml4Q2xzLCBpKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApIDogbnVsbDtcbiAgICAgICAgICAgIHZhciB0cmFuc05hbWUgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgbWFza1RyYW5zTmFtZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChhbmltYXRlZCkge1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItY29uZGl0aW9uYWwtZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgIGlmICh0cmFuc3BhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc05hbWUgPSBtYXNrVHJhbnNOYW1lID0gJ2FtLWZhZGUnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zTmFtZSA9IG1hc2tUcmFuc05hbWUgPSAnYW0tc2xpZGUtdXAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9wdXApIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNOYW1lID0gYW5pbWF0aW9uVHlwZSA9PT0gJ3NsaWRlLXVwJyA/ICdhbS1zbGlkZS11cCcgOiAnYW0tc2xpZGUtZG93bic7XG4gICAgICAgICAgICAgICAgICAgIG1hc2tUcmFuc05hbWUgPSAnYW0tZmFkZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHdyYXBDbHMgPSBjbGFzc25hbWVzKHdyYXBDbGFzc05hbWUsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcHJlZml4Q2xzICsgJy13cmFwLXBvcHVwJywgcG9wdXApKTtcbiAgICAgICAgICAgIHZhciBjbHMgPSBjbGFzc25hbWVzKGNsYXNzTmFtZSwgKF9jbGFzc25hbWVzMiA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMyLCBwcmVmaXhDbHMgKyAnLXRyYW5zcGFyZW50JywgdHJhbnNwYXJlbnQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMyLCBwcmVmaXhDbHMgKyAnLXBvcHVwJywgcG9wdXApLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMyLCBwcmVmaXhDbHMgKyAnLXBvcHVwLScgKyBhbmltYXRpb25UeXBlLCBwb3B1cCAmJiBhbmltYXRpb25UeXBlKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzMiwgcHJlZml4Q2xzICsgJy1hbmRyb2lkJywgcGxhdGZvcm0gPT09ICdhbmRyb2lkJyksIF9jbGFzc25hbWVzMikpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nLCBfZXh0ZW5kcyh7fSwgcmVzdFByb3BzLCB7IHByZWZpeENsczogcHJlZml4Q2xzLCBjbGFzc05hbWU6IGNscywgd3JhcENsYXNzTmFtZTogd3JhcENscywgdHJhbnNpdGlvbk5hbWU6IHRyYW5zaXRpb25OYW1lIHx8IHRyYW5zTmFtZSwgbWFza1RyYW5zaXRpb25OYW1lOiBtYXNrVHJhbnNpdGlvbk5hbWUgfHwgbWFza1RyYW5zTmFtZSwgc3R5bGU6IHN0eWxlLCBmb290ZXI6IGZvb3RlckRvbSB9KSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTW9kYWw7XG59KE1vZGFsQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgTW9kYWw7XG5cbk1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1tb2RhbCcsXG4gICAgdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICAgIHBvcHVwOiBmYWxzZSxcbiAgICBhbmltYXRpb25UeXBlOiAnc2xpZGUtZG93bicsXG4gICAgYW5pbWF0ZWQ6IHRydWUsXG4gICAgc3R5bGU6IHt9LFxuICAgIG9uU2hvdzogZnVuY3Rpb24gb25TaG93KCkge30sXG5cbiAgICBmb290ZXI6IFtdLFxuICAgIGNsb3NhYmxlOiBmYWxzZSxcbiAgICBvcGVyYXRpb246IGZhbHNlLFxuICAgIHBsYXRmb3JtOiAnaW9zJ1xufTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY2xvc2VzdCBmcm9tICcuLi9fdXRpbC9jbG9zZXN0JztcbmltcG9ydCBNb2RhbCBmcm9tICcuL01vZGFsJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFsZXJ0KHRpdGxlLCBtZXNzYWdlKSB7XG4gICAgdmFyIGFjdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFt7IHRleHQ6ICfnoa7lrponIH1dO1xuICAgIHZhciBwbGF0Zm9ybSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJ2lvcyc7XG5cbiAgICB2YXIgY2xvc2VkID0gZmFsc2U7XG4gICAgaWYgKCF0aXRsZSAmJiAhbWVzc2FnZSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnTXVzdCBzcGVjaWZ5IGVpdGhlciBhbiBhbGVydCB0aXRsZSwgb3IgbWVzc2FnZSwgb3IgYm90aCcpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge31cbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShkaXYpO1xuICAgICAgICBpZiAoZGl2ICYmIGRpdi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBmb290ZXIgPSBhY3Rpb25zLm1hcChmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmx5LWFycm93LWZ1bmN0aW9uc1xuICAgICAgICB2YXIgb3JnaW5QcmVzcyA9IGJ1dHRvbi5vblByZXNzIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICBidXR0b24ub25QcmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVzID0gb3JnaW5QcmVzcygpO1xuICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMudGhlbikge1xuICAgICAgICAgICAgICAgIHJlcy50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9KVsnY2F0Y2gnXShmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9KTtcbiAgICB2YXIgcHJlZml4Q2xzID0gJ2FtLW1vZGFsJztcbiAgICBmdW5jdGlvbiBvbldyYXBUb3VjaFN0YXJ0KGUpIHtcbiAgICAgICAgaWYgKCEvaVBob25lfGlQb2R8aVBhZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcE5vZGUgPSBjbG9zZXN0KGUudGFyZ2V0LCAnLicgKyBwcmVmaXhDbHMgKyAnLWZvb3RlcicpO1xuICAgICAgICBpZiAoIXBOb2RlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUmVhY3RET00ucmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIE1vZGFsLFxuICAgICAgICB7IHZpc2libGU6IHRydWUsIHRyYW5zcGFyZW50OiB0cnVlLCB0aXRsZTogdGl0bGUsIHRyYW5zaXRpb25OYW1lOiAnYW0tem9vbScsIGNsb3NhYmxlOiBmYWxzZSwgbWFza0Nsb3NhYmxlOiBmYWxzZSwgZm9vdGVyOiBmb290ZXIsIG1hc2tUcmFuc2l0aW9uTmFtZTogJ2FtLWZhZGUnLCBwbGF0Zm9ybTogcGxhdGZvcm0sIHdyYXBQcm9wczogeyBvblRvdWNoU3RhcnQ6IG9uV3JhcFRvdWNoU3RhcnQgfSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1hbGVydC1jb250ZW50JyB9LFxuICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICApXG4gICAgKSwgZGl2KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjbG9zZTogY2xvc2VcbiAgICB9O1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBjbG9zZXN0IGZyb20gJy4uL191dGlsL2Nsb3Nlc3QnO1xuaW1wb3J0IE1vZGFsIGZyb20gJy4vTW9kYWwnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3BlcmF0aW9uKCkge1xuICAgIHZhciBhY3Rpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbeyB0ZXh0OiAn56Gu5a6aJyB9XTtcbiAgICB2YXIgcGxhdGZvcm0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdpb3MnO1xuXG4gICAgdmFyIGNsb3NlZCA9IGZhbHNlO1xuICAgIHZhciBwcmVmaXhDbHMgPSAnYW0tbW9kYWwnO1xuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gICAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUoZGl2KTtcbiAgICAgICAgaWYgKGRpdiAmJiBkaXYucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZm9vdGVyID0gYWN0aW9ucy5tYXAoZnVuY3Rpb24gKGJ1dHRvbikge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25seS1hcnJvdy1mdW5jdGlvbnNcbiAgICAgICAgdmFyIG9yZ2luUHJlc3MgPSBidXR0b24ub25QcmVzcyB8fCBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgYnV0dG9uLm9uUHJlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlcyA9IG9yZ2luUHJlc3MoKTtcbiAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLnRoZW4pIHtcbiAgICAgICAgICAgICAgICByZXMudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSlbJ2NhdGNoJ10oZnVuY3Rpb24gKCkge30pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBidXR0b247XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gb25XcmFwVG91Y2hTdGFydChlKSB7XG4gICAgICAgIGlmICghL2lQaG9uZXxpUG9kfGlQYWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBOb2RlID0gY2xvc2VzdChlLnRhcmdldCwgJy5hbS1tb2RhbC1mb290ZXInKTtcbiAgICAgICAgaWYgKCFwTm9kZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFJlYWN0RE9NLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KE1vZGFsLCB7IHZpc2libGU6IHRydWUsIG9wZXJhdGlvbjogdHJ1ZSwgdHJhbnNwYXJlbnQ6IHRydWUsIHByZWZpeENsczogcHJlZml4Q2xzLCB0cmFuc2l0aW9uTmFtZTogJ2FtLXpvb20nLCBjbG9zYWJsZTogZmFsc2UsIG1hc2tDbG9zYWJsZTogdHJ1ZSwgb25DbG9zZTogY2xvc2UsIGZvb3RlcjogZm9vdGVyLCBtYXNrVHJhbnNpdGlvbk5hbWU6ICdhbS1mYWRlJywgY2xhc3NOYW1lOiAnYW0tbW9kYWwtb3BlcmF0aW9uJywgcGxhdGZvcm06IHBsYXRmb3JtLCB3cmFwUHJvcHM6IHsgb25Ub3VjaFN0YXJ0OiBvbldyYXBUb3VjaFN0YXJ0IH0gfSksIGRpdik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xvc2U6IGNsb3NlXG4gICAgfTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY2xvc2VzdCBmcm9tICcuLi9fdXRpbC9jbG9zZXN0JztcbmltcG9ydCBNb2RhbCBmcm9tICcuL01vZGFsJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByb21wdCh0aXRsZSwgbWVzc2FnZSwgY2FsbGJhY2tPckFjdGlvbnMpIHtcbiAgICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJ2RlZmF1bHQnO1xuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6ICcnO1xuICAgIHZhciBwbGFjZWhvbGRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IFsnJywgJyddO1xuICAgIHZhciBwbGF0Zm9ybSA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogJ2lvcyc7XG5cbiAgICB2YXIgY2xvc2VkID0gZmFsc2U7XG4gICAgZGVmYXVsdFZhbHVlID0gdHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ3N0cmluZycgPyBkZWZhdWx0VmFsdWUgOiB0eXBlb2YgZGVmYXVsdFZhbHVlID09PSAnbnVtYmVyJyA/ICcnICsgZGVmYXVsdFZhbHVlIDogJyc7XG4gICAgaWYgKCFjYWxsYmFja09yQWN0aW9ucykge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnTXVzdCBzcGVjaWZ5IGNhbGxiYWNrT3JBY3Rpb25zJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7fVxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgcHJlZml4Q2xzID0gJ2FtLW1vZGFsJztcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgdGV4dDogZGVmYXVsdFZhbHVlXG4gICAgfTtcbiAgICBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgdmFyIGlucHV0VHlwZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtcbiAgICAgICAgaWYgKGlucHV0VHlwZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGF0YVtpbnB1dFR5cGVdID0gdGFyZ2V0LnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGhvdGZpeCBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi1tb2JpbGUvaXNzdWVzLzIxNzdcbiAgICBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IGUuY3VycmVudFRhcmdldCB8fCBlLnRhcmdldDtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgdGFyZ2V0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGlucHV0RG9tID0gdm9pZCAwO1xuICAgIHZhciBmb2N1c0ZuID0gZnVuY3Rpb24gZm9jdXNGbihpbnB1dCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnbG9naW4tcGFzc3dvcmQnOlxuICAgICAgICAgICAgaW5wdXREb20gPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlucHV0LWNvbnRhaW5lcicgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQnIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIGRlZmF1bHRWYWx1ZTogZGF0YS50ZXh0LCByZWY6IGZ1bmN0aW9uIHJlZihpbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9jdXNGbihpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25DbGljazogb25DbGljaywgb25DaGFuZ2U6IG9uQ2hhbmdlLCBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXJzWzBdIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dCcgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICdwYXNzd29yZCcsIGRlZmF1bHRWYWx1ZTogZGF0YS5wYXNzd29yZCwgb25DbGljazogb25DbGljaywgb25DaGFuZ2U6IG9uQ2hhbmdlLCBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXJzWzFdIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NlY3VyZS10ZXh0JzpcbiAgICAgICAgICAgIGlucHV0RG9tID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dC1jb250YWluZXInIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlucHV0JyB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgdHlwZTogJ3Bhc3N3b3JkJywgZGVmYXVsdFZhbHVlOiBkYXRhLnBhc3N3b3JkLCByZWY6IGZ1bmN0aW9uIHJlZihpbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9jdXNGbihpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25DbGljazogb25DbGljaywgb25DaGFuZ2U6IG9uQ2hhbmdlLCBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXJzWzBdIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaW5wdXREb20gPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlucHV0LWNvbnRhaW5lcicgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQnIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIGRlZmF1bHRWYWx1ZTogZGF0YS50ZXh0LCByZWY6IGZ1bmN0aW9uIHJlZihpbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9jdXNGbihpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25DbGljazogb25DbGljaywgb25DaGFuZ2U6IG9uQ2hhbmdlLCBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXJzWzBdIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgIH1cbiAgICB2YXIgY29udGVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBudWxsLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBpbnB1dERvbVxuICAgICk7XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShkaXYpO1xuICAgICAgICBpZiAoZGl2ICYmIGRpdi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUNvbmZpcm0oY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfZGF0YSR0ZXh0ID0gZGF0YS50ZXh0LFxuICAgICAgICAgICAgdGV4dCA9IF9kYXRhJHRleHQgPT09IHVuZGVmaW5lZCA/ICcnIDogX2RhdGEkdGV4dCxcbiAgICAgICAgICAgIF9kYXRhJHBhc3N3b3JkID0gZGF0YS5wYXNzd29yZCxcbiAgICAgICAgICAgIHBhc3N3b3JkID0gX2RhdGEkcGFzc3dvcmQgPT09IHVuZGVmaW5lZCA/ICcnIDogX2RhdGEkcGFzc3dvcmQ7XG5cbiAgICAgICAgdmFyIGNhbGxiYWNrQXJncyA9IHR5cGUgPT09ICdsb2dpbi1wYXNzd29yZCcgPyBbdGV4dCwgcGFzc3dvcmRdIDogdHlwZSA9PT0gJ3NlY3VyZS10ZXh0JyA/IFtwYXNzd29yZF0gOiBbdGV4dF07XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGNhbGxiYWNrQXJncyk7XG4gICAgfVxuICAgIHZhciBhY3Rpb25zID0gdm9pZCAwO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2tPckFjdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYWN0aW9ucyA9IFt7XG4gICAgICAgICAgICB0ZXh0OiAn5Y+W5raIJyxcbiAgICAgICAgICAgIG9uUHJlc3M6IGZ1bmN0aW9uIG9uUHJlc3MoKSB7fVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0ZXh0OiAn56Gu5a6aJyxcbiAgICAgICAgICAgIG9uUHJlc3M6IGZ1bmN0aW9uIG9uUHJlc3MoKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlQ29uZmlybShjYWxsYmFja09yQWN0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGlvbnMgPSBjYWxsYmFja09yQWN0aW9ucy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGV4dDogaXRlbS50ZXh0LFxuICAgICAgICAgICAgICAgIG9uUHJlc3M6IGZ1bmN0aW9uIG9uUHJlc3MoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVDb25maXJtKGl0ZW0ub25QcmVzcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBmb290ZXIgPSBhY3Rpb25zLm1hcChmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmx5LWFycm93LWZ1bmN0aW9uc1xuICAgICAgICB2YXIgb3JnaW5QcmVzcyA9IGJ1dHRvbi5vblByZXNzIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICBidXR0b24ub25QcmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVzID0gb3JnaW5QcmVzcygpO1xuICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMudGhlbikge1xuICAgICAgICAgICAgICAgIHJlcy50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9KVsnY2F0Y2gnXShmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBvbldyYXBUb3VjaFN0YXJ0KGUpIHtcbiAgICAgICAgLy8gZXhjbHVkZSBpbnB1dCBlbGVtZW50IGZvciBmb2N1c1xuICAgICAgICBpZiAoIS9pUGhvbmV8aVBvZHxpUGFkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwTm9kZSA9IGNsb3Nlc3QoZS50YXJnZXQsICcuJyArIHByZWZpeENscyArICctY29udGVudCcpO1xuICAgICAgICBpZiAoIXBOb2RlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUmVhY3RET00ucmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIE1vZGFsLFxuICAgICAgICB7IHZpc2libGU6IHRydWUsIHRyYW5zcGFyZW50OiB0cnVlLCBwcmVmaXhDbHM6IHByZWZpeENscywgdGl0bGU6IHRpdGxlLCBjbG9zYWJsZTogZmFsc2UsIG1hc2tDbG9zYWJsZTogZmFsc2UsIHRyYW5zaXRpb25OYW1lOiAnYW0tem9vbScsIGZvb3RlcjogZm9vdGVyLCBtYXNrVHJhbnNpdGlvbk5hbWU6ICdhbS1mYWRlJywgcGxhdGZvcm06IHBsYXRmb3JtLCB3cmFwUHJvcHM6IHsgb25Ub3VjaFN0YXJ0OiBvbldyYXBUb3VjaFN0YXJ0IH0gfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcHJvcG10LWNvbnRlbnQnIH0sXG4gICAgICAgICAgICBjb250ZW50XG4gICAgICAgIClcbiAgICApLCBkaXYpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNsb3NlOiBjbG9zZVxuICAgIH07XG59IiwiaW1wb3J0IGFsZXJ0IGZyb20gJy4vYWxlcnQnO1xuaW1wb3J0IE1vZGFsIGZyb20gJy4vTW9kYWwnO1xuaW1wb3J0IG9wZXJhdGlvbiBmcm9tICcuL29wZXJhdGlvbic7XG5pbXBvcnQgcHJvbXB0IGZyb20gJy4vcHJvbXB0Jztcbk1vZGFsLmFsZXJ0ID0gYWxlcnQ7XG5Nb2RhbC5wcm9tcHQgPSBwcm9tcHQ7XG5Nb2RhbC5vcGVyYXRpb24gPSBvcGVyYXRpb247XG5leHBvcnQgZGVmYXVsdCBNb2RhbDsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgTmF2QmFyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoTmF2QmFyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIE5hdkJhcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5hdkJhcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChOYXZCYXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOYXZCYXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTmF2QmFyLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgbW9kZSA9IF9hLm1vZGUsXG4gICAgICAgICAgICAgICAgaWNvbiA9IF9hLmljb24sXG4gICAgICAgICAgICAgICAgb25MZWZ0Q2xpY2sgPSBfYS5vbkxlZnRDbGljayxcbiAgICAgICAgICAgICAgICBsZWZ0Q29udGVudCA9IF9hLmxlZnRDb250ZW50LFxuICAgICAgICAgICAgICAgIHJpZ2h0Q29udGVudCA9IF9hLnJpZ2h0Q29udGVudCxcbiAgICAgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInByZWZpeENsc1wiLCBcImNsYXNzTmFtZVwiLCBcImNoaWxkcmVuXCIsIFwibW9kZVwiLCBcImljb25cIiwgXCJvbkxlZnRDbGlja1wiLCBcImxlZnRDb250ZW50XCIsIFwicmlnaHRDb250ZW50XCJdKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHt9LCByZXN0UHJvcHMsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzTmFtZSwgcHJlZml4Q2xzLCBwcmVmaXhDbHMgKyAnLScgKyBtb2RlKSB9KSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctbGVmdCcsIHJvbGU6ICdidXR0b24nLCBvbkNsaWNrOiBvbkxlZnRDbGljayB9LFxuICAgICAgICAgICAgICAgICAgICBpY29uID9cbiAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmpzeC1uby1tdWx0aWxpbmUtanNcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWxlZnQtaWNvbicsICdhcmlhLWhpZGRlbic6ICd0cnVlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblxuICAgICAgICAgICAgICAgICAgICApIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdENvbnRlbnRcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aXRsZScgfSxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1yaWdodCcgfSxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRDb250ZW50XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBOYXZCYXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IE5hdkJhcjtcblxuTmF2QmFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1uYXZiYXInLFxuICAgIG1vZGU6ICdkYXJrJyxcbiAgICBvbkxlZnRDbGljazogZnVuY3Rpb24gb25MZWZ0Q2xpY2soKSB7fVxufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbi8qXG4gKiBodHRwczovL2dpdGh1Yi5jb20vamFzb25zbHl2aWEvcmVhY3QtbWFycXVlZVxuICogcmVtb3ZlIFBDXG4gKiBzdXBwb3J0IFJlYWN0IEVsZW1lbnQgZm9yIHRleHQgcHJvcFxuKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxudmFyIE1hcnF1ZWUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhNYXJxdWVlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIE1hcnF1ZWUoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXJxdWVlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTWFycXVlZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1hcnF1ZWUpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGFuaW1hdGVkV2lkdGg6IDAsXG4gICAgICAgICAgICBvdmVyZmxvd1dpZHRoOiAwXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTWFycXVlZSwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLl9tZWFzdXJlVGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRBbmltYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuX21lYXN1cmVUZXh0KCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX21hcnF1ZWVUaW1lcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0QW5pbWF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX21hcnF1ZWVUaW1lcik7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIHRleHQgPSBfcHJvcHMudGV4dDtcblxuICAgICAgICAgICAgdmFyIHN0eWxlID0gX2V4dGVuZHMoeyBwb3NpdGlvbjogJ3JlbGF0aXZlJywgcmlnaHQ6IHRoaXMuc3RhdGUuYW5pbWF0ZWRXaWR0aCwgd2hpdGVTcGFjZTogJ25vd3JhcCcsIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snIH0sIHRoaXMucHJvcHMuc3R5bGUpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctbWFycXVlZS13cmFwICcgKyBjbGFzc05hbWUsIHN0eWxlOiB7IG92ZXJmbG93OiAnaGlkZGVuJyB9LCByb2xlOiAnbWFycXVlZScgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudGV4dFJlZiA9IGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW1hcnF1ZWUnLCBzdHlsZTogc3R5bGUgfSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19zdGFydEFuaW1hdGlvbicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RhcnRBbmltYXRpb24oKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHRoaXMuX21hcnF1ZWVUaW1lcikge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fbWFycXVlZVRpbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmcHMgPSB0aGlzLnByb3BzLmZwcztcbiAgICAgICAgICAgIHZhciBUSU1FT1VUID0gMSAvIGZwcyAqIDEwMDA7XG4gICAgICAgICAgICB2YXIgaXNMZWFkaW5nID0gdGhpcy5zdGF0ZS5hbmltYXRlZFdpZHRoID09PSAwO1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSBpc0xlYWRpbmcgPyB0aGlzLnByb3BzLmxlYWRpbmcgOiBUSU1FT1VUO1xuICAgICAgICAgICAgdmFyIGFuaW1hdGUgPSBmdW5jdGlvbiBhbmltYXRlKCkge1xuICAgICAgICAgICAgICAgIHZhciBvdmVyZmxvd1dpZHRoID0gX3RoaXMzLnN0YXRlLm92ZXJmbG93V2lkdGg7XG5cbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0ZWRXaWR0aCA9IF90aGlzMy5zdGF0ZS5hbmltYXRlZFdpZHRoICsgMTtcbiAgICAgICAgICAgICAgICB2YXIgaXNSb3VuZE92ZXIgPSBhbmltYXRlZFdpZHRoID4gb3ZlcmZsb3dXaWR0aDtcbiAgICAgICAgICAgICAgICBpZiAoaXNSb3VuZE92ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMy5wcm9wcy5sb29wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlZFdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNSb3VuZE92ZXIgJiYgX3RoaXMzLnByb3BzLnRyYWlsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5fbWFycXVlZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlZFdpZHRoOiBhbmltYXRlZFdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5fbWFycXVlZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoYW5pbWF0ZSwgVElNRU9VVCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIF90aGlzMy5wcm9wcy50cmFpbGluZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGVkV2lkdGg6IGFuaW1hdGVkV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5fbWFycXVlZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoYW5pbWF0ZSwgVElNRU9VVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLm92ZXJmbG93V2lkdGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXJxdWVlVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChhbmltYXRlLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX21lYXN1cmVUZXh0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9tZWFzdXJlVGV4dCgpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy50ZXh0UmVmO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lciAmJiBub2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0V2lkdGggPSBub2RlLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBvdmVyZmxvd1dpZHRoID0gdGV4dFdpZHRoIC0gY29udGFpbmVyV2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKG92ZXJmbG93V2lkdGggIT09IHRoaXMuc3RhdGUub3ZlcmZsb3dXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93V2lkdGg6IG92ZXJmbG93V2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE1hcnF1ZWU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IE1hcnF1ZWU7XG5cbk1hcnF1ZWUuZGVmYXVsdFByb3BzID0ge1xuICAgIHRleHQ6ICcnLFxuICAgIGxvb3A6IGZhbHNlLFxuICAgIGxlYWRpbmc6IDUwMCxcbiAgICB0cmFpbGluZzogODAwLFxuICAgIGZwczogNDAsXG4gICAgY2xhc3NOYW1lOiAnJ1xufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEljb24gZnJvbSAnLi4vaWNvbic7XG5pbXBvcnQgTWFycXVlZSBmcm9tICcuL01hcnF1ZWUnO1xuXG52YXIgTm90aWNlQmFyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoTm90aWNlQmFyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIE5vdGljZUJhcihwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm90aWNlQmFyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTm90aWNlQmFyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTm90aWNlQmFyKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBtb2RlID0gX3RoaXMkcHJvcHMubW9kZSxcbiAgICAgICAgICAgICAgICBvbkNsaWNrID0gX3RoaXMkcHJvcHMub25DbGljaztcblxuICAgICAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gJ2Nsb3NhYmxlJykge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzaG93OiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTm90aWNlQmFyLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBtb2RlID0gX2EubW9kZSxcbiAgICAgICAgICAgICAgICBpY29uID0gX2EuaWNvbixcbiAgICAgICAgICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljayxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gX2EuYWN0aW9uLFxuICAgICAgICAgICAgICAgIG1hcnF1ZWVQcm9wcyA9IF9hLm1hcnF1ZWVQcm9wcyxcbiAgICAgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcIm1vZGVcIiwgXCJpY29uXCIsIFwib25DbGlja1wiLCBcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwicHJlZml4Q2xzXCIsIFwiYWN0aW9uXCIsIFwibWFycXVlZVByb3BzXCJdKTtcbiAgICAgICAgICAgIHZhciBleHRyYVByb3BzID0ge307XG4gICAgICAgICAgICB2YXIgb3BlcmF0aW9uRG9tID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChtb2RlID09PSAnY2xvc2FibGUnKSB7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uRG9tID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW9wZXJhdGlvbicsIG9uQ2xpY2s6IHRoaXMub25DbGljaywgcm9sZTogJ2J1dHRvbicsICdhcmlhLWxhYmVsJzogJ2Nsb3NlJyB9LFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPyBhY3Rpb24gOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIHsgdHlwZTogJ2Nyb3NzJywgc2l6ZTogJ21kJyB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAnbGluaycpIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uRG9tID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctb3BlcmF0aW9uJywgcm9sZTogJ2J1dHRvbicsICdhcmlhLWxhYmVsJzogJ2dvIHRvIGRldGFpbCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbiA/IGFjdGlvbiA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwgeyB0eXBlOiAncmlnaHQnLCBzaXplOiAnbWQnIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV4dHJhUHJvcHMub25DbGljayA9IG9uQ2xpY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzLCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc2hvdyA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgX2V4dGVuZHMoeyBjbGFzc05hbWU6IHdyYXBDbHMgfSwgcmVzdFByb3BzLCBleHRyYVByb3BzLCB7IHJvbGU6ICdhbGVydCcgfSksXG4gICAgICAgICAgICAgICAgaWNvbiAmJlxuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpqc3gtbm8tbXVsdGlsaW5lLWpzXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24nLCAnYXJpYS1oaWRkZW4nOiAndHJ1ZScgfSxcbiAgICAgICAgICAgICAgICAgICAgaWNvblxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbnRlbnQnIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWFycXVlZSwgX2V4dGVuZHMoeyBwcmVmaXhDbHM6IHByZWZpeENscywgdGV4dDogY2hpbGRyZW4gfSwgbWFycXVlZVByb3BzKSlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbkRvbVxuICAgICAgICAgICAgKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTm90aWNlQmFyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBOb3RpY2VCYXI7XG5cbk5vdGljZUJhci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tbm90aWNlLWJhcicsXG4gICAgbW9kZTogJycsXG4gICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7IHR5cGU6ICd2b2ljZScsIHNpemU6ICd4eHMnIH0pLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7fVxufTsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuLyogdHNsaW50OmRpc2FibGU6anN4LW5vLW11bHRpbGluZS1qcyAqL1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldENvbXBvbmVudExvY2FsZSB9IGZyb20gJy4uL191dGlsL2dldExvY2FsZSc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL2J1dHRvbic7XG5pbXBvcnQgRmxleCBmcm9tICcuLi9mbGV4JztcblxudmFyIFBhZ2luYXRpb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhQYWdpbmF0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFBhZ2luYXRpb24ocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2luYXRpb24pO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQYWdpbmF0aW9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFnaW5hdGlvbikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGN1cnJlbnQ6IHByb3BzLmN1cnJlbnRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQYWdpbmF0aW9uLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgICBpZiAobmV4dFByb3BzLmN1cnJlbnQgIT09IHRoaXMuc3RhdGUuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBuZXh0UHJvcHMuY3VycmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdvbkNoYW5nZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZShwKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgICAgbW9kZSA9IF9wcm9wcy5tb2RlLFxuICAgICAgICAgICAgICAgIHRvdGFsID0gX3Byb3BzLnRvdGFsLFxuICAgICAgICAgICAgICAgIHNpbXBsZSA9IF9wcm9wcy5zaW1wbGU7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3RhdGUuY3VycmVudDtcblxuICAgICAgICAgICAgdmFyIGxvY2FsZSA9IGdldENvbXBvbmVudExvY2FsZSh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsICdQYWdpbmF0aW9uJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1aXJlKCcuL2xvY2FsZS96aF9DTicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgcHJldlRleHQgPSBsb2NhbGUucHJldlRleHQsXG4gICAgICAgICAgICAgICAgbmV4dFRleHQgPSBsb2NhbGUubmV4dFRleHQ7XG5cbiAgICAgICAgICAgIHZhciBtYXJrdXAgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIEZsZXgsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBGbGV4Lkl0ZW0sXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXdyYXAtYnRuICcgKyBwcmVmaXhDbHMgKyAnLXdyYXAtYnRuLXByZXYnIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBCdXR0b24sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlubGluZTogdHJ1ZSwgZGlzYWJsZWQ6IGN1cnJlbnQgPD0gMSwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNoYW5nZShjdXJyZW50IC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlRleHRcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbiA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIEZsZXguSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgICAgICAgICAgICkgOiAhc2ltcGxlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIEZsZXguSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctd3JhcCcsICdhcmlhLWxpdmUnOiAnYXNzZXJ0aXZlJyB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdhY3RpdmUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICcvJyxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBGbGV4Lkl0ZW0sXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXdyYXAtYnRuICcgKyBwcmVmaXhDbHMgKyAnLXdyYXAtYnRuLW5leHQnIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBCdXR0b24sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlubGluZTogdHJ1ZSwgZGlzYWJsZWQ6IGN1cnJlbnQgPj0gdG90YWwsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DaGFuZ2UoX3RoaXMyLnN0YXRlLmN1cnJlbnQgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChtb2RlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIG1hcmt1cCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy13cmFwJyB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdhY3RpdmUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICcvJyxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ3BvaW50ZXInKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogJ2RvdC0nICsgaSwgY2xhc3NOYW1lOiBjbGFzc25hbWVzKHByZWZpeENscyArICctd3JhcC1kb3QnLCBfZGVmaW5lUHJvcGVydHkoe30sIHByZWZpeENscyArICctd3JhcC1kb3QtYWN0aXZlJywgaSArIDEgPT09IGN1cnJlbnQpKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnc3BhbicsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXJrdXAgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctd3JhcCcgfSxcbiAgICAgICAgICAgICAgICAgICAgYXJyXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbHMgPSBjbGFzc25hbWVzKHByZWZpeENscywgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbHMsIHN0eWxlOiBzdHlsZSB9LFxuICAgICAgICAgICAgICAgIG1hcmt1cFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQYWdpbmF0aW9uO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBQYWdpbmF0aW9uO1xuXG5QYWdpbmF0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1wYWdpbmF0aW9uJyxcbiAgICBtb2RlOiAnYnV0dG9uJyxcbiAgICBjdXJyZW50OiAxLFxuICAgIHRvdGFsOiAwLFxuICAgIHNpbXBsZTogZmFsc2UsXG4gICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge31cbn07XG5QYWdpbmF0aW9uLmNvbnRleHRUeXBlcyA9IHtcbiAgICBhbnRMb2NhbGU6IFByb3BUeXBlcy5vYmplY3Rcbn07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGFycmF5VHJlZUZpbHRlciBmcm9tICdhcnJheS10cmVlLWZpbHRlcic7XG5pbXBvcnQgTXVsdGlQaWNrZXIgZnJvbSAncm1jLXBpY2tlci9lcy9NdWx0aVBpY2tlcic7XG5pbXBvcnQgUGlja2VyIGZyb20gJ3JtYy1waWNrZXIvbGliL1BpY2tlcic7XG5cbnZhciBDYXNjYWRlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKENhc2NhZGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIENhc2NhZGVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FzY2FkZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDYXNjYWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENhc2NhZGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogX3RoaXMuZ2V0VmFsdWUoX3RoaXMucHJvcHMuZGF0YSwgX3RoaXMucHJvcHMuZGVmYXVsdFZhbHVlIHx8IF90aGlzLnByb3BzLnZhbHVlKVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vblZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gYXJyYXlUcmVlRmlsdGVyKF90aGlzLnByb3BzLmRhdGEsIGZ1bmN0aW9uIChjLCBsZXZlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsZXZlbCA8PSBpbmRleCAmJiBjLnZhbHVlID09PSB2YWx1ZVtsZXZlbF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICAgICAgdmFyIGkgPSB2b2lkIDA7XG4gICAgICAgICAgICBmb3IgKGkgPSBpbmRleCArIDE7IGRhdGEgJiYgZGF0YS5jaGlsZHJlbiAmJiBkYXRhLmNoaWxkcmVuLmxlbmd0aCAmJiBpIDwgX3RoaXMucHJvcHMuY29sczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgdmFsdWVbaV0gPSBkYXRhLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUubGVuZ3RoID0gaTtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdmFsdWU6IHZhbHVlIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENhc2NhZGVyLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuZ2V0VmFsdWUobmV4dFByb3BzLmRhdGEsIG5leHRQcm9wcy52YWx1ZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0VmFsdWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoZCwgdmFsKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGQgfHwgdGhpcy5wcm9wcy5kYXRhO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsIHx8IHRoaXMucHJvcHMudmFsdWUgfHwgdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICBpZiAoIXZhbHVlIHx8ICF2YWx1ZS5sZW5ndGggfHwgdmFsdWUuaW5kZXhPZih1bmRlZmluZWQpID4gLTEpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm9wcy5jb2xzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2ldID0gZGF0YVswXS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhWzBdLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRDb2xzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbHMoKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBkYXRhID0gX3Byb3BzLmRhdGEsXG4gICAgICAgICAgICAgICAgY29scyA9IF9wcm9wcy5jb2xzLFxuICAgICAgICAgICAgICAgIHBpY2tlclByZWZpeENscyA9IF9wcm9wcy5waWNrZXJQcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgcGlja2VySXRlbVN0eWxlID0gX3Byb3BzLnBpY2tlckl0ZW1TdHlsZSxcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3JTdHlsZSA9IF9wcm9wcy5pbmRpY2F0b3JTdHlsZTtcblxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlblRyZWUgPSBhcnJheVRyZWVGaWx0ZXIoZGF0YSwgZnVuY3Rpb24gKGMsIGxldmVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGMudmFsdWUgPT09IHZhbHVlW2xldmVsXTtcbiAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjLmNoaWxkcmVuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmVlZFBhZCA9IGNvbHMgLSBjaGlsZHJlblRyZWUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG5lZWRQYWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWVkUGFkOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5UcmVlLnB1c2goW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkcmVuVHJlZS5sZW5ndGggPSBjb2xzIC0gMTtcbiAgICAgICAgICAgIGNoaWxkcmVuVHJlZS51bnNoaWZ0KGRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuVHJlZS5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFBpY2tlciwgeyBrZXk6IGxldmVsLCBwcmVmaXhDbHM6IHBpY2tlclByZWZpeENscywgc3R5bGU6IHsgZmxleDogMSB9LCBkaXNhYmxlZDogZGlzYWJsZWQsIGl0ZW1TdHlsZTogcGlja2VySXRlbVN0eWxlLCBpbmRpY2F0b3JTdHlsZTogaW5kaWNhdG9yU3R5bGUgfSwgY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFBpY2tlci5JdGVtLCB7IHZhbHVlOiBpdGVtLnZhbHVlLCBrZXk6IGl0ZW0udmFsdWUgfSwgaXRlbS5sYWJlbCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICAgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgcm9vdE5hdGl2ZVByb3BzID0gcHJvcHMucm9vdE5hdGl2ZVByb3BzLFxuICAgICAgICAgICAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGU7XG5cbiAgICAgICAgICAgIHZhciBjb2xzID0gdGhpcy5nZXRDb2xzKCk7XG4gICAgICAgICAgICB2YXIgbXVsdGlTdHlsZSA9IF9leHRlbmRzKHsgZmxleERpcmVjdGlvbjogJ3JvdycsIGFsaWduSXRlbXM6ICdjZW50ZXInIH0sIHN0eWxlKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KE11bHRpUGlja2VyLCB7IHN0eWxlOiBtdWx0aVN0eWxlLCBwcmVmaXhDbHM6IHByZWZpeENscywgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHNlbGVjdGVkVmFsdWU6IHRoaXMuc3RhdGUudmFsdWUsIHJvb3ROYXRpdmVQcm9wczogcm9vdE5hdGl2ZVByb3BzLCBvblZhbHVlQ2hhbmdlOiB0aGlzLm9uVmFsdWVDaGFuZ2UsIG9uU2Nyb2xsQ2hhbmdlOiBwcm9wcy5vblNjcm9sbENoYW5nZSB9LCBjb2xzKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDYXNjYWRlcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuQ2FzY2FkZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbHM6IDMsXG4gICAgcHJlZml4Q2xzOiAncm1jLWNhc2NhZGVyJyxcbiAgICBwaWNrZXJQcmVmaXhDbHM6ICdybWMtcGlja2VyJyxcbiAgICBkYXRhOiBbXSxcbiAgICBkaXNhYmxlZDogZmFsc2Vcbn07XG5leHBvcnQgZGVmYXVsdCBDYXNjYWRlcjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUG9wdXBQaWNrZXIgZnJvbSAncm1jLXBpY2tlci9lcy9Qb3B1cCc7XG5cbnZhciBQb3B1cENhc2NhZGVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUG9wdXBDYXNjYWRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBQb3B1cENhc2NhZGVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9wdXBDYXNjYWRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvcHVwQ2FzY2FkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQb3B1cENhc2NhZGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMub25PayA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzLm9uQ2hhbmdlLFxuICAgICAgICAgICAgICAgIG9uT2sgPSBfdGhpcyRwcm9wcy5vbk9rO1xuXG4gICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSh2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbk9rKSB7XG4gICAgICAgICAgICAgICAgb25Payh2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQb3B1cENhc2NhZGVyLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wdXBQaWNrZXIsIF9leHRlbmRzKHsgcGlja2VyOiB0aGlzLnByb3BzLmNhc2NhZGVyIH0sIHRoaXMucHJvcHMsIHsgb25PazogdGhpcy5vbk9rIH0pKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQb3B1cENhc2NhZGVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5Qb3B1cENhc2NhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwaWNrZXJWYWx1ZVByb3A6ICd2YWx1ZScsXG4gICAgcGlja2VyVmFsdWVDaGFuZ2VQcm9wOiAnb25DaGFuZ2UnXG59O1xuZXhwb3J0IGRlZmF1bHQgUG9wdXBDYXNjYWRlcjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbi8qIHRzbGludDpkaXNhYmxlOm5vLWNvbnNvbGUgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG52YXIgSXRlbSA9IGZ1bmN0aW9uIEl0ZW0oX3Byb3BzKSB7XG4gICAgcmV0dXJuIG51bGw7XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKENvbXBvc2VkQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIF9hID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAgICAgX2luaGVyaXRzKF9hLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgICAgICBmdW5jdGlvbiBfYSgpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBfYSk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfYS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKF9hKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLnNlbGVjdCA9IGZ1bmN0aW9uICh2YWx1ZSwgaXRlbUhlaWdodCwgc2Nyb2xsVG8pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KF90aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnByb3BzLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0QnlJbmRleChpLCBpdGVtSGVpZ2h0LCBzY3JvbGxUbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0QnlJbmRleCgwLCBpdGVtSGVpZ2h0LCBzY3JvbGxUbyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuZG9TY3JvbGxpbmdDb21wbGV0ZSA9IGZ1bmN0aW9uICh0b3AsIGl0ZW1IZWlnaHQsIGZpcmVWYWx1ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzLmNvbXB1dGVDaGlsZEluZGV4KHRvcCwgaXRlbUhlaWdodCwgY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVWYWx1ZUNoYW5nZShjaGlsZC5wcm9wcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdjaGlsZCBub3QgZm91bmQnLCBjaGlsZHJlbiwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoX2EsIFt7XG4gICAgICAgICAgICBrZXk6ICdzZWxlY3RCeUluZGV4JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RCeUluZGV4KGluZGV4LCBpdGVtSGVpZ2h0LCB6c2Nyb2xsVG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IFJlYWN0LkNoaWxkcmVuLmNvdW50KHRoaXMucHJvcHMuY2hpbGRyZW4pIHx8ICFpdGVtSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgenNjcm9sbFRvKGluZGV4ICogaXRlbUhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NvbXB1dGVDaGlsZEluZGV4JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlQ2hpbGRJbmRleCh0b3AsIGl0ZW1IZWlnaHQsIGNoaWxkcmVuTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5yb3VuZCh0b3AgLyBpdGVtSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oaW5kZXgsIGNoaWxkcmVuTGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvc2VkQ29tcG9uZW50LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyBkb1Njcm9sbGluZ0NvbXBsZXRlOiB0aGlzLmRvU2Nyb2xsaW5nQ29tcGxldGUsIGNvbXB1dGVDaGlsZEluZGV4OiB0aGlzLmNvbXB1dGVDaGlsZEluZGV4LCBzZWxlY3Q6IHRoaXMuc2VsZWN0IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBfYTtcbiAgICB9KFJlYWN0LkNvbXBvbmVudCksIF9hLkl0ZW0gPSBJdGVtLCBfYTtcbiAgICB2YXIgX2E7XG59IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUGlja2VyTWl4aW4gZnJvbSAnLi9QaWNrZXJNaXhpbic7XG5cbnZhciBQaWNrZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhQaWNrZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUGlja2VyKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQaWNrZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQaWNrZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQaWNrZXIpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc2Nyb2xsSGFuZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzY3JvbGxZID0gLTE7XG4gICAgICAgICAgICB2YXIgbGFzdFkgPSAwO1xuICAgICAgICAgICAgdmFyIHN0YXJ0WSA9IDA7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpc01vdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybShub2RlU3R5bGUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbm9kZVN0eWxlLnRyYW5zZm9ybSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIG5vZGVTdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgc2V0VHJhbnNpdGlvbiA9IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24obm9kZVN0eWxlLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG5vZGVTdHlsZS50cmFuc2l0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgbm9kZVN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiBzY3JvbGxUbyhfeCwgeSkge1xuICAgICAgICAgICAgICAgIHZhciB0aW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAuMztcblxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxZICE9PSB5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFkgPSB5O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGltZSAmJiAhX3RoaXMucHJvcHMubm9BbmltYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uKF90aGlzLmNvbnRlbnRSZWYuc3R5bGUsICdjdWJpYy1iZXppZXIoMCwwLDAuMiwxLjE1KSAnICsgdGltZSArICdzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNmb3JtKF90aGlzLmNvbnRlbnRSZWYuc3R5bGUsICd0cmFuc2xhdGUzZCgwLCcgKyAteSArICdweCwwKScpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNjcm9sbGluZ0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY29udGVudFJlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb24oX3RoaXMuY29udGVudFJlZi5zdHlsZSwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCArdGltZSAqIDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgVmVsb2NpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbkludGVydmFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAzMDtcbiAgICAgICAgICAgICAgICB2YXIgbWF4SW50ZXJ2YWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDtcblxuICAgICAgICAgICAgICAgIHZhciBfdGltZSA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIF95ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgX3ZlbG9jaXR5ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZDogZnVuY3Rpb24gcmVjb3JkKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub3cgPSArbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92ZWxvY2l0eSA9ICh5IC0gX3kpIC8gKG5vdyAtIF90aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3cgLSBfdGltZSA+PSBtaW5JbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92ZWxvY2l0eSA9IG5vdyAtIF90aW1lIDw9IG1heEludGVydmFsID8gX3ZlbG9jaXR5IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfeSA9IHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RpbWUgPSBub3c7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFZlbG9jaXR5OiBmdW5jdGlvbiBnZXRWZWxvY2l0eSh5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeSAhPT0gX3kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRlci5yZWNvcmQoeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZlbG9jaXR5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkZXI7XG4gICAgICAgICAgICB9KCk7XG4gICAgICAgICAgICB2YXIgb25GaW5pc2ggPSBmdW5jdGlvbiBvbkZpbmlzaCgpIHtcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRZID0gc2Nyb2xsWTtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gKF90aGlzLnByb3BzLmNoaWxkcmVuLmxlbmd0aCAtIDEpICogX3RoaXMuaXRlbUhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IC4zO1xuICAgICAgICAgICAgICAgIHZhciB2ZWxvY2l0eSA9IFZlbG9jaXR5LmdldFZlbG9jaXR5KHRhcmdldFkpICogNDtcbiAgICAgICAgICAgICAgICBpZiAodmVsb2NpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSA9IHZlbG9jaXR5ICogNDAgKyB0YXJnZXRZO1xuICAgICAgICAgICAgICAgICAgICB0aW1lID0gTWF0aC5hYnModmVsb2NpdHkpICogLjE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRZICUgX3RoaXMuaXRlbUhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRZID0gTWF0aC5yb3VuZCh0YXJnZXRZIC8gX3RoaXMuaXRlbUhlaWdodCkgKiBfdGhpcy5pdGVtSGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0WSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRZID4gaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFkgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjcm9sbFRvKDAsIHRhcmdldFksIHRpbWUgPCAuMyA/IC4zIDogdGltZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMub25TY3JvbGxDaGFuZ2UoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb25TdGFydCA9IGZ1bmN0aW9uIG9uU3RhcnQoeSkge1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdGFydFkgPSB5O1xuICAgICAgICAgICAgICAgIGxhc3RZID0gc2Nyb2xsWTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb25Nb3ZlID0gZnVuY3Rpb24gb25Nb3ZlKHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsRGlzYWJsZWQgfHwgIWlzTW92aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2Nyb2xsWSA9IGxhc3RZIC0geSArIHN0YXJ0WTtcbiAgICAgICAgICAgICAgICBWZWxvY2l0eS5yZWNvcmQoc2Nyb2xsWSk7XG4gICAgICAgICAgICAgICAgX3RoaXMub25TY3JvbGxDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICBzZXRUcmFuc2Zvcm0oX3RoaXMuY29udGVudFJlZi5zdHlsZSwgJ3RyYW5zbGF0ZTNkKDAsJyArIC1zY3JvbGxZICsgJ3B4LDApJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiB0b3VjaHN0YXJ0KGV2dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25TdGFydChldnQudG91Y2hlc1swXS5zY3JlZW5ZKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vdXNlZG93bjogZnVuY3Rpb24gbW91c2Vkb3duKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25TdGFydChldnQuc2NyZWVuWSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0b3VjaG1vdmU6IGZ1bmN0aW9uIHRvdWNobW92ZShldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIG9uTW92ZShldnQudG91Y2hlc1swXS5zY3JlZW5ZKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24gbW91c2Vtb3ZlKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgb25Nb3ZlKGV2dC5zY3JlZW5ZKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvdWNoZW5kOiBmdW5jdGlvbiB0b3VjaGVuZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRmluaXNoKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0b3VjaGNhbmNlbDogZnVuY3Rpb24gdG91Y2hjYW5jZWwoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvbkZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW91c2V1cDogZnVuY3Rpb24gbW91c2V1cCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRmluaXNoKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxZO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Nyb2xsVG86IHNjcm9sbFRvLFxuICAgICAgICAgICAgICAgIHNldERpc2FibGVkOiBmdW5jdGlvbiBzZXREaXNhYmxlZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc2FibGVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxEaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0oKTtcbiAgICAgICAgX3RoaXMuc2Nyb2xsVG8gPSBmdW5jdGlvbiAodG9wKSB7XG4gICAgICAgICAgICBfdGhpcy5zY3JvbGxIYW5kZXJzLnNjcm9sbFRvKDAsIHRvcCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnNjcm9sbFRvV2l0aG91dEFuaW1hdGlvbiA9IGZ1bmN0aW9uICh0b3ApIHtcbiAgICAgICAgICAgIF90aGlzLnNjcm9sbEhhbmRlcnMuc2Nyb2xsVG8oMCwgdG9wLCAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZmlyZVZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlICE9PSBfdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoJ3NlbGVjdGVkVmFsdWUnIGluIF90aGlzLnByb3BzKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25WYWx1ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblZhbHVlQ2hhbmdlKHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25TY3JvbGxDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdG9wID0gX3RoaXMuc2Nyb2xsSGFuZGVycy5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHRvcCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShfdGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gX3RoaXMucHJvcHMuY29tcHV0ZUNoaWxkSW5kZXgodG9wLCBfdGhpcy5pdGVtSGVpZ2h0LCBjaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zY3JvbGxWYWx1ZSAhPT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2Nyb2xsVmFsdWUgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQgJiYgX3RoaXMucHJvcHMub25TY3JvbGxDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uU2Nyb2xsQ2hhbmdlKGNoaWxkLnByb3BzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghY2hpbGQgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2NoaWxkIG5vdCBmb3VuZCcsIGNoaWxkcmVuLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnNjcm9sbGluZ0NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRvcCA9IF90aGlzLnNjcm9sbEhhbmRlcnMuZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmICh0b3AgPj0gMCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLmRvU2Nyb2xsaW5nQ29tcGxldGUodG9wLCBfdGhpcy5pdGVtSGVpZ2h0LCBfdGhpcy5maXJlVmFsdWVDaGFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZVN0YXRlID0gdm9pZCAwO1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHNlbGVjdGVkVmFsdWUgPSBfdGhpcyRwcm9wcy5zZWxlY3RlZFZhbHVlLFxuICAgICAgICAgICAgZGVmYXVsdFNlbGVjdGVkVmFsdWUgPSBfdGhpcyRwcm9wcy5kZWZhdWx0U2VsZWN0ZWRWYWx1ZTtcblxuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlU3RhdGUgPSBzZWxlY3RlZFZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGRlZmF1bHRTZWxlY3RlZFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkVmFsdWVTdGF0ZSA9IGRlZmF1bHRTZWxlY3RlZFZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShfdGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlU3RhdGUgPSBjaGlsZHJlbiAmJiBjaGlsZHJlblswXSAmJiBjaGlsZHJlblswXS5wcm9wcy52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWVTdGF0ZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFBpY2tlciwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGNvbnRlbnRSZWYgPSB0aGlzLmNvbnRlbnRSZWYsXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yUmVmID0gdGhpcy5pbmRpY2F0b3JSZWYsXG4gICAgICAgICAgICAgICAgbWFza1JlZiA9IHRoaXMubWFza1JlZixcbiAgICAgICAgICAgICAgICByb290UmVmID0gdGhpcy5yb290UmVmO1xuXG4gICAgICAgICAgICB2YXIgcm9vdEhlaWdodCA9IHJvb3RSZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWNvbXBvbmVudC9tLXBpY2tlci9pc3N1ZXMvMThcbiAgICAgICAgICAgIHZhciBpdGVtSGVpZ2h0ID0gdGhpcy5pdGVtSGVpZ2h0ID0gaW5kaWNhdG9yUmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICAgICAgICAgIHZhciBudW0gPSBNYXRoLmZsb29yKHJvb3RIZWlnaHQgLyBpdGVtSGVpZ2h0KTtcbiAgICAgICAgICAgIGlmIChudW0gJSAyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbnVtLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBudW0tLTtcbiAgICAgICAgICAgIG51bSAvPSAyO1xuICAgICAgICAgICAgY29udGVudFJlZi5zdHlsZS5wYWRkaW5nID0gaXRlbUhlaWdodCAqIG51bSArICdweCAwJztcbiAgICAgICAgICAgIGluZGljYXRvclJlZi5zdHlsZS50b3AgPSBpdGVtSGVpZ2h0ICogbnVtICsgJ3B4JztcbiAgICAgICAgICAgIG1hc2tSZWYuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnMTAwJSAnICsgaXRlbUhlaWdodCAqIG51bSArICdweCc7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEhhbmRlcnMuc2V0RGlzYWJsZWQodGhpcy5wcm9wcy5kaXNhYmxlZCk7XG4gICAgICAgICAgICB0aGlzLnByb3BzLnNlbGVjdCh0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWUsIHRoaXMuaXRlbUhlaWdodCwgdGhpcy5zY3JvbGxUbyk7XG4gICAgICAgICAgICB2YXIgcGFzc2l2ZVN1cHBvcnRlZCA9IHRoaXMucGFzc2l2ZVN1cHBvcnRlZCgpO1xuICAgICAgICAgICAgdmFyIHdpbGxQcmV2ZW50RGVmYXVsdCA9IHBhc3NpdmVTdXBwb3J0ZWQgPyB7IHBhc3NpdmU6IGZhbHNlIH0gOiBmYWxzZTtcbiAgICAgICAgICAgIHZhciB3aWxsTm90UHJldmVudERlZmF1bHQgPSBwYXNzaXZlU3VwcG9ydGVkID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuc2Nyb2xsSGFuZGVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKCd0b3VjaCcpID09PSAwIHx8IGtleS5pbmRleE9mKCdtb3VzZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwZCA9IGtleS5pbmRleE9mKCdtb3ZlJykgPj0gMCA/IHdpbGxQcmV2ZW50RGVmYXVsdCA6IHdpbGxOb3RQcmV2ZW50RGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgcm9vdFJlZi5hZGRFdmVudExpc3RlbmVyKGtleSwgX3RoaXMyLnNjcm9sbEhhbmRlcnNba2V5XSwgcGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnNjcm9sbEhhbmRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZigndG91Y2gnKSA9PT0gMCB8fCBrZXkuaW5kZXhPZignbW91c2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczMucm9vdFJlZi5yZW1vdmVFdmVudExpc3RlbmVyKGtleSwgX3RoaXMzLnNjcm9sbEhhbmRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3Bhc3NpdmVTdXBwb3J0ZWQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcGFzc2l2ZVN1cHBvcnRlZCgpIHtcbiAgICAgICAgICAgIHZhciBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzaXZlU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgICAgICAgICByZXR1cm4gcGFzc2l2ZVN1cHBvcnRlZDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmICgnc2VsZWN0ZWRWYWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZSAhPT0gbmV4dFByb3BzLnNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFZhbHVlOiBuZXh0UHJvcHMuc2VsZWN0ZWRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQucHJvcHMuc2VsZWN0KG5leHRQcm9wcy5zZWxlY3RlZFZhbHVlLCBfdGhpczQuaXRlbUhlaWdodCwgbmV4dFByb3BzLm5vQW5pbWF0ZSA/IF90aGlzNC5zY3JvbGxUb1dpdGhvdXRBbmltYXRpb24gOiBfdGhpczQuc2Nyb2xsVG8pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEhhbmRlcnMuc2V0RGlzYWJsZWQobmV4dFByb3BzLmRpc2FibGVkKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZSAhPT0gbmV4dFN0YXRlLnNlbGVjdGVkVmFsdWUgfHwgdGhpcy5wcm9wcy5jaGlsZHJlbiAhPT0gbmV4dFByb3BzLmNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3QodGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlLCB0aGlzLml0ZW1IZWlnaHQsIHRoaXMuc2Nyb2xsVG9XaXRob3V0QW5pbWF0aW9uKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0VmFsdWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICAgICAgICBpZiAoJ3NlbGVjdGVkVmFsdWUnIGluIHRoaXMucHJvcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3RlZFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbiAmJiBjaGlsZHJlblswXSAmJiBjaGlsZHJlblswXS5wcm9wcy52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfcGlja2VyQ2xzLFxuICAgICAgICAgICAgICAgIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGl0ZW1TdHlsZSA9IHByb3BzLml0ZW1TdHlsZSxcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3JTdHlsZSA9IHByb3BzLmluZGljYXRvclN0eWxlLFxuICAgICAgICAgICAgICAgIF9wcm9wcyRpbmRpY2F0b3JDbGFzcyA9IHByb3BzLmluZGljYXRvckNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3JDbGFzc05hbWUgPSBfcHJvcHMkaW5kaWNhdG9yQ2xhc3MgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJGluZGljYXRvckNsYXNzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcblxuICAgICAgICAgICAgdmFyIGl0ZW1DbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLWl0ZW0nO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkSXRlbUNsYXNzTmFtZSA9IGl0ZW1DbGFzc05hbWUgKyAnICcgKyBwcmVmaXhDbHMgKyAnLWl0ZW0tc2VsZWN0ZWQnO1xuICAgICAgICAgICAgdmFyIG1hcCA9IGZ1bmN0aW9uIG1hcChpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVtJHByb3BzID0gaXRlbS5wcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgX2l0ZW0kcHJvcHMkY2xhc3NOYW1lID0gX2l0ZW0kcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBfaXRlbSRwcm9wcyRjbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX2l0ZW0kcHJvcHMkY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IF9pdGVtJHByb3BzLnN0eWxlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9pdGVtJHByb3BzLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiBfZXh0ZW5kcyh7fSwgaXRlbVN0eWxlLCBzdHlsZSksIGNsYXNzTmFtZTogKHNlbGVjdGVkVmFsdWUgPT09IHZhbHVlID8gc2VsZWN0ZWRJdGVtQ2xhc3NOYW1lIDogaXRlbUNsYXNzTmFtZSkgKyAnICcgKyBjbGFzc05hbWUsIGtleTogdmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZHJlbiB8fCBpdGVtLnByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBjb21wYXRpYmlsaXR5IGZvciBwcmVhY3RcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IFJlYWN0LkNoaWxkcmVuID8gUmVhY3QuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBtYXApIDogW10uY29uY2F0KGNoaWxkcmVuKS5tYXAobWFwKTtcbiAgICAgICAgICAgIHZhciBwaWNrZXJDbHMgPSAoX3BpY2tlckNscyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX3BpY2tlckNscywgcHJvcHMuY2xhc3NOYW1lLCAhIXByb3BzLmNsYXNzTmFtZSksIF9kZWZpbmVQcm9wZXJ0eShfcGlja2VyQ2xzLCBwcmVmaXhDbHMsIHRydWUpLCBfcGlja2VyQ2xzKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHBpY2tlckNscyksIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LnJvb3RSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgfSwgc3R5bGU6IHRoaXMucHJvcHMuc3R5bGUgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1tYXNrJywgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUubWFza1JlZiA9IGVsO1xuICAgICAgICAgICAgICAgICAgICB9IH0pLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWluZGljYXRvciAnICsgaW5kaWNhdG9yQ2xhc3NOYW1lLCByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5pbmRpY2F0b3JSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgfSwgc3R5bGU6IGluZGljYXRvclN0eWxlIH0pLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250ZW50JywgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmNvbnRlbnRSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFBpY2tlcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdybWMtcGlja2VyJ1xufTtcbmV4cG9ydCBkZWZhdWx0IFBpY2tlck1peGluKFBpY2tlcik7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbi8qIHRzbGludDpkaXNhYmxlOmpzeC1uby1tdWx0aWxpbmUtanMgKi9cbmltcG9ydCB0cmVlRmlsdGVyIGZyb20gJ2FycmF5LXRyZWUtZmlsdGVyJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUk1DQ2FzY2FkZXIgZnJvbSAncm1jLWNhc2NhZGVyL2VzL0Nhc2NhZGVyJztcbmltcG9ydCBSTUNQb3B1cENhc2NhZGVyIGZyb20gJ3JtYy1jYXNjYWRlci9lcy9Qb3B1cCc7XG5pbXBvcnQgUk1DTXVsdGlQaWNrZXIgZnJvbSAncm1jLXBpY2tlci9lcy9NdWx0aVBpY2tlcic7XG5pbXBvcnQgUk1DUGlja2VyIGZyb20gJ3JtYy1waWNrZXIvZXMvUGlja2VyJztcbmltcG9ydCB7IGdldENvbXBvbmVudExvY2FsZSB9IGZyb20gJy4uL191dGlsL2dldExvY2FsZSc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHZhciBkZWZhdWx0Rm9ybWF0ID0gZnVuY3Rpb24gZGVmYXVsdEZvcm1hdCh2YWx1ZXMpIHtcbiAgICAgICAgLy8gbGFiZWwgaXMgSlNYLkVsZW1lbnQgb3Igb3RoZXJcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPiAwICYmIHR5cGVvZiB2YWx1ZXNbMF0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXMuam9pbignLCcpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJpZ2dlclR5cGU6ICdvbkNsaWNrJyxcbiAgICAgICAgcHJlZml4Q2xzOiAnYW0tcGlja2VyJyxcbiAgICAgICAgcGlja2VyUHJlZml4Q2xzOiAnYW0tcGlja2VyLWNvbCcsXG4gICAgICAgIHBvcHVwUHJlZml4Q2xzOiAnYW0tcGlja2VyLXBvcHVwJyxcbiAgICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgICAgICBjb2xzOiAzLFxuICAgICAgICBjYXNjYWRlOiB0cnVlLFxuICAgICAgICB0aXRsZTogJydcbiAgICB9O1xufVxuXG52YXIgQWJzdHJhY3RQaWNrZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhBYnN0cmFjdFBpY2tlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBBYnN0cmFjdFBpY2tlcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFic3RyYWN0UGlja2VyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQWJzdHJhY3RQaWNrZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBYnN0cmFjdFBpY2tlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLmdldFNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IF90aGlzLnByb3BzLnZhbHVlIHx8IFtdO1xuICAgICAgICAgICAgdmFyIHRyZWVDaGlsZHJlbiA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBkYXRhID0gX3RoaXMucHJvcHMuZGF0YTtcblxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLmNhc2NhZGUpIHtcbiAgICAgICAgICAgICAgICB0cmVlQ2hpbGRyZW4gPSB0cmVlRmlsdGVyKGRhdGEsIGZ1bmN0aW9uIChjLCBsZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYy52YWx1ZSA9PT0gdmFsdWVbbGV2ZWxdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmVlQ2hpbGRyZW4gPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV0uZmlsdGVyKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC52YWx1ZSA9PT0gdjtcbiAgICAgICAgICAgICAgICAgICAgfSlbMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucHJvcHMuZm9ybWF0ICYmIF90aGlzLnByb3BzLmZvcm1hdCh0cmVlQ2hpbGRyZW4ubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYubGFiZWw7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldFBpY2tlckNvbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGRhdGEgPSBfdGhpcyRwcm9wcy5kYXRhLFxuICAgICAgICAgICAgICAgIHBpY2tlclByZWZpeENscyA9IF90aGlzJHByb3BzLnBpY2tlclByZWZpeENscyxcbiAgICAgICAgICAgICAgICBpdGVtU3R5bGUgPSBfdGhpcyRwcm9wcy5pdGVtU3R5bGUsXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yU3R5bGUgPSBfdGhpcyRwcm9wcy5pbmRpY2F0b3JTdHlsZTtcblxuICAgICAgICAgICAgcmV0dXJuIGRhdGEubWFwKGZ1bmN0aW9uIChjb2wsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIFJNQ1BpY2tlcixcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IGluZGV4LCBwcmVmaXhDbHM6IHBpY2tlclByZWZpeENscywgc3R5bGU6IHsgZmxleDogMSB9LCBpdGVtU3R5bGU6IGl0ZW1TdHlsZSwgaW5kaWNhdG9yU3R5bGU6IGluZGljYXRvclN0eWxlIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJNQ1BpY2tlci5JdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBpdGVtLnZhbHVlLCB2YWx1ZTogaXRlbS52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbk9rID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zY3JvbGxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdiA9IF90aGlzLnNjcm9sbFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uodik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25Paykge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uT2sodik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnNldFNjcm9sbFZhbHVlID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIF90aGlzLnNjcm9sbFZhbHVlID0gdjtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc2V0Q2FzZWNhZGVTY3JvbGxWYWx1ZSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAvLyDnuqfogZTmg4XlhrXkuIvkv53or4HmlbDmja7mraPnoa7mgKfvvIzmu5rliqjov4fnqIvkuK3lj6rmnInlvZPmnIDlkI7kuIDnuqflj5jljJbml7bmiY3lj5jmm7TmlbDmja5cbiAgICAgICAgICAgIGlmICh2ICYmIF90aGlzLnNjcm9sbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IF90aGlzLnNjcm9sbFZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoID09PSB2Lmxlbmd0aCAmJiBfdGhpcy5zY3JvbGxWYWx1ZVtsZW5ndGggLSAxXSA9PT0gdltsZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2V0U2Nyb2xsVmFsdWUodik7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmZpeE9uT2sgPSBmdW5jdGlvbiAoY2FzY2FkZXIpIHtcbiAgICAgICAgICAgIGlmIChjYXNjYWRlciAmJiBjYXNjYWRlci5vbk9rICE9PSBfdGhpcy5vbk9rKSB7XG4gICAgICAgICAgICAgICAgY2FzY2FkZXIub25PayA9IF90aGlzLm9uT2s7XG4gICAgICAgICAgICAgICAgY2FzY2FkZXIuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25QaWNrZXJDaGFuZ2UgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgX3RoaXMuc2V0U2Nyb2xsVmFsdWUodik7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25QaWNrZXJDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblBpY2tlckNoYW5nZSh2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25WaXNpYmxlQ2hhbmdlID0gZnVuY3Rpb24gKHZpc2libGUpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFNjcm9sbFZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25WaXNpYmxlQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25WaXNpYmxlQ2hhbmdlKHZpc2libGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEFic3RyYWN0UGlja2VyLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIF9hJHZhbHVlID0gX2EudmFsdWUsXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBfYSR2YWx1ZSA9PT0gdW5kZWZpbmVkID8gW10gOiBfYSR2YWx1ZSxcbiAgICAgICAgICAgICAgICBwb3B1cFByZWZpeENscyA9IF9hLnBvcHVwUHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGl0ZW1TdHlsZSA9IF9hLml0ZW1TdHlsZSxcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3JTdHlsZSA9IF9hLmluZGljYXRvclN0eWxlLFxuICAgICAgICAgICAgICAgIG9rVGV4dCA9IF9hLm9rVGV4dCxcbiAgICAgICAgICAgICAgICBkaXNtaXNzVGV4dCA9IF9hLmRpc21pc3NUZXh0LFxuICAgICAgICAgICAgICAgIGV4dHJhID0gX2EuZXh0cmEsXG4gICAgICAgICAgICAgICAgY2FzY2FkZSA9IF9hLmNhc2NhZGUsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIHBpY2tlclByZWZpeENscyA9IF9hLnBpY2tlclByZWZpeENscyxcbiAgICAgICAgICAgICAgICBkYXRhID0gX2EuZGF0YSxcbiAgICAgICAgICAgICAgICBjb2xzID0gX2EuY29scyxcbiAgICAgICAgICAgICAgICBvbk9rID0gX2Eub25PayxcbiAgICAgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwidmFsdWVcIiwgXCJwb3B1cFByZWZpeENsc1wiLCBcIml0ZW1TdHlsZVwiLCBcImluZGljYXRvclN0eWxlXCIsIFwib2tUZXh0XCIsIFwiZGlzbWlzc1RleHRcIiwgXCJleHRyYVwiLCBcImNhc2NhZGVcIiwgXCJwcmVmaXhDbHNcIiwgXCJwaWNrZXJQcmVmaXhDbHNcIiwgXCJkYXRhXCIsIFwiY29sc1wiLCBcIm9uT2tcIl0pO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbiAgICAgICAgICAgIHZhciBfbG9jYWxlID0gZ2V0Q29tcG9uZW50TG9jYWxlKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgJ1BpY2tlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWlyZSgnLi9sb2NhbGUvemhfQ04nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNhc2NhZGVyID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIHBvcHVwTW9yZVByb3BzID0ge307XG4gICAgICAgICAgICBpZiAoY2FzY2FkZSkge1xuICAgICAgICAgICAgICAgIGNhc2NhZGVyID0gUmVhY3QuY3JlYXRlRWxlbWVudChSTUNDYXNjYWRlciwgeyBwcmVmaXhDbHM6IHByZWZpeENscywgcGlja2VyUHJlZml4Q2xzOiBwaWNrZXJQcmVmaXhDbHMsIGRhdGE6IGRhdGEsIGNvbHM6IGNvbHMsIG9uQ2hhbmdlOiB0aGlzLm9uUGlja2VyQ2hhbmdlLCBvblNjcm9sbENoYW5nZTogdGhpcy5zZXRDYXNlY2FkZVNjcm9sbFZhbHVlLCBwaWNrZXJJdGVtU3R5bGU6IGl0ZW1TdHlsZSwgaW5kaWNhdG9yU3R5bGU6IGluZGljYXRvclN0eWxlIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYXNjYWRlciA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIFJNQ011bHRpUGlja2VyLFxuICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IGZsZXhEaXJlY3Rpb246ICdyb3cnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9LCBwcmVmaXhDbHM6IHByZWZpeENscywgb25TY3JvbGxDaGFuZ2U6IHRoaXMuc2V0U2Nyb2xsVmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQaWNrZXJDb2woKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcG9wdXBNb3JlUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHBpY2tlclZhbHVlUHJvcDogJ3NlbGVjdGVkVmFsdWUnLFxuICAgICAgICAgICAgICAgICAgICBwaWNrZXJWYWx1ZUNoYW5nZVByb3A6ICdvblZhbHVlQ2hhbmdlJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBSTUNQb3B1cENhc2NhZGVyLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHsgY2FzY2FkZXI6IGNhc2NhZGVyIH0sIHRoaXMucG9wdXBQcm9wcywgcmVzdFByb3BzLCB7IHByZWZpeENsczogcG9wdXBQcmVmaXhDbHMsIHZhbHVlOiB2YWx1ZSwgZGlzbWlzc1RleHQ6IGRpc21pc3NUZXh0IHx8IF9sb2NhbGUuZGlzbWlzc1RleHQsIG9rVGV4dDogb2tUZXh0IHx8IF9sb2NhbGUub2tUZXh0IH0sIHBvcHVwTW9yZVByb3BzLCB7IHJlZjogdGhpcy5maXhPbk9rLCBvblZpc2libGVDaGFuZ2U6IHRoaXMub25WaXNpYmxlQ2hhbmdlIH0pLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuICYmIHR5cGVvZiBjaGlsZHJlbiAhPT0gJ3N0cmluZycgJiYgUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pICYmIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICAgICAgICAgICAgICBleHRyYTogdGhpcy5nZXRTZWwoKSB8fCBleHRyYSB8fCBfbG9jYWxlLmV4dHJhXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQWJzdHJhY3RQaWNrZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IEFic3RyYWN0UGlja2VyOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICBXcmFwQ29tcG9uZW50OiAnZGl2JyxcbiAgICB0cmFuc2l0aW9uTmFtZTogJ2FtLXNsaWRlLXVwJyxcbiAgICBtYXNrVHJhbnNpdGlvbk5hbWU6ICdhbS1mYWRlJ1xufTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBYnN0cmFjdFBpY2tlciwgeyBnZXREZWZhdWx0UHJvcHMgfSBmcm9tICcuL0Fic3RyYWN0UGlja2VyJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgcG9wdXBQcm9wcyBmcm9tICcuL3BvcHVwUHJvcHMnO1xuLy8gVE9ETzpcbi8vIGZpeCBlcnJvciBUUzQwMjY6UHVibGljIHN0YXRpYyBwcm9wZXJ0eSAnZGVmYXVsdFByb3BzJyBvZiBleHBvcnRlZCBjbGFzcyBoYXMgb3IgaXMgdXNpbmcgbmFtZSAnUmVhY3QuUmVhY3RFbGVtZW50J1xuLy8gZml4IGVycm9yIFRTNjEzMzogJ1JlYWN0JyBpcyBkZWNsYXJlZCBidXQgaXRzIHZhbHVlIGlzIG5ldmVyIHJlYWQuXG5leHBvcnQgdmFyIG5vbnNlbnNlID0gUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgbnVsbCk7XG5cbnZhciBQaWNrZXIgPSBmdW5jdGlvbiAoX0Fic3RyYWN0UGlja2VyKSB7XG4gICAgX2luaGVyaXRzKFBpY2tlciwgX0Fic3RyYWN0UGlja2VyKTtcblxuICAgIGZ1bmN0aW9uIFBpY2tlcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBpY2tlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBpY2tlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBpY2tlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLnBvcHVwUHJvcHMgPSBwb3B1cFByb3BzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFBpY2tlcjtcbn0oQWJzdHJhY3RQaWNrZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBQaWNrZXI7XG5cblBpY2tlci5kZWZhdWx0UHJvcHMgPSBnZXREZWZhdWx0UHJvcHMoKTtcblBpY2tlci5jb250ZXh0VHlwZXMgPSB7XG4gICAgYW50TG9jYWxlOiBQcm9wVHlwZXMub2JqZWN0XG59OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG4vKiB0c2xpbnQ6ZGlzYWJsZTpqc3gtbm8tbXVsdGlsaW5lLWpzICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJNQ0Nhc2NhZGVyIGZyb20gJ3JtYy1jYXNjYWRlci9lcy9DYXNjYWRlcic7XG5pbXBvcnQgUk1DTXVsdGlQaWNrZXIgZnJvbSAncm1jLXBpY2tlci9lcy9NdWx0aVBpY2tlcic7XG5pbXBvcnQgUk1DUGlja2VyIGZyb20gJ3JtYy1waWNrZXIvZXMvUGlja2VyJztcbmZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcmVmaXhDbHM6ICdhbS1waWNrZXInLFxuICAgICAgICBwaWNrZXJQcmVmaXhDbHM6ICdhbS1waWNrZXItY29sJyxcbiAgICAgICAgY29sczogMyxcbiAgICAgICAgY2FzY2FkZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IFtdLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fVxuICAgIH07XG59XG5cbnZhciBQaWNrZXJWaWV3ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUGlja2VyVmlldywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBQaWNrZXJWaWV3KCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGlja2VyVmlldyk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBpY2tlclZpZXcuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQaWNrZXJWaWV3KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMuaXNNdWx0aVBpY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMucHJvcHMuZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KF90aGlzLnByb3BzLmRhdGFbMF0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRDb2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBkYXRhID0gX3RoaXMkcHJvcHMuZGF0YSxcbiAgICAgICAgICAgICAgICBwaWNrZXJQcmVmaXhDbHMgPSBfdGhpcyRwcm9wcy5waWNrZXJQcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yU3R5bGUgPSBfdGhpcyRwcm9wcy5pbmRpY2F0b3JTdHlsZSxcbiAgICAgICAgICAgICAgICBpdGVtU3R5bGUgPSBfdGhpcyRwcm9wcy5pdGVtU3R5bGU7XG5cbiAgICAgICAgICAgIHZhciBmb3JtYXR0ZWREYXRhID0gX3RoaXMuaXNNdWx0aVBpY2tlcigpID8gZGF0YSA6IFtkYXRhXTtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZWREYXRhLm1hcChmdW5jdGlvbiAoY29sLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBSTUNQaWNrZXIsXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiBpbmRleCwgcHJlZml4Q2xzOiBwaWNrZXJQcmVmaXhDbHMsIHN0eWxlOiB7IGZsZXg6IDEgfSwgaW5kaWNhdG9yU3R5bGU6IGluZGljYXRvclN0eWxlLCBpdGVtU3R5bGU6IGl0ZW1TdHlsZSB9LFxuICAgICAgICAgICAgICAgICAgICBjb2wubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSTUNQaWNrZXIuSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogaXRlbS52YWx1ZSwgdmFsdWU6IGl0ZW0udmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQaWNrZXJWaWV3LCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRoaXMtYXNzaWdubWVudFxuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblxuICAgICAgICAgICAgdmFyIHBpY2tlciA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChwcm9wcy5jYXNjYWRlKSB7XG4gICAgICAgICAgICAgICAgcGlja2VyID0gUmVhY3QuY3JlYXRlRWxlbWVudChSTUNDYXNjYWRlciwgeyBwcmVmaXhDbHM6IHByb3BzLnByZWZpeENscywgcGlja2VyUHJlZml4Q2xzOiBwcm9wcy5waWNrZXJQcmVmaXhDbHMsIGRhdGE6IHByb3BzLmRhdGEsIHZhbHVlOiBwcm9wcy52YWx1ZSwgb25DaGFuZ2U6IHByb3BzLm9uQ2hhbmdlLCBvblNjcm9sbENoYW5nZTogcHJvcHMub25TY3JvbGxDaGFuZ2UsIGNvbHM6IHByb3BzLmNvbHMsIGluZGljYXRvclN0eWxlOiBwcm9wcy5pbmRpY2F0b3JTdHlsZSwgcGlja2VySXRlbVN0eWxlOiBwcm9wcy5pdGVtU3R5bGUgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBpY2tlciA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIFJNQ011bHRpUGlja2VyLFxuICAgICAgICAgICAgICAgICAgICB7IHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzLCBzZWxlY3RlZFZhbHVlOiBwcm9wcy52YWx1ZSwgb25WYWx1ZUNoYW5nZTogcHJvcHMub25DaGFuZ2UsIG9uU2Nyb2xsQ2hhbmdlOiBwcm9wcy5vblNjcm9sbENoYW5nZSwgc3R5bGU6IHsgZmxleERpcmVjdGlvbjogJ3JvdycgfSB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldENvbCgpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUGlja2VyVmlldztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgUGlja2VyVmlldztcblxuUGlja2VyVmlldy5kZWZhdWx0UHJvcHMgPSBnZXREZWZhdWx0UHJvcHMoKTsiLCJpbXBvcnQgUGlja2VyVmlldyBmcm9tICcuL1BpY2tlclZpZXcnO1xuZXhwb3J0IGRlZmF1bHQgUGlja2VyVmlldzsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb250YWlucyhyb290LCBuKSB7XG4gIHZhciBub2RlID0gbjtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAobm9kZSA9PT0gcm9vdCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59IiwidmFyIHZlbmRvclByZWZpeCA9IHZvaWQgMDtcblxudmFyIGpzQ3NzTWFwID0ge1xuICBXZWJraXQ6ICctd2Via2l0LScsXG4gIE1vejogJy1tb3otJyxcbiAgLy8gSUUgZGlkIGl0IHdyb25nIGFnYWluIC4uLlxuICBtczogJy1tcy0nLFxuICBPOiAnLW8tJ1xufTtcblxuZnVuY3Rpb24gZ2V0VmVuZG9yUHJlZml4KCkge1xuICBpZiAodmVuZG9yUHJlZml4ICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdmVuZG9yUHJlZml4O1xuICB9XG4gIHZlbmRvclByZWZpeCA9ICcnO1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJykuc3R5bGU7XG4gIHZhciB0ZXN0UHJvcCA9ICdUcmFuc2Zvcm0nO1xuICBmb3IgKHZhciBrZXkgaW4ganNDc3NNYXApIHtcbiAgICBpZiAoa2V5ICsgdGVzdFByb3AgaW4gc3R5bGUpIHtcbiAgICAgIHZlbmRvclByZWZpeCA9IGtleTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZlbmRvclByZWZpeDtcbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbk5hbWUoKSB7XG4gIHJldHVybiBnZXRWZW5kb3JQcmVmaXgoKSA/IGdldFZlbmRvclByZWZpeCgpICsgJ1RyYW5zaXRpb25Qcm9wZXJ0eScgOiAndHJhbnNpdGlvblByb3BlcnR5Jztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybU5hbWUoKSB7XG4gIHJldHVybiBnZXRWZW5kb3JQcmVmaXgoKSA/IGdldFZlbmRvclByZWZpeCgpICsgJ1RyYW5zZm9ybScgOiAndHJhbnNmb3JtJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFRyYW5zaXRpb25Qcm9wZXJ0eShub2RlLCB2YWx1ZSkge1xuICB2YXIgbmFtZSA9IGdldFRyYW5zaXRpb25OYW1lKCk7XG4gIGlmIChuYW1lKSB7XG4gICAgbm9kZS5zdHlsZVtuYW1lXSA9IHZhbHVlO1xuICAgIGlmIChuYW1lICE9PSAndHJhbnNpdGlvblByb3BlcnR5Jykge1xuICAgICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHkgPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0VHJhbnNmb3JtKG5vZGUsIHZhbHVlKSB7XG4gIHZhciBuYW1lID0gZ2V0VHJhbnNmb3JtTmFtZSgpO1xuICBpZiAobmFtZSkge1xuICAgIG5vZGUuc3R5bGVbbmFtZV0gPSB2YWx1ZTtcbiAgICBpZiAobmFtZSAhPT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gdmFsdWU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uUHJvcGVydHkobm9kZSkge1xuICByZXR1cm4gbm9kZS5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHkgfHwgbm9kZS5zdHlsZVtnZXRUcmFuc2l0aW9uTmFtZSgpXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybVhZKG5vZGUpIHtcbiAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCk7XG4gIHZhciB0cmFuc2Zvcm0gPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2Zvcm0nKSB8fCBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKGdldFRyYW5zZm9ybU5hbWUoKSk7XG4gIGlmICh0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtICE9PSAnbm9uZScpIHtcbiAgICB2YXIgbWF0cml4ID0gdHJhbnNmb3JtLnJlcGxhY2UoL1teMC05XFwtLixdL2csICcnKS5zcGxpdCgnLCcpO1xuICAgIHJldHVybiB7IHg6IHBhcnNlRmxvYXQobWF0cml4WzEyXSB8fCBtYXRyaXhbNF0sIDApLCB5OiBwYXJzZUZsb2F0KG1hdHJpeFsxM10gfHwgbWF0cml4WzVdLCAwKSB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogMCxcbiAgICB5OiAwXG4gIH07XG59XG5cbnZhciBtYXRyaXgyZCA9IC9tYXRyaXhcXCgoLiopXFwpLztcbnZhciBtYXRyaXgzZCA9IC9tYXRyaXgzZFxcKCguKilcXCkvO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0VHJhbnNmb3JtWFkobm9kZSwgeHkpIHtcbiAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCk7XG4gIHZhciB0cmFuc2Zvcm0gPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2Zvcm0nKSB8fCBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKGdldFRyYW5zZm9ybU5hbWUoKSk7XG4gIGlmICh0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtICE9PSAnbm9uZScpIHtcbiAgICB2YXIgYXJyID0gdm9pZCAwO1xuICAgIHZhciBtYXRjaDJkID0gdHJhbnNmb3JtLm1hdGNoKG1hdHJpeDJkKTtcbiAgICBpZiAobWF0Y2gyZCkge1xuICAgICAgbWF0Y2gyZCA9IG1hdGNoMmRbMV07XG4gICAgICBhcnIgPSBtYXRjaDJkLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGl0ZW0sIDEwKTtcbiAgICAgIH0pO1xuICAgICAgYXJyWzRdID0geHkueDtcbiAgICAgIGFycls1XSA9IHh5Lnk7XG4gICAgICBzZXRUcmFuc2Zvcm0obm9kZSwgJ21hdHJpeCgnICsgYXJyLmpvaW4oJywnKSArICcpJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtYXRjaDNkID0gdHJhbnNmb3JtLm1hdGNoKG1hdHJpeDNkKVsxXTtcbiAgICAgIGFyciA9IG1hdGNoM2Quc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoaXRlbSwgMTApO1xuICAgICAgfSk7XG4gICAgICBhcnJbMTJdID0geHkueDtcbiAgICAgIGFyclsxM10gPSB4eS55O1xuICAgICAgc2V0VHJhbnNmb3JtKG5vZGUsICdtYXRyaXgzZCgnICsgYXJyLmpvaW4oJywnKSArICcpJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHNldFRyYW5zZm9ybShub2RlLCAndHJhbnNsYXRlWCgnICsgeHkueCArICdweCkgdHJhbnNsYXRlWSgnICsgeHkueSArICdweCkgdHJhbnNsYXRlWigwKScpO1xuICB9XG59IiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5pbXBvcnQgeyBzZXRUcmFuc2l0aW9uUHJvcGVydHksIGdldFRyYW5zaXRpb25Qcm9wZXJ0eSwgZ2V0VHJhbnNmb3JtWFksIHNldFRyYW5zZm9ybVhZLCBnZXRUcmFuc2Zvcm1OYW1lIH0gZnJvbSAnLi9wcm9wZXJ0eVV0aWxzJztcblxudmFyIFJFX05VTSA9IC9bXFwtK10/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bXFwtK10/XFxkK3wpLy5zb3VyY2U7XG5cbnZhciBnZXRDb21wdXRlZFN0eWxlWCA9IHZvaWQgMDtcblxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM0ODU2NTQvMzA0MDYwNVxuZnVuY3Rpb24gZm9yY2VSZWxheW91dChlbGVtKSB7XG4gIHZhciBvcmlnaW5hbFN0eWxlID0gZWxlbS5zdHlsZS5kaXNwbGF5O1xuICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGVsZW0ub2Zmc2V0SGVpZ2h0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGVsZW0uc3R5bGUuZGlzcGxheSA9IG9yaWdpbmFsU3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNzcyhlbCwgbmFtZSwgdikge1xuICB2YXIgdmFsdWUgPSB2O1xuICBpZiAoKHR5cGVvZiBuYW1lID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihuYW1lKSkgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yICh2YXIgaSBpbiBuYW1lKSB7XG4gICAgICBpZiAobmFtZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBjc3MoZWwsIGksIG5hbWVbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgKyAncHgnO1xuICAgIH1cbiAgICBlbC5zdHlsZVtuYW1lXSA9IHZhbHVlO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGVYKGVsLCBuYW1lKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2xpZW50UG9zaXRpb24oZWxlbSkge1xuICB2YXIgYm94ID0gdm9pZCAwO1xuICB2YXIgeCA9IHZvaWQgMDtcbiAgdmFyIHkgPSB2b2lkIDA7XG4gIHZhciBkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG4gIHZhciBib2R5ID0gZG9jLmJvZHk7XG4gIHZhciBkb2NFbGVtID0gZG9jICYmIGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gIC8vIOagueaNriBHQlMg5pyA5paw5pWw5o2u77yMQS1HcmFkZSBCcm93c2VycyDpg73lt7LmlK/mjIEgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IOaWueazle+8jOS4jeeUqOWGjeiAg+iZkeS8oOe7n+eahOWunueOsOaWueW8j1xuICBib3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIC8vIOazqO+8mmpRdWVyeSDov5jogIPomZHlh4/ljrsgZG9jRWxlbS5jbGllbnRMZWZ0L2NsaWVudFRvcFxuICAvLyDkvYbmtYvor5Xlj5HnjrDvvIzov5nmoLflj43ogIzkvJrlr7zoh7TlvZMgaHRtbCDlkowgYm9keSDmnInovrnot50v6L655qGG5qC35byP5pe277yM6I635Y+W55qE5YC85LiN5q2j56GuXG4gIC8vIOatpOWklu+8jGllNiDkvJrlv73nlaUgaHRtbCDnmoQgbWFyZ2luIOWAvO+8jOW5uOi/kOWcsOaYr+ayoeacieiwgeS8muWOu+iuvue9riBodG1sIOeahCBtYXJnaW5cblxuICB4ID0gYm94LmxlZnQ7XG4gIHkgPSBib3gudG9wO1xuXG4gIC8vIEluIElFLCBtb3N0IG9mIHRoZSB0aW1lLCAyIGV4dHJhIHBpeGVscyBhcmUgYWRkZWQgdG8gdGhlIHRvcCBhbmQgbGVmdFxuICAvLyBkdWUgdG8gdGhlIGltcGxpY2l0IDItcGl4ZWwgaW5zZXQgYm9yZGVyLiAgSW4gSUU2LzcgcXVpcmtzIG1vZGUgYW5kXG4gIC8vIElFNiBzdGFuZGFyZHMgbW9kZSwgdGhpcyBib3JkZXIgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyB0aGVcbiAgLy8gZG9jdW1lbnQgZWxlbWVudCdzIGJvcmRlciB0byB6ZXJvIC0tIHRodXMsIHdlIGNhbm5vdCByZWx5IG9uIHRoZVxuICAvLyBvZmZzZXQgYWx3YXlzIGJlaW5nIDIgcGl4ZWxzLlxuXG4gIC8vIEluIHF1aXJrcyBtb2RlLCB0aGUgb2Zmc2V0IGNhbiBiZSBkZXRlcm1pbmVkIGJ5IHF1ZXJ5aW5nIHRoZSBib2R5J3NcbiAgLy8gY2xpZW50TGVmdC9jbGllbnRUb3AsIGJ1dCBpbiBzdGFuZGFyZHMgbW9kZSwgaXQgaXMgZm91bmQgYnkgcXVlcnlpbmdcbiAgLy8gdGhlIGRvY3VtZW50IGVsZW1lbnQncyBjbGllbnRMZWZ0L2NsaWVudFRvcC4gIFNpbmNlIHdlIGFscmVhZHkgY2FsbGVkXG4gIC8vIGdldENsaWVudEJvdW5kaW5nUmVjdCB3ZSBoYXZlIGFscmVhZHkgZm9yY2VkIGEgcmVmbG93LCBzbyBpdCBpcyBub3RcbiAgLy8gdG9vIGV4cGVuc2l2ZSBqdXN0IHRvIHF1ZXJ5IHRoZW0gYWxsLlxuXG4gIC8vIGllIOS4i+W6lOivpeWHj+WOu+eql+WPo+eahOi+ueahhuWQp++8jOavleern+m7mOiupCBhYnNvbHV0ZSDpg73mmK/nm7jlr7nnqpflj6PlrprkvY3nmoRcbiAgLy8g56qX5Y+j6L655qGG5qCH5YeG5piv6K6+IGRvY3VtZW50RWxlbWVudCAscXVpcmtzIOaXtuiuvue9riBib2R5XG4gIC8vIOacgOWlveemgeatouWcqCBib2R5IOWSjCBodG1sIOS4iui+ueahhiDvvIzkvYYgaWUgPCA5IGh0bWwg6buY6K6k5pyJIDJweCDvvIzlh4/ljrtcbiAgLy8g5L2G5piv6Z2eIGllIOS4jeWPr+iDveiuvue9rueql+WPo+i+ueahhu+8jGJvZHkgaHRtbCDkuZ/kuI3mmK/nqpflj6MgLGllIOWPr+S7pemAmui/hyBodG1sLGJvZHkg6K6+572uXG4gIC8vIOagh+WHhiBpZSDkuIsgZG9jRWxlbS5jbGllbnRUb3Ag5bCx5pivIGJvcmRlci10b3BcbiAgLy8gaWU3IGh0bWwg5Y2z56qX5Y+j6L655qGG5pS55Y+Y5LiN5LqG44CC5rC46L+c5Li6IDJcbiAgLy8g5L2G5qCH5YeGIGZpcmVmb3gvY2hyb21lL2llOSDkuIsgZG9jRWxlbS5jbGllbnRUb3Ag5piv56qX5Y+j6L655qGG77yM5Y2z5L2/6K6+5LqGIGJvcmRlci10b3Ag5Lmf5Li6IDBcblxuICB4IC09IGRvY0VsZW0uY2xpZW50TGVmdCB8fCBib2R5LmNsaWVudExlZnQgfHwgMDtcbiAgeSAtPSBkb2NFbGVtLmNsaWVudFRvcCB8fCBib2R5LmNsaWVudFRvcCB8fCAwO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdDogeCxcbiAgICB0b3A6IHlcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsKHcsIHRvcCkge1xuICB2YXIgcmV0ID0gd1sncGFnZScgKyAodG9wID8gJ1knIDogJ1gnKSArICdPZmZzZXQnXTtcbiAgdmFyIG1ldGhvZCA9ICdzY3JvbGwnICsgKHRvcCA/ICdUb3AnIDogJ0xlZnQnKTtcbiAgaWYgKHR5cGVvZiByZXQgIT09ICdudW1iZXInKSB7XG4gICAgdmFyIGQgPSB3LmRvY3VtZW50O1xuICAgIC8vIGllNiw3LDggc3RhbmRhcmQgbW9kZVxuICAgIHJldCA9IGQuZG9jdW1lbnRFbGVtZW50W21ldGhvZF07XG4gICAgaWYgKHR5cGVvZiByZXQgIT09ICdudW1iZXInKSB7XG4gICAgICAvLyBxdWlya3MgbW9kZVxuICAgICAgcmV0ID0gZC5ib2R5W21ldGhvZF07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGdldFNjcm9sbExlZnQodykge1xuICByZXR1cm4gZ2V0U2Nyb2xsKHcpO1xufVxuXG5mdW5jdGlvbiBnZXRTY3JvbGxUb3Aodykge1xuICByZXR1cm4gZ2V0U2Nyb2xsKHcsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXQoZWwpIHtcbiAgdmFyIHBvcyA9IGdldENsaWVudFBvc2l0aW9uKGVsKTtcbiAgdmFyIGRvYyA9IGVsLm93bmVyRG9jdW1lbnQ7XG4gIHZhciB3ID0gZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3c7XG4gIHBvcy5sZWZ0ICs9IGdldFNjcm9sbExlZnQodyk7XG4gIHBvcy50b3AgKz0gZ2V0U2Nyb2xsVG9wKHcpO1xuICByZXR1cm4gcG9zO1xufVxuXG4vKipcbiAqIEEgY3J1ZGUgd2F5IG9mIGRldGVybWluaW5nIGlmIGFuIG9iamVjdCBpcyBhIHdpbmRvd1xuICogQG1lbWJlciB1dGlsXG4gKi9cbmZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xuICAvLyBtdXN0IHVzZSA9PSBmb3IgaWU4XG4gIC8qIGVzbGludCBlcWVxZXE6MCAqL1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIG9iaiAhPT0gdW5kZWZpbmVkICYmIG9iaiA9PSBvYmoud2luZG93O1xufVxuXG5mdW5jdGlvbiBnZXREb2N1bWVudChub2RlKSB7XG4gIGlmIChpc1dpbmRvdyhub2RlKSkge1xuICAgIHJldHVybiBub2RlLmRvY3VtZW50O1xuICB9XG4gIGlmIChub2RlLm5vZGVUeXBlID09PSA5KSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgcmV0dXJuIG5vZGUub3duZXJEb2N1bWVudDtcbn1cblxuZnVuY3Rpb24gX2dldENvbXB1dGVkU3R5bGUoZWxlbSwgbmFtZSwgY3MpIHtcbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSBjcztcbiAgdmFyIHZhbCA9ICcnO1xuICB2YXIgZCA9IGdldERvY3VtZW50KGVsZW0pO1xuICBjb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZSB8fCBkLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgbnVsbCk7XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2tpc3N5dGVhbS9raXNzeS9pc3N1ZXMvNjFcbiAgaWYgKGNvbXB1dGVkU3R5bGUpIHtcbiAgICB2YWwgPSBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSkgfHwgY29tcHV0ZWRTdHlsZVtuYW1lXTtcbiAgfVxuXG4gIHJldHVybiB2YWw7XG59XG5cbnZhciBfUkVfTlVNX05PX1BYID0gbmV3IFJlZ0V4cCgnXignICsgUkVfTlVNICsgJykoPyFweClbYS16JV0rJCcsICdpJyk7XG52YXIgUkVfUE9TID0gL14odG9wfHJpZ2h0fGJvdHRvbXxsZWZ0KSQvO1xudmFyIENVUlJFTlRfU1RZTEUgPSAnY3VycmVudFN0eWxlJztcbnZhciBSVU5USU1FX1NUWUxFID0gJ3J1bnRpbWVTdHlsZSc7XG52YXIgTEVGVCA9ICdsZWZ0JztcbnZhciBQWCA9ICdweCc7XG5cbmZ1bmN0aW9uIF9nZXRDb21wdXRlZFN0eWxlSUUoZWxlbSwgbmFtZSkge1xuICAvLyBjdXJyZW50U3R5bGUgbWF5YmUgbnVsbFxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzUyMzEuYXNweFxuICB2YXIgcmV0ID0gZWxlbVtDVVJSRU5UX1NUWUxFXSAmJiBlbGVtW0NVUlJFTlRfU1RZTEVdW25hbWVdO1xuXG4gIC8vIOW9kyB3aWR0aC9oZWlnaHQg6K6+572u5Li655m+5YiG5q+U5pe277yM6YCa6L+HIHBpeGVsTGVmdCDmlrnlvI/ovazmjaLnmoQgd2lkdGgvaGVpZ2h0IOWAvFxuICAvLyDkuIDlvIDlp4vlsLHlpITnkIbkuoYhIENVU1RPTV9TVFlMRS5oZWlnaHQsQ1VTVE9NX1NUWUxFLndpZHRoICxjc3NIb29rIOino+WGs0AyMDExLTA4LTE5XG4gIC8vIOWcqCBpZSDkuIvkuI3lr7nvvIzpnIDopoHnm7TmjqXnlKggb2Zmc2V0IOaWueW8j1xuICAvLyBib3JkZXJXaWR0aCDnrYnlgLzkuZ/mnInpl67popjvvIzkvYbogIPomZHliLAgYm9yZGVyV2lkdGgg6K6+5Li655m+5YiG5q+U55qE5qaC546H5b6I5bCP77yM6L+Z6YeM5bCx5LiN6ICD6JmR5LqGXG5cbiAgLy8gRnJvbSB0aGUgYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1xuICAvLyBodHRwOi8vZXJpay5lYWUubmV0L2FyY2hpdmVzLzIwMDcvMDcvMjcvMTguNTQuMTUvI2NvbW1lbnQtMTAyMjkxXG4gIC8vIElmIHdlJ3JlIG5vdCBkZWFsaW5nIHdpdGggYSByZWd1bGFyIHBpeGVsIG51bWJlclxuICAvLyBidXQgYSBudW1iZXIgdGhhdCBoYXMgYSB3ZWlyZCBlbmRpbmcsIHdlIG5lZWQgdG8gY29udmVydCBpdCB0byBwaXhlbHNcbiAgLy8gZXhjbHVkZSBsZWZ0IHJpZ2h0IGZvciByZWxhdGl2aXR5XG4gIGlmIChfUkVfTlVNX05PX1BYLnRlc3QocmV0KSAmJiAhUkVfUE9TLnRlc3QobmFtZSkpIHtcbiAgICAvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG4gICAgdmFyIHN0eWxlID0gZWxlbS5zdHlsZTtcbiAgICB2YXIgbGVmdCA9IHN0eWxlW0xFRlRdO1xuICAgIHZhciByc0xlZnQgPSBlbGVtW1JVTlRJTUVfU1RZTEVdW0xFRlRdO1xuXG4gICAgLy8gcHJldmVudCBmbGFzaGluZyBvZiBjb250ZW50XG4gICAgZWxlbVtSVU5USU1FX1NUWUxFXVtMRUZUXSA9IGVsZW1bQ1VSUkVOVF9TVFlMRV1bTEVGVF07XG5cbiAgICAvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG4gICAgc3R5bGVbTEVGVF0gPSBuYW1lID09PSAnZm9udFNpemUnID8gJzFlbScgOiByZXQgfHwgMDtcbiAgICByZXQgPSBzdHlsZS5waXhlbExlZnQgKyBQWDtcblxuICAgIC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcbiAgICBzdHlsZVtMRUZUXSA9IGxlZnQ7XG5cbiAgICBlbGVtW1JVTlRJTUVfU1RZTEVdW0xFRlRdID0gcnNMZWZ0O1xuICB9XG4gIHJldHVybiByZXQgPT09ICcnID8gJ2F1dG8nIDogcmV0O1xufVxuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgZ2V0Q29tcHV0ZWRTdHlsZVggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA/IF9nZXRDb21wdXRlZFN0eWxlIDogX2dldENvbXB1dGVkU3R5bGVJRTtcbn1cblxuZnVuY3Rpb24gZ2V0T2Zmc2V0RGlyZWN0aW9uKGRpciwgb3B0aW9uKSB7XG4gIGlmIChkaXIgPT09ICdsZWZ0Jykge1xuICAgIHJldHVybiBvcHRpb24udXNlQ3NzUmlnaHQgPyAncmlnaHQnIDogZGlyO1xuICB9XG4gIHJldHVybiBvcHRpb24udXNlQ3NzQm90dG9tID8gJ2JvdHRvbScgOiBkaXI7XG59XG5cbmZ1bmN0aW9uIG9wcG9zaXRlT2Zmc2V0RGlyZWN0aW9uKGRpcikge1xuICBpZiAoZGlyID09PSAnbGVmdCcpIHtcbiAgICByZXR1cm4gJ3JpZ2h0JztcbiAgfSBlbHNlIGlmIChkaXIgPT09ICdyaWdodCcpIHtcbiAgICByZXR1cm4gJ2xlZnQnO1xuICB9IGVsc2UgaWYgKGRpciA9PT0gJ3RvcCcpIHtcbiAgICByZXR1cm4gJ2JvdHRvbSc7XG4gIH0gZWxzZSBpZiAoZGlyID09PSAnYm90dG9tJykge1xuICAgIHJldHVybiAndG9wJztcbiAgfVxufVxuXG4vLyDorr7nva4gZWxlbSDnm7jlr7kgZWxlbS5vd25lckRvY3VtZW50IOeahOWdkOagh1xuZnVuY3Rpb24gc2V0TGVmdFRvcChlbGVtLCBvZmZzZXQsIG9wdGlvbikge1xuICAvLyBzZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG4gIGlmIChjc3MoZWxlbSwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKSB7XG4gICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gIH1cbiAgdmFyIHByZXNldEggPSAtOTk5O1xuICB2YXIgcHJlc2V0ViA9IC05OTk7XG4gIHZhciBob3Jpem9udGFsUHJvcGVydHkgPSBnZXRPZmZzZXREaXJlY3Rpb24oJ2xlZnQnLCBvcHRpb24pO1xuICB2YXIgdmVydGljYWxQcm9wZXJ0eSA9IGdldE9mZnNldERpcmVjdGlvbigndG9wJywgb3B0aW9uKTtcbiAgdmFyIG9wcG9zaXRlSG9yaXpvbnRhbFByb3BlcnR5ID0gb3Bwb3NpdGVPZmZzZXREaXJlY3Rpb24oaG9yaXpvbnRhbFByb3BlcnR5KTtcbiAgdmFyIG9wcG9zaXRlVmVydGljYWxQcm9wZXJ0eSA9IG9wcG9zaXRlT2Zmc2V0RGlyZWN0aW9uKHZlcnRpY2FsUHJvcGVydHkpO1xuXG4gIGlmIChob3Jpem9udGFsUHJvcGVydHkgIT09ICdsZWZ0Jykge1xuICAgIHByZXNldEggPSA5OTk7XG4gIH1cblxuICBpZiAodmVydGljYWxQcm9wZXJ0eSAhPT0gJ3RvcCcpIHtcbiAgICBwcmVzZXRWID0gOTk5O1xuICB9XG4gIHZhciBvcmlnaW5hbFRyYW5zaXRpb24gPSAnJztcbiAgdmFyIG9yaWdpbmFsT2Zmc2V0ID0gZ2V0T2Zmc2V0KGVsZW0pO1xuICBpZiAoJ2xlZnQnIGluIG9mZnNldCB8fCAndG9wJyBpbiBvZmZzZXQpIHtcbiAgICBvcmlnaW5hbFRyYW5zaXRpb24gPSBnZXRUcmFuc2l0aW9uUHJvcGVydHkoZWxlbSkgfHwgJyc7XG4gICAgc2V0VHJhbnNpdGlvblByb3BlcnR5KGVsZW0sICdub25lJyk7XG4gIH1cbiAgaWYgKCdsZWZ0JyBpbiBvZmZzZXQpIHtcbiAgICBlbGVtLnN0eWxlW29wcG9zaXRlSG9yaXpvbnRhbFByb3BlcnR5XSA9ICcnO1xuICAgIGVsZW0uc3R5bGVbaG9yaXpvbnRhbFByb3BlcnR5XSA9IHByZXNldEggKyAncHgnO1xuICB9XG4gIGlmICgndG9wJyBpbiBvZmZzZXQpIHtcbiAgICBlbGVtLnN0eWxlW29wcG9zaXRlVmVydGljYWxQcm9wZXJ0eV0gPSAnJztcbiAgICBlbGVtLnN0eWxlW3ZlcnRpY2FsUHJvcGVydHldID0gcHJlc2V0ViArICdweCc7XG4gIH1cbiAgLy8gZm9yY2UgcmVsYXlvdXRcbiAgZm9yY2VSZWxheW91dChlbGVtKTtcbiAgdmFyIG9sZCA9IGdldE9mZnNldChlbGVtKTtcbiAgdmFyIG9yaWdpbmFsU3R5bGUgPSB7fTtcbiAgZm9yICh2YXIga2V5IGluIG9mZnNldCkge1xuICAgIGlmIChvZmZzZXQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdmFyIGRpciA9IGdldE9mZnNldERpcmVjdGlvbihrZXksIG9wdGlvbik7XG4gICAgICB2YXIgcHJlc2V0ID0ga2V5ID09PSAnbGVmdCcgPyBwcmVzZXRIIDogcHJlc2V0VjtcbiAgICAgIHZhciBvZmYgPSBvcmlnaW5hbE9mZnNldFtrZXldIC0gb2xkW2tleV07XG4gICAgICBpZiAoZGlyID09PSBrZXkpIHtcbiAgICAgICAgb3JpZ2luYWxTdHlsZVtkaXJdID0gcHJlc2V0ICsgb2ZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3JpZ2luYWxTdHlsZVtkaXJdID0gcHJlc2V0IC0gb2ZmO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjc3MoZWxlbSwgb3JpZ2luYWxTdHlsZSk7XG4gIC8vIGZvcmNlIHJlbGF5b3V0XG4gIGZvcmNlUmVsYXlvdXQoZWxlbSk7XG4gIGlmICgnbGVmdCcgaW4gb2Zmc2V0IHx8ICd0b3AnIGluIG9mZnNldCkge1xuICAgIHNldFRyYW5zaXRpb25Qcm9wZXJ0eShlbGVtLCBvcmlnaW5hbFRyYW5zaXRpb24pO1xuICB9XG4gIHZhciByZXQgPSB7fTtcbiAgZm9yICh2YXIgX2tleSBpbiBvZmZzZXQpIHtcbiAgICBpZiAob2Zmc2V0Lmhhc093blByb3BlcnR5KF9rZXkpKSB7XG4gICAgICB2YXIgX2RpciA9IGdldE9mZnNldERpcmVjdGlvbihfa2V5LCBvcHRpb24pO1xuICAgICAgdmFyIF9vZmYgPSBvZmZzZXRbX2tleV0gLSBvcmlnaW5hbE9mZnNldFtfa2V5XTtcbiAgICAgIGlmIChfa2V5ID09PSBfZGlyKSB7XG4gICAgICAgIHJldFtfZGlyXSA9IG9yaWdpbmFsU3R5bGVbX2Rpcl0gKyBfb2ZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0W19kaXJdID0gb3JpZ2luYWxTdHlsZVtfZGlyXSAtIF9vZmY7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNzcyhlbGVtLCByZXQpO1xufVxuXG5mdW5jdGlvbiBzZXRUcmFuc2Zvcm0oZWxlbSwgb2Zmc2V0KSB7XG4gIHZhciBvcmlnaW5hbE9mZnNldCA9IGdldE9mZnNldChlbGVtKTtcbiAgdmFyIG9yaWdpbmFsWFkgPSBnZXRUcmFuc2Zvcm1YWShlbGVtKTtcbiAgdmFyIHJlc3VsdFhZID0geyB4OiBvcmlnaW5hbFhZLngsIHk6IG9yaWdpbmFsWFkueSB9O1xuICBpZiAoJ2xlZnQnIGluIG9mZnNldCkge1xuICAgIHJlc3VsdFhZLnggPSBvcmlnaW5hbFhZLnggKyBvZmZzZXQubGVmdCAtIG9yaWdpbmFsT2Zmc2V0LmxlZnQ7XG4gIH1cbiAgaWYgKCd0b3AnIGluIG9mZnNldCkge1xuICAgIHJlc3VsdFhZLnkgPSBvcmlnaW5hbFhZLnkgKyBvZmZzZXQudG9wIC0gb3JpZ2luYWxPZmZzZXQudG9wO1xuICB9XG4gIHNldFRyYW5zZm9ybVhZKGVsZW0sIHJlc3VsdFhZKTtcbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0KGVsZW0sIG9mZnNldCwgb3B0aW9uKSB7XG4gIGlmIChvcHRpb24uaWdub3JlU2hha2UpIHtcbiAgICB2YXIgb3JpT2Zmc2V0ID0gZ2V0T2Zmc2V0KGVsZW0pO1xuXG4gICAgdmFyIG9MZWZ0ID0gb3JpT2Zmc2V0LmxlZnQudG9GaXhlZCgwKTtcbiAgICB2YXIgb1RvcCA9IG9yaU9mZnNldC50b3AudG9GaXhlZCgwKTtcbiAgICB2YXIgdExlZnQgPSBvZmZzZXQubGVmdC50b0ZpeGVkKDApO1xuICAgIHZhciB0VG9wID0gb2Zmc2V0LnRvcC50b0ZpeGVkKDApO1xuXG4gICAgaWYgKG9MZWZ0ID09PSB0TGVmdCAmJiBvVG9wID09PSB0VG9wKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgaWYgKG9wdGlvbi51c2VDc3NSaWdodCB8fCBvcHRpb24udXNlQ3NzQm90dG9tKSB7XG4gICAgc2V0TGVmdFRvcChlbGVtLCBvZmZzZXQsIG9wdGlvbik7XG4gIH0gZWxzZSBpZiAob3B0aW9uLnVzZUNzc1RyYW5zZm9ybSAmJiBnZXRUcmFuc2Zvcm1OYW1lKCkgaW4gZG9jdW1lbnQuYm9keS5zdHlsZSkge1xuICAgIHNldFRyYW5zZm9ybShlbGVtLCBvZmZzZXQsIG9wdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgc2V0TGVmdFRvcChlbGVtLCBvZmZzZXQsIG9wdGlvbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZWFjaChhcnIsIGZuKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgZm4oYXJyW2ldKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0JvcmRlckJveEZuKGVsZW0pIHtcbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGVYKGVsZW0sICdib3hTaXppbmcnKSA9PT0gJ2JvcmRlci1ib3gnO1xufVxuXG52YXIgQk9YX01PREVMUyA9IFsnbWFyZ2luJywgJ2JvcmRlcicsICdwYWRkaW5nJ107XG52YXIgQ09OVEVOVF9JTkRFWCA9IC0xO1xudmFyIFBBRERJTkdfSU5ERVggPSAyO1xudmFyIEJPUkRFUl9JTkRFWCA9IDE7XG52YXIgTUFSR0lOX0lOREVYID0gMDtcblxuZnVuY3Rpb24gc3dhcChlbGVtLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICB2YXIgb2xkID0ge307XG4gIHZhciBzdHlsZSA9IGVsZW0uc3R5bGU7XG4gIHZhciBuYW1lID0gdm9pZCAwO1xuXG4gIC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuICBmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBvbGRbbmFtZV0gPSBzdHlsZVtuYW1lXTtcbiAgICAgIHN0eWxlW25hbWVdID0gb3B0aW9uc1tuYW1lXTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjay5jYWxsKGVsZW0pO1xuXG4gIC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuICBmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBzdHlsZVtuYW1lXSA9IG9sZFtuYW1lXTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UEJNV2lkdGgoZWxlbSwgcHJvcHMsIHdoaWNoKSB7XG4gIHZhciB2YWx1ZSA9IDA7XG4gIHZhciBwcm9wID0gdm9pZCAwO1xuICB2YXIgaiA9IHZvaWQgMDtcbiAgdmFyIGkgPSB2b2lkIDA7XG4gIGZvciAoaiA9IDA7IGogPCBwcm9wcy5sZW5ndGg7IGorKykge1xuICAgIHByb3AgPSBwcm9wc1tqXTtcbiAgICBpZiAocHJvcCkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IHdoaWNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjc3NQcm9wID0gdm9pZCAwO1xuICAgICAgICBpZiAocHJvcCA9PT0gJ2JvcmRlcicpIHtcbiAgICAgICAgICBjc3NQcm9wID0gJycgKyBwcm9wICsgd2hpY2hbaV0gKyAnV2lkdGgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNzc1Byb3AgPSBwcm9wICsgd2hpY2hbaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgKz0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlWChlbGVtLCBjc3NQcm9wKSkgfHwgMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG52YXIgZG9tVXRpbHMgPSB7fTtcblxuZWFjaChbJ1dpZHRoJywgJ0hlaWdodCddLCBmdW5jdGlvbiAobmFtZSkge1xuICBkb21VdGlsc1snZG9jJyArIG5hbWVdID0gZnVuY3Rpb24gKHJlZldpbikge1xuICAgIHZhciBkID0gcmVmV2luLmRvY3VtZW50O1xuICAgIHJldHVybiBNYXRoLm1heChcbiAgICAvLyBmaXJlZm94IGNocm9tZSBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0PCBib2R5LnNjcm9sbEhlaWdodFxuICAgIC8vIGllIHN0YW5kYXJkIG1vZGUgOiBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0PiBib2R5LnNjcm9sbEhlaWdodFxuICAgIGQuZG9jdW1lbnRFbGVtZW50WydzY3JvbGwnICsgbmFtZV0sXG4gICAgLy8gcXVpcmtzIDogZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCDmnIDlpKfnrYnkuo7lj6/op4bnqpflj6PlpJrkuIDngrnvvJ9cbiAgICBkLmJvZHlbJ3Njcm9sbCcgKyBuYW1lXSwgZG9tVXRpbHNbJ3ZpZXdwb3J0JyArIG5hbWVdKGQpKTtcbiAgfTtcblxuICBkb21VdGlsc1sndmlld3BvcnQnICsgbmFtZV0gPSBmdW5jdGlvbiAod2luKSB7XG4gICAgLy8gcGMgYnJvd3NlciBpbmNsdWRlcyBzY3JvbGxiYXIgaW4gd2luZG93LmlubmVyV2lkdGhcbiAgICB2YXIgcHJvcCA9ICdjbGllbnQnICsgbmFtZTtcbiAgICB2YXIgZG9jID0gd2luLmRvY3VtZW50O1xuICAgIHZhciBib2R5ID0gZG9jLmJvZHk7XG4gICAgdmFyIGRvY3VtZW50RWxlbWVudCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdmFyIGRvY3VtZW50RWxlbWVudFByb3AgPSBkb2N1bWVudEVsZW1lbnRbcHJvcF07XG4gICAgLy8g5qCH5YeG5qih5byP5Y+WIGRvY3VtZW50RWxlbWVudFxuICAgIC8vIGJhY2tjb21wYXQg5Y+WIGJvZHlcbiAgICByZXR1cm4gZG9jLmNvbXBhdE1vZGUgPT09ICdDU1MxQ29tcGF0JyAmJiBkb2N1bWVudEVsZW1lbnRQcm9wIHx8IGJvZHkgJiYgYm9keVtwcm9wXSB8fCBkb2N1bWVudEVsZW1lbnRQcm9wO1xuICB9O1xufSk7XG5cbi8qXG4g5b6X5Yiw5YWD57Sg55qE5aSn5bCP5L+h5oGvXG4gQHBhcmFtIGVsZW1cbiBAcGFyYW0gbmFtZVxuIEBwYXJhbSB7U3RyaW5nfSBbZXh0cmFdICAncGFkZGluZycgOiAoY3NzIHdpZHRoKSArIHBhZGRpbmdcbiAnYm9yZGVyJyA6IChjc3Mgd2lkdGgpICsgcGFkZGluZyArIGJvcmRlclxuICdtYXJnaW4nIDogKGNzcyB3aWR0aCkgKyBwYWRkaW5nICsgYm9yZGVyICsgbWFyZ2luXG4gKi9cbmZ1bmN0aW9uIGdldFdIKGVsZW0sIG5hbWUsIGV4KSB7XG4gIHZhciBleHRyYSA9IGV4O1xuICBpZiAoaXNXaW5kb3coZWxlbSkpIHtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ3dpZHRoJyA/IGRvbVV0aWxzLnZpZXdwb3J0V2lkdGgoZWxlbSkgOiBkb21VdGlscy52aWV3cG9ydEhlaWdodChlbGVtKTtcbiAgfSBlbHNlIGlmIChlbGVtLm5vZGVUeXBlID09PSA5KSB7XG4gICAgcmV0dXJuIG5hbWUgPT09ICd3aWR0aCcgPyBkb21VdGlscy5kb2NXaWR0aChlbGVtKSA6IGRvbVV0aWxzLmRvY0hlaWdodChlbGVtKTtcbiAgfVxuICB2YXIgd2hpY2ggPSBuYW1lID09PSAnd2lkdGgnID8gWydMZWZ0JywgJ1JpZ2h0J10gOiBbJ1RvcCcsICdCb3R0b20nXTtcbiAgdmFyIGJvcmRlckJveFZhbHVlID0gbmFtZSA9PT0gJ3dpZHRoJyA/IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggOiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlWChlbGVtKTtcbiAgdmFyIGlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3hGbihlbGVtLCBjb21wdXRlZFN0eWxlKTtcbiAgdmFyIGNzc0JveFZhbHVlID0gMDtcbiAgaWYgKGJvcmRlckJveFZhbHVlID09PSBudWxsIHx8IGJvcmRlckJveFZhbHVlID09PSB1bmRlZmluZWQgfHwgYm9yZGVyQm94VmFsdWUgPD0gMCkge1xuICAgIGJvcmRlckJveFZhbHVlID0gdW5kZWZpbmVkO1xuICAgIC8vIEZhbGwgYmFjayB0byBjb21wdXRlZCB0aGVuIHVuIGNvbXB1dGVkIGNzcyBpZiBuZWNlc3NhcnlcbiAgICBjc3NCb3hWYWx1ZSA9IGdldENvbXB1dGVkU3R5bGVYKGVsZW0sIG5hbWUpO1xuICAgIGlmIChjc3NCb3hWYWx1ZSA9PT0gbnVsbCB8fCBjc3NCb3hWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IE51bWJlcihjc3NCb3hWYWx1ZSkgPCAwKSB7XG4gICAgICBjc3NCb3hWYWx1ZSA9IGVsZW0uc3R5bGVbbmFtZV0gfHwgMDtcbiAgICB9XG4gICAgLy8gTm9ybWFsaXplICcnLCBhdXRvLCBhbmQgcHJlcGFyZSBmb3IgZXh0cmFcbiAgICBjc3NCb3hWYWx1ZSA9IHBhcnNlRmxvYXQoY3NzQm94VmFsdWUpIHx8IDA7XG4gIH1cbiAgaWYgKGV4dHJhID09PSB1bmRlZmluZWQpIHtcbiAgICBleHRyYSA9IGlzQm9yZGVyQm94ID8gQk9SREVSX0lOREVYIDogQ09OVEVOVF9JTkRFWDtcbiAgfVxuICB2YXIgYm9yZGVyQm94VmFsdWVPcklzQm9yZGVyQm94ID0gYm9yZGVyQm94VmFsdWUgIT09IHVuZGVmaW5lZCB8fCBpc0JvcmRlckJveDtcbiAgdmFyIHZhbCA9IGJvcmRlckJveFZhbHVlIHx8IGNzc0JveFZhbHVlO1xuICBpZiAoZXh0cmEgPT09IENPTlRFTlRfSU5ERVgpIHtcbiAgICBpZiAoYm9yZGVyQm94VmFsdWVPcklzQm9yZGVyQm94KSB7XG4gICAgICByZXR1cm4gdmFsIC0gZ2V0UEJNV2lkdGgoZWxlbSwgWydib3JkZXInLCAncGFkZGluZyddLCB3aGljaCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgfVxuICAgIHJldHVybiBjc3NCb3hWYWx1ZTtcbiAgfSBlbHNlIGlmIChib3JkZXJCb3hWYWx1ZU9ySXNCb3JkZXJCb3gpIHtcbiAgICBpZiAoZXh0cmEgPT09IEJPUkRFUl9JTkRFWCkge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbCArIChleHRyYSA9PT0gUEFERElOR19JTkRFWCA/IC1nZXRQQk1XaWR0aChlbGVtLCBbJ2JvcmRlciddLCB3aGljaCwgY29tcHV0ZWRTdHlsZSkgOiBnZXRQQk1XaWR0aChlbGVtLCBbJ21hcmdpbiddLCB3aGljaCwgY29tcHV0ZWRTdHlsZSkpO1xuICB9XG4gIHJldHVybiBjc3NCb3hWYWx1ZSArIGdldFBCTVdpZHRoKGVsZW0sIEJPWF9NT0RFTFMuc2xpY2UoZXh0cmEpLCB3aGljaCwgY29tcHV0ZWRTdHlsZSk7XG59XG5cbnZhciBjc3NTaG93ID0ge1xuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgdmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gIGRpc3BsYXk6ICdibG9jaydcbn07XG5cbi8vIGZpeCAjMTE5IDogaHR0cHM6Ly9naXRodWIuY29tL2tpc3N5dGVhbS9raXNzeS9pc3N1ZXMvMTE5XG5mdW5jdGlvbiBnZXRXSElnbm9yZURpc3BsYXkoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuOyBfa2V5MisrKSB7XG4gICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICB9XG5cbiAgdmFyIHZhbCA9IHZvaWQgMDtcbiAgdmFyIGVsZW0gPSBhcmdzWzBdO1xuICAvLyBpbiBjYXNlIGVsZW0gaXMgd2luZG93XG4gIC8vIGVsZW0ub2Zmc2V0V2lkdGggPT09IHVuZGVmaW5lZFxuICBpZiAoZWxlbS5vZmZzZXRXaWR0aCAhPT0gMCkge1xuICAgIHZhbCA9IGdldFdILmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgc3dhcChlbGVtLCBjc3NTaG93LCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YWwgPSBnZXRXSC5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB2YWw7XG59XG5cbmVhY2goWyd3aWR0aCcsICdoZWlnaHQnXSwgZnVuY3Rpb24gKG5hbWUpIHtcbiAgdmFyIGZpcnN0ID0gbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSk7XG4gIGRvbVV0aWxzWydvdXRlcicgKyBmaXJzdF0gPSBmdW5jdGlvbiAoZWwsIGluY2x1ZGVNYXJnaW4pIHtcbiAgICByZXR1cm4gZWwgJiYgZ2V0V0hJZ25vcmVEaXNwbGF5KGVsLCBuYW1lLCBpbmNsdWRlTWFyZ2luID8gTUFSR0lOX0lOREVYIDogQk9SREVSX0lOREVYKTtcbiAgfTtcbiAgdmFyIHdoaWNoID0gbmFtZSA9PT0gJ3dpZHRoJyA/IFsnTGVmdCcsICdSaWdodCddIDogWydUb3AnLCAnQm90dG9tJ107XG5cbiAgZG9tVXRpbHNbbmFtZV0gPSBmdW5jdGlvbiAoZWxlbSwgdikge1xuICAgIHZhciB2YWwgPSB2O1xuICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlWChlbGVtKTtcbiAgICAgICAgdmFyIGlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3hGbihlbGVtKTtcbiAgICAgICAgaWYgKGlzQm9yZGVyQm94KSB7XG4gICAgICAgICAgdmFsICs9IGdldFBCTVdpZHRoKGVsZW0sIFsncGFkZGluZycsICdib3JkZXInXSwgd2hpY2gsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjc3MoZWxlbSwgbmFtZSwgdmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbGVtICYmIGdldFdISWdub3JlRGlzcGxheShlbGVtLCBuYW1lLCBDT05URU5UX0lOREVYKTtcbiAgfTtcbn0pO1xuXG5mdW5jdGlvbiBtaXgodG8sIGZyb20pIHtcbiAgZm9yICh2YXIgaSBpbiBmcm9tKSB7XG4gICAgaWYgKGZyb20uaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIHRvW2ldID0gZnJvbVtpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvO1xufVxuXG52YXIgdXRpbHMgPSB7XG4gIGdldFdpbmRvdzogZnVuY3Rpb24gZ2V0V2luZG93KG5vZGUpIHtcbiAgICBpZiAobm9kZSAmJiBub2RlLmRvY3VtZW50ICYmIG5vZGUuc2V0VGltZW91dCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIHZhciBkb2MgPSBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZTtcbiAgICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3c7XG4gIH0sXG5cbiAgZ2V0RG9jdW1lbnQ6IGdldERvY3VtZW50LFxuICBvZmZzZXQ6IGZ1bmN0aW9uIG9mZnNldChlbCwgdmFsdWUsIG9wdGlvbikge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzZXRPZmZzZXQoZWwsIHZhbHVlLCBvcHRpb24gfHwge30pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0T2Zmc2V0KGVsKTtcbiAgICB9XG4gIH0sXG5cbiAgaXNXaW5kb3c6IGlzV2luZG93LFxuICBlYWNoOiBlYWNoLFxuICBjc3M6IGNzcyxcbiAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKG9iaikge1xuICAgIHZhciBpID0gdm9pZCAwO1xuICAgIHZhciByZXQgPSB7fTtcbiAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIHJldFtpXSA9IG9ialtpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIG92ZXJmbG93ID0gb2JqLm92ZXJmbG93O1xuICAgIGlmIChvdmVyZmxvdykge1xuICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgcmV0Lm92ZXJmbG93W2ldID0gb2JqLm92ZXJmbG93W2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH0sXG5cbiAgbWl4OiBtaXgsXG4gIGdldFdpbmRvd1Njcm9sbExlZnQ6IGZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbExlZnQodykge1xuICAgIHJldHVybiBnZXRTY3JvbGxMZWZ0KHcpO1xuICB9LFxuICBnZXRXaW5kb3dTY3JvbGxUb3A6IGZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbFRvcCh3KSB7XG4gICAgcmV0dXJuIGdldFNjcm9sbFRvcCh3KTtcbiAgfSxcbiAgbWVyZ2U6IGZ1bmN0aW9uIG1lcmdlKCkge1xuICAgIHZhciByZXQgPSB7fTtcblxuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4yOyBfa2V5MysrKSB7XG4gICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1dGlscy5taXgocmV0LCBhcmdzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfSxcblxuICB2aWV3cG9ydFdpZHRoOiAwLFxuICB2aWV3cG9ydEhlaWdodDogMFxufTtcblxubWl4KHV0aWxzLCBkb21VdGlscyk7XG5cbmV4cG9ydCBkZWZhdWx0IHV0aWxzOyIsImltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzJztcblxuLyoqXG4gKiDlvpfliLDkvJrlr7zoh7TlhYPntKDmmL7npLrkuI3lhajnmoTnpZblhYjlhYPntKBcbiAqL1xuXG5mdW5jdGlvbiBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCkge1xuICBpZiAodXRpbHMuaXNXaW5kb3coZWxlbWVudCkgfHwgZWxlbWVudC5ub2RlVHlwZSA9PT0gOSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIC8vIGllIOi/meS4quS5n+S4jeaYr+WujOWFqOWPr+ihjFxuICAvKlxuICAgPGRpdiBzdHlsZT1cIndpZHRoOiA1MHB4O2hlaWdodDogMTAwcHg7b3ZlcmZsb3c6IGhpZGRlblwiPlxuICAgPGRpdiBzdHlsZT1cIndpZHRoOiA1MHB4O2hlaWdodDogMTAwcHg7cG9zaXRpb246IHJlbGF0aXZlO1wiIGlkPVwiZDZcIj5cbiAgIOWFg+e0oCA2IOmrmCAxMDBweCDlrr0gNTBweDxici8+XG4gICA8L2Rpdj5cbiAgIDwvZGl2PlxuICAgKi9cbiAgLy8gZWxlbWVudC5vZmZzZXRQYXJlbnQgZG9lcyB0aGUgcmlnaHQgdGhpbmcgaW4gaWU3IGFuZCBiZWxvdy4gUmV0dXJuIHBhcmVudCB3aXRoIGxheW91dCFcbiAgLy8gIEluIG90aGVyIGJyb3dzZXJzIGl0IG9ubHkgaW5jbHVkZXMgZWxlbWVudHMgd2l0aCBwb3NpdGlvbiBhYnNvbHV0ZSwgcmVsYXRpdmUgb3JcbiAgLy8gZml4ZWQsIG5vdCBlbGVtZW50cyB3aXRoIG92ZXJmbG93IHNldCB0byBhdXRvIG9yIHNjcm9sbC5cbiAgLy8gICAgICAgIGlmIChVQS5pZSAmJiBpZU1vZGUgPCA4KSB7XG4gIC8vICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICAvLyAgICAgICAgfVxuICAvLyDnu5/kuIDnmoQgb2Zmc2V0UGFyZW50IOaWueazlVxuICB2YXIgZG9jID0gdXRpbHMuZ2V0RG9jdW1lbnQoZWxlbWVudCk7XG4gIHZhciBib2R5ID0gZG9jLmJvZHk7XG4gIHZhciBwYXJlbnQgPSB2b2lkIDA7XG4gIHZhciBwb3NpdGlvblN0eWxlID0gdXRpbHMuY3NzKGVsZW1lbnQsICdwb3NpdGlvbicpO1xuICB2YXIgc2tpcFN0YXRpYyA9IHBvc2l0aW9uU3R5bGUgPT09ICdmaXhlZCcgfHwgcG9zaXRpb25TdHlsZSA9PT0gJ2Fic29sdXRlJztcblxuICBpZiAoIXNraXBTdGF0aWMpIHtcbiAgICByZXR1cm4gZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaHRtbCcgPyBudWxsIDogZWxlbWVudC5wYXJlbnROb2RlO1xuICB9XG5cbiAgZm9yIChwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7IHBhcmVudCAmJiBwYXJlbnQgIT09IGJvZHk7IHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKSB7XG4gICAgcG9zaXRpb25TdHlsZSA9IHV0aWxzLmNzcyhwYXJlbnQsICdwb3NpdGlvbicpO1xuICAgIGlmIChwb3NpdGlvblN0eWxlICE9PSAnc3RhdGljJykge1xuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldE9mZnNldFBhcmVudDsiLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQW5jZXN0b3JGaXhlZChlbGVtZW50KSB7XG4gIGlmICh1dGlscy5pc1dpbmRvdyhlbGVtZW50KSB8fCBlbGVtZW50Lm5vZGVUeXBlID09PSA5KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGRvYyA9IHV0aWxzLmdldERvY3VtZW50KGVsZW1lbnQpO1xuICB2YXIgYm9keSA9IGRvYy5ib2R5O1xuICB2YXIgcGFyZW50ID0gbnVsbDtcbiAgZm9yIChwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7IHBhcmVudCAmJiBwYXJlbnQgIT09IGJvZHk7IHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKSB7XG4gICAgdmFyIHBvc2l0aW9uU3R5bGUgPSB1dGlscy5jc3MocGFyZW50LCAncG9zaXRpb24nKTtcbiAgICBpZiAocG9zaXRpb25TdHlsZSA9PT0gJ2ZpeGVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn0iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgZ2V0T2Zmc2V0UGFyZW50IGZyb20gJy4vZ2V0T2Zmc2V0UGFyZW50JztcbmltcG9ydCBpc0FuY2VzdG9yRml4ZWQgZnJvbSAnLi9pc0FuY2VzdG9yRml4ZWQnO1xuXG4vKipcbiAqIOiOt+W+l+WFg+e0oOeahOaYvuekuumDqOWIhueahOWMuuWfn1xuICovXG5mdW5jdGlvbiBnZXRWaXNpYmxlUmVjdEZvckVsZW1lbnQoZWxlbWVudCkge1xuICB2YXIgdmlzaWJsZVJlY3QgPSB7XG4gICAgbGVmdDogMCxcbiAgICByaWdodDogSW5maW5pdHksXG4gICAgdG9wOiAwLFxuICAgIGJvdHRvbTogSW5maW5pdHlcbiAgfTtcbiAgdmFyIGVsID0gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpO1xuICB2YXIgZG9jID0gdXRpbHMuZ2V0RG9jdW1lbnQoZWxlbWVudCk7XG4gIHZhciB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcbiAgdmFyIGJvZHkgPSBkb2MuYm9keTtcbiAgdmFyIGRvY3VtZW50RWxlbWVudCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgLy8gRGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSB2aXNpYmxlIHJlY3QgYnkgY2xpbWJpbmcgdGhlIGRvbSBhY2NvdW50aW5nIGZvclxuICAvLyBhbGwgc2Nyb2xsYWJsZSBjb250YWluZXJzLlxuICB3aGlsZSAoZWwpIHtcbiAgICAvLyBjbGllbnRXaWR0aCBpcyB6ZXJvIGZvciBpbmxpbmUgYmxvY2sgZWxlbWVudHMgaW4gaWUuXG4gICAgaWYgKChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ01TSUUnKSA9PT0gLTEgfHwgZWwuY2xpZW50V2lkdGggIT09IDApICYmXG4gICAgLy8gYm9keSBtYXkgaGF2ZSBvdmVyZmxvdyBzZXQgb24gaXQsIHlldCB3ZSBzdGlsbCBnZXQgdGhlIGVudGlyZVxuICAgIC8vIHZpZXdwb3J0LiBJbiBzb21lIGJyb3dzZXJzLCBlbC5vZmZzZXRQYXJlbnQgbWF5IGJlXG4gICAgLy8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBzbyBjaGVjayBmb3IgdGhhdCB0b28uXG4gICAgZWwgIT09IGJvZHkgJiYgZWwgIT09IGRvY3VtZW50RWxlbWVudCAmJiB1dGlscy5jc3MoZWwsICdvdmVyZmxvdycpICE9PSAndmlzaWJsZScpIHtcbiAgICAgIHZhciBwb3MgPSB1dGlscy5vZmZzZXQoZWwpO1xuICAgICAgLy8gYWRkIGJvcmRlclxuICAgICAgcG9zLmxlZnQgKz0gZWwuY2xpZW50TGVmdDtcbiAgICAgIHBvcy50b3AgKz0gZWwuY2xpZW50VG9wO1xuICAgICAgdmlzaWJsZVJlY3QudG9wID0gTWF0aC5tYXgodmlzaWJsZVJlY3QudG9wLCBwb3MudG9wKTtcbiAgICAgIHZpc2libGVSZWN0LnJpZ2h0ID0gTWF0aC5taW4odmlzaWJsZVJlY3QucmlnaHQsXG4gICAgICAvLyBjb25zaWRlciBhcmVhIHdpdGhvdXQgc2Nyb2xsQmFyXG4gICAgICBwb3MubGVmdCArIGVsLmNsaWVudFdpZHRoKTtcbiAgICAgIHZpc2libGVSZWN0LmJvdHRvbSA9IE1hdGgubWluKHZpc2libGVSZWN0LmJvdHRvbSwgcG9zLnRvcCArIGVsLmNsaWVudEhlaWdodCk7XG4gICAgICB2aXNpYmxlUmVjdC5sZWZ0ID0gTWF0aC5tYXgodmlzaWJsZVJlY3QubGVmdCwgcG9zLmxlZnQpO1xuICAgIH0gZWxzZSBpZiAoZWwgPT09IGJvZHkgfHwgZWwgPT09IGRvY3VtZW50RWxlbWVudCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGVsID0gZ2V0T2Zmc2V0UGFyZW50KGVsKTtcbiAgfVxuXG4gIC8vIFNldCBlbGVtZW50IHBvc2l0aW9uIHRvIGZpeGVkXG4gIC8vIG1ha2Ugc3VyZSBhYnNvbHV0ZSBlbGVtZW50IGl0c2VsZiBkb24ndCBhZmZlY3QgaXQncyB2aXNpYmxlIGFyZWFcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvNzYwMVxuICB2YXIgb3JpZ2luYWxQb3NpdGlvbiA9IG51bGw7XG4gIGlmICghdXRpbHMuaXNXaW5kb3coZWxlbWVudCkgJiYgZWxlbWVudC5ub2RlVHlwZSAhPT0gOSkge1xuICAgIG9yaWdpbmFsUG9zaXRpb24gPSBlbGVtZW50LnN0eWxlLnBvc2l0aW9uO1xuICAgIHZhciBwb3NpdGlvbiA9IHV0aWxzLmNzcyhlbGVtZW50LCAncG9zaXRpb24nKTtcbiAgICBpZiAocG9zaXRpb24gPT09ICdhYnNvbHV0ZScpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzY3JvbGxYID0gdXRpbHMuZ2V0V2luZG93U2Nyb2xsTGVmdCh3aW4pO1xuICB2YXIgc2Nyb2xsWSA9IHV0aWxzLmdldFdpbmRvd1Njcm9sbFRvcCh3aW4pO1xuICB2YXIgdmlld3BvcnRXaWR0aCA9IHV0aWxzLnZpZXdwb3J0V2lkdGgod2luKTtcbiAgdmFyIHZpZXdwb3J0SGVpZ2h0ID0gdXRpbHMudmlld3BvcnRIZWlnaHQod2luKTtcbiAgdmFyIGRvY3VtZW50V2lkdGggPSBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGg7XG4gIHZhciBkb2N1bWVudEhlaWdodCA9IGRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQ7XG5cbiAgLy8gc2Nyb2xsWFhYIG9uIGh0bWwgaXMgc3luYyB3aXRoIGJvZHkgd2hpY2ggbWVhbnMgb3ZlcmZsb3c6IGhpZGRlbiBvbiBib2R5IGdldHMgd3Jvbmcgc2Nyb2xsWFhYLlxuICAvLyBXZSBzaG91bGQgY3V0IHRoaXMgb3Vyc2VsZi5cbiAgdmFyIGJvZHlTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGJvZHkpO1xuICBpZiAoYm9keVN0eWxlLm92ZXJmbG93WCA9PT0gJ2hpZGRlbicpIHtcbiAgICBkb2N1bWVudFdpZHRoID0gd2luLmlubmVyV2lkdGg7XG4gIH1cbiAgaWYgKGJvZHlTdHlsZS5vdmVyZmxvd1kgPT09ICdoaWRkZW4nKSB7XG4gICAgZG9jdW1lbnRIZWlnaHQgPSB3aW4uaW5uZXJIZWlnaHQ7XG4gIH1cblxuICAvLyBSZXNldCBlbGVtZW50IHBvc2l0aW9uIGFmdGVyIGNhbGN1bGF0ZSB0aGUgdmlzaWJsZSBhcmVhXG4gIGlmIChlbGVtZW50LnN0eWxlKSB7XG4gICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IG9yaWdpbmFsUG9zaXRpb247XG4gIH1cblxuICBpZiAoaXNBbmNlc3RvckZpeGVkKGVsZW1lbnQpKSB7XG4gICAgLy8gQ2xpcCBieSB2aWV3cG9ydCdzIHNpemUuXG4gICAgdmlzaWJsZVJlY3QubGVmdCA9IE1hdGgubWF4KHZpc2libGVSZWN0LmxlZnQsIHNjcm9sbFgpO1xuICAgIHZpc2libGVSZWN0LnRvcCA9IE1hdGgubWF4KHZpc2libGVSZWN0LnRvcCwgc2Nyb2xsWSk7XG4gICAgdmlzaWJsZVJlY3QucmlnaHQgPSBNYXRoLm1pbih2aXNpYmxlUmVjdC5yaWdodCwgc2Nyb2xsWCArIHZpZXdwb3J0V2lkdGgpO1xuICAgIHZpc2libGVSZWN0LmJvdHRvbSA9IE1hdGgubWluKHZpc2libGVSZWN0LmJvdHRvbSwgc2Nyb2xsWSArIHZpZXdwb3J0SGVpZ2h0KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBDbGlwIGJ5IGRvY3VtZW50J3Mgc2l6ZS5cbiAgICB2YXIgbWF4VmlzaWJsZVdpZHRoID0gTWF0aC5tYXgoZG9jdW1lbnRXaWR0aCwgc2Nyb2xsWCArIHZpZXdwb3J0V2lkdGgpO1xuICAgIHZpc2libGVSZWN0LnJpZ2h0ID0gTWF0aC5taW4odmlzaWJsZVJlY3QucmlnaHQsIG1heFZpc2libGVXaWR0aCk7XG5cbiAgICB2YXIgbWF4VmlzaWJsZUhlaWdodCA9IE1hdGgubWF4KGRvY3VtZW50SGVpZ2h0LCBzY3JvbGxZICsgdmlld3BvcnRIZWlnaHQpO1xuICAgIHZpc2libGVSZWN0LmJvdHRvbSA9IE1hdGgubWluKHZpc2libGVSZWN0LmJvdHRvbSwgbWF4VmlzaWJsZUhlaWdodCk7XG4gIH1cblxuICByZXR1cm4gdmlzaWJsZVJlY3QudG9wID49IDAgJiYgdmlzaWJsZVJlY3QubGVmdCA+PSAwICYmIHZpc2libGVSZWN0LmJvdHRvbSA+IHZpc2libGVSZWN0LnRvcCAmJiB2aXNpYmxlUmVjdC5yaWdodCA+IHZpc2libGVSZWN0LmxlZnQgPyB2aXNpYmxlUmVjdCA6IG51bGw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFZpc2libGVSZWN0Rm9yRWxlbWVudDsiLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5cbmZ1bmN0aW9uIGFkanVzdEZvclZpZXdwb3J0KGVsRnV0dXJlUG9zLCBlbFJlZ2lvbiwgdmlzaWJsZVJlY3QsIG92ZXJmbG93KSB7XG4gIHZhciBwb3MgPSB1dGlscy5jbG9uZShlbEZ1dHVyZVBvcyk7XG4gIHZhciBzaXplID0ge1xuICAgIHdpZHRoOiBlbFJlZ2lvbi53aWR0aCxcbiAgICBoZWlnaHQ6IGVsUmVnaW9uLmhlaWdodFxuICB9O1xuXG4gIGlmIChvdmVyZmxvdy5hZGp1c3RYICYmIHBvcy5sZWZ0IDwgdmlzaWJsZVJlY3QubGVmdCkge1xuICAgIHBvcy5sZWZ0ID0gdmlzaWJsZVJlY3QubGVmdDtcbiAgfVxuXG4gIC8vIExlZnQgZWRnZSBpbnNpZGUgYW5kIHJpZ2h0IGVkZ2Ugb3V0c2lkZSB2aWV3cG9ydCwgdHJ5IHRvIHJlc2l6ZSBpdC5cbiAgaWYgKG92ZXJmbG93LnJlc2l6ZVdpZHRoICYmIHBvcy5sZWZ0ID49IHZpc2libGVSZWN0LmxlZnQgJiYgcG9zLmxlZnQgKyBzaXplLndpZHRoID4gdmlzaWJsZVJlY3QucmlnaHQpIHtcbiAgICBzaXplLndpZHRoIC09IHBvcy5sZWZ0ICsgc2l6ZS53aWR0aCAtIHZpc2libGVSZWN0LnJpZ2h0O1xuICB9XG5cbiAgLy8gUmlnaHQgZWRnZSBvdXRzaWRlIHZpZXdwb3J0LCB0cnkgdG8gbW92ZSBpdC5cbiAgaWYgKG92ZXJmbG93LmFkanVzdFggJiYgcG9zLmxlZnQgKyBzaXplLndpZHRoID4gdmlzaWJsZVJlY3QucmlnaHQpIHtcbiAgICAvLyDkv53or4Hlt6bovrnnlYzlkozlj6/op4bljLrln5/lt6bovrnnlYzlr7npvZBcbiAgICBwb3MubGVmdCA9IE1hdGgubWF4KHZpc2libGVSZWN0LnJpZ2h0IC0gc2l6ZS53aWR0aCwgdmlzaWJsZVJlY3QubGVmdCk7XG4gIH1cblxuICAvLyBUb3AgZWRnZSBvdXRzaWRlIHZpZXdwb3J0LCB0cnkgdG8gbW92ZSBpdC5cbiAgaWYgKG92ZXJmbG93LmFkanVzdFkgJiYgcG9zLnRvcCA8IHZpc2libGVSZWN0LnRvcCkge1xuICAgIHBvcy50b3AgPSB2aXNpYmxlUmVjdC50b3A7XG4gIH1cblxuICAvLyBUb3AgZWRnZSBpbnNpZGUgYW5kIGJvdHRvbSBlZGdlIG91dHNpZGUgdmlld3BvcnQsIHRyeSB0byByZXNpemUgaXQuXG4gIGlmIChvdmVyZmxvdy5yZXNpemVIZWlnaHQgJiYgcG9zLnRvcCA+PSB2aXNpYmxlUmVjdC50b3AgJiYgcG9zLnRvcCArIHNpemUuaGVpZ2h0ID4gdmlzaWJsZVJlY3QuYm90dG9tKSB7XG4gICAgc2l6ZS5oZWlnaHQgLT0gcG9zLnRvcCArIHNpemUuaGVpZ2h0IC0gdmlzaWJsZVJlY3QuYm90dG9tO1xuICB9XG5cbiAgLy8gQm90dG9tIGVkZ2Ugb3V0c2lkZSB2aWV3cG9ydCwgdHJ5IHRvIG1vdmUgaXQuXG4gIGlmIChvdmVyZmxvdy5hZGp1c3RZICYmIHBvcy50b3AgKyBzaXplLmhlaWdodCA+IHZpc2libGVSZWN0LmJvdHRvbSkge1xuICAgIC8vIOS/neivgeS4iui+ueeVjOWSjOWPr+inhuWMuuWfn+S4iui+ueeVjOWvuem9kFxuICAgIHBvcy50b3AgPSBNYXRoLm1heCh2aXNpYmxlUmVjdC5ib3R0b20gLSBzaXplLmhlaWdodCwgdmlzaWJsZVJlY3QudG9wKTtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5taXgocG9zLCBzaXplKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYWRqdXN0Rm9yVmlld3BvcnQ7IiwiaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuXG5mdW5jdGlvbiBnZXRSZWdpb24obm9kZSkge1xuICB2YXIgb2Zmc2V0ID0gdm9pZCAwO1xuICB2YXIgdyA9IHZvaWQgMDtcbiAgdmFyIGggPSB2b2lkIDA7XG4gIGlmICghdXRpbHMuaXNXaW5kb3cobm9kZSkgJiYgbm9kZS5ub2RlVHlwZSAhPT0gOSkge1xuICAgIG9mZnNldCA9IHV0aWxzLm9mZnNldChub2RlKTtcbiAgICB3ID0gdXRpbHMub3V0ZXJXaWR0aChub2RlKTtcbiAgICBoID0gdXRpbHMub3V0ZXJIZWlnaHQobm9kZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHdpbiA9IHV0aWxzLmdldFdpbmRvdyhub2RlKTtcbiAgICBvZmZzZXQgPSB7XG4gICAgICBsZWZ0OiB1dGlscy5nZXRXaW5kb3dTY3JvbGxMZWZ0KHdpbiksXG4gICAgICB0b3A6IHV0aWxzLmdldFdpbmRvd1Njcm9sbFRvcCh3aW4pXG4gICAgfTtcbiAgICB3ID0gdXRpbHMudmlld3BvcnRXaWR0aCh3aW4pO1xuICAgIGggPSB1dGlscy52aWV3cG9ydEhlaWdodCh3aW4pO1xuICB9XG4gIG9mZnNldC53aWR0aCA9IHc7XG4gIG9mZnNldC5oZWlnaHQgPSBoO1xuICByZXR1cm4gb2Zmc2V0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBnZXRSZWdpb247IiwiLyoqXG4gKiDojrflj5Ygbm9kZSDkuIrnmoQgYWxpZ24g5a+56b2Q54K5IOebuOWvueS6jumhtemdoueahOWdkOagh1xuICovXG5cbmZ1bmN0aW9uIGdldEFsaWduT2Zmc2V0KHJlZ2lvbiwgYWxpZ24pIHtcbiAgdmFyIFYgPSBhbGlnbi5jaGFyQXQoMCk7XG4gIHZhciBIID0gYWxpZ24uY2hhckF0KDEpO1xuICB2YXIgdyA9IHJlZ2lvbi53aWR0aDtcbiAgdmFyIGggPSByZWdpb24uaGVpZ2h0O1xuXG4gIHZhciB4ID0gcmVnaW9uLmxlZnQ7XG4gIHZhciB5ID0gcmVnaW9uLnRvcDtcblxuICBpZiAoViA9PT0gJ2MnKSB7XG4gICAgeSArPSBoIC8gMjtcbiAgfSBlbHNlIGlmIChWID09PSAnYicpIHtcbiAgICB5ICs9IGg7XG4gIH1cblxuICBpZiAoSCA9PT0gJ2MnKSB7XG4gICAgeCArPSB3IC8gMjtcbiAgfSBlbHNlIGlmIChIID09PSAncicpIHtcbiAgICB4ICs9IHc7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxlZnQ6IHgsXG4gICAgdG9wOiB5XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldEFsaWduT2Zmc2V0OyIsImltcG9ydCBnZXRBbGlnbk9mZnNldCBmcm9tICcuL2dldEFsaWduT2Zmc2V0JztcblxuZnVuY3Rpb24gZ2V0RWxGdXR1cmVQb3MoZWxSZWdpb24sIHJlZk5vZGVSZWdpb24sIHBvaW50cywgb2Zmc2V0LCB0YXJnZXRPZmZzZXQpIHtcbiAgdmFyIHAxID0gZ2V0QWxpZ25PZmZzZXQocmVmTm9kZVJlZ2lvbiwgcG9pbnRzWzFdKTtcbiAgdmFyIHAyID0gZ2V0QWxpZ25PZmZzZXQoZWxSZWdpb24sIHBvaW50c1swXSk7XG4gIHZhciBkaWZmID0gW3AyLmxlZnQgLSBwMS5sZWZ0LCBwMi50b3AgLSBwMS50b3BdO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdDogZWxSZWdpb24ubGVmdCAtIGRpZmZbMF0gKyBvZmZzZXRbMF0gLSB0YXJnZXRPZmZzZXRbMF0sXG4gICAgdG9wOiBlbFJlZ2lvbi50b3AgLSBkaWZmWzFdICsgb2Zmc2V0WzFdIC0gdGFyZ2V0T2Zmc2V0WzFdXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldEVsRnV0dXJlUG9zOyIsIi8qKlxuICogYWxpZ24gZG9tIG5vZGUgZmxleGlibHlcbiAqIEBhdXRob3IgeWltaW5naGVAZ21haWwuY29tXG4gKi9cblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBnZXRWaXNpYmxlUmVjdEZvckVsZW1lbnQgZnJvbSAnLi4vZ2V0VmlzaWJsZVJlY3RGb3JFbGVtZW50JztcbmltcG9ydCBhZGp1c3RGb3JWaWV3cG9ydCBmcm9tICcuLi9hZGp1c3RGb3JWaWV3cG9ydCc7XG5pbXBvcnQgZ2V0UmVnaW9uIGZyb20gJy4uL2dldFJlZ2lvbic7XG5pbXBvcnQgZ2V0RWxGdXR1cmVQb3MgZnJvbSAnLi4vZ2V0RWxGdXR1cmVQb3MnO1xuXG4vLyBodHRwOi8veWltaW5naGUuaXRleWUuY29tL2Jsb2cvMTEyNDcyMFxuXG5mdW5jdGlvbiBpc0ZhaWxYKGVsRnV0dXJlUG9zLCBlbFJlZ2lvbiwgdmlzaWJsZVJlY3QpIHtcbiAgcmV0dXJuIGVsRnV0dXJlUG9zLmxlZnQgPCB2aXNpYmxlUmVjdC5sZWZ0IHx8IGVsRnV0dXJlUG9zLmxlZnQgKyBlbFJlZ2lvbi53aWR0aCA+IHZpc2libGVSZWN0LnJpZ2h0O1xufVxuXG5mdW5jdGlvbiBpc0ZhaWxZKGVsRnV0dXJlUG9zLCBlbFJlZ2lvbiwgdmlzaWJsZVJlY3QpIHtcbiAgcmV0dXJuIGVsRnV0dXJlUG9zLnRvcCA8IHZpc2libGVSZWN0LnRvcCB8fCBlbEZ1dHVyZVBvcy50b3AgKyBlbFJlZ2lvbi5oZWlnaHQgPiB2aXNpYmxlUmVjdC5ib3R0b207XG59XG5cbmZ1bmN0aW9uIGlzQ29tcGxldGVGYWlsWChlbEZ1dHVyZVBvcywgZWxSZWdpb24sIHZpc2libGVSZWN0KSB7XG4gIHJldHVybiBlbEZ1dHVyZVBvcy5sZWZ0ID4gdmlzaWJsZVJlY3QucmlnaHQgfHwgZWxGdXR1cmVQb3MubGVmdCArIGVsUmVnaW9uLndpZHRoIDwgdmlzaWJsZVJlY3QubGVmdDtcbn1cblxuZnVuY3Rpb24gaXNDb21wbGV0ZUZhaWxZKGVsRnV0dXJlUG9zLCBlbFJlZ2lvbiwgdmlzaWJsZVJlY3QpIHtcbiAgcmV0dXJuIGVsRnV0dXJlUG9zLnRvcCA+IHZpc2libGVSZWN0LmJvdHRvbSB8fCBlbEZ1dHVyZVBvcy50b3AgKyBlbFJlZ2lvbi5oZWlnaHQgPCB2aXNpYmxlUmVjdC50b3A7XG59XG5cbmZ1bmN0aW9uIGZsaXAocG9pbnRzLCByZWcsIG1hcCkge1xuICB2YXIgcmV0ID0gW107XG4gIHV0aWxzLmVhY2gocG9pbnRzLCBmdW5jdGlvbiAocCkge1xuICAgIHJldC5wdXNoKHAucmVwbGFjZShyZWcsIGZ1bmN0aW9uIChtKSB7XG4gICAgICByZXR1cm4gbWFwW21dO1xuICAgIH0pKTtcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGZsaXBPZmZzZXQob2Zmc2V0LCBpbmRleCkge1xuICBvZmZzZXRbaW5kZXhdID0gLW9mZnNldFtpbmRleF07XG4gIHJldHVybiBvZmZzZXQ7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRPZmZzZXQoc3RyLCBvZmZzZXRMZW4pIHtcbiAgdmFyIG4gPSB2b2lkIDA7XG4gIGlmICgvJSQvLnRlc3Qoc3RyKSkge1xuICAgIG4gPSBwYXJzZUludChzdHIuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKSwgMTApIC8gMTAwICogb2Zmc2V0TGVuO1xuICB9IGVsc2Uge1xuICAgIG4gPSBwYXJzZUludChzdHIsIDEwKTtcbiAgfVxuICByZXR1cm4gbiB8fCAwO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVPZmZzZXQob2Zmc2V0LCBlbCkge1xuICBvZmZzZXRbMF0gPSBjb252ZXJ0T2Zmc2V0KG9mZnNldFswXSwgZWwud2lkdGgpO1xuICBvZmZzZXRbMV0gPSBjb252ZXJ0T2Zmc2V0KG9mZnNldFsxXSwgZWwuaGVpZ2h0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gZWxcbiAqIEBwYXJhbSB0Z3RSZWdpb24g5Y+C54Wn6IqC54K55omA5Y2g55qE5Yy65Z+fOiB7IGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCB9XG4gKiBAcGFyYW0gYWxpZ25cbiAqL1xuZnVuY3Rpb24gZG9BbGlnbihlbCwgdGd0UmVnaW9uLCBhbGlnbiwgaXNUZ3RSZWdpb25WaXNpYmxlKSB7XG4gIHZhciBwb2ludHMgPSBhbGlnbi5wb2ludHM7XG4gIHZhciBvZmZzZXQgPSBhbGlnbi5vZmZzZXQgfHwgWzAsIDBdO1xuICB2YXIgdGFyZ2V0T2Zmc2V0ID0gYWxpZ24udGFyZ2V0T2Zmc2V0IHx8IFswLCAwXTtcbiAgdmFyIG92ZXJmbG93ID0gYWxpZ24ub3ZlcmZsb3c7XG4gIHZhciBzb3VyY2UgPSBhbGlnbi5zb3VyY2UgfHwgZWw7XG4gIG9mZnNldCA9IFtdLmNvbmNhdChvZmZzZXQpO1xuICB0YXJnZXRPZmZzZXQgPSBbXS5jb25jYXQodGFyZ2V0T2Zmc2V0KTtcbiAgb3ZlcmZsb3cgPSBvdmVyZmxvdyB8fCB7fTtcbiAgdmFyIG5ld092ZXJmbG93Q2ZnID0ge307XG4gIHZhciBmYWlsID0gMDtcbiAgLy8g5b2T5YmN6IqC54K55Y+v5Lul6KKr5pS+572u55qE5pi+56S65Yy65Z+fXG4gIHZhciB2aXNpYmxlUmVjdCA9IGdldFZpc2libGVSZWN0Rm9yRWxlbWVudChzb3VyY2UpO1xuICAvLyDlvZPliY3oioLngrnmiYDljaDnmoTljLrln58sIGxlZnQvdG9wL3dpZHRoL2hlaWdodFxuICB2YXIgZWxSZWdpb24gPSBnZXRSZWdpb24oc291cmNlKTtcbiAgLy8g5bCGIG9mZnNldCDovazmjaLmiJDmlbDlgLzvvIzmlK/mjIHnmb7liIbmr5RcbiAgbm9ybWFsaXplT2Zmc2V0KG9mZnNldCwgZWxSZWdpb24pO1xuICBub3JtYWxpemVPZmZzZXQodGFyZ2V0T2Zmc2V0LCB0Z3RSZWdpb24pO1xuICAvLyDlvZPliY3oioLngrnlsIbopoHooqvmlL7nva7nmoTkvY3nva5cbiAgdmFyIGVsRnV0dXJlUG9zID0gZ2V0RWxGdXR1cmVQb3MoZWxSZWdpb24sIHRndFJlZ2lvbiwgcG9pbnRzLCBvZmZzZXQsIHRhcmdldE9mZnNldCk7XG4gIC8vIOW9k+WJjeiKgueCueWwhuimgeaJgOWkhOeahOWMuuWfn1xuICB2YXIgbmV3RWxSZWdpb24gPSB1dGlscy5tZXJnZShlbFJlZ2lvbiwgZWxGdXR1cmVQb3MpO1xuXG4gIC8vIOWmguaenOWPr+inhuWMuuWfn+S4jeiDveWujOWFqOaUvue9ruW9k+WJjeiKgueCueaXtuWFgeiuuOiwg+aVtFxuICBpZiAodmlzaWJsZVJlY3QgJiYgKG92ZXJmbG93LmFkanVzdFggfHwgb3ZlcmZsb3cuYWRqdXN0WSkgJiYgaXNUZ3RSZWdpb25WaXNpYmxlKSB7XG4gICAgaWYgKG92ZXJmbG93LmFkanVzdFgpIHtcbiAgICAgIC8vIOWmguaenOaoquWQkeS4jeiDveaUvuS4i1xuICAgICAgaWYgKGlzRmFpbFgoZWxGdXR1cmVQb3MsIGVsUmVnaW9uLCB2aXNpYmxlUmVjdCkpIHtcbiAgICAgICAgLy8g5a+56b2Q5L2N572u5Y+N5LiLXG4gICAgICAgIHZhciBuZXdQb2ludHMgPSBmbGlwKHBvaW50cywgL1tscl0vaWcsIHtcbiAgICAgICAgICBsOiAncicsXG4gICAgICAgICAgcjogJ2wnXG4gICAgICAgIH0pO1xuICAgICAgICAvLyDlgY/np7vph4/kuZ/lj43kuItcbiAgICAgICAgdmFyIG5ld09mZnNldCA9IGZsaXBPZmZzZXQob2Zmc2V0LCAwKTtcbiAgICAgICAgdmFyIG5ld1RhcmdldE9mZnNldCA9IGZsaXBPZmZzZXQodGFyZ2V0T2Zmc2V0LCAwKTtcbiAgICAgICAgdmFyIG5ld0VsRnV0dXJlUG9zID0gZ2V0RWxGdXR1cmVQb3MoZWxSZWdpb24sIHRndFJlZ2lvbiwgbmV3UG9pbnRzLCBuZXdPZmZzZXQsIG5ld1RhcmdldE9mZnNldCk7XG5cbiAgICAgICAgaWYgKCFpc0NvbXBsZXRlRmFpbFgobmV3RWxGdXR1cmVQb3MsIGVsUmVnaW9uLCB2aXNpYmxlUmVjdCkpIHtcbiAgICAgICAgICBmYWlsID0gMTtcbiAgICAgICAgICBwb2ludHMgPSBuZXdQb2ludHM7XG4gICAgICAgICAgb2Zmc2V0ID0gbmV3T2Zmc2V0O1xuICAgICAgICAgIHRhcmdldE9mZnNldCA9IG5ld1RhcmdldE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvdmVyZmxvdy5hZGp1c3RZKSB7XG4gICAgICAvLyDlpoLmnpznurXlkJHkuI3og73mlL7kuItcbiAgICAgIGlmIChpc0ZhaWxZKGVsRnV0dXJlUG9zLCBlbFJlZ2lvbiwgdmlzaWJsZVJlY3QpKSB7XG4gICAgICAgIC8vIOWvuem9kOS9jee9ruWPjeS4i1xuICAgICAgICB2YXIgX25ld1BvaW50cyA9IGZsaXAocG9pbnRzLCAvW3RiXS9pZywge1xuICAgICAgICAgIHQ6ICdiJyxcbiAgICAgICAgICBiOiAndCdcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIOWBj+enu+mHj+S5n+WPjeS4i1xuICAgICAgICB2YXIgX25ld09mZnNldCA9IGZsaXBPZmZzZXQob2Zmc2V0LCAxKTtcbiAgICAgICAgdmFyIF9uZXdUYXJnZXRPZmZzZXQgPSBmbGlwT2Zmc2V0KHRhcmdldE9mZnNldCwgMSk7XG4gICAgICAgIHZhciBfbmV3RWxGdXR1cmVQb3MgPSBnZXRFbEZ1dHVyZVBvcyhlbFJlZ2lvbiwgdGd0UmVnaW9uLCBfbmV3UG9pbnRzLCBfbmV3T2Zmc2V0LCBfbmV3VGFyZ2V0T2Zmc2V0KTtcblxuICAgICAgICBpZiAoIWlzQ29tcGxldGVGYWlsWShfbmV3RWxGdXR1cmVQb3MsIGVsUmVnaW9uLCB2aXNpYmxlUmVjdCkpIHtcbiAgICAgICAgICBmYWlsID0gMTtcbiAgICAgICAgICBwb2ludHMgPSBfbmV3UG9pbnRzO1xuICAgICAgICAgIG9mZnNldCA9IF9uZXdPZmZzZXQ7XG4gICAgICAgICAgdGFyZ2V0T2Zmc2V0ID0gX25ld1RhcmdldE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWmguaenOWksei0pe+8jOmHjeaWsOiuoeeul+W9k+WJjeiKgueCueWwhuimgeiiq+aUvue9rueahOS9jee9rlxuICAgIGlmIChmYWlsKSB7XG4gICAgICBlbEZ1dHVyZVBvcyA9IGdldEVsRnV0dXJlUG9zKGVsUmVnaW9uLCB0Z3RSZWdpb24sIHBvaW50cywgb2Zmc2V0LCB0YXJnZXRPZmZzZXQpO1xuICAgICAgdXRpbHMubWl4KG5ld0VsUmVnaW9uLCBlbEZ1dHVyZVBvcyk7XG4gICAgfVxuICAgIHZhciBpc1N0aWxsRmFpbFggPSBpc0ZhaWxYKGVsRnV0dXJlUG9zLCBlbFJlZ2lvbiwgdmlzaWJsZVJlY3QpO1xuICAgIHZhciBpc1N0aWxsRmFpbFkgPSBpc0ZhaWxZKGVsRnV0dXJlUG9zLCBlbFJlZ2lvbiwgdmlzaWJsZVJlY3QpO1xuICAgIC8vIOajgOafpeWPjeS4i+WQjueahOS9jee9ruaYr+WQpuWPr+S7peaUvuS4i+S6hu+8jOWmguaenOS7jeeEtuaUvuS4jeS4i++8mlxuICAgIC8vIDEuIOWkjeWOn+S/ruaUuei/h+eahOWumuS9jeWPguaVsFxuICAgIGlmIChpc1N0aWxsRmFpbFggfHwgaXNTdGlsbEZhaWxZKSB7XG4gICAgICBwb2ludHMgPSBhbGlnbi5wb2ludHM7XG4gICAgICBvZmZzZXQgPSBhbGlnbi5vZmZzZXQgfHwgWzAsIDBdO1xuICAgICAgdGFyZ2V0T2Zmc2V0ID0gYWxpZ24udGFyZ2V0T2Zmc2V0IHx8IFswLCAwXTtcbiAgICB9XG4gICAgLy8gMi4g5Y+q5pyJ5oyH5a6a5LqG5Y+v5Lul6LCD5pW05b2T5YmN5pa55ZCR5omN6LCD5pW0XG4gICAgbmV3T3ZlcmZsb3dDZmcuYWRqdXN0WCA9IG92ZXJmbG93LmFkanVzdFggJiYgaXNTdGlsbEZhaWxYO1xuICAgIG5ld092ZXJmbG93Q2ZnLmFkanVzdFkgPSBvdmVyZmxvdy5hZGp1c3RZICYmIGlzU3RpbGxGYWlsWTtcblxuICAgIC8vIOehruWunuimgeiwg+aVtO+8jOeUmuiHs+WPr+iDveS8muiwg+aVtOmrmOW6puWuveW6plxuICAgIGlmIChuZXdPdmVyZmxvd0NmZy5hZGp1c3RYIHx8IG5ld092ZXJmbG93Q2ZnLmFkanVzdFkpIHtcbiAgICAgIG5ld0VsUmVnaW9uID0gYWRqdXN0Rm9yVmlld3BvcnQoZWxGdXR1cmVQb3MsIGVsUmVnaW9uLCB2aXNpYmxlUmVjdCwgbmV3T3ZlcmZsb3dDZmcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIG5lZWQganVkZ2UgdG8gaW4gY2FzZSBzZXQgZml4ZWQgd2l0aCBpbiBjc3Mgb24gaGVpZ2h0IGF1dG8gZWxlbWVudFxuICBpZiAobmV3RWxSZWdpb24ud2lkdGggIT09IGVsUmVnaW9uLndpZHRoKSB7XG4gICAgdXRpbHMuY3NzKHNvdXJjZSwgJ3dpZHRoJywgdXRpbHMud2lkdGgoc291cmNlKSArIG5ld0VsUmVnaW9uLndpZHRoIC0gZWxSZWdpb24ud2lkdGgpO1xuICB9XG5cbiAgaWYgKG5ld0VsUmVnaW9uLmhlaWdodCAhPT0gZWxSZWdpb24uaGVpZ2h0KSB7XG4gICAgdXRpbHMuY3NzKHNvdXJjZSwgJ2hlaWdodCcsIHV0aWxzLmhlaWdodChzb3VyY2UpICsgbmV3RWxSZWdpb24uaGVpZ2h0IC0gZWxSZWdpb24uaGVpZ2h0KTtcbiAgfVxuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9raXNzeXRlYW0va2lzc3kvaXNzdWVzLzE5MFxuICAvLyDnm7jlr7nkuo7lsY/luZXkvY3nva7msqHlj5jvvIzogIwgbGVmdC90b3Ag5Y+Y5LqGXG4gIC8vIOS+i+WmgiA8ZGl2ICdyZWxhdGl2ZSc+PGVsIGFic29sdXRlPjwvZGl2PlxuICB1dGlscy5vZmZzZXQoc291cmNlLCB7XG4gICAgbGVmdDogbmV3RWxSZWdpb24ubGVmdCxcbiAgICB0b3A6IG5ld0VsUmVnaW9uLnRvcFxuICB9LCB7XG4gICAgdXNlQ3NzUmlnaHQ6IGFsaWduLnVzZUNzc1JpZ2h0LFxuICAgIHVzZUNzc0JvdHRvbTogYWxpZ24udXNlQ3NzQm90dG9tLFxuICAgIHVzZUNzc1RyYW5zZm9ybTogYWxpZ24udXNlQ3NzVHJhbnNmb3JtLFxuICAgIGlnbm9yZVNoYWtlOiBhbGlnbi5pZ25vcmVTaGFrZVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHBvaW50czogcG9pbnRzLFxuICAgIG9mZnNldDogb2Zmc2V0LFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0LFxuICAgIG92ZXJmbG93OiBuZXdPdmVyZmxvd0NmZ1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBkb0FsaWduO1xuLyoqXG4gKiAgMjAxMi0wNC0yNiB5aW1pbmdoZUBnbWFpbC5jb21cbiAqICAgLSDkvJjljJbmmbrog73lr7npvZDnrpfms5VcbiAqICAgLSDmhY7nlKggcmVzaXplWFhcbiAqXG4gKiAgMjAxMS0wNy0xMyB5aW1pbmdoZUBnbWFpbC5jb20gbm90ZTpcbiAqICAgLSDlop7liqDmmbrog73lr7npvZDvvIzku6Xlj4rlpKflsI/osIPmlbTpgInpoblcbiAqKi8iLCJpbXBvcnQgZG9BbGlnbiBmcm9tICcuL2FsaWduJztcbmltcG9ydCBnZXRPZmZzZXRQYXJlbnQgZnJvbSAnLi4vZ2V0T2Zmc2V0UGFyZW50JztcbmltcG9ydCBnZXRWaXNpYmxlUmVjdEZvckVsZW1lbnQgZnJvbSAnLi4vZ2V0VmlzaWJsZVJlY3RGb3JFbGVtZW50JztcbmltcG9ydCBnZXRSZWdpb24gZnJvbSAnLi4vZ2V0UmVnaW9uJztcblxuZnVuY3Rpb24gaXNPdXRPZlZpc2libGVSZWN0KHRhcmdldCkge1xuICB2YXIgdmlzaWJsZVJlY3QgPSBnZXRWaXNpYmxlUmVjdEZvckVsZW1lbnQodGFyZ2V0KTtcbiAgdmFyIHRhcmdldFJlZ2lvbiA9IGdldFJlZ2lvbih0YXJnZXQpO1xuXG4gIHJldHVybiAhdmlzaWJsZVJlY3QgfHwgdGFyZ2V0UmVnaW9uLmxlZnQgKyB0YXJnZXRSZWdpb24ud2lkdGggPD0gdmlzaWJsZVJlY3QubGVmdCB8fCB0YXJnZXRSZWdpb24udG9wICsgdGFyZ2V0UmVnaW9uLmhlaWdodCA8PSB2aXNpYmxlUmVjdC50b3AgfHwgdGFyZ2V0UmVnaW9uLmxlZnQgPj0gdmlzaWJsZVJlY3QucmlnaHQgfHwgdGFyZ2V0UmVnaW9uLnRvcCA+PSB2aXNpYmxlUmVjdC5ib3R0b207XG59XG5cbmZ1bmN0aW9uIGFsaWduRWxlbWVudChlbCwgcmVmTm9kZSwgYWxpZ24pIHtcbiAgdmFyIHRhcmdldCA9IGFsaWduLnRhcmdldCB8fCByZWZOb2RlO1xuICB2YXIgcmVmTm9kZVJlZ2lvbiA9IGdldFJlZ2lvbih0YXJnZXQpO1xuXG4gIHZhciBpc1RhcmdldE5vdE91dE9mVmlzaWJsZSA9ICFpc091dE9mVmlzaWJsZVJlY3QodGFyZ2V0KTtcblxuICByZXR1cm4gZG9BbGlnbihlbCwgcmVmTm9kZVJlZ2lvbiwgYWxpZ24sIGlzVGFyZ2V0Tm90T3V0T2ZWaXNpYmxlKTtcbn1cblxuYWxpZ25FbGVtZW50Ll9fZ2V0T2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50O1xuXG5hbGlnbkVsZW1lbnQuX19nZXRWaXNpYmxlUmVjdEZvckVsZW1lbnQgPSBnZXRWaXNpYmxlUmVjdEZvckVsZW1lbnQ7XG5cbmV4cG9ydCBkZWZhdWx0IGFsaWduRWxlbWVudDsiLCJ2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IGRvQWxpZ24gZnJvbSAnLi9hbGlnbic7XG5cbi8qKlxuICogYHRndFBvaW50YDogeyBwYWdlWCwgcGFnZVkgfSBvciB7IGNsaWVudFgsIGNsaWVudFkgfS5cbiAqIElmIGNsaWVudCBwb3NpdGlvbiBwcm92aWRlZCwgd2lsbCBpbnRlcm5hbCBjb252ZXJ0IHRvIHBhZ2UgcG9zaXRpb24uXG4gKi9cblxuZnVuY3Rpb24gYWxpZ25Qb2ludChlbCwgdGd0UG9pbnQsIGFsaWduKSB7XG4gIHZhciBwYWdlWCA9IHZvaWQgMDtcbiAgdmFyIHBhZ2VZID0gdm9pZCAwO1xuXG4gIHZhciBkb2MgPSB1dGlscy5nZXREb2N1bWVudChlbCk7XG4gIHZhciB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcblxuICB2YXIgc2Nyb2xsWCA9IHV0aWxzLmdldFdpbmRvd1Njcm9sbExlZnQod2luKTtcbiAgdmFyIHNjcm9sbFkgPSB1dGlscy5nZXRXaW5kb3dTY3JvbGxUb3Aod2luKTtcbiAgdmFyIHZpZXdwb3J0V2lkdGggPSB1dGlscy52aWV3cG9ydFdpZHRoKHdpbik7XG4gIHZhciB2aWV3cG9ydEhlaWdodCA9IHV0aWxzLnZpZXdwb3J0SGVpZ2h0KHdpbik7XG5cbiAgaWYgKCdwYWdlWCcgaW4gdGd0UG9pbnQpIHtcbiAgICBwYWdlWCA9IHRndFBvaW50LnBhZ2VYO1xuICB9IGVsc2Uge1xuICAgIHBhZ2VYID0gc2Nyb2xsWCArIHRndFBvaW50LmNsaWVudFg7XG4gIH1cblxuICBpZiAoJ3BhZ2VZJyBpbiB0Z3RQb2ludCkge1xuICAgIHBhZ2VZID0gdGd0UG9pbnQucGFnZVk7XG4gIH0gZWxzZSB7XG4gICAgcGFnZVkgPSBzY3JvbGxZICsgdGd0UG9pbnQuY2xpZW50WTtcbiAgfVxuXG4gIHZhciB0Z3RSZWdpb24gPSB7XG4gICAgbGVmdDogcGFnZVgsXG4gICAgdG9wOiBwYWdlWSxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDBcbiAgfTtcblxuICB2YXIgcG9pbnRJblZpZXcgPSBwYWdlWCA+PSAwICYmIHBhZ2VYIDw9IHNjcm9sbFggKyB2aWV3cG9ydFdpZHRoICYmIHBhZ2VZID49IDAgJiYgcGFnZVkgPD0gc2Nyb2xsWSArIHZpZXdwb3J0SGVpZ2h0O1xuXG4gIC8vIFByb3ZpZGUgZGVmYXVsdCB0YXJnZXQgcG9pbnRcbiAgdmFyIHBvaW50cyA9IFthbGlnbi5wb2ludHNbMF0sICdjYyddO1xuXG4gIHJldHVybiBkb0FsaWduKGVsLCB0Z3RSZWdpb24sIF9leHRlbmRzKHt9LCBhbGlnbiwgeyBwb2ludHM6IHBvaW50cyB9KSwgcG9pbnRJblZpZXcpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBhbGlnblBvaW50OyIsImltcG9ydCBhbGlnbkVsZW1lbnQgZnJvbSAnLi9hbGlnbi9hbGlnbkVsZW1lbnQnO1xuaW1wb3J0IGFsaWduUG9pbnQgZnJvbSAnLi9hbGlnbi9hbGlnblBvaW50JztcblxuZXhwb3J0IHsgYWxpZ25FbGVtZW50LCBhbGlnblBvaW50IH07XG5cbmV4cG9ydCBkZWZhdWx0IGFsaWduRWxlbWVudDsiLCJpbXBvcnQgYWRkRE9NRXZlbnRMaXN0ZW5lciBmcm9tICdhZGQtZG9tLWV2ZW50LWxpc3RlbmVyJztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyV3JhcCh0YXJnZXQsIGV2ZW50VHlwZSwgY2IsIG9wdGlvbikge1xuICAvKiBlc2xpbnQgY2FtZWxjYXNlOiAyICovXG4gIHZhciBjYWxsYmFjayA9IFJlYWN0RE9NLnVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzID8gZnVuY3Rpb24gcnVuKGUpIHtcbiAgICBSZWFjdERPTS51bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyhjYiwgZSk7XG4gIH0gOiBjYjtcbiAgcmV0dXJuIGFkZERPTUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBldmVudFR5cGUsIGNhbGxiYWNrLCBvcHRpb24pO1xufSIsIi8qIGVzbGludCBuby1lcS1udWxsOiAwICovXG4vKiBlc2xpbnQgZXFlcWVxOiAwICovXG4vKiB0c2xpbnQ6ZGlzYWJsZTp0cmlwbGUtZXF1YWxzICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1dpbmRvdyhvYmopIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09IG9iai53aW5kb3c7XG59IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgYWxpZ24gZnJvbSAnZG9tLWFsaWduJztcbmltcG9ydCBhZGRFdmVudExpc3RlbmVyIGZyb20gJ3JjLXV0aWwvZXMvRG9tL2FkZEV2ZW50TGlzdGVuZXInO1xuaW1wb3J0IGlzV2luZG93IGZyb20gJy4vaXNXaW5kb3cnO1xuZnVuY3Rpb24gYnVmZmVyKGZuLCBtcykge1xuICAgIHZhciB0aW1lciA9IHZvaWQgMDtcbiAgICBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgaWYgKHRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ1ZmZlckZuKCkge1xuICAgICAgICBjbGVhcigpO1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZm4sIG1zKTtcbiAgICB9XG4gICAgYnVmZmVyRm4uY2xlYXIgPSBjbGVhcjtcbiAgICByZXR1cm4gYnVmZmVyRm47XG59XG5cbnZhciBBbGlnbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEFsaWduLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEFsaWduKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWxpZ24pO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBbGlnbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFsaWduKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMuZm9yY2VBbGlnbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuICAgICAgICAgICAgaWYgKCFwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBSZWFjdERPTS5maW5kRE9NTm9kZShfdGhpcyk7XG4gICAgICAgICAgICAgICAgcHJvcHMub25BbGlnbihzb3VyY2UsIGFsaWduKHNvdXJjZSwgcHJvcHMudGFyZ2V0KCksIHByb3BzLmFsaWduKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQWxpZ24sIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yY2VBbGlnbigpO1xuICAgICAgICAgICAgaWYgKCFwcm9wcy5kaXNhYmxlZCAmJiBwcm9wcy5tb25pdG9yV2luZG93UmVzaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydE1vbml0b3JXaW5kb3dSZXNpemUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgICAgICAgIHZhciByZUFsaWduID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICAgICAgaWYgKCFwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIGlmIChwcmV2UHJvcHMuZGlzYWJsZWQgfHwgcHJldlByb3BzLmFsaWduICE9PSBwcm9wcy5hbGlnbikge1xuICAgICAgICAgICAgICAgICAgICByZUFsaWduID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFRhcmdldCA9IHByZXZQcm9wcy50YXJnZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUYXJnZXQgPSBwcm9wcy50YXJnZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2luZG93KGxhc3RUYXJnZXQpICYmIGlzV2luZG93KGN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZUFsaWduID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdFRhcmdldCAhPT0gY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVBbGlnbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVBbGlnbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9yY2VBbGlnbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3BzLm1vbml0b3JXaW5kb3dSZXNpemUgJiYgIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydE1vbml0b3JXaW5kb3dSZXNpemUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wTW9uaXRvcldpbmRvd1Jlc2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcE1vbml0b3JXaW5kb3dSZXNpemUoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3RhcnRNb25pdG9yV2luZG93UmVzaXplJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0TW9uaXRvcldpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZXNpemVIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJNb25pdG9yID0gYnVmZmVyKHRoaXMuZm9yY2VBbGlnbiwgdGhpcy5wcm9wcy5tb25pdG9yQnVmZmVyVGltZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVIYW5kbGVyID0gYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdyZXNpemUnLCB0aGlzLmJ1ZmZlck1vbml0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzdG9wTW9uaXRvcldpbmRvd1Jlc2l6ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wTW9uaXRvcldpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlck1vbml0b3IuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZUhhbmRsZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuUHJvcHMgPSBfcHJvcHMuY2hpbGRyZW5Qcm9wcyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbjtcblxuICAgICAgICAgICAgdmFyIGNoaWxkID0gUmVhY3QuQ2hpbGRyZW4ub25seShjaGlsZHJlbik7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW5Qcm9wcykge1xuICAgICAgICAgICAgICAgIHZhciBuZXdQcm9wcyA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gY2hpbGRyZW5Qcm9wcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW5Qcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNbcHJvcF0gPSB0aGlzLnByb3BzW2NoaWxkcmVuUHJvcHNbcHJvcF1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIG5ld1Byb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBbGlnbjtcbn0oQ29tcG9uZW50KTtcblxuQWxpZ24uZGVmYXVsdFByb3BzID0ge1xuICAgIHRhcmdldDogZnVuY3Rpb24gdGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH0sXG4gICAgb25BbGlnbjogZnVuY3Rpb24gb25BbGlnbigpIHt9LFxuICAgIG1vbml0b3JCdWZmZXJUaW1lOiA1MCxcbiAgICBtb25pdG9yV2luZG93UmVzaXplOiBmYWxzZSxcbiAgICBkaXNhYmxlZDogZmFsc2Vcbn07XG5leHBvcnQgZGVmYXVsdCBBbGlnbjsiLCIvLyBleHBvcnQgdGhpcyBwYWNrYWdlJ3MgYXBpXG5pbXBvcnQgQWxpZ24gZnJvbSAnLi9BbGlnbic7XG5leHBvcnQgZGVmYXVsdCBBbGlnbjsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5cbnZhciBMYXp5UmVuZGVyQm94ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoTGF6eVJlbmRlckJveCwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBMYXp5UmVuZGVyQm94KCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGF6eVJlbmRlckJveCk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMYXp5UmVuZGVyQm94Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTGF6eVJlbmRlckJveCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhMYXp5UmVuZGVyQm94LCBbe1xuICAgICAgICBrZXk6IFwic2hvdWxkQ29tcG9uZW50VXBkYXRlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFByb3BzLmhpZGRlbkNsYXNzTmFtZSB8fCBuZXh0UHJvcHMudmlzaWJsZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJlbmRlclwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBoaWRkZW5DbGFzc05hbWUgPSBfYS5oaWRkZW5DbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgdmlzaWJsZSA9IF9hLnZpc2libGUsXG4gICAgICAgICAgICAgICAgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImhpZGRlbkNsYXNzTmFtZVwiLCBcInZpc2libGVcIl0pO1xuICAgICAgICAgICAgaWYgKGhpZGRlbkNsYXNzTmFtZSB8fCBSZWFjdC5DaGlsZHJlbi5jb3VudChwcm9wcy5jaGlsZHJlbikgPiAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2aXNpYmxlICYmIGhpZGRlbkNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5jbGFzc05hbWUgKz0gXCIgXCIgKyBoaWRkZW5DbGFzc05hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5vbmx5KHByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMYXp5UmVuZGVyQm94O1xufShDb21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBMYXp5UmVuZGVyQm94OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IExhenlSZW5kZXJCb3ggZnJvbSAnLi9MYXp5UmVuZGVyQm94JztcblxudmFyIFBvcHVwSW5uZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhQb3B1cElubmVyLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFBvcHVwSW5uZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb3B1cElubmVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvcHVwSW5uZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQb3B1cElubmVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFBvcHVwSW5uZXIsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZTtcbiAgICAgICAgICAgIGlmICghcHJvcHMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcm9wcy5oaWRkZW5DbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogcHJvcHMuc3R5bGUgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBMYXp5UmVuZGVyQm94LFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1jb250ZW50JywgdmlzaWJsZTogcHJvcHMudmlzaWJsZSB9LFxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5jaGlsZHJlblxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUG9wdXBJbm5lcjtcbn0oQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBJbm5lcjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuZnVuY3Rpb24gaXNQb2ludHNFcShhMSwgYTIpIHtcbiAgICByZXR1cm4gYTFbMF0gPT09IGEyWzBdICYmIGExWzFdID09PSBhMlsxXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGlnbkZyb21QbGFjZW1lbnQoYnVpbHRpblBsYWNlbWVudHMsIHBsYWNlbWVudFN0ciwgYWxpZ24pIHtcbiAgICB2YXIgYmFzZUFsaWduID0gYnVpbHRpblBsYWNlbWVudHNbcGxhY2VtZW50U3RyXSB8fCB7fTtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGJhc2VBbGlnbiwgYWxpZ24pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvcHVwQ2xhc3NOYW1lRnJvbUFsaWduKGJ1aWx0aW5QbGFjZW1lbnRzLCBwcmVmaXhDbHMsIGFsaWduKSB7XG4gICAgdmFyIHBvaW50cyA9IGFsaWduLnBvaW50cztcbiAgICBmb3IgKHZhciBwbGFjZW1lbnQgaW4gYnVpbHRpblBsYWNlbWVudHMpIHtcbiAgICAgICAgaWYgKGJ1aWx0aW5QbGFjZW1lbnRzLmhhc093blByb3BlcnR5KHBsYWNlbWVudCkpIHtcbiAgICAgICAgICAgIGlmIChpc1BvaW50c0VxKGJ1aWx0aW5QbGFjZW1lbnRzW3BsYWNlbWVudF0ucG9pbnRzLCBwb2ludHMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWZpeENscyArICctcGxhY2VtZW50LScgKyBwbGFjZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVSZWYobmFtZSwgY29tcG9uZW50KSB7XG4gICAgdGhpc1tuYW1lXSA9IGNvbXBvbmVudDtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBBbGlnbiBmcm9tICdybWMtYWxpZ24nO1xuaW1wb3J0IEFuaW1hdGUgZnJvbSAncmMtYW5pbWF0ZSc7XG5pbXBvcnQgUG9wdXBJbm5lciBmcm9tICcuL1BvcHVwSW5uZXInO1xuaW1wb3J0IExhenlSZW5kZXJCb3ggZnJvbSAnLi9MYXp5UmVuZGVyQm94JztcbmltcG9ydCB7IHNhdmVSZWYgfSBmcm9tICcuL3V0aWxzJztcblxudmFyIFBvcHVwID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUG9wdXAsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUG9wdXAocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvcHVwKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUG9wdXAuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQb3B1cCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5vbkFsaWduID0gZnVuY3Rpb24gKHBvcHVwRG9tTm9kZSwgYWxpZ24pIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRBbGlnbkNsYXNzTmFtZSA9IHByb3BzLmdldENsYXNzTmFtZUZyb21BbGlnbihhbGlnbik7XG4gICAgICAgICAgICAvLyBGSVg6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1jb21wb25lbnQvdHJpZ2dlci9pc3N1ZXMvNTZcbiAgICAgICAgICAgIC8vIEZJWDogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWNvbXBvbmVudC90b29sdGlwL2lzc3Vlcy83OVxuICAgICAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRBbGlnbkNsYXNzTmFtZSAhPT0gY3VycmVudEFsaWduQ2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudEFsaWduQ2xhc3NOYW1lID0gY3VycmVudEFsaWduQ2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgIHBvcHVwRG9tTm9kZS5jbGFzc05hbWUgPSBfdGhpcy5nZXRDbGFzc05hbWUoY3VycmVudEFsaWduQ2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3BzLm9uQWxpZ24ocG9wdXBEb21Ob2RlLCBhbGlnbik7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldFRhcmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5nZXRSb290RG9tTm9kZSgpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zYXZlUG9wdXBSZWYgPSBzYXZlUmVmLmJpbmQoX3RoaXMsICdwb3B1cEluc3RhbmNlJyk7XG4gICAgICAgIF90aGlzLnNhdmVBbGlnblJlZiA9IHNhdmVSZWYuYmluZChfdGhpcywgJ2FsaWduSW5zdGFuY2UnKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQb3B1cCwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3ROb2RlID0gdGhpcy5nZXRQb3B1cERvbU5vZGUoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0UG9wdXBEb21Ob2RlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvcHVwRG9tTm9kZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnBvcHVwSW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRNYXNrVHJhbnNpdGlvbk5hbWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWFza1RyYW5zaXRpb25OYW1lKCkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLm1hc2tUcmFuc2l0aW9uTmFtZTtcbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBwcm9wcy5tYXNrQW5pbWF0aW9uO1xuICAgICAgICAgICAgaWYgKCF0cmFuc2l0aW9uTmFtZSAmJiBhbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnByZWZpeENscyArICctJyArIGFuaW1hdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cmFuc2l0aW9uTmFtZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0VHJhbnNpdGlvbk5hbWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbk5hbWUoKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25OYW1lID0gcHJvcHMudHJhbnNpdGlvbk5hbWU7XG4gICAgICAgICAgICBpZiAoIXRyYW5zaXRpb25OYW1lICYmIHByb3BzLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25OYW1lID0gcHJvcHMucHJlZml4Q2xzICsgJy0nICsgcHJvcHMuYW5pbWF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25OYW1lO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRDbGFzc05hbWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKGN1cnJlbnRBbGlnbkNsYXNzTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMucHJlZml4Q2xzICsgJyAnICsgdGhpcy5wcm9wcy5jbGFzc05hbWUgKyAnICcgKyBjdXJyZW50QWxpZ25DbGFzc05hbWU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFBvcHVwRWxlbWVudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQb3B1cEVsZW1lbnQoKSB7XG4gICAgICAgICAgICB2YXIgc2F2ZVBvcHVwUmVmID0gdGhpcy5zYXZlUG9wdXBSZWYsXG4gICAgICAgICAgICAgICAgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICAgICAgdmFyIGFsaWduID0gcHJvcHMuYWxpZ24sXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlID0gcHJvcHMudmlzaWJsZSxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgZGVzdHJveVBvcHVwT25IaWRlID0gcHJvcHMuZGVzdHJveVBvcHVwT25IaWRlO1xuXG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5nZXRDbGFzc05hbWUodGhpcy5jdXJyZW50QWxpZ25DbGFzc05hbWUgfHwgcHJvcHMuZ2V0Q2xhc3NOYW1lRnJvbUFsaWduKGFsaWduKSk7XG4gICAgICAgICAgICB2YXIgaGlkZGVuQ2xhc3NOYW1lID0gcHJlZml4Q2xzICsgJy1oaWRkZW4nO1xuICAgICAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QWxpZ25DbGFzc05hbWUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5ld1N0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlLCB0aGlzLmdldFpJbmRleFN0eWxlKCkpO1xuICAgICAgICAgICAgdmFyIHBvcHVwSW5uZXJQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgICAgICAgICByZWY6IHNhdmVQb3B1cFJlZixcbiAgICAgICAgICAgICAgICBzdHlsZTogbmV3U3R5bGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZGVzdHJveVBvcHVwT25IaWRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIEFuaW1hdGUsXG4gICAgICAgICAgICAgICAgICAgIHsgY29tcG9uZW50OiAnJywgZXhjbHVzaXZlOiB0cnVlLCB0cmFuc2l0aW9uQXBwZWFyOiB0cnVlLCBvbkFuaW1hdGVMZWF2ZTogcHJvcHMub25BbmltYXRlTGVhdmUsIHRyYW5zaXRpb25OYW1lOiB0aGlzLmdldFRyYW5zaXRpb25OYW1lKCkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBBbGlnbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdGFyZ2V0OiB0aGlzLmdldFRhcmdldCwga2V5OiAncG9wdXAnLCByZWY6IHRoaXMuc2F2ZUFsaWduUmVmLCBtb25pdG9yV2luZG93UmVzaXplOiB0cnVlLCBhbGlnbjogYWxpZ24sIG9uQWxpZ246IHRoaXMub25BbGlnbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3B1cElubmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKHsgdmlzaWJsZTogdHJ1ZSB9LCBwb3B1cElubmVyUHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgOiBudWxsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBhbGlnbk90aGVyUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgeFZpc2libGU6IHZpc2libGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBBbmltYXRlLFxuICAgICAgICAgICAgICAgIHsgY29tcG9uZW50OiAnJywgZXhjbHVzaXZlOiB0cnVlLCB0cmFuc2l0aW9uQXBwZWFyOiB0cnVlLCB0cmFuc2l0aW9uTmFtZTogdGhpcy5nZXRUcmFuc2l0aW9uTmFtZSgpLCBvbkFuaW1hdGVMZWF2ZTogcHJvcHMub25BbmltYXRlTGVhdmUsIHNob3dQcm9wOiAneFZpc2libGUnIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgQWxpZ24sXG4gICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKHsgdGFyZ2V0OiB0aGlzLmdldFRhcmdldCwga2V5OiAncG9wdXAnLCByZWY6IHRoaXMuc2F2ZUFsaWduUmVmLCBtb25pdG9yV2luZG93UmVzaXplOiB0cnVlIH0sIGFsaWduT3RoZXJQcm9wcywgeyBjaGlsZHJlblByb3BzOiB7IHZpc2libGU6ICd4VmlzaWJsZScgfSwgZGlzYWJsZWQ6ICF2aXNpYmxlLCBhbGlnbjogYWxpZ24sIG9uQWxpZ246IHRoaXMub25BbGlnbiB9KSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIFBvcHVwSW5uZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IGhpZGRlbkNsYXNzTmFtZTogaGlkZGVuQ2xhc3NOYW1lIH0sIHBvcHVwSW5uZXJQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0WkluZGV4U3R5bGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0WkluZGV4U3R5bGUoKSB7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB7fTtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICBpZiAocHJvcHMuekluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdHlsZS56SW5kZXggPSBwcm9wcy56SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldE1hc2tFbGVtZW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1hc2tFbGVtZW50KCkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBtYXNrRWxlbWVudCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChwcm9wcy5tYXNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hc2tUcmFuc2l0aW9uID0gdGhpcy5nZXRNYXNrVHJhbnNpdGlvbk5hbWUoKTtcbiAgICAgICAgICAgICAgICBtYXNrRWxlbWVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGF6eVJlbmRlckJveCwgeyBzdHlsZTogdGhpcy5nZXRaSW5kZXhTdHlsZSgpLCBrZXk6ICdtYXNrJywgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLW1hc2snLCBoaWRkZW5DbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctbWFzay1oaWRkZW4nLCB2aXNpYmxlOiBwcm9wcy52aXNpYmxlIH0pO1xuICAgICAgICAgICAgICAgIGlmIChtYXNrVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtYXNrRWxlbWVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBBbmltYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdtYXNrJywgc2hvd1Byb3A6ICd2aXNpYmxlJywgdHJhbnNpdGlvbkFwcGVhcjogdHJ1ZSwgY29tcG9uZW50OiAnJywgdHJhbnNpdGlvbk5hbWU6IG1hc2tUcmFuc2l0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXNrRWxlbWVudDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRNYXNrRWxlbWVudCgpLFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0UG9wdXBFbGVtZW50KClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUG9wdXA7XG59KENvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSwgeyBmaW5kRE9NTm9kZSB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY29udGFpbnMgZnJvbSAncmMtdXRpbC9lcy9Eb20vY29udGFpbnMnO1xuaW1wb3J0IGFkZEV2ZW50TGlzdGVuZXIgZnJvbSAncmMtdXRpbC9saWIvRG9tL2FkZEV2ZW50TGlzdGVuZXInO1xuaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAnO1xuaW1wb3J0IHsgZ2V0QWxpZ25Gcm9tUGxhY2VtZW50LCBnZXRQb3B1cENsYXNzTmFtZUZyb21BbGlnbiB9IGZyb20gJy4vdXRpbHMnO1xudmFyIElTX1JFQUNUXzE2ID0gISFSZWFjdC5jcmVhdGVQb3J0YWw7XG5mdW5jdGlvbiBub29wKCkge31cbmZ1bmN0aW9uIHJldHVybkVtcHR5U3RyaW5nKCkge1xuICAgIHJldHVybiAnJztcbn1cbmZ1bmN0aW9uIHJldHVybkRvY3VtZW50KCkge1xuICAgIHJldHVybiB3aW5kb3cuZG9jdW1lbnQ7XG59XG5cbnZhciBUcmlnZ2VyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoVHJpZ2dlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBUcmlnZ2VyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJpZ2dlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRyaWdnZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUcmlnZ2VyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMub25Eb2N1bWVudENsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMubWFzayAmJiAhX3RoaXMucHJvcHMubWFza0Nsb3NhYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIHZhciByb290ID0gZmluZERPTU5vZGUoX3RoaXMpO1xuICAgICAgICAgICAgdmFyIHBvcHVwTm9kZSA9IF90aGlzLmdldFBvcHVwRG9tTm9kZSgpO1xuICAgICAgICAgICAgaWYgKCFjb250YWlucyhyb290LCB0YXJnZXQpICYmICFjb250YWlucyhwb3B1cE5vZGUsIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRQb3B1cEFsaWduID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgcG9wdXBQbGFjZW1lbnQgPSBwcm9wcy5wb3B1cFBsYWNlbWVudCxcbiAgICAgICAgICAgICAgICBwb3B1cEFsaWduID0gcHJvcHMucG9wdXBBbGlnbixcbiAgICAgICAgICAgICAgICBidWlsdGluUGxhY2VtZW50cyA9IHByb3BzLmJ1aWx0aW5QbGFjZW1lbnRzO1xuXG4gICAgICAgICAgICBpZiAocG9wdXBQbGFjZW1lbnQgJiYgYnVpbHRpblBsYWNlbWVudHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QWxpZ25Gcm9tUGxhY2VtZW50KGJ1aWx0aW5QbGFjZW1lbnRzLCBwb3B1cFBsYWNlbWVudCwgcG9wdXBBbGlnbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcG9wdXBBbGlnbjtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0Um9vdERvbU5vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmluZERPTU5vZGUoX3RoaXMpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRQb3B1cENsYXNzTmFtZUZyb21BbGlnbiA9IGZ1bmN0aW9uIChhbGlnbikge1xuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IFtdO1xuICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgcG9wdXBQbGFjZW1lbnQgPSBwcm9wcy5wb3B1cFBsYWNlbWVudCxcbiAgICAgICAgICAgICAgICBidWlsdGluUGxhY2VtZW50cyA9IHByb3BzLmJ1aWx0aW5QbGFjZW1lbnRzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblxuICAgICAgICAgICAgaWYgKHBvcHVwUGxhY2VtZW50ICYmIGJ1aWx0aW5QbGFjZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lLnB1c2goZ2V0UG9wdXBDbGFzc05hbWVGcm9tQWxpZ24oYnVpbHRpblBsYWNlbWVudHMsIHByZWZpeENscywgYWxpZ24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9wcy5nZXRQb3B1cENsYXNzTmFtZUZyb21BbGlnbikge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZS5wdXNoKHByb3BzLmdldFBvcHVwQ2xhc3NOYW1lRnJvbUFsaWduKGFsaWduKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xhc3NOYW1lLmpvaW4oJyAnKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25DbG9zZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25BbmltYXRlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuZGVzdHJveVBvcHVwT25IaWRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IF90aGlzLl9jb250YWluZXI7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5yZW1vdmVDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBfdGhpcy5wcm9wcy5wcmVmaXhDbHMgKyAnLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUoY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRyaWdnZXIsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50RGlkVXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGlmICghSVNfUkVBQ1RfMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJEaWFsb2coZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2xlYXJPdXRzaWRlSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmICghSVNfUkVBQ1RfMTYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckRpYWxvZyh0aGlzLnByb3BzLnZpc2libGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMudG91Y2hPdXRzaWRlSGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b3VjaE91dHNpZGVIYW5kbGVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudERvY3VtZW50ID0gX3RoaXMyLnByb3BzLmdldERvY3VtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudG91Y2hPdXRzaWRlSGFuZGxlciA9IGFkZEV2ZW50TGlzdGVuZXIoY3VycmVudERvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpczIub25Eb2N1bWVudENsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2xlYXJPdXRzaWRlSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjbGVhck91dHNpZGVIYW5kbGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyT3V0c2lkZUhhbmRsZXIoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50b3VjaE91dHNpZGVIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudG91Y2hPdXRzaWRlSGFuZGxlci5yZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3VjaE91dHNpZGVIYW5kbGVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoT3V0c2lkZUhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRQb3B1cERvbU5vZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9wdXBEb21Ob2RlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbXBvbmVudCAmJiB0aGlzLl9jb21wb25lbnQuZ2V0UG9wdXBEb21Ob2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudC5nZXRQb3B1cERvbU5vZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzYXZlUmVmJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVSZWYoZWwsIHZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXBSZWYgPSBlbDtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudCA9IGVsO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5hZnRlclBvcHVwVmlzaWJsZUNoYW5nZSh2aXNpYmxlKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0Q29tcG9uZW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbXBvbmVudCh2aXNpYmxlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgWyd2aXNpYmxlJywgJ29uQW5pbWF0ZUxlYXZlJ10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBQb3B1cCxcbiAgICAgICAgICAgICAgICB7IGtleTogJ3BvcHVwJywgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuc2F2ZVJlZihlbCwgdmlzaWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzLCBkZXN0cm95UG9wdXBPbkhpZGU6IHByb3BzLmRlc3Ryb3lQb3B1cE9uSGlkZSwgdmlzaWJsZTogdmlzaWJsZSwgY2xhc3NOYW1lOiBwcm9wcy5wb3B1cENsYXNzTmFtZSwgYWxpZ246IHRoaXMuZ2V0UG9wdXBBbGlnbigpLCBvbkFsaWduOiBwcm9wcy5vblBvcHVwQWxpZ24sIGFuaW1hdGlvbjogcHJvcHMucG9wdXBBbmltYXRpb24sIGdldENsYXNzTmFtZUZyb21BbGlnbjogdGhpcy5nZXRQb3B1cENsYXNzTmFtZUZyb21BbGlnbiwgZ2V0Um9vdERvbU5vZGU6IHRoaXMuZ2V0Um9vdERvbU5vZGUsIHN0eWxlOiBwcm9wcy5wb3B1cFN0eWxlLCBtYXNrOiBwcm9wcy5tYXNrLCB6SW5kZXg6IHByb3BzLnpJbmRleCwgdHJhbnNpdGlvbk5hbWU6IHByb3BzLnBvcHVwVHJhbnNpdGlvbk5hbWUsIG1hc2tBbmltYXRpb246IHByb3BzLm1hc2tBbmltYXRpb24sIG1hc2tUcmFuc2l0aW9uTmFtZTogcHJvcHMubWFza1RyYW5zaXRpb25OYW1lLCBvbkFuaW1hdGVMZWF2ZTogdGhpcy5vbkFuaW1hdGVMZWF2ZSB9LFxuICAgICAgICAgICAgICAgIHR5cGVvZiBwcm9wcy5wb3B1cCA9PT0gJ2Z1bmN0aW9uJyA/IHByb3BzLnBvcHVwKCkgOiBwcm9wcy5wb3B1cFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0Q29udGFpbmVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRhaW5lcigpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgICAgICB2YXIgcG9wdXBDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgICAgICBwb3B1cENvbnRhaW5lci5zdHlsZS50b3AgPSAnMCc7XG4gICAgICAgICAgICAgICAgcG9wdXBDb250YWluZXIuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgICAgICAgICBwb3B1cENvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICAgICAgICB2YXIgbW91bnROb2RlID0gcHJvcHMuZ2V0UG9wdXBDb250YWluZXIgPyBwcm9wcy5nZXRQb3B1cENvbnRhaW5lcihmaW5kRE9NTm9kZSh0aGlzKSkgOiBwcm9wcy5nZXREb2N1bWVudCgpLmJvZHk7XG4gICAgICAgICAgICAgICAgbW91bnROb2RlLmFwcGVuZENoaWxkKHBvcHVwQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250YWluZXIgPSBwb3B1cENvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlckRpYWxvZycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJEaWFsb2codmlzaWJsZSkge1xuICAgICAgICAgICAgUmVhY3RET00udW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIodGhpcywgdGhpcy5nZXRDb21wb25lbnQodmlzaWJsZSksIHRoaXMuZ2V0Q29udGFpbmVyKCkpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gUmVhY3QuQ2hpbGRyZW4ub25seShjaGlsZHJlbik7XG4gICAgICAgICAgICB2YXIgbmV3Q2hpbGRQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnByb3BzLm9uVGFyZ2V0Q2xpY2ssXG4gICAgICAgICAgICAgICAga2V5OiAndHJpZ2dlcidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgdHJpZ2dlciA9IFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgbmV3Q2hpbGRQcm9wcyk7XG4gICAgICAgICAgICBpZiAoIUlTX1JFQUNUXzE2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcG9ydGFsID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BzLnZpc2libGUgfHwgdGhpcy5fY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgcG9ydGFsID0gUmVhY3RET00uY3JlYXRlUG9ydGFsKHRoaXMuZ2V0Q29tcG9uZW50KHByb3BzLnZpc2libGUpLCB0aGlzLmdldENvbnRhaW5lcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbdHJpZ2dlciwgcG9ydGFsXTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUcmlnZ2VyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBUcmlnZ2VyO1xuXG5UcmlnZ2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdyYy10cmlnZ2VyLXBvcHVwJyxcbiAgICBnZXRQb3B1cENsYXNzTmFtZUZyb21BbGlnbjogcmV0dXJuRW1wdHlTdHJpbmcsXG4gICAgZ2V0RG9jdW1lbnQ6IHJldHVybkRvY3VtZW50LFxuICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiBub29wLFxuICAgIGFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlOiBub29wLFxuICAgIG9uUG9wdXBBbGlnbjogbm9vcCxcbiAgICBwb3B1cENsYXNzTmFtZTogJycsXG4gICAgcG9wdXBTdHlsZToge30sXG4gICAgZGVzdHJveVBvcHVwT25IaWRlOiBmYWxzZSxcbiAgICBwb3B1cEFsaWduOiB7fSxcbiAgICBkZWZhdWx0UG9wdXBWaXNpYmxlOiBmYWxzZSxcbiAgICBtYXNrOiBmYWxzZSxcbiAgICBtYXNrQ2xvc2FibGU6IHRydWVcbn07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRyaWdnZXIgZnJvbSAnLi9UcmlnZ2VyJztcbmZ1bmN0aW9uIG5vb3AoKSB7fVxuZnVuY3Rpb24gcmV0dXJuRW1wdHlTdHJpbmcoKSB7XG4gICAgcmV0dXJuICcnO1xufVxuZnVuY3Rpb24gcmV0dXJuRG9jdW1lbnQoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudDtcbn1cblxudmFyIFRyaWdnZXJXcmFwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoVHJpZ2dlcldyYXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gVHJpZ2dlcldyYXAocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyaWdnZXJXcmFwKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVHJpZ2dlcldyYXAuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUcmlnZ2VyV3JhcCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5vblRhcmdldENsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0UG9wdXBWaXNpYmxlKCFfdGhpcy5zdGF0ZS5wb3B1cFZpc2libGUpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0UG9wdXBWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHBvcHVwVmlzaWJsZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKCdwb3B1cFZpc2libGUnIGluIHByb3BzKSB7XG4gICAgICAgICAgICBwb3B1cFZpc2libGUgPSAhIXByb3BzLnBvcHVwVmlzaWJsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvcHVwVmlzaWJsZSA9ICEhcHJvcHMuZGVmYXVsdFBvcHVwVmlzaWJsZTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHBvcHVwVmlzaWJsZTogcG9wdXBWaXNpYmxlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoVHJpZ2dlcldyYXAsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHMudmlzaWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQb3B1cFZpc2libGUobmV4dFByb3BzLnZpc2libGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZXRQb3B1cFZpc2libGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UG9wdXBWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnBvcHVwVmlzaWJsZSAhPT0gdmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBwb3B1cFZpc2libGU6IHZpc2libGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uUG9wdXBWaXNpYmxlQ2hhbmdlKHZpc2libGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRyaWdnZXIsIF9leHRlbmRzKHsgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi50cmlnZ2VyUmVmID0gZWw7XG4gICAgICAgICAgICAgICAgfSB9LCB0aGlzLnByb3BzLCB7IHZpc2libGU6IHRoaXMuc3RhdGUucG9wdXBWaXNpYmxlLCBvblRhcmdldENsaWNrOiB0aGlzLm9uVGFyZ2V0Q2xpY2ssIG9uQ2xvc2U6IHRoaXMub25DbG9zZSB9KSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVHJpZ2dlcldyYXA7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblRyaWdnZXJXcmFwLmRpc3BsYXlOYW1lID0gJ1RyaWdnZXJXcmFwJztcblRyaWdnZXJXcmFwLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdyYy10cmlnZ2VyLXBvcHVwJyxcbiAgICBnZXRQb3B1cENsYXNzTmFtZUZyb21BbGlnbjogcmV0dXJuRW1wdHlTdHJpbmcsXG4gICAgZ2V0RG9jdW1lbnQ6IHJldHVybkRvY3VtZW50LFxuICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiBub29wLFxuICAgIGFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlOiBub29wLFxuICAgIG9uUG9wdXBBbGlnbjogbm9vcCxcbiAgICBwb3B1cENsYXNzTmFtZTogJycsXG4gICAgcG9wdXBTdHlsZToge30sXG4gICAgZGVzdHJveVBvcHVwT25IaWRlOiBmYWxzZSxcbiAgICBwb3B1cEFsaWduOiB7fSxcbiAgICBkZWZhdWx0UG9wdXBWaXNpYmxlOiBmYWxzZSxcbiAgICBtYXNrOiBmYWxzZSxcbiAgICBtYXNrQ2xvc2FibGU6IHRydWVcbn07XG5leHBvcnQgZGVmYXVsdCBUcmlnZ2VyV3JhcDsiLCJ2YXIgYXV0b0FkanVzdE92ZXJmbG93ID0ge1xuICAgIGFkanVzdFg6IDEsXG4gICAgYWRqdXN0WTogMVxufTtcbnZhciB0YXJnZXRPZmZzZXQgPSBbMCwgMF07XG5leHBvcnQgdmFyIHBsYWNlbWVudHMgPSB7XG4gICAgbGVmdDoge1xuICAgICAgICBwb2ludHM6IFsnY3InLCAnY2wnXSxcbiAgICAgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICAgICAgb2Zmc2V0OiBbLTQsIDBdLFxuICAgICAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICAgIH0sXG4gICAgcmlnaHQ6IHtcbiAgICAgICAgcG9pbnRzOiBbJ2NsJywgJ2NyJ10sXG4gICAgICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgICAgIG9mZnNldDogWzQsIDBdLFxuICAgICAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICAgIH0sXG4gICAgdG9wOiB7XG4gICAgICAgIHBvaW50czogWydiYycsICd0YyddLFxuICAgICAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgICAgICBvZmZzZXQ6IFswLCAtNF0sXG4gICAgICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gICAgfSxcbiAgICBib3R0b206IHtcbiAgICAgICAgcG9pbnRzOiBbJ3RjJywgJ2JjJ10sXG4gICAgICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgICAgIG9mZnNldDogWzAsIDRdLFxuICAgICAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICAgIH0sXG4gICAgdG9wTGVmdDoge1xuICAgICAgICBwb2ludHM6IFsnYmwnLCAndGwnXSxcbiAgICAgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICAgICAgb2Zmc2V0OiBbMCwgLTRdLFxuICAgICAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICAgIH0sXG4gICAgbGVmdFRvcDoge1xuICAgICAgICBwb2ludHM6IFsndHInLCAndGwnXSxcbiAgICAgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICAgICAgb2Zmc2V0OiBbLTQsIDBdLFxuICAgICAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICAgIH0sXG4gICAgdG9wUmlnaHQ6IHtcbiAgICAgICAgcG9pbnRzOiBbJ2JyJywgJ3RyJ10sXG4gICAgICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgICAgIG9mZnNldDogWzAsIC00XSxcbiAgICAgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgICB9LFxuICAgIHJpZ2h0VG9wOiB7XG4gICAgICAgIHBvaW50czogWyd0bCcsICd0ciddLFxuICAgICAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgICAgICBvZmZzZXQ6IFs0LCAwXSxcbiAgICAgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgICB9LFxuICAgIGJvdHRvbVJpZ2h0OiB7XG4gICAgICAgIHBvaW50czogWyd0cicsICdiciddLFxuICAgICAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgICAgICBvZmZzZXQ6IFswLCA0XSxcbiAgICAgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgICB9LFxuICAgIHJpZ2h0Qm90dG9tOiB7XG4gICAgICAgIHBvaW50czogWydibCcsICdiciddLFxuICAgICAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgICAgICBvZmZzZXQ6IFs0LCAwXSxcbiAgICAgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgICB9LFxuICAgIGJvdHRvbUxlZnQ6IHtcbiAgICAgICAgcG9pbnRzOiBbJ3RsJywgJ2JsJ10sXG4gICAgICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgICAgIG9mZnNldDogWzAsIDRdLFxuICAgICAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICAgIH0sXG4gICAgbGVmdEJvdHRvbToge1xuICAgICAgICBwb2ludHM6IFsnYnInLCAnYmwnXSxcbiAgICAgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICAgICAgb2Zmc2V0OiBbLTQsIDBdLFxuICAgICAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCBwbGFjZW1lbnRzOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRyaWdnZXIgZnJvbSAncm1jLXRyaWdnZXInO1xuaW1wb3J0IHsgcGxhY2VtZW50cyB9IGZyb20gJy4vcGxhY2VtZW50cyc7XG5cbnZhciBUb29sdGlwID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoVG9vbHRpcCwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBUb29sdGlwKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9vbHRpcCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRvb2x0aXAuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUb29sdGlwKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMuZ2V0UG9wdXBFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgYXJyb3dDb250ZW50ID0gX3RoaXMkcHJvcHMuYXJyb3dDb250ZW50LFxuICAgICAgICAgICAgICAgIG92ZXJsYXkgPSBfdGhpcyRwcm9wcy5vdmVybGF5LFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF90aGlzJHByb3BzLnByZWZpeENscztcblxuICAgICAgICAgICAgcmV0dXJuIFtSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWFycm93Jywga2V5OiAnYXJyb3cnIH0sXG4gICAgICAgICAgICAgICAgYXJyb3dDb250ZW50XG4gICAgICAgICAgICApLCBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlubmVyJywga2V5OiAnY29udGVudCcgfSxcbiAgICAgICAgICAgICAgICB0eXBlb2Ygb3ZlcmxheSA9PT0gJ2Z1bmN0aW9uJyA/IG92ZXJsYXkoKSA6IG92ZXJsYXlcbiAgICAgICAgICAgICldO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zYXZlVHJpZ2dlciA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBfdGhpcy50cmlnZ2VyID0gbm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhUb29sdGlwLCBbe1xuICAgICAgICBrZXk6ICdnZXRQb3B1cERvbU5vZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9wdXBEb21Ob2RlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJpZ2dlci50cmlnZ2VyUmVmLmdldFBvcHVwRG9tTm9kZSgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBvdmVybGF5Q2xhc3NOYW1lID0gX2Eub3ZlcmxheUNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBvdmVybGF5U3R5bGUgPSBfYS5vdmVybGF5U3R5bGUsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgb25WaXNpYmxlQ2hhbmdlID0gX2Eub25WaXNpYmxlQ2hhbmdlLFxuICAgICAgICAgICAgICAgIGFmdGVyVmlzaWJsZUNoYW5nZSA9IF9hLmFmdGVyVmlzaWJsZUNoYW5nZSxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uTmFtZSA9IF9hLnRyYW5zaXRpb25OYW1lLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbiA9IF9hLmFuaW1hdGlvbixcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPSBfYS5wbGFjZW1lbnQsXG4gICAgICAgICAgICAgICAgYWxpZ24gPSBfYS5hbGlnbixcbiAgICAgICAgICAgICAgICBkZXN0cm95VG9vbHRpcE9uSGlkZSA9IF9hLmRlc3Ryb3lUb29sdGlwT25IaWRlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWaXNpYmxlID0gX2EuZGVmYXVsdFZpc2libGUsXG4gICAgICAgICAgICAgICAgZ2V0VG9vbHRpcENvbnRhaW5lciA9IF9hLmdldFRvb2x0aXBDb250YWluZXIsXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJvdmVybGF5Q2xhc3NOYW1lXCIsIFwib3ZlcmxheVN0eWxlXCIsIFwicHJlZml4Q2xzXCIsIFwiY2hpbGRyZW5cIiwgXCJvblZpc2libGVDaGFuZ2VcIiwgXCJhZnRlclZpc2libGVDaGFuZ2VcIiwgXCJ0cmFuc2l0aW9uTmFtZVwiLCBcImFuaW1hdGlvblwiLCBcInBsYWNlbWVudFwiLCBcImFsaWduXCIsIFwiZGVzdHJveVRvb2x0aXBPbkhpZGVcIiwgXCJkZWZhdWx0VmlzaWJsZVwiLCBcImdldFRvb2x0aXBDb250YWluZXJcIl0pO1xuICAgICAgICAgICAgdmFyIGV4dHJhUHJvcHMgPSBfZXh0ZW5kcyh7fSwgcmVzdFByb3BzKTtcbiAgICAgICAgICAgIGlmICgndmlzaWJsZScgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICAgICAgICAgIGV4dHJhUHJvcHMucG9wdXBWaXNpYmxlID0gdGhpcy5wcm9wcy52aXNpYmxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgVHJpZ2dlcixcbiAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IHBvcHVwQ2xhc3NOYW1lOiBvdmVybGF5Q2xhc3NOYW1lLCByZWY6IHRoaXMuc2F2ZVRyaWdnZXIsIHByZWZpeENsczogcHJlZml4Q2xzLCBwb3B1cDogdGhpcy5nZXRQb3B1cEVsZW1lbnQsIGJ1aWx0aW5QbGFjZW1lbnRzOiBwbGFjZW1lbnRzLCBwb3B1cFBsYWNlbWVudDogcGxhY2VtZW50LCBwb3B1cEFsaWduOiBhbGlnbiwgZ2V0UG9wdXBDb250YWluZXI6IGdldFRvb2x0aXBDb250YWluZXIsIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiBvblZpc2libGVDaGFuZ2UsIGFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlOiBhZnRlclZpc2libGVDaGFuZ2UsIHBvcHVwVHJhbnNpdGlvbk5hbWU6IHRyYW5zaXRpb25OYW1lLCBwb3B1cEFuaW1hdGlvbjogYW5pbWF0aW9uLCBkZWZhdWx0UG9wdXBWaXNpYmxlOiBkZWZhdWx0VmlzaWJsZSwgZGVzdHJveVBvcHVwT25IaWRlOiBkZXN0cm95VG9vbHRpcE9uSGlkZSwgcG9wdXBTdHlsZTogb3ZlcmxheVN0eWxlIH0sIGV4dHJhUHJvcHMpLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRvb2x0aXA7XG59KENvbXBvbmVudCk7XG5cblRvb2x0aXAuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ3JtYy10b29sdGlwJyxcbiAgICBkZXN0cm95VG9vbHRpcE9uSGlkZTogZmFsc2UsXG4gICAgYWxpZ246IHt9LFxuICAgIHBsYWNlbWVudDogJ3JpZ2h0JyxcbiAgICBhcnJvd0NvbnRlbnQ6IG51bGxcbn07XG5leHBvcnQgZGVmYXVsdCBUb29sdGlwOyIsImltcG9ydCBUb29sdGlwIGZyb20gJy4vVG9vbHRpcCc7XG5leHBvcnQgZGVmYXVsdCBUb29sdGlwOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVG91Y2hGZWVkYmFjayBmcm9tICdybWMtZmVlZGJhY2snO1xuXG52YXIgSXRlbSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEl0ZW0sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gSXRlbSgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEl0ZW0pO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSXRlbS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEl0ZW0pKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoSXRlbSwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGljb24gPSBfYS5pY29uLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gX2EuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgZmlyc3RJdGVtID0gX2EuZmlyc3RJdGVtLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVN0eWxlID0gX2EuYWN0aXZlU3R5bGUsXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcInByZWZpeENsc1wiLCBcImljb25cIiwgXCJkaXNhYmxlZFwiLCBcImZpcnN0SXRlbVwiLCBcImFjdGl2ZVN0eWxlXCJdKTtcbiAgICAgICAgICAgIHZhciBjbHMgPSBjbGFzc25hbWVzKHByZWZpeENscyArICctaXRlbScsIGNsYXNzTmFtZSwgX2RlZmluZVByb3BlcnR5KHt9LCBwcmVmaXhDbHMgKyAnLWl0ZW0tZGlzYWJsZWQnLCBkaXNhYmxlZCkpO1xuICAgICAgICAgICAgdmFyIGFjdGl2ZUNsYXNzID0gcHJlZml4Q2xzICsgJy1pdGVtLWFjdGl2ZSAnO1xuICAgICAgICAgICAgaWYgKGZpcnN0SXRlbSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUNsYXNzICs9IHByZWZpeENscyArICctaXRlbS1maXgtYWN0aXZlLWFycm93JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIFRvdWNoRmVlZGJhY2ssXG4gICAgICAgICAgICAgICAgeyBkaXNhYmxlZDogZGlzYWJsZWQsIGFjdGl2ZUNsYXNzTmFtZTogYWN0aXZlQ2xhc3MsIGFjdGl2ZVN0eWxlOiBhY3RpdmVTdHlsZSB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IGNsYXNzTmFtZTogY2xzIH0sIHJlc3RQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tY29udGFpbmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6anN4LW5vLW11bHRpbGluZS1qc1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS1pY29uJywgJ2FyaWEtaGlkZGVuJzogJ3RydWUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWNvbnRlbnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSXRlbTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgSXRlbTtcblxuSXRlbS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tcG9wb3ZlcicsXG4gICAgZGlzYWJsZWQ6IGZhbHNlXG59O1xuSXRlbS5teU5hbWUgPSAnUG9wb3Zlckl0ZW0nOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAncm1jLXRvb2x0aXAnO1xuaW1wb3J0IEl0ZW0gZnJvbSAnLi9JdGVtJztcbmZ1bmN0aW9uIHJlY3Vyc2l2ZUNsb25lQ2hpbGRyZW4oY2hpbGRyZW4pIHtcbiAgICB2YXIgY2IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZ1bmN0aW9uIChjaCwgXykge1xuICAgICAgICByZXR1cm4gY2g7XG4gICAgfTtcblxuICAgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIG5ld0NoaWxkID0gY2IoY2hpbGQsIGluZGV4KTtcbiAgICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIG5ld0NoaWxkICE9PSAnbnVtYmVyJyAmJiBuZXdDaGlsZCAmJiBuZXdDaGlsZC5wcm9wcyAmJiBuZXdDaGlsZC5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChuZXdDaGlsZCwge30sIHJlY3Vyc2l2ZUNsb25lQ2hpbGRyZW4obmV3Q2hpbGQucHJvcHMuY2hpbGRyZW4sIGNiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0NoaWxkO1xuICAgIH0pO1xufVxuXG52YXIgUG9wb3ZlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFBvcG92ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUG9wb3ZlcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvcG92ZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUG9wb3Zlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBvcG92ZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUG9wb3ZlciwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgb3ZlcmxheSA9IF9hLm92ZXJsYXksXG4gICAgICAgICAgICAgICAgX2Ekb25TZWxlY3QgPSBfYS5vblNlbGVjdCxcbiAgICAgICAgICAgICAgICBvblNlbGVjdCA9IF9hJG9uU2VsZWN0ID09PSB1bmRlZmluZWQgPyBmdW5jdGlvbiAoKSB7fSA6IF9hJG9uU2VsZWN0LFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wib3ZlcmxheVwiLCBcIm9uU2VsZWN0XCJdKTtcbiAgICAgICAgICAgIHZhciBvdmVybGF5Tm9kZSA9IHJlY3Vyc2l2ZUNsb25lQ2hpbGRyZW4ob3ZlcmxheSwgZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBleHRyYVByb3BzID0geyBmaXJzdEl0ZW06IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkICYmIHR5cGVvZiBjaGlsZCAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIGNoaWxkICE9PSAnbnVtYmVyJyAmJiBjaGlsZC50eXBlICYmXG4gICAgICAgICAgICAgICAgLy8gRml4bWU6IG5vdCBzdXJlIHdoZXJlIHRoZSBgbXlOYW1lYCBjYW1lIGZyb20uXG4gICAgICAgICAgICAgICAgY2hpbGQudHlwZS5teU5hbWUgPT09ICdQb3BvdmVySXRlbScgJiYgIWNoaWxkLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhUHJvcHMub25DbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvblNlbGVjdChjaGlsZCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBleHRyYVByb3BzLmZpcnN0SXRlbSA9IGluZGV4ID09PSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCBleHRyYVByb3BzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgd3JhcHBlck5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLnByZWZpeENscyArICctaW5uZXItd3JhcHBlcicgfSxcbiAgICAgICAgICAgICAgICBvdmVybGF5Tm9kZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIF9leHRlbmRzKHt9LCByZXN0UHJvcHMsIHsgb3ZlcmxheTogd3JhcHBlck5vZGUgfSkpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFBvcG92ZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFBvcG92ZXI7XG5cblBvcG92ZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLXBvcG92ZXInLFxuICAgIHBsYWNlbWVudDogJ2JvdHRvbVJpZ2h0JyxcbiAgICBhbGlnbjogeyBvdmVyZmxvdzogeyBhZGp1c3RZOiAwLCBhZGp1c3RYOiAwIH0gfSxcbiAgICB0cmlnZ2VyOiBbJ2NsaWNrJ11cbn07XG5Qb3BvdmVyLkl0ZW0gPSBJdGVtOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhQcm9ncmVzcywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBQcm9ncmVzcygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb2dyZXNzKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFByb2dyZXNzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJvZ3Jlc3MpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUHJvZ3Jlc3MsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpIHtcbiAgICAgICAgICAgIHRoaXMubm9BcHBlYXJUcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuYXBwZWFyVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmJhclJlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmJhclJlZi5zdHlsZS53aWR0aCA9IF90aGlzMi5wcm9wcy5wZXJjZW50ICsgJyUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9jbGFzc25hbWVzLFxuICAgICAgICAgICAgICAgIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IF9wcm9wcy5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICB1bmZpbGxlZCA9IF9wcm9wcy51bmZpbGxlZCxcbiAgICAgICAgICAgICAgICBfcHJvcHMkc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBfcHJvcHMkc3R5bGUgPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzJHN0eWxlLFxuICAgICAgICAgICAgICAgIF9wcm9wcyRiYXJTdHlsZSA9IF9wcm9wcy5iYXJTdHlsZSxcbiAgICAgICAgICAgICAgICBiYXJTdHlsZSA9IF9wcm9wcyRiYXJTdHlsZSA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkYmFyU3R5bGU7XG5cbiAgICAgICAgICAgIHZhciBwZXJjZW50U3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMubm9BcHBlYXJUcmFuc2l0aW9uIHx8ICF0aGlzLnByb3BzLmFwcGVhclRyYW5zaXRpb24gPyB0aGlzLnByb3BzLnBlcmNlbnQgKyAnJScgOiAwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB3cmFwQ2xzID0gY2xhc3NuYW1lcyhwcmVmaXhDbHMgKyAnLW91dGVyJywgY2xhc3NOYW1lLCAoX2NsYXNzbmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWZpeGVkLW91dGVyJywgcG9zaXRpb24gPT09ICdmaXhlZCcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctaGlkZS1vdXRlcicsICF1bmZpbGxlZCksIF9jbGFzc25hbWVzKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IHN0eWxlOiBzdHlsZSwgY2xhc3NOYW1lOiB3cmFwQ2xzLCByb2xlOiAncHJvZ3Jlc3NiYXInLCAnYXJpYS12YWx1ZW5vdyc6IHRoaXMucHJvcHMucGVyY2VudCwgJ2FyaWEtdmFsdWVtaW4nOiAwLCAnYXJpYS12YWx1ZW1heCc6IDEwMCB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuYmFyUmVmID0gZWw7XG4gICAgICAgICAgICAgICAgICAgIH0sIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1iYXInLCBzdHlsZTogX2V4dGVuZHMoe30sIGJhclN0eWxlLCBwZXJjZW50U3R5bGUpIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFByb2dyZXNzO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBQcm9ncmVzcztcblxuUHJvZ3Jlc3MuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLXByb2dyZXNzJyxcbiAgICBwZXJjZW50OiAwLFxuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIHVuZmlsbGVkOiB0cnVlLFxuICAgIGFwcGVhclRyYW5zaXRpb246IGZhbHNlXG59OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbnZhciBTdGF0aWNSZW5kZXJlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFN0YXRpY1JlbmRlcmVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFN0YXRpY1JlbmRlcmVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RhdGljUmVuZGVyZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU3RhdGljUmVuZGVyZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTdGF0aWNSZW5kZXJlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhTdGF0aWNSZW5kZXJlciwgW3tcbiAgICAgICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0UHJvcHMuc2hvdWxkVXBkYXRlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlbmRlcigpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFN0YXRpY1JlbmRlcmVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5mdW5jdGlvbiBzZXRUcmFuc2Zvcm0obm9kZVN0eWxlLCB2YWx1ZSkge1xuICAgIG5vZGVTdHlsZS50cmFuc2Zvcm0gPSB2YWx1ZTtcbiAgICBub2RlU3R5bGUud2Via2l0VHJhbnNmb3JtID0gdmFsdWU7XG4gICAgbm9kZVN0eWxlLk1velRyYW5zZm9ybSA9IHZhbHVlO1xufVxudmFyIGlzV2ViVmlldyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC8oaVBob25lfGlQb2R8aVBhZCkuKkFwcGxlV2ViS2l0KD8hLipTYWZhcmkpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciBET1dOID0gJ2Rvd24nO1xudmFyIFVQID0gJ3VwJztcbnZhciBJTkRJQ0FUT1IgPSB7IGFjdGl2YXRlOiAncmVsZWFzZScsIGRlYWN0aXZhdGU6ICdwdWxsJywgcmVsZWFzZTogJ2xvYWRpbmcnLCBmaW5pc2g6ICdmaW5pc2gnIH07XG52YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG50cnkge1xuICAgIHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRzKTtcbn0gY2F0Y2ggKGUpIHtcbiAgICAvLyBlbXB0eVxufVxudmFyIHdpbGxQcmV2ZW50RGVmYXVsdCA9IHN1cHBvcnRzUGFzc2l2ZSA/IHsgcGFzc2l2ZTogZmFsc2UgfSA6IGZhbHNlO1xuLy8gY29uc3Qgd2lsbE5vdFByZXZlbnREZWZhdWx0ID0gc3VwcG9ydHNQYXNzaXZlID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZTtcblxudmFyIFB1bGxUb1JlZnJlc2ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudDIpIHtcbiAgICBfaW5oZXJpdHMoUHVsbFRvUmVmcmVzaCwgX1JlYWN0JENvbXBvbmVudDIpO1xuXG4gICAgZnVuY3Rpb24gUHVsbFRvUmVmcmVzaCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFB1bGxUb1JlZnJlc2gpO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS95aW1pbmdoZS96c2Nyb2xsZXIvYmxvYi8yZDk3OTczMjg3MTM1NzQ1ODE4YTA1Mzc3MTIyMzVhMzlhNmE2MmExL3NyYy9TY3JvbGxlci5qcyNMMzU1XG4gICAgICAgIC8vIGN1cnJTdDogYGFjdGl2YXRlYCAvIGBkZWFjdGl2YXRlYCAvIGByZWxlYXNlYCAvIGBmaW5pc2hgXG4gICAgICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUHVsbFRvUmVmcmVzaC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFB1bGxUb1JlZnJlc2gpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICBfdGhpczIuc3RhdGUgPSB7XG4gICAgICAgICAgICBjdXJyU3Q6ICdkZWFjdGl2YXRlJyxcbiAgICAgICAgICAgIGRyYWdPbkVkZ2U6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzMi5faXNNb3VudGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzMi5zaG91bGRVcGRhdGVDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICBfdGhpczIudHJpZ2dlclB1bGxUb1JlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyDlnKjliJ3lp4vljJbml7bjgIHnlKjku6PnoIEg6Ieq5YqoIOinpuWPkSBwdWxsVG9SZWZyZXNoXG4gICAgICAgICAgICAvLyDms6jmhI/vvJrlvZMgZGlyZWN0aW9uIOS4uiB1cCDml7bvvIzlvZMgdmlzaWJsZSBsZW5ndGggPCBjb250ZW50IGxlbmd0aCDml7bjgIHliJnnnIvkuI3liLDmlYjmnpxcbiAgICAgICAgICAgIC8vIOa3u+WKoHRoaXMuX2lzTW91bnRlZOeahOWIpOaWre+8jOWQpuWImee7hOW7uuS4gOWunuS+i+WMlu+8jGN1cnJTdOWwseS8muaYr2ZpbmlzaFxuICAgICAgICAgICAgaWYgKCFfdGhpczIuc3RhdGUuZHJhZ09uRWRnZSAmJiBfdGhpczIuX2lzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpczIucHJvcHMucmVmcmVzaGluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnByb3BzLmRpcmVjdGlvbiA9PT0gVVApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5fbGFzdFNjcmVlblkgPSAtX3RoaXMyLnByb3BzLmRpc3RhbmNlVG9SZWZyZXNoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnByb3BzLmRpcmVjdGlvbiA9PT0gRE9XTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLl9sYXN0U2NyZWVuWSA9IF90aGlzMi5wcm9wcy5kaXN0YW5jZVRvUmVmcmVzaCArIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlIGRvbSBuZWVkIGFmdGVyIHNldFN0YXRlXG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGN1cnJTdDogJ3JlbGVhc2UnIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0Q29udGVudFN0eWxlKF90aGlzMi5fbGFzdFNjcmVlblkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBjdXJyU3Q6ICdmaW5pc2gnIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpczIuaW5pdCA9IGZ1bmN0aW9uIChlbGUpIHtcbiAgICAgICAgICAgIGlmICghZWxlKSB7XG4gICAgICAgICAgICAgICAgLy8gbGlrZSByZXR1cm4gaW4gZGVzdHJveSBmbiA/Pz8hIVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzMi5fdG8gPSB7XG4gICAgICAgICAgICAgICAgdG91Y2hzdGFydDogX3RoaXMyLm9uVG91Y2hTdGFydC5iaW5kKF90aGlzMiwgZWxlKSxcbiAgICAgICAgICAgICAgICB0b3VjaG1vdmU6IF90aGlzMi5vblRvdWNoTW92ZS5iaW5kKF90aGlzMiwgZWxlKSxcbiAgICAgICAgICAgICAgICB0b3VjaGVuZDogX3RoaXMyLm9uVG91Y2hFbmQuYmluZChfdGhpczIsIGVsZSksXG4gICAgICAgICAgICAgICAgdG91Y2hjYW5jZWw6IF90aGlzMi5vblRvdWNoRW5kLmJpbmQoX3RoaXMyLCBlbGUpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoX3RoaXMyLl90bykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgZWxlLmFkZEV2ZW50TGlzdGVuZXIoa2V5LCBfdGhpczIuX3RvW2tleV0sIHdpbGxQcmV2ZW50RGVmYXVsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMyLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZWxlKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzMi5fdG8gfHwgIWVsZSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudFdpbGxVbm1vdW50IGZpcmUgYmVmb3JlIGNvbXBvbmVudERpZE1vdW50LCBsaWtlIGZvcmNlVXBkYXRlID8/PyEhXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmtleXMoX3RoaXMyLl90bykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgZWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoa2V5LCBfdGhpczIuX3RvW2tleV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzMi5vblRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoX2VsZSwgZSkge1xuICAgICAgICAgICAgX3RoaXMyLl9TY3JlZW5ZID0gX3RoaXMyLl9zdGFydFNjcmVlblkgPSBlLnRvdWNoZXNbMF0uc2NyZWVuWTtcbiAgICAgICAgICAgIC8vIOS4gOW8gOWniyByZWZyZXNoaW5nIOS4uiB0cnVlIOaXtiB0aGlzLl9sYXN0U2NyZWVuWSDmnInlgLxcbiAgICAgICAgICAgIF90aGlzMi5fbGFzdFNjcmVlblkgPSBfdGhpczIuX2xhc3RTY3JlZW5ZIHx8IDA7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzMi5pc0VkZ2UgPSBmdW5jdGlvbiAoZWxlLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBfdGhpczIucHJvcHMuZ2V0U2Nyb2xsQ29udGFpbmVyKCk7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyICYmIGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgICAgIC8vIEluIGNocm9tZTYxIGBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcGAgaXMgaW52YWxpZFxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxOb2RlID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCA/IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgOiBkb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFVQKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxOb2RlLnNjcm9sbEhlaWdodCAtIHNjcm9sbE5vZGUuc2Nyb2xsVG9wIDw9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRE9XTikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Nyb2xsTm9kZS5zY3JvbGxUb3AgPD0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBVUCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGUuc2Nyb2xsSGVpZ2h0IC0gZWxlLnNjcm9sbFRvcCA9PT0gZWxlLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IERPV04pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlLnNjcm9sbFRvcCA8PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpczIuZGFtcGluZyA9IGZ1bmN0aW9uIChkeSkge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKF90aGlzMi5fbGFzdFNjcmVlblkpID4gX3RoaXMyLnByb3BzLmRhbXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByYXRpbyA9IE1hdGguYWJzKF90aGlzMi5fU2NyZWVuWSAtIF90aGlzMi5fc3RhcnRTY3JlZW5ZKSAvIHdpbmRvdy5zY3JlZW4uaGVpZ2h0O1xuICAgICAgICAgICAgZHkgKj0gKDEgLSByYXRpbykgKiAwLjY7XG4gICAgICAgICAgICByZXR1cm4gZHk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzMi5vblRvdWNoTW92ZSA9IGZ1bmN0aW9uIChlbGUsIGUpIHtcbiAgICAgICAgICAgIC8vIOS9v+eUqCBwYWdlWSDlr7nmr5TmnInpl67pophcbiAgICAgICAgICAgIHZhciBfc2NyZWVuWSA9IGUudG91Y2hlc1swXS5zY3JlZW5ZO1xuICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IF90aGlzMi5wcm9wcy5kaXJlY3Rpb247XG4gICAgICAgICAgICAvLyDmi5bliqjmlrnlkJHkuI3nrKblkIjnmoTkuI3lpITnkIZcblxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gVVAgJiYgX3RoaXMyLl9zdGFydFNjcmVlblkgPCBfc2NyZWVuWSB8fCBkaXJlY3Rpb24gPT09IERPV04gJiYgX3RoaXMyLl9zdGFydFNjcmVlblkgPiBfc2NyZWVuWSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpczIuaXNFZGdlKGVsZSwgZGlyZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLnN0YXRlLmRyYWdPbkVkZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5b2T55So5oi35byA5aeL5b6A5LiK5ruR55qE5pe25YCZaXNFZGdl6L+Y5pivZmFsc2XnmoTor53vvIzkvJrlr7zoh7R0aGlzLl9TY3JlZW5Z5LiN5piv5oOz6KaB55qE77yM5Y+q5pyJ5b2TaXNFZGdl5Li6dHJ1ZeaXtu+8jOWGjeS4iua7ke+8jOaJjeacieaEj+S5iVxuICAgICAgICAgICAgICAgICAgICAvLyDkuIvpnaLov5nooYzku6PnoIHop6PlhrPkuobkuIrpnaLov5nkuKrpl67pophcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLl9TY3JlZW5ZID0gX3RoaXMyLl9zdGFydFNjcmVlblkgPSBlLnRvdWNoZXNbMF0uc2NyZWVuWTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgZHJhZ09uRWRnZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIC8vIGFkZCBzdG9wUHJvcGFnYXRpb24gd2l0aCBmYXN0Y2xpY2sgd2lsbCB0cmlnZ2VyIGNvbnRlbnQgb25DbGljayBldmVudC4gd2h5P1xuICAgICAgICAgICAgICAgIC8vIHJlZiBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduLW1vYmlsZS9pc3N1ZXMvMjE0MVxuICAgICAgICAgICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWZmID0gTWF0aC5yb3VuZChfc2NyZWVuWSAtIF90aGlzMi5fU2NyZWVuWSk7XG4gICAgICAgICAgICAgICAgX3RoaXMyLl9TY3JlZW5ZID0gX3NjcmVlblk7XG4gICAgICAgICAgICAgICAgX3RoaXMyLl9sYXN0U2NyZWVuWSArPSBfdGhpczIuZGFtcGluZyhfZGlmZik7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnNldENvbnRlbnRTdHlsZShfdGhpczIuX2xhc3RTY3JlZW5ZKTtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoX3RoaXMyLl9sYXN0U2NyZWVuWSkgPCBfdGhpczIucHJvcHMuZGlzdGFuY2VUb1JlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5zdGF0ZS5jdXJyU3QgIT09ICdkZWFjdGl2YXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2JhY2sgdG8gdGhlIGRpc3RhbmNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBjdXJyU3Q6ICdkZWFjdGl2YXRlJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIuc3RhdGUuY3VyclN0ID09PSAnZGVhY3RpdmF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZWFjaCB0byB0aGUgZGlzdGFuY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGN1cnJTdDogJ2FjdGl2YXRlJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduLW1vYmlsZS9pc3N1ZXMvNTczI2lzc3VlY29tbWVudC0zMzk1NjA4MjlcbiAgICAgICAgICAgICAgICAvLyBpT1MgVUlXZWJWaWV3IGlzc3VlLCBJdCBzZWVtcyBubyBwcm9ibGVtIGluIFdLV2ViVmlld1xuICAgICAgICAgICAgICAgIGlmIChpc1dlYlZpZXcgJiYgZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIub25Ub3VjaEVuZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMyLm9uVG91Y2hFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMyLnN0YXRlLmRyYWdPbkVkZ2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBkcmFnT25FZGdlOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpczIuc3RhdGUuY3VyclN0ID09PSAnYWN0aXZhdGUnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgY3VyclN0OiAncmVsZWFzZScgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMyLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5wcm9wcy5yZWZyZXNoaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBjdXJyU3Q6ICdmaW5pc2gnIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpczIuX3RpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5vblJlZnJlc2goKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzMi5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMi5fbGFzdFNjcmVlblkgPSAwO1xuICAgICAgICAgICAgX3RoaXMyLnNldENvbnRlbnRTdHlsZSgwKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMyLnNldENvbnRlbnRTdHlsZSA9IGZ1bmN0aW9uICh0eSkge1xuICAgICAgICAgICAgLy8gdG9kb3M6IFdoeSBzb21ldGltZXMgZG8gbm90IGhhdmUgYHRoaXMuY29udGVudFJlZmAgP1xuICAgICAgICAgICAgaWYgKF90aGlzMi5jb250ZW50UmVmKSB7XG4gICAgICAgICAgICAgICAgc2V0VHJhbnNmb3JtKF90aGlzMi5jb250ZW50UmVmLnN0eWxlLCAndHJhbnNsYXRlM2QoMHB4LCcgKyB0eSArICdweCwwKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXMyO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQdWxsVG9SZWZyZXNoLCBbe1xuICAgICAgICBrZXk6ICdzaG91bGRDb21wb25lbnRVcGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVDaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW4gIT09IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICAgICAgaWYgKHByZXZQcm9wcyA9PT0gdGhpcy5wcm9wcyB8fCBwcmV2UHJvcHMucmVmcmVzaGluZyA9PT0gdGhpcy5wcm9wcy5yZWZyZXNoaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHJpZ2dlclB1bGxUb1JlZnJlc2gg6ZyA6KaB5bC95Y+v6IO95YeP5bCRIHNldFN0YXRlIOasoeaVsFxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyUHVsbFRvUmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBgZ2V0U2Nyb2xsQ29udGFpbmVyYCBtb3N0IGxpa2VseSByZXR1cm4gUmVhY3QuTm9kZSBhdCB0aGUgbmV4dCB0aWNrLiBOZWVkIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzMy5pbml0KF90aGlzMy5wcm9wcy5nZXRTY3JvbGxDb250YWluZXIoKSB8fCBfdGhpczMuY29udGFpbmVyUmVmKTtcbiAgICAgICAgICAgICAgICBfdGhpczMudHJpZ2dlclB1bGxUb1JlZnJlc2goKTtcbiAgICAgICAgICAgICAgICBfdGhpczMuX2lzTW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICAvLyBTaG91bGQgaGF2ZSBubyBzZXRUaW1lb3V0IGhlcmUhXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kodGhpcy5wcm9wcy5nZXRTY3JvbGxDb250YWluZXIoKSB8fCB0aGlzLmNvbnRhaW5lclJlZik7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgZGVsZXRlIHByb3BzLmRhbXBpbmc7XG5cbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgZ2V0U2Nyb2xsQ29udGFpbmVyID0gcHJvcHMuZ2V0U2Nyb2xsQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IHByb3BzLmRpcmVjdGlvbixcbiAgICAgICAgICAgICAgICBvblJlZnJlc2ggPSBwcm9wcy5vblJlZnJlc2gsXG4gICAgICAgICAgICAgICAgcmVmcmVzaGluZyA9IHByb3BzLnJlZnJlc2hpbmcsXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yID0gcHJvcHMuaW5kaWNhdG9yLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlVG9SZWZyZXNoID0gcHJvcHMuZGlzdGFuY2VUb1JlZnJlc2gsXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KHByb3BzLCBbXCJjbGFzc05hbWVcIiwgXCJwcmVmaXhDbHNcIiwgXCJjaGlsZHJlblwiLCBcImdldFNjcm9sbENvbnRhaW5lclwiLCBcImRpcmVjdGlvblwiLCBcIm9uUmVmcmVzaFwiLCBcInJlZnJlc2hpbmdcIiwgXCJpbmRpY2F0b3JcIiwgXCJkaXN0YW5jZVRvUmVmcmVzaFwiXSk7XG5cbiAgICAgICAgICAgIHZhciByZW5kZXJDaGlsZHJlbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3RhdGljUmVuZGVyZXIsIHsgc2hvdWxkVXBkYXRlOiB0aGlzLnNob3VsZFVwZGF0ZUNoaWxkcmVuLCByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICB2YXIgcmVuZGVyUmVmcmVzaCA9IGZ1bmN0aW9uIHJlbmRlclJlZnJlc2goY2xzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYSA9IGNsYXNzTmFtZXMoY2xzLCAhX3RoaXM0LnN0YXRlLmRyYWdPbkVkZ2UgJiYgcHJlZml4Q2xzICsgJy10cmFuc2l0aW9uJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250ZW50LXdyYXBwZXInIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGEsIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuY29udGVudFJlZiA9IGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9PT0gVVAgPyByZW5kZXJDaGlsZHJlbiA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWluZGljYXRvcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3JbX3RoaXM0LnN0YXRlLmN1cnJTdF0gfHwgSU5ESUNBVE9SW190aGlzNC5zdGF0ZS5jdXJyU3RdXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID09PSBET1dOID8gcmVuZGVyQ2hpbGRyZW4gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChnZXRTY3JvbGxDb250YWluZXIoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXJSZWZyZXNoKHByZWZpeENscyArICctY29udGVudCAnICsgcHJlZml4Q2xzICsgJy0nICsgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHsgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuY29udGFpbmVyUmVmID0gZWw7XG4gICAgICAgICAgICAgICAgICAgIH0sIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhjbGFzc05hbWUsIHByZWZpeENscywgcHJlZml4Q2xzICsgJy0nICsgZGlyZWN0aW9uKSB9LCByZXN0UHJvcHMpLFxuICAgICAgICAgICAgICAgIHJlbmRlclJlZnJlc2gocHJlZml4Q2xzICsgJy1jb250ZW50JylcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUHVsbFRvUmVmcmVzaDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgUHVsbFRvUmVmcmVzaDtcblxuUHVsbFRvUmVmcmVzaC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAncm1jLXB1bGwtdG8tcmVmcmVzaCcsXG4gICAgZ2V0U2Nyb2xsQ29udGFpbmVyOiBmdW5jdGlvbiBnZXRTY3JvbGxDb250YWluZXIoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBkaXJlY3Rpb246IERPV04sXG4gICAgZGlzdGFuY2VUb1JlZnJlc2g6IDI1LFxuICAgIGRhbXBpbmc6IDEwMCxcbiAgICBpbmRpY2F0b3I6IElORElDQVRPUlxufTsiLCJpbXBvcnQgUHVsbFRvUmVmcmVzaCBmcm9tICcuL1B1bGxUb1JlZnJlc2gnO1xuZXhwb3J0IGRlZmF1bHQgUHVsbFRvUmVmcmVzaDsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJQdWxsVG9SZWZyZXNoIGZyb20gJ3JtYy1wdWxsLXRvLXJlZnJlc2gnO1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50TG9jYWxlIH0gZnJvbSAnLi4vX3V0aWwvZ2V0TG9jYWxlJztcbmltcG9ydCBJY29uIGZyb20gJy4uL2ljb24nO1xuXG52YXIgUHVsbFRvUmVmcmVzaCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFB1bGxUb1JlZnJlc2gsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUHVsbFRvUmVmcmVzaCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFB1bGxUb1JlZnJlc2gpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUHVsbFRvUmVmcmVzaC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFB1bGxUb1JlZnJlc2gpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUHVsbFRvUmVmcmVzaCwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXG4gICAgICAgICAgICB2YXIgX2dldENvbXBvbmVudExvY2FsZSA9IGdldENvbXBvbmVudExvY2FsZSh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsICdQdWxsVG9SZWZyZXNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1aXJlKCcuL2xvY2FsZS96aF9DTicpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYWN0aXZhdGVUZXh0ID0gX2dldENvbXBvbmVudExvY2FsZS5hY3RpdmF0ZVRleHQsXG4gICAgICAgICAgICAgICAgZGVhY3RpdmF0ZVRleHQgPSBfZ2V0Q29tcG9uZW50TG9jYWxlLmRlYWN0aXZhdGVUZXh0LFxuICAgICAgICAgICAgICAgIGZpbmlzaFRleHQgPSBfZ2V0Q29tcG9uZW50TG9jYWxlLmZpbmlzaFRleHQ7XG5cbiAgICAgICAgICAgIHZhciBpbmQgPSBfZXh0ZW5kcyh7IGFjdGl2YXRlOiBhY3RpdmF0ZVRleHQsIGRlYWN0aXZhdGU6IGRlYWN0aXZhdGVUZXh0LCByZWxlYXNlOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIHsgdHlwZTogJ2xvYWRpbmcnIH0pLCBmaW5pc2g6IGZpbmlzaFRleHQgfSwgdGhpcy5wcm9wcy5pbmRpY2F0b3IpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUlB1bGxUb1JlZnJlc2gsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IGluZGljYXRvcjogaW5kIH0pKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQdWxsVG9SZWZyZXNoO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBQdWxsVG9SZWZyZXNoO1xuXG5QdWxsVG9SZWZyZXNoLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1wdWxsLXRvLXJlZnJlc2gnXG59O1xuUHVsbFRvUmVmcmVzaC5jb250ZXh0VHlwZXMgPSB7XG4gICAgYW50TG9jYWxlOiBQcm9wVHlwZXMub2JqZWN0XG59OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG4vKiB0c2xpbnQ6ZGlzYWJsZTpqc3gtbm8tbXVsdGlsaW5lLWpzICovXG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL2J1dHRvbic7XG5cbnZhciBSZXN1bHQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhSZXN1bHQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUmVzdWx0KCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzdWx0KTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlc3VsdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlc3VsdCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhSZXN1bHQsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgICAgaW1nID0gX3Byb3BzLmltZyxcbiAgICAgICAgICAgICAgICBpbWdVcmwgPSBfcHJvcHMuaW1nVXJsLFxuICAgICAgICAgICAgICAgIHRpdGxlID0gX3Byb3BzLnRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBfcHJvcHMubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBidXR0b25UZXh0ID0gX3Byb3BzLmJ1dHRvblRleHQsXG4gICAgICAgICAgICAgICAgb25CdXR0b25DbGljayA9IF9wcm9wcy5vbkJ1dHRvbkNsaWNrLFxuICAgICAgICAgICAgICAgIGJ1dHRvblR5cGUgPSBfcHJvcHMuYnV0dG9uVHlwZTtcblxuICAgICAgICAgICAgdmFyIGltZ0NvbnRlbnQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGltZykge1xuICAgICAgICAgICAgICAgIGltZ0NvbnRlbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcGljJyB9LFxuICAgICAgICAgICAgICAgICAgICBpbWdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbWdVcmwpIHtcbiAgICAgICAgICAgICAgICBpbWdDb250ZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcGljJywgc3R5bGU6IHsgYmFja2dyb3VuZEltYWdlOiAndXJsKCcgKyBpbWdVcmwgKyAnKScgfSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKHByZWZpeENscywgY2xhc3NOYW1lKSwgc3R5bGU6IHN0eWxlLCByb2xlOiAnYWxlcnQnIH0sXG4gICAgICAgICAgICAgICAgaW1nQ29udGVudCxcbiAgICAgICAgICAgICAgICB0aXRsZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aXRsZScgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICAgICAgICApIDogbnVsbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlID8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW1lc3NhZ2UnIH0sXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICApIDogbnVsbCxcbiAgICAgICAgICAgICAgICBidXR0b25UZXh0ID8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJ1dHRvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIEJ1dHRvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdHlwZTogYnV0dG9uVHlwZSwgb25DbGljazogb25CdXR0b25DbGljayB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uVGV4dFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmVzdWx0O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBSZXN1bHQ7XG5cblJlc3VsdC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tcmVzdWx0JyxcbiAgICBidXR0b25UeXBlOiAnJyxcbiAgICBvbkJ1dHRvbkNsaWNrOiBmdW5jdGlvbiBvbkJ1dHRvbkNsaWNrKCkge31cbn07IiwiZnVuY3Rpb24gbm9vcCgpIHt9XG5leHBvcnQgdmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1zZWFyY2gnLFxuICAgIHBsYWNlaG9sZGVyOiAnJyxcbiAgICBvblN1Ym1pdDogbm9vcCxcbiAgICBvbkNoYW5nZTogbm9vcCxcbiAgICBvbkZvY3VzOiBub29wLFxuICAgIG9uQmx1cjogbm9vcCxcbiAgICBvbkNsZWFyOiBub29wLFxuICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLFxuICAgIGRpc2FibGVkOiBmYWxzZVxufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgVG91Y2hGZWVkYmFjayBmcm9tICdybWMtZmVlZGJhY2snO1xuaW1wb3J0IGdldERhdGFBdHRyIGZyb20gJy4uL191dGlsL2dldERhdGFBdHRyJztcbmltcG9ydCB7IGdldENvbXBvbmVudExvY2FsZSB9IGZyb20gJy4uL191dGlsL2dldExvY2FsZSc7XG5pbXBvcnQgeyBkZWZhdWx0UHJvcHMgfSBmcm9tICcuL1Byb3BzVHlwZSc7XG5mdW5jdGlvbiBvbk5leHRGcmFtZShjYikge1xuICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGNiLCAxKTtcbn1cbmZ1bmN0aW9uIGNsZWFyTmV4dEZyYW1lQWN0aW9uKG5leHRGcmFtZUlkKSB7XG4gICAgaWYgKHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUobmV4dEZyYW1lSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQobmV4dEZyYW1lSWQpO1xuICAgIH1cbn1cblxudmFyIFNlYXJjaEJhciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFNlYXJjaEJhciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBTZWFyY2hCYXIocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlYXJjaEJhcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNlYXJjaEJhci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNlYXJjaEJhcikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5vblN1Ym1pdCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25TdWJtaXQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblN1Ym1pdChfdGhpcy5zdGF0ZS52YWx1ZSB8fCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuaW5wdXRSZWYpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pbnB1dFJlZi5ibHVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuc3RhdGUuZm9jdXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIGlmICghKCd2YWx1ZScgaW4gX3RoaXMucHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZm9jdXM6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuZmlyc3RGb2N1cyA9IHRydWU7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25Gb2N1cykge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uRm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25CbHVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMub25CbHVyVGltZW91dCA9IG9uTmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmJsdXJGcm9tT25DbGVhcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gX3RoaXMuaW5wdXRSZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLmJsdXJGcm9tT25DbGVhciA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25CbHVyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25CbHVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uQ2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5kb0NsZWFyKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmRvQ2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmx1ckZyb21PbkNsZWFyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlO1xuXG4gICAgICAgICAgICBfdGhpcy5ibHVyRnJvbU9uQ2xlYXIgPSBibHVyRnJvbU9uQ2xlYXI7XG4gICAgICAgICAgICBpZiAoISgndmFsdWUnIGluIF90aGlzLnByb3BzKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdmFsdWU6ICcnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2xlYXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNsZWFyKCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChibHVyRnJvbU9uQ2xlYXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNhbmNlbCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2FuY2VsKF90aGlzLnN0YXRlLnZhbHVlIHx8ICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZG9DbGVhcihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmlucHV0UmVmKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW5wdXRSZWYuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBwcm9wcykge1xuICAgICAgICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSB8fCAnJztcbiAgICAgICAgfSBlbHNlIGlmICgnZGVmYXVsdFZhbHVlJyBpbiBwcm9wcykge1xuICAgICAgICAgICAgdmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZm9jdXM6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2VhcmNoQmFyLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJpZ2h0QnRuUmVmKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluaXRCdG4gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnJpZ2h0QnRuUmVmKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0QnRuSW5pdE1hcmdpbmxlZnQgPSBpbml0QnRuLm1hcmdpbkxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudERpZFVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3ludGhldGljUGhSZWYpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dENvbnRhaW5lclJlZiAmJiB0aGlzLmlucHV0Q29udGFpbmVyUmVmLmNsYXNzTmFtZS5pbmRleE9mKHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1zdGFydCcpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5qOA5rWL5piv5ZCm5YyF5ZCr5ZCN5Li6ICR7dGhpcy5wcm9wcy5wcmVmaXhDbHN9LXN0YXJ0IOagt+W8j++8jOeUn+aIkOWKqOeUu1xuICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXRXaWR0aCDmn5Dkupvml7blgJnmmK/lkJHkuIrlj5bmlbTvvIzmn5Dkupvml7blgJnmmK/lkJHkuIvlj5bmlbTvvIzkuI3og73nlKhcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3ludGhldGljUGhDb250YWluZXJSZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFsV2lkdGggPSB0aGlzLnN5bnRoZXRpY1BoQ29udGFpbmVyUmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOyAvLyDljIXlkKvlsI/mlbBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ludGhldGljUGhSZWYuc3R5bGUud2lkdGggPSBNYXRoLmNlaWwocmVhbFdpZHRoKSArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByb3BzLnNob3dDYW5jZWxCdXR0b24gJiYgdGhpcy5yaWdodEJ0blJlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yaWdodEJ0blJlZi5zdHlsZS5tYXJnaW5SaWdodCA9ICcwJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ludGhldGljUGhSZWYuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5zaG93Q2FuY2VsQnV0dG9uICYmIHRoaXMucmlnaHRCdG5SZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmlnaHRCdG5SZWYuc3R5bGUubWFyZ2luUmlnaHQgPSAnLScgKyAodGhpcy5yaWdodEJ0blJlZi5vZmZzZXRXaWR0aCArICh0aGlzLnJpZ2h0QnRuSW5pdE1hcmdpbmxlZnQgIT0gbnVsbCA/IHBhcnNlSW50KHRoaXMucmlnaHRCdG5Jbml0TWFyZ2lubGVmdCwgMTApIDogMCkpICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzICYmIG5leHRQcm9wcy52YWx1ZSAhPT0gdGhpcy5zdGF0ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV4dFByb3BzLnZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub25CbHVyVGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyTmV4dEZyYW1lQWN0aW9uKHRoaXMub25CbHVyVGltZW91dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkJsdXJUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NuYW1lczMsXG4gICAgICAgICAgICAgICAgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uID0gX3Byb3BzLnNob3dDYW5jZWxCdXR0b24sXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBfcHJvcHMucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGggPSBfcHJvcHMubWF4TGVuZ3RoO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcblxuICAgICAgICAgICAgdmFyIF9sb2NhbGUgPSBnZXRDb21wb25lbnRMb2NhbGUodGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCAnU2VhcmNoQmFyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1aXJlKCcuL2xvY2FsZS96aF9DTicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2FuY2VsVGV4dCA9IF9sb2NhbGUuY2FuY2VsVGV4dDtcbiAgICAgICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gX3N0YXRlLnZhbHVlLFxuICAgICAgICAgICAgICAgIGZvY3VzID0gX3N0YXRlLmZvY3VzO1xuXG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzLCBjbGFzc05hbWUsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcHJlZml4Q2xzICsgJy1zdGFydCcsICEhKGZvY3VzIHx8IHZhbHVlICYmIHZhbHVlLmxlbmd0aCA+IDApKSk7XG4gICAgICAgICAgICB2YXIgY2xlYXJDbHMgPSBjbGFzc25hbWVzKHByZWZpeENscyArICctY2xlYXInLCBfZGVmaW5lUHJvcGVydHkoe30sIHByZWZpeENscyArICctY2xlYXItc2hvdycsICEhKGZvY3VzICYmIHZhbHVlICYmIHZhbHVlLmxlbmd0aCA+IDApKSk7XG4gICAgICAgICAgICB2YXIgY2FuY2VsQ2xzID0gY2xhc3NuYW1lcyhwcmVmaXhDbHMgKyAnLWNhbmNlbCcsIChfY2xhc3NuYW1lczMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzMywgcHJlZml4Q2xzICsgJy1jYW5jZWwtc2hvdycsICEhKHNob3dDYW5jZWxCdXR0b24gfHwgZm9jdXMgfHwgdmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gMCkpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMzLCBwcmVmaXhDbHMgKyAnLWNhbmNlbC1hbmltJywgdGhpcy5maXJzdEZvY3VzKSwgX2NsYXNzbmFtZXMzKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZm9ybScsXG4gICAgICAgICAgICAgICAgeyBvblN1Ym1pdDogdGhpcy5vblN1Ym1pdCwgY2xhc3NOYW1lOiB3cmFwQ2xzLCBzdHlsZTogc3R5bGUsIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmlucHV0Q29udGFpbmVyUmVmID0gZWw7XG4gICAgICAgICAgICAgICAgICAgIH0sIGFjdGlvbjogJyMnIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlucHV0JyB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zeW50aGV0aWMtcGgnLCByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnN5bnRoZXRpY1BoUmVmID0gZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc3ludGhldGljLXBoLWNvbnRhaW5lcicsIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnN5bnRoZXRpY1BoQ29udGFpbmVyUmVmID0gZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdpJywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc3ludGhldGljLXBoLWljb24nIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc3ludGhldGljLXBoLXBsYWNlaG9sZGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmpzeC1uby1tdWx0aWxpbmUtanNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBwbGFjZWhvbGRlciAmJiAhdmFsdWUgPyAndmlzaWJsZScgOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBfZXh0ZW5kcyh7IHR5cGU6ICdzZWFyY2gnLCBjbGFzc05hbWU6IHByZWZpeENscyArICctdmFsdWUnLCB2YWx1ZTogdmFsdWUsIGRpc2FibGVkOiBkaXNhYmxlZCwgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLCBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZSwgb25Gb2N1czogdGhpcy5vbkZvY3VzLCBvbkJsdXI6IHRoaXMub25CbHVyLCByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaW5wdXRSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG1heExlbmd0aDogbWF4TGVuZ3RoIH0sIGdldERhdGFBdHRyKHRoaXMucHJvcHMpKSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBUb3VjaEZlZWRiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBhY3RpdmVDbGFzc05hbWU6IHByZWZpeENscyArICctY2xlYXItYWN0aXZlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIHsgb25DbGljazogdGhpcy5vbkNsZWFyLCBjbGFzc05hbWU6IGNsZWFyQ2xzIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2FuY2VsQ2xzLCBvbkNsaWNrOiB0aGlzLm9uQ2FuY2VsLCByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIucmlnaHRCdG5SZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYW5jZWxUZXh0IHx8IGNhbmNlbFRleHRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNlYXJjaEJhcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgU2VhcmNoQmFyO1xuXG5TZWFyY2hCYXIuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuU2VhcmNoQmFyLmNvbnRleHRUeXBlcyA9IHtcbiAgICBhbnRMb2NhbGU6IFByb3BUeXBlcy5vYmplY3Rcbn07IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUb3VjaEZlZWRiYWNrIGZyb20gJ3JtYy1mZWVkYmFjayc7XG5cbnZhciBTZWdtZW50ZWRDb250cm9sID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoU2VnbWVudGVkQ29udHJvbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBTZWdtZW50ZWRDb250cm9sKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWdtZW50ZWRDb250cm9sKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2VnbWVudGVkQ29udHJvbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNlZ21lbnRlZENvbnRyb2wpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzZWxlY3RlZEluZGV4OiBwcm9wcy5zZWxlY3RlZEluZGV4XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2VnbWVudGVkQ29udHJvbCwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgaWYgKG5leHRQcm9wcy5zZWxlY3RlZEluZGV4ICE9PSB0aGlzLnN0YXRlLnNlbGVjdGVkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbmRleDogbmV4dFByb3BzLnNlbGVjdGVkSW5kZXhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb25DbGljaycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGUsIGluZGV4LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMub25DaGFuZ2UsXG4gICAgICAgICAgICAgICAgb25WYWx1ZUNoYW5nZSA9IF9wcm9wcy5vblZhbHVlQ2hhbmdlO1xuXG4gICAgICAgICAgICBpZiAoIWRpc2FibGVkICYmIHRoaXMuc3RhdGUuc2VsZWN0ZWRJbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBqdXN0IGRvIGEgbW9jayBzbyB0aGF0IHRoZSBhcGkgdG8gYmUgdGhlIHNhbWUgYXMgcmVhY3QtbmF0aXZlXG4gICAgICAgICAgICAgICAgZS5uYXRpdmVFdmVudCA9IGUubmF0aXZlRXZlbnQgPyBlLm5hdGl2ZUV2ZW50IDoge307XG4gICAgICAgICAgICAgICAgZS5uYXRpdmVFdmVudC5zZWxlY3RlZFNlZ21lbnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIGUubmF0aXZlRXZlbnQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvblZhbHVlQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2UodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbmRleDogaW5kZXhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyU2VnbWVudEl0ZW0nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyU2VnbWVudEl0ZW0oaWR4LCB2YWx1ZSwgc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMi5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMyLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIHRpbnRDb2xvciA9IF9wcm9wczIudGludENvbG9yO1xuXG4gICAgICAgICAgICB2YXIgaXRlbUNscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzICsgJy1pdGVtJywgX2RlZmluZVByb3BlcnR5KHt9LCBwcmVmaXhDbHMgKyAnLWl0ZW0tc2VsZWN0ZWQnLCBzZWxlY3RlZCkpO1xuICAgICAgICAgICAgdmFyIGl0ZW1TdHlsZSA9IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogc2VsZWN0ZWQgPyAnI2ZmZicgOiB0aW50Q29sb3IsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzZWxlY3RlZCA/IHRpbnRDb2xvciA6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHRpbnRDb2xvclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBhY3RpdmVJbm5lclN0eWxlID0gdGludENvbG9yID8ge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGludENvbG9yXG4gICAgICAgICAgICB9IDoge307XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBUb3VjaEZlZWRiYWNrLFxuICAgICAgICAgICAgICAgIHsga2V5OiBpZHgsIGRpc2FibGVkOiBkaXNhYmxlZCwgYWN0aXZlQ2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tYWN0aXZlJyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogaXRlbUNscywgc3R5bGU6IGl0ZW1TdHlsZSwgcm9sZTogJ3RhYicsICdhcmlhLXNlbGVjdGVkJzogc2VsZWN0ZWQgJiYgIWRpc2FibGVkLCAnYXJpYS1kaXNhYmxlZCc6IGRpc2FibGVkLCBvbkNsaWNrOiBkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKGUsIGlkeCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWlubmVyJywgc3R5bGU6IGFjdGl2ZUlubmVyU3R5bGUgfSksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzMy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBfcHJvcHMzLnN0eWxlLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzMy5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICBfcHJvcHMzJHZhbHVlcyA9IF9wcm9wczMudmFsdWVzLFxuICAgICAgICAgICAgICAgIHZhbHVlcyA9IF9wcm9wczMkdmFsdWVzID09PSB1bmRlZmluZWQgPyBbXSA6IF9wcm9wczMkdmFsdWVzO1xuXG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMoY2xhc3NOYW1lLCBwcmVmaXhDbHMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogd3JhcENscywgc3R5bGU6IHN0eWxlLCByb2xlOiAndGFibGlzdCcgfSxcbiAgICAgICAgICAgICAgICB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6anN4LW5vLW11bHRpbGluZS1qc1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnJlbmRlclNlZ21lbnRJdGVtKGlkeCwgdmFsdWUsIGlkeCA9PT0gX3RoaXMzLnN0YXRlLnNlbGVjdGVkSW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2VnbWVudGVkQ29udHJvbDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgU2VnbWVudGVkQ29udHJvbDtcblxuU2VnbWVudGVkQ29udHJvbC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tc2VnbWVudCcsXG4gICAgc2VsZWN0ZWRJbmRleDogMCxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgdmFsdWVzOiBbXSxcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fSxcbiAgICBvblZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBvblZhbHVlQ2hhbmdlKCkge30sXG5cbiAgICBzdHlsZToge30sXG4gICAgdGludENvbG9yOiAnJ1xufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcHJvcC10eXBlcyAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIFRyYWNrID0gZnVuY3Rpb24gVHJhY2socHJvcHMpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIGluY2x1ZGVkID0gcHJvcHMuaW5jbHVkZWQsXG4gICAgICB2ZXJ0aWNhbCA9IHByb3BzLnZlcnRpY2FsLFxuICAgICAgb2Zmc2V0ID0gcHJvcHMub2Zmc2V0LFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZTtcblxuXG4gIHZhciBwb3NpdG9uU3R5bGUgPSB2ZXJ0aWNhbCA/IHtcbiAgICBib3R0b206IG9mZnNldCArICclJyxcbiAgICBoZWlnaHQ6IGxlbmd0aCArICclJ1xuICB9IDoge1xuICAgIGxlZnQ6IG9mZnNldCArICclJyxcbiAgICB3aWR0aDogbGVuZ3RoICsgJyUnXG4gIH07XG5cbiAgdmFyIGVsU3R5bGUgPSBfZXh0ZW5kcyh7XG4gICAgdmlzaWJpbGl0eTogaW5jbHVkZWQgPyAndmlzaWJsZScgOiAnaGlkZGVuJ1xuICB9LCBzdHlsZSwgcG9zaXRvblN0eWxlKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiBlbFN0eWxlIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVHJhY2s7IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnO1xuXG52YXIgY2FsY1BvaW50cyA9IGZ1bmN0aW9uIGNhbGNQb2ludHModmVydGljYWwsIG1hcmtzLCBkb3RzLCBzdGVwLCBtaW4sIG1heCkge1xuICB3YXJuaW5nKGRvdHMgPyBzdGVwID4gMCA6IHRydWUsICdgU2xpZGVyW3N0ZXBdYCBzaG91bGQgYmUgYSBwb3NpdGl2ZSBudW1iZXIgaW4gb3JkZXIgdG8gbWFrZSBTbGlkZXJbZG90c10gd29yay4nKTtcbiAgdmFyIHBvaW50cyA9IE9iamVjdC5rZXlzKG1hcmtzKS5tYXAocGFyc2VGbG9hdCk7XG4gIGlmIChkb3RzKSB7XG4gICAgZm9yICh2YXIgaSA9IG1pbjsgaSA8PSBtYXg7IGkgPSBpICsgc3RlcCkge1xuICAgICAgaWYgKHBvaW50cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlO1xuICAgICAgcG9pbnRzLnB1c2goaSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwb2ludHM7XG59O1xuXG52YXIgU3RlcHMgPSBmdW5jdGlvbiBTdGVwcyhfcmVmKSB7XG4gIHZhciBwcmVmaXhDbHMgPSBfcmVmLnByZWZpeENscyxcbiAgICAgIHZlcnRpY2FsID0gX3JlZi52ZXJ0aWNhbCxcbiAgICAgIG1hcmtzID0gX3JlZi5tYXJrcyxcbiAgICAgIGRvdHMgPSBfcmVmLmRvdHMsXG4gICAgICBzdGVwID0gX3JlZi5zdGVwLFxuICAgICAgaW5jbHVkZWQgPSBfcmVmLmluY2x1ZGVkLFxuICAgICAgbG93ZXJCb3VuZCA9IF9yZWYubG93ZXJCb3VuZCxcbiAgICAgIHVwcGVyQm91bmQgPSBfcmVmLnVwcGVyQm91bmQsXG4gICAgICBtYXggPSBfcmVmLm1heCxcbiAgICAgIG1pbiA9IF9yZWYubWluLFxuICAgICAgZG90U3R5bGUgPSBfcmVmLmRvdFN0eWxlLFxuICAgICAgYWN0aXZlRG90U3R5bGUgPSBfcmVmLmFjdGl2ZURvdFN0eWxlO1xuXG4gIHZhciByYW5nZSA9IG1heCAtIG1pbjtcbiAgdmFyIGVsZW1lbnRzID0gY2FsY1BvaW50cyh2ZXJ0aWNhbCwgbWFya3MsIGRvdHMsIHN0ZXAsIG1pbiwgbWF4KS5tYXAoZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgdmFyIG9mZnNldCA9IE1hdGguYWJzKHBvaW50IC0gbWluKSAvIHJhbmdlICogMTAwICsgJyUnO1xuXG4gICAgdmFyIGlzQWN0aXZlZCA9ICFpbmNsdWRlZCAmJiBwb2ludCA9PT0gdXBwZXJCb3VuZCB8fCBpbmNsdWRlZCAmJiBwb2ludCA8PSB1cHBlckJvdW5kICYmIHBvaW50ID49IGxvd2VyQm91bmQ7XG4gICAgdmFyIHN0eWxlID0gdmVydGljYWwgPyBfZXh0ZW5kcyh7IGJvdHRvbTogb2Zmc2V0IH0sIGRvdFN0eWxlKSA6IF9leHRlbmRzKHsgbGVmdDogb2Zmc2V0IH0sIGRvdFN0eWxlKTtcbiAgICBpZiAoaXNBY3RpdmVkKSB7XG4gICAgICBzdHlsZSA9IF9leHRlbmRzKHt9LCBzdHlsZSwgYWN0aXZlRG90U3R5bGUpO1xuICAgIH1cblxuICAgIHZhciBwb2ludENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1kb3QnLCB0cnVlKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWRvdC1hY3RpdmUnLCBpc0FjdGl2ZWQpLCBfY2xhc3NOYW1lcykpO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcG9pbnRDbGFzc05hbWUsIHN0eWxlOiBzdHlsZSwga2V5OiBwb2ludCB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgJ2RpdicsXG4gICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc3RlcCcgfSxcbiAgICBlbGVtZW50c1xuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU3RlcHM7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfdHlwZW9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG52YXIgTWFya3MgPSBmdW5jdGlvbiBNYXJrcyhfcmVmKSB7XG4gIHZhciBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIHZlcnRpY2FsID0gX3JlZi52ZXJ0aWNhbCxcbiAgICAgIG1hcmtzID0gX3JlZi5tYXJrcyxcbiAgICAgIGluY2x1ZGVkID0gX3JlZi5pbmNsdWRlZCxcbiAgICAgIHVwcGVyQm91bmQgPSBfcmVmLnVwcGVyQm91bmQsXG4gICAgICBsb3dlckJvdW5kID0gX3JlZi5sb3dlckJvdW5kLFxuICAgICAgbWF4ID0gX3JlZi5tYXgsXG4gICAgICBtaW4gPSBfcmVmLm1pbjtcblxuICB2YXIgbWFya3NLZXlzID0gT2JqZWN0LmtleXMobWFya3MpO1xuICB2YXIgbWFya3NDb3VudCA9IG1hcmtzS2V5cy5sZW5ndGg7XG4gIHZhciB1bml0ID0gbWFya3NDb3VudCA+IDEgPyAxMDAgLyAobWFya3NDb3VudCAtIDEpIDogMTAwO1xuICB2YXIgbWFya1dpZHRoID0gdW5pdCAqIDAuOTtcblxuICB2YXIgcmFuZ2UgPSBtYXggLSBtaW47XG4gIHZhciBlbGVtZW50cyA9IG1hcmtzS2V5cy5tYXAocGFyc2VGbG9hdCkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhIC0gYjtcbiAgfSkubWFwKGZ1bmN0aW9uIChwb2ludCkge1xuICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgIHZhciBpc0FjdGl2ZSA9ICFpbmNsdWRlZCAmJiBwb2ludCA9PT0gdXBwZXJCb3VuZCB8fCBpbmNsdWRlZCAmJiBwb2ludCA8PSB1cHBlckJvdW5kICYmIHBvaW50ID49IGxvd2VyQm91bmQ7XG4gICAgdmFyIG1hcmtDbGFzc05hbWUgPSBjbGFzc05hbWVzKChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIGNsYXNzTmFtZSArICctdGV4dCcsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIGNsYXNzTmFtZSArICctdGV4dC1hY3RpdmUnLCBpc0FjdGl2ZSksIF9jbGFzc05hbWVzKSk7XG5cbiAgICB2YXIgYm90dG9tU3R5bGUgPSB7XG4gICAgICBtYXJnaW5Cb3R0b206ICctNTAlJyxcbiAgICAgIGJvdHRvbTogKHBvaW50IC0gbWluKSAvIHJhbmdlICogMTAwICsgJyUnXG4gICAgfTtcblxuICAgIHZhciBsZWZ0U3R5bGUgPSB7XG4gICAgICB3aWR0aDogbWFya1dpZHRoICsgJyUnLFxuICAgICAgbWFyZ2luTGVmdDogLW1hcmtXaWR0aCAvIDIgKyAnJScsXG4gICAgICBsZWZ0OiAocG9pbnQgLSBtaW4pIC8gcmFuZ2UgKiAxMDAgKyAnJSdcbiAgICB9O1xuXG4gICAgdmFyIHN0eWxlID0gdmVydGljYWwgPyBib3R0b21TdHlsZSA6IGxlZnRTdHlsZTtcblxuICAgIHZhciBtYXJrUG9pbnQgPSBtYXJrc1twb2ludF07XG4gICAgdmFyIG1hcmtQb2ludElzT2JqZWN0ID0gKHR5cGVvZiBtYXJrUG9pbnQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG1hcmtQb2ludCkpID09PSAnb2JqZWN0JyAmJiAhUmVhY3QuaXNWYWxpZEVsZW1lbnQobWFya1BvaW50KTtcbiAgICB2YXIgbWFya0xhYmVsID0gbWFya1BvaW50SXNPYmplY3QgPyBtYXJrUG9pbnQubGFiZWwgOiBtYXJrUG9pbnQ7XG4gICAgdmFyIG1hcmtTdHlsZSA9IG1hcmtQb2ludElzT2JqZWN0ID8gX2V4dGVuZHMoe30sIHN0eWxlLCBtYXJrUG9pbnQuc3R5bGUpIDogc3R5bGU7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnc3BhbicsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogbWFya0NsYXNzTmFtZSxcbiAgICAgICAgc3R5bGU6IG1hcmtTdHlsZSxcbiAgICAgICAga2V5OiBwb2ludFxuICAgICAgfSxcbiAgICAgIG1hcmtMYWJlbFxuICAgICk7XG4gIH0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICdkaXYnLFxuICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcbiAgICBlbGVtZW50c1xuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTWFya3M7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxudmFyIEhhbmRsZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhIYW5kbGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEhhbmRsZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGFuZGxlKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSGFuZGxlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSGFuZGxlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSGFuZGxlLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgdmVydGljYWwgPSBfcHJvcHMudmVydGljYWwsXG4gICAgICAgICAgb2Zmc2V0ID0gX3Byb3BzLm9mZnNldCxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICBtaW4gPSBfcHJvcHMubWluLFxuICAgICAgICAgIG1heCA9IF9wcm9wcy5tYXgsXG4gICAgICAgICAgdmFsdWUgPSBfcHJvcHMudmFsdWUsXG4gICAgICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wcywgWydjbGFzc05hbWUnLCAndmVydGljYWwnLCAnb2Zmc2V0JywgJ3N0eWxlJywgJ2Rpc2FibGVkJywgJ21pbicsICdtYXgnLCAndmFsdWUnXSk7XG5cbiAgICAgIHZhciBwb3N0aW9uU3R5bGUgPSB2ZXJ0aWNhbCA/IHsgYm90dG9tOiBvZmZzZXQgKyAnJScgfSA6IHsgbGVmdDogb2Zmc2V0ICsgJyUnIH07XG4gICAgICB2YXIgZWxTdHlsZSA9IF9leHRlbmRzKHt9LCBzdHlsZSwgcG9zdGlvblN0eWxlKTtcbiAgICAgIHZhciBhcmlhUHJvcHMgPSB7fTtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFyaWFQcm9wcyA9IF9leHRlbmRzKHt9LCBhcmlhUHJvcHMsIHtcbiAgICAgICAgICAnYXJpYS12YWx1ZW1pbic6IG1pbixcbiAgICAgICAgICAnYXJpYS12YWx1ZW1heCc6IG1heCxcbiAgICAgICAgICAnYXJpYS12YWx1ZW5vdyc6IHZhbHVlLFxuICAgICAgICAgICdhcmlhLWRpc2FibGVkJzogISFkaXNhYmxlZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCBfZXh0ZW5kcyh7XG4gICAgICAgIHJvbGU6ICdzbGlkZXInXG4gICAgICB9LCBhcmlhUHJvcHMsIHJlc3RQcm9wcywge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgc3R5bGU6IGVsU3R5bGVcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSGFuZGxlO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBIYW5kbGU7XG5cblxuSGFuZGxlLnByb3BUeXBlcyA9IHtcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB2ZXJ0aWNhbDogUHJvcFR5cGVzLmJvb2wsXG4gIG9mZnNldDogUHJvcFR5cGVzLm51bWJlcixcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgbWluOiBQcm9wVHlwZXMubnVtYmVyLFxuICBtYXg6IFByb3BUeXBlcy5udW1iZXIsXG4gIHZhbHVlOiBQcm9wVHlwZXMubnVtYmVyXG59OyIsImltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5JztcbmltcG9ydCB7IGZpbmRET01Ob2RlIH0gZnJvbSAncmVhY3QtZG9tJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXZlbnRGcm9tSGFuZGxlKGUsIGhhbmRsZXMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGhhbmRsZXMpLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBlLnRhcmdldCA9PT0gZmluZERPTU5vZGUoaGFuZGxlc1trZXldKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbHVlT3V0T2ZSYW5nZSh2YWx1ZSwgX3JlZikge1xuICB2YXIgbWluID0gX3JlZi5taW4sXG4gICAgICBtYXggPSBfcmVmLm1heDtcblxuICByZXR1cm4gdmFsdWUgPCBtaW4gfHwgdmFsdWUgPiBtYXg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc05vdFRvdWNoRXZlbnQoZSkge1xuICByZXR1cm4gZS50b3VjaGVzLmxlbmd0aCA+IDEgfHwgZS50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICd0b3VjaGVuZCcgJiYgZS50b3VjaGVzLmxlbmd0aCA+IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbG9zZXN0UG9pbnQodmFsLCBfcmVmMikge1xuICB2YXIgbWFya3MgPSBfcmVmMi5tYXJrcyxcbiAgICAgIHN0ZXAgPSBfcmVmMi5zdGVwLFxuICAgICAgbWluID0gX3JlZjIubWluO1xuXG4gIHZhciBwb2ludHMgPSBPYmplY3Qua2V5cyhtYXJrcykubWFwKHBhcnNlRmxvYXQpO1xuICBpZiAoc3RlcCAhPT0gbnVsbCkge1xuICAgIHZhciBjbG9zZXN0U3RlcCA9IE1hdGgucm91bmQoKHZhbCAtIG1pbikgLyBzdGVwKSAqIHN0ZXAgKyBtaW47XG4gICAgcG9pbnRzLnB1c2goY2xvc2VzdFN0ZXApO1xuICB9XG4gIHZhciBkaWZmcyA9IHBvaW50cy5tYXAoZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHZhbCAtIHBvaW50KTtcbiAgfSk7XG4gIHJldHVybiBwb2ludHNbZGlmZnMuaW5kZXhPZihNYXRoLm1pbi5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkoZGlmZnMpKSldO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlY2lzaW9uKHN0ZXApIHtcbiAgdmFyIHN0ZXBTdHJpbmcgPSBzdGVwLnRvU3RyaW5nKCk7XG4gIHZhciBwcmVjaXNpb24gPSAwO1xuICBpZiAoc3RlcFN0cmluZy5pbmRleE9mKCcuJykgPj0gMCkge1xuICAgIHByZWNpc2lvbiA9IHN0ZXBTdHJpbmcubGVuZ3RoIC0gc3RlcFN0cmluZy5pbmRleE9mKCcuJykgLSAxO1xuICB9XG4gIHJldHVybiBwcmVjaXNpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb3VzZVBvc2l0aW9uKHZlcnRpY2FsLCBlKSB7XG4gIHJldHVybiB2ZXJ0aWNhbCA/IGUuY2xpZW50WSA6IGUucGFnZVg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3VjaFBvc2l0aW9uKHZlcnRpY2FsLCBlKSB7XG4gIHJldHVybiB2ZXJ0aWNhbCA/IGUudG91Y2hlc1swXS5jbGllbnRZIDogZS50b3VjaGVzWzBdLnBhZ2VYO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGFuZGxlQ2VudGVyUG9zaXRpb24odmVydGljYWwsIGhhbmRsZSkge1xuICB2YXIgY29vcmRzID0gaGFuZGxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXR1cm4gdmVydGljYWwgPyBjb29yZHMudG9wICsgY29vcmRzLmhlaWdodCAqIDAuNSA6IGNvb3Jkcy5sZWZ0ICsgY29vcmRzLndpZHRoICogMC41O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlVmFsdWVJblJhbmdlKHZhbCwgX3JlZjMpIHtcbiAgdmFyIG1heCA9IF9yZWYzLm1heCxcbiAgICAgIG1pbiA9IF9yZWYzLm1pbjtcblxuICBpZiAodmFsIDw9IG1pbikge1xuICAgIHJldHVybiBtaW47XG4gIH1cbiAgaWYgKHZhbCA+PSBtYXgpIHtcbiAgICByZXR1cm4gbWF4O1xuICB9XG4gIHJldHVybiB2YWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVWYWx1ZVByZWNpc2lvbih2YWwsIHByb3BzKSB7XG4gIHZhciBzdGVwID0gcHJvcHMuc3RlcDtcblxuICB2YXIgY2xvc2VzdFBvaW50ID0gZ2V0Q2xvc2VzdFBvaW50KHZhbCwgcHJvcHMpO1xuICByZXR1cm4gc3RlcCA9PT0gbnVsbCA/IGNsb3Nlc3RQb2ludCA6IHBhcnNlRmxvYXQoY2xvc2VzdFBvaW50LnRvRml4ZWQoZ2V0UHJlY2lzaW9uKHN0ZXApKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXVzZUV2ZW50KGUpIHtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufSIsImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9nZXQgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCc7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBhZGRFdmVudExpc3RlbmVyIGZyb20gJ3JjLXV0aWwvZXMvRG9tL2FkZEV2ZW50TGlzdGVuZXInO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgd2FybmluZyBmcm9tICd3YXJuaW5nJztcbmltcG9ydCBTdGVwcyBmcm9tICcuL1N0ZXBzJztcbmltcG9ydCBNYXJrcyBmcm9tICcuL01hcmtzJztcbmltcG9ydCBIYW5kbGUgZnJvbSAnLi4vSGFuZGxlJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4uL3V0aWxzJztcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVNsaWRlcihDb21wb25lbnQpIHtcbiAgdmFyIF9jbGFzcywgX3RlbXA7XG5cbiAgcmV0dXJuIF90ZW1wID0gX2NsYXNzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQ29tcG9uZW50RW5oYW5jZXIsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQ29tcG9uZW50RW5oYW5jZXIocHJvcHMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wb25lbnRFbmhhbmNlcik7XG5cbiAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDb21wb25lbnRFbmhhbmNlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENvbXBvbmVudEVuaGFuY2VyKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICBfdGhpcy5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpc1ZlcnRpY2FsID0gX3RoaXMucHJvcHMudmVydGljYWw7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHV0aWxzLmdldE1vdXNlUG9zaXRpb24oaXNWZXJ0aWNhbCwgZSk7XG4gICAgICAgIGlmICghdXRpbHMuaXNFdmVudEZyb21IYW5kbGUoZSwgX3RoaXMuaGFuZGxlc1JlZnMpKSB7XG4gICAgICAgICAgX3RoaXMuZHJhZ09mZnNldCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGhhbmRsZVBvc2l0aW9uID0gdXRpbHMuZ2V0SGFuZGxlQ2VudGVyUG9zaXRpb24oaXNWZXJ0aWNhbCwgZS50YXJnZXQpO1xuICAgICAgICAgIF90aGlzLmRyYWdPZmZzZXQgPSBwb3NpdGlvbiAtIGhhbmRsZVBvc2l0aW9uO1xuICAgICAgICAgIHBvc2l0aW9uID0gaGFuZGxlUG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMub25TdGFydChwb3NpdGlvbik7XG4gICAgICAgIF90aGlzLmFkZERvY3VtZW50TW91c2VFdmVudHMoKTtcbiAgICAgICAgdXRpbHMucGF1c2VFdmVudChlKTtcbiAgICAgIH07XG5cbiAgICAgIF90aGlzLm9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICh1dGlscy5pc05vdFRvdWNoRXZlbnQoZSkpIHJldHVybjtcblxuICAgICAgICB2YXIgaXNWZXJ0aWNhbCA9IF90aGlzLnByb3BzLnZlcnRpY2FsO1xuICAgICAgICB2YXIgcG9zaXRpb24gPSB1dGlscy5nZXRUb3VjaFBvc2l0aW9uKGlzVmVydGljYWwsIGUpO1xuICAgICAgICBpZiAoIXV0aWxzLmlzRXZlbnRGcm9tSGFuZGxlKGUsIF90aGlzLmhhbmRsZXNSZWZzKSkge1xuICAgICAgICAgIF90aGlzLmRyYWdPZmZzZXQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBoYW5kbGVQb3NpdGlvbiA9IHV0aWxzLmdldEhhbmRsZUNlbnRlclBvc2l0aW9uKGlzVmVydGljYWwsIGUudGFyZ2V0KTtcbiAgICAgICAgICBfdGhpcy5kcmFnT2Zmc2V0ID0gcG9zaXRpb24gLSBoYW5kbGVQb3NpdGlvbjtcbiAgICAgICAgICBwb3NpdGlvbiA9IGhhbmRsZVBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLm9uU3RhcnQocG9zaXRpb24pO1xuICAgICAgICBfdGhpcy5hZGREb2N1bWVudFRvdWNoRXZlbnRzKCk7XG4gICAgICAgIHV0aWxzLnBhdXNlRXZlbnQoZSk7XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghX3RoaXMuc2xpZGVyUmVmKSB7XG4gICAgICAgICAgX3RoaXMub25FbmQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdXRpbHMuZ2V0TW91c2VQb3NpdGlvbihfdGhpcy5wcm9wcy52ZXJ0aWNhbCwgZSk7XG4gICAgICAgIF90aGlzLm9uTW92ZShlLCBwb3NpdGlvbiAtIF90aGlzLmRyYWdPZmZzZXQpO1xuICAgICAgfTtcblxuICAgICAgX3RoaXMub25Ub3VjaE1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAodXRpbHMuaXNOb3RUb3VjaEV2ZW50KGUpIHx8ICFfdGhpcy5zbGlkZXJSZWYpIHtcbiAgICAgICAgICBfdGhpcy5vbkVuZCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHV0aWxzLmdldFRvdWNoUG9zaXRpb24oX3RoaXMucHJvcHMudmVydGljYWwsIGUpO1xuICAgICAgICBfdGhpcy5vbk1vdmUoZSwgcG9zaXRpb24gLSBfdGhpcy5kcmFnT2Zmc2V0KTtcbiAgICAgIH07XG5cbiAgICAgIF90aGlzLnNhdmVTbGlkZXIgPSBmdW5jdGlvbiAoc2xpZGVyKSB7XG4gICAgICAgIF90aGlzLnNsaWRlclJlZiA9IHNsaWRlcjtcbiAgICAgIH07XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciBzdGVwID0gcHJvcHMuc3RlcCxcbiAgICAgICAgICAgIG1heCA9IHByb3BzLm1heCxcbiAgICAgICAgICAgIG1pbiA9IHByb3BzLm1pbjtcblxuICAgICAgICB3YXJuaW5nKHN0ZXAgJiYgTWF0aC5mbG9vcihzdGVwKSA9PT0gc3RlcCA/IChtYXggLSBtaW4pICUgc3RlcCA9PT0gMCA6IHRydWUsICdTbGlkZXJbbWF4XSAtIFNsaWRlclttaW5dICglcykgc2hvdWxkIGJlIGEgbXVsdGlwbGUgb2YgU2xpZGVyW3N0ZXBdICglcyknLCBtYXggLSBtaW4sIHN0ZXApO1xuICAgICAgfVxuICAgICAgX3RoaXMuaGFuZGxlc1JlZnMgPSB7fTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ29tcG9uZW50RW5oYW5jZXIsIFt7XG4gICAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmIChfZ2V0KENvbXBvbmVudEVuaGFuY2VyLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENvbXBvbmVudEVuaGFuY2VyLnByb3RvdHlwZSksICdjb21wb25lbnRXaWxsVW5tb3VudCcsIHRoaXMpKSBfZ2V0KENvbXBvbmVudEVuaGFuY2VyLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENvbXBvbmVudEVuaGFuY2VyLnByb3RvdHlwZSksICdjb21wb25lbnRXaWxsVW5tb3VudCcsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMucmVtb3ZlRG9jdW1lbnRFdmVudHMoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdhZGREb2N1bWVudFRvdWNoRXZlbnRzJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGREb2N1bWVudFRvdWNoRXZlbnRzKCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Ub3VjaE1vdmVMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlKTtcbiAgICAgICAgdGhpcy5vblRvdWNoVXBMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMub25FbmQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2FkZERvY3VtZW50TW91c2VFdmVudHMnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZERvY3VtZW50TW91c2VFdmVudHMoKSB7XG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmVMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICAgICAgdGhpcy5vbk1vdXNlVXBMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5vbkVuZCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAncmVtb3ZlRG9jdW1lbnRFdmVudHMnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZURvY3VtZW50RXZlbnRzKCkge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5vblRvdWNoTW92ZUxpc3RlbmVyICYmIHRoaXMub25Ub3VjaE1vdmVMaXN0ZW5lci5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5vblRvdWNoVXBMaXN0ZW5lciAmJiB0aGlzLm9uVG91Y2hVcExpc3RlbmVyLnJlbW92ZSgpO1xuXG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmVMaXN0ZW5lciAmJiB0aGlzLm9uTW91c2VNb3ZlTGlzdGVuZXIucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMub25Nb3VzZVVwTGlzdGVuZXIgJiYgdGhpcy5vbk1vdXNlVXBMaXN0ZW5lci5yZW1vdmUoKTtcbiAgICAgICAgXG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnZ2V0U2xpZGVyU3RhcnQnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNsaWRlclN0YXJ0KCkge1xuICAgICAgICB2YXIgc2xpZGVyID0gdGhpcy5zbGlkZXJSZWY7XG4gICAgICAgIHZhciByZWN0ID0gc2xpZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnZlcnRpY2FsID8gcmVjdC50b3AgOiByZWN0LmxlZnQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnZ2V0U2xpZGVyTGVuZ3RoJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTbGlkZXJMZW5ndGgoKSB7XG4gICAgICAgIHZhciBzbGlkZXIgPSB0aGlzLnNsaWRlclJlZjtcbiAgICAgICAgaWYgKCFzbGlkZXIpIHtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb29yZHMgPSBzbGlkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnZlcnRpY2FsID8gY29vcmRzLmhlaWdodCA6IGNvb3Jkcy53aWR0aDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdjYWxjVmFsdWUnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGNWYWx1ZShvZmZzZXQpIHtcbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICB2ZXJ0aWNhbCA9IF9wcm9wcy52ZXJ0aWNhbCxcbiAgICAgICAgICAgIG1pbiA9IF9wcm9wcy5taW4sXG4gICAgICAgICAgICBtYXggPSBfcHJvcHMubWF4O1xuXG4gICAgICAgIHZhciByYXRpbyA9IE1hdGguYWJzKE1hdGgubWF4KG9mZnNldCwgMCkgLyB0aGlzLmdldFNsaWRlckxlbmd0aCgpKTtcbiAgICAgICAgdmFyIHZhbHVlID0gdmVydGljYWwgPyAoMSAtIHJhdGlvKSAqIChtYXggLSBtaW4pICsgbWluIDogcmF0aW8gKiAobWF4IC0gbWluKSArIG1pbjtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2NhbGNWYWx1ZUJ5UG9zJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjVmFsdWVCeVBvcyhwb3NpdGlvbikge1xuICAgICAgICB2YXIgcGl4ZWxPZmZzZXQgPSBwb3NpdGlvbiAtIHRoaXMuZ2V0U2xpZGVyU3RhcnQoKTtcbiAgICAgICAgdmFyIG5leHRWYWx1ZSA9IHRoaXMudHJpbUFsaWduVmFsdWUodGhpcy5jYWxjVmFsdWUocGl4ZWxPZmZzZXQpKTtcbiAgICAgICAgcmV0dXJuIG5leHRWYWx1ZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdjYWxjT2Zmc2V0JyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjT2Zmc2V0KHZhbHVlKSB7XG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIG1pbiA9IF9wcm9wczIubWluLFxuICAgICAgICAgICAgbWF4ID0gX3Byb3BzMi5tYXg7XG5cbiAgICAgICAgdmFyIHJhdGlvID0gKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pO1xuICAgICAgICByZXR1cm4gcmF0aW8gKiAxMDA7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnc2F2ZUhhbmRsZScsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUhhbmRsZShpbmRleCwgaGFuZGxlKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlc1JlZnNbaW5kZXhdID0gaGFuZGxlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMy5wcmVmaXhDbHMsXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIG1hcmtzID0gX3Byb3BzMy5tYXJrcyxcbiAgICAgICAgICAgIGRvdHMgPSBfcHJvcHMzLmRvdHMsXG4gICAgICAgICAgICBzdGVwID0gX3Byb3BzMy5zdGVwLFxuICAgICAgICAgICAgaW5jbHVkZWQgPSBfcHJvcHMzLmluY2x1ZGVkLFxuICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMzLmRpc2FibGVkLFxuICAgICAgICAgICAgdmVydGljYWwgPSBfcHJvcHMzLnZlcnRpY2FsLFxuICAgICAgICAgICAgbWluID0gX3Byb3BzMy5taW4sXG4gICAgICAgICAgICBtYXggPSBfcHJvcHMzLm1heCxcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzMy5jaGlsZHJlbixcbiAgICAgICAgICAgIG1heGltdW1UcmFja1N0eWxlID0gX3Byb3BzMy5tYXhpbXVtVHJhY2tTdHlsZSxcbiAgICAgICAgICAgIHN0eWxlID0gX3Byb3BzMy5zdHlsZSxcbiAgICAgICAgICAgIHJhaWxTdHlsZSA9IF9wcm9wczMucmFpbFN0eWxlLFxuICAgICAgICAgICAgZG90U3R5bGUgPSBfcHJvcHMzLmRvdFN0eWxlLFxuICAgICAgICAgICAgYWN0aXZlRG90U3R5bGUgPSBfcHJvcHMzLmFjdGl2ZURvdFN0eWxlO1xuXG4gICAgICAgIHZhciBfZ2V0JGNhbGwgPSBfZ2V0KENvbXBvbmVudEVuaGFuY2VyLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENvbXBvbmVudEVuaGFuY2VyLnByb3RvdHlwZSksICdyZW5kZXInLCB0aGlzKS5jYWxsKHRoaXMpLFxuICAgICAgICAgICAgdHJhY2tzID0gX2dldCRjYWxsLnRyYWNrcyxcbiAgICAgICAgICAgIGhhbmRsZXMgPSBfZ2V0JGNhbGwuaGFuZGxlcztcblxuICAgICAgICB2YXIgc2xpZGVyQ2xhc3NOYW1lID0gY2xhc3NOYW1lcyhwcmVmaXhDbHMsIChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd2l0aC1tYXJrcycsIE9iamVjdC5rZXlzKG1hcmtzKS5sZW5ndGgpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy12ZXJ0aWNhbCcsIHZlcnRpY2FsKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBjbGFzc05hbWUsIGNsYXNzTmFtZSksIF9jbGFzc05hbWVzKSk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlZjogdGhpcy5zYXZlU2xpZGVyLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBzbGlkZXJDbGFzc05hbWUsXG4gICAgICAgICAgICBvblRvdWNoU3RhcnQ6IGRpc2FibGVkID8gbm9vcCA6IHRoaXMub25Ub3VjaFN0YXJ0LFxuICAgICAgICAgICAgb25Nb3VzZURvd246IGRpc2FibGVkID8gbm9vcCA6IHRoaXMub25Nb3VzZURvd24sXG4gICAgICAgICAgICBzdHlsZTogc3R5bGVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1yYWlsJyxcbiAgICAgICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgbWF4aW11bVRyYWNrU3R5bGUsIHJhaWxTdHlsZSlcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB0cmFja3MsXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTdGVwcywge1xuICAgICAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWwsXG4gICAgICAgICAgICBtYXJrczogbWFya3MsXG4gICAgICAgICAgICBkb3RzOiBkb3RzLFxuICAgICAgICAgICAgc3RlcDogc3RlcCxcbiAgICAgICAgICAgIGluY2x1ZGVkOiBpbmNsdWRlZCxcbiAgICAgICAgICAgIGxvd2VyQm91bmQ6IHRoaXMuZ2V0TG93ZXJCb3VuZCgpLFxuICAgICAgICAgICAgdXBwZXJCb3VuZDogdGhpcy5nZXRVcHBlckJvdW5kKCksXG4gICAgICAgICAgICBtYXg6IG1heCxcbiAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgZG90U3R5bGU6IGRvdFN0eWxlLFxuICAgICAgICAgICAgYWN0aXZlRG90U3R5bGU6IGFjdGl2ZURvdFN0eWxlXG4gICAgICAgICAgfSksXG4gICAgICAgICAgaGFuZGxlcyxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE1hcmtzLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctbWFyaycsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWwsXG4gICAgICAgICAgICBtYXJrczogbWFya3MsXG4gICAgICAgICAgICBpbmNsdWRlZDogaW5jbHVkZWQsXG4gICAgICAgICAgICBsb3dlckJvdW5kOiB0aGlzLmdldExvd2VyQm91bmQoKSxcbiAgICAgICAgICAgIHVwcGVyQm91bmQ6IHRoaXMuZ2V0VXBwZXJCb3VuZCgpLFxuICAgICAgICAgICAgbWF4OiBtYXgsXG4gICAgICAgICAgICBtaW46IG1pblxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbXBvbmVudEVuaGFuY2VyO1xuICB9KENvbXBvbmVudCksIF9jbGFzcy5kaXNwbGF5TmFtZSA9ICdDb21wb25lbnRFbmhhbmNlcignICsgQ29tcG9uZW50LmRpc3BsYXlOYW1lICsgJyknLCBfY2xhc3MucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIENvbXBvbmVudC5wcm9wVHlwZXMsIHtcbiAgICBtaW46IFByb3BUeXBlcy5udW1iZXIsXG4gICAgbWF4OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHN0ZXA6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgbWFya3M6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgaW5jbHVkZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBwcmVmaXhDbHM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMuYW55LFxuICAgIG9uQmVmb3JlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25BZnRlckNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgaGFuZGxlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBkb3RzOiBQcm9wVHlwZXMuYm9vbCxcbiAgICB2ZXJ0aWNhbDogUHJvcFR5cGVzLmJvb2wsXG4gICAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgbWluaW11bVRyYWNrU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsICAgICBtYXhpbXVtVHJhY2tTdHlsZTogUHJvcFR5cGVzLm9iamVjdCwgICAgIGhhbmRsZVN0eWxlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub2JqZWN0KV0pLFxuICAgIHRyYWNrU3R5bGU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vYmplY3QpXSksXG4gICAgcmFpbFN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGRvdFN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGFjdGl2ZURvdFN0eWxlOiBQcm9wVHlwZXMub2JqZWN0XG4gIH0pLCBfY2xhc3MuZGVmYXVsdFByb3BzID0gX2V4dGVuZHMoe30sIENvbXBvbmVudC5kZWZhdWx0UHJvcHMsIHtcbiAgICBwcmVmaXhDbHM6ICdyYy1zbGlkZXInLFxuICAgIGNsYXNzTmFtZTogJycsXG4gICAgbWluOiAwLFxuICAgIG1heDogMTAwLFxuICAgIHN0ZXA6IDEsXG4gICAgbWFya3M6IHt9LFxuICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKF9yZWYpIHtcbiAgICAgIHZhciBpbmRleCA9IF9yZWYuaW5kZXgsXG4gICAgICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsnaW5kZXgnXSk7XG5cbiAgICAgIGRlbGV0ZSByZXN0UHJvcHMuZHJhZ2dpbmc7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChIYW5kbGUsIF9leHRlbmRzKHt9LCByZXN0UHJvcHMsIHsga2V5OiBpbmRleCB9KSk7XG4gICAgfSxcblxuICAgIG9uQmVmb3JlQ2hhbmdlOiBub29wLFxuICAgIG9uQ2hhbmdlOiBub29wLFxuICAgIG9uQWZ0ZXJDaGFuZ2U6IG5vb3AsXG4gICAgaW5jbHVkZWQ6IHRydWUsXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICB0cmFja1N0eWxlOiBbe31dLFxuICAgIGhhbmRsZVN0eWxlOiBbe31dLFxuICAgIHJhaWxTdHlsZToge30sXG4gICAgZG90U3R5bGU6IHt9LFxuICAgIGFjdGl2ZURvdFN0eWxlOiB7fVxuICB9KSwgX3RlbXA7XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcm9wLXR5cGVzICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnO1xuaW1wb3J0IFRyYWNrIGZyb20gJy4vY29tbW9uL1RyYWNrJztcbmltcG9ydCBjcmVhdGVTbGlkZXIgZnJvbSAnLi9jb21tb24vY3JlYXRlU2xpZGVyJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuXG52YXIgU2xpZGVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFNsaWRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU2xpZGVyKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNsaWRlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2xpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2xpZGVyKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMub25FbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGRyYWdnaW5nOiBmYWxzZSB9KTtcbiAgICAgIF90aGlzLnJlbW92ZURvY3VtZW50RXZlbnRzKCk7XG4gICAgICBfdGhpcy5wcm9wcy5vbkFmdGVyQ2hhbmdlKF90aGlzLmdldFZhbHVlKCkpO1xuICAgIH07XG5cbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBwcm9wcy5kZWZhdWx0VmFsdWUgOiBwcm9wcy5taW47XG4gICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCA/IHByb3BzLnZhbHVlIDogZGVmYXVsdFZhbHVlO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogX3RoaXMudHJpbUFsaWduVmFsdWUodmFsdWUpLFxuICAgICAgZHJhZ2dpbmc6IGZhbHNlXG4gICAgfTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgd2FybmluZyghKCdtaW5pbXVtVHJhY2tTdHlsZScgaW4gcHJvcHMpLCAnbWluaW11bVRyYWNrU3R5bGUgd2lsbCBiZSBkZXByZWNhdGUsIHBsZWFzZSB1c2UgdHJhY2tTdHlsZSBpbnN0ZWFkLicpO1xuICAgICAgd2FybmluZyghKCdtYXhpbXVtVHJhY2tTdHlsZScgaW4gcHJvcHMpLCAnbWF4aW11bVRyYWNrU3R5bGUgd2lsbCBiZSBkZXByZWNhdGUsIHBsZWFzZSB1c2UgcmFpbFN0eWxlIGluc3RlYWQuJyk7XG4gICAgfVxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTbGlkZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAoISgndmFsdWUnIGluIG5leHRQcm9wcyB8fCAnbWluJyBpbiBuZXh0UHJvcHMgfHwgJ21heCcgaW4gbmV4dFByb3BzKSkgcmV0dXJuO1xuXG4gICAgICB2YXIgcHJldlZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkID8gbmV4dFByb3BzLnZhbHVlIDogcHJldlZhbHVlO1xuICAgICAgdmFyIG5leHRWYWx1ZSA9IHRoaXMudHJpbUFsaWduVmFsdWUodmFsdWUsIG5leHRQcm9wcyk7XG4gICAgICBpZiAobmV4dFZhbHVlID09PSBwcmV2VmFsdWUpIHJldHVybjtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiBuZXh0VmFsdWUgfSk7XG4gICAgICBpZiAodXRpbHMuaXNWYWx1ZU91dE9mUmFuZ2UodmFsdWUsIG5leHRQcm9wcykpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShuZXh0VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2Uoc3RhdGUpIHtcbiAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICB2YXIgaXNOb3RDb250cm9sbGVkID0gISgndmFsdWUnIGluIHByb3BzKTtcbiAgICAgIGlmIChpc05vdENvbnRyb2xsZWQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGFuZ2VkVmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICAgIHByb3BzLm9uQ2hhbmdlKGNoYW5nZWRWYWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25TdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3RhcnQocG9zaXRpb24pIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBkcmFnZ2luZzogdHJ1ZSB9KTtcbiAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICB2YXIgcHJldlZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpO1xuICAgICAgcHJvcHMub25CZWZvcmVDaGFuZ2UocHJldlZhbHVlKTtcblxuICAgICAgdmFyIHZhbHVlID0gdGhpcy5jYWxjVmFsdWVCeVBvcyhwb3NpdGlvbik7XG4gICAgICB0aGlzLnN0YXJ0VmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHBvc2l0aW9uO1xuXG4gICAgICBpZiAodmFsdWUgPT09IHByZXZWYWx1ZSkgcmV0dXJuO1xuXG4gICAgICB0aGlzLm9uQ2hhbmdlKHsgdmFsdWU6IHZhbHVlIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uTW92ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW92ZShlLCBwb3NpdGlvbikge1xuICAgICAgdXRpbHMucGF1c2VFdmVudChlKTtcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLmNhbGNWYWx1ZUJ5UG9zKHBvc2l0aW9uKTtcbiAgICAgIHZhciBvbGRWYWx1ZSA9IHN0YXRlLnZhbHVlO1xuICAgICAgaWYgKHZhbHVlID09PSBvbGRWYWx1ZSkgcmV0dXJuO1xuXG4gICAgICB0aGlzLm9uQ2hhbmdlKHsgdmFsdWU6IHZhbHVlIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFZhbHVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRMb3dlckJvdW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG93ZXJCb3VuZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm1pbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRVcHBlckJvdW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXBwZXJCb3VuZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLnZhbHVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RyaW1BbGlnblZhbHVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHJpbUFsaWduVmFsdWUodikge1xuICAgICAgdmFyIG5leHRQcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgIHZhciBtZXJnZWRQcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCBuZXh0UHJvcHMpO1xuICAgICAgdmFyIHZhbCA9IHV0aWxzLmVuc3VyZVZhbHVlSW5SYW5nZSh2LCBtZXJnZWRQcm9wcyk7XG4gICAgICByZXR1cm4gdXRpbHMuZW5zdXJlVmFsdWVQcmVjaXNpb24odmFsLCBtZXJnZWRQcm9wcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgdmVydGljYWwgPSBfcHJvcHMudmVydGljYWwsXG4gICAgICAgICAgaW5jbHVkZWQgPSBfcHJvcHMuaW5jbHVkZWQsXG4gICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgbWluaW11bVRyYWNrU3R5bGUgPSBfcHJvcHMubWluaW11bVRyYWNrU3R5bGUsXG4gICAgICAgICAgdHJhY2tTdHlsZSA9IF9wcm9wcy50cmFja1N0eWxlLFxuICAgICAgICAgIGhhbmRsZVN0eWxlID0gX3Byb3BzLmhhbmRsZVN0eWxlLFxuICAgICAgICAgIG1pbiA9IF9wcm9wcy5taW4sXG4gICAgICAgICAgbWF4ID0gX3Byb3BzLm1heCxcbiAgICAgICAgICBoYW5kbGVHZW5lcmF0b3IgPSBfcHJvcHMuaGFuZGxlO1xuICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgdmFsdWUgPSBfc3RhdGUudmFsdWUsXG4gICAgICAgICAgZHJhZ2dpbmcgPSBfc3RhdGUuZHJhZ2dpbmc7XG5cbiAgICAgIHZhciBvZmZzZXQgPSB0aGlzLmNhbGNPZmZzZXQodmFsdWUpO1xuICAgICAgdmFyIGhhbmRsZSA9IGhhbmRsZUdlbmVyYXRvcih7XG4gICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oYW5kbGUnLFxuICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWwsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGRyYWdnaW5nOiBkcmFnZ2luZyxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICBtaW46IG1pbixcbiAgICAgICAgbWF4OiBtYXgsXG4gICAgICAgIHN0eWxlOiBoYW5kbGVTdHlsZVswXSB8fCBoYW5kbGVTdHlsZSxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoaCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuc2F2ZUhhbmRsZSgwLCBoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBfdHJhY2tTdHlsZSA9IHRyYWNrU3R5bGVbMF0gfHwgdHJhY2tTdHlsZTtcbiAgICAgIHZhciB0cmFjayA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhY2ssIHtcbiAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRyYWNrJyxcbiAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsLFxuICAgICAgICBpbmNsdWRlZDogaW5jbHVkZWQsXG4gICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgbGVuZ3RoOiBvZmZzZXQsXG4gICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgbWluaW11bVRyYWNrU3R5bGUsIF90cmFja1N0eWxlKVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7IHRyYWNrczogdHJhY2ssIGhhbmRsZXM6IGhhbmRsZSB9O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTbGlkZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblNsaWRlci5wcm9wVHlwZXMgPSB7XG4gIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLm51bWJlcixcbiAgdmFsdWU6IFByb3BUeXBlcy5udW1iZXIsXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbFxufTtcblxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVTbGlkZXIoU2xpZGVyKTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJjU2xpZGVyIGZyb20gJ3JjLXNsaWRlci9lcy9TbGlkZXInO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIFNsaWRlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFNsaWRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBTbGlkZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTbGlkZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2xpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2xpZGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFNsaWRlciwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLnByZWZpeENscyArICctd3JhcHBlcicgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJjU2xpZGVyLCB0aGlzLnByb3BzKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTbGlkZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFNsaWRlcjtcblxuU2xpZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS1zbGlkZXInXG59OyIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5JztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcHJvcC10eXBlcyAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBzaGFsbG93RXF1YWwgZnJvbSAnc2hhbGxvd2VxdWFsJztcbmltcG9ydCBUcmFjayBmcm9tICcuL2NvbW1vbi9UcmFjayc7XG5pbXBvcnQgY3JlYXRlU2xpZGVyIGZyb20gJy4vY29tbW9uL2NyZWF0ZVNsaWRlcic7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL3V0aWxzJztcblxudmFyIFJhbmdlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFJhbmdlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSYW5nZShwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYW5nZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmFuZ2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSYW5nZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLm9uRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBoYW5kbGU6IG51bGwgfSk7XG4gICAgICBfdGhpcy5yZW1vdmVEb2N1bWVudEV2ZW50cygpO1xuICAgICAgX3RoaXMucHJvcHMub25BZnRlckNoYW5nZShfdGhpcy5nZXRWYWx1ZSgpKTtcbiAgICB9O1xuXG4gICAgdmFyIGNvdW50ID0gcHJvcHMuY291bnQsXG4gICAgICAgIG1pbiA9IHByb3BzLm1pbixcbiAgICAgICAgbWF4ID0gcHJvcHMubWF4O1xuXG4gICAgdmFyIGluaXRpYWxWYWx1ZSA9IEFycmF5LmFwcGx5KG51bGwsIEFycmF5KGNvdW50ICsgMSkpLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbWluO1xuICAgIH0pO1xuICAgIHZhciBkZWZhdWx0VmFsdWUgPSAnZGVmYXVsdFZhbHVlJyBpbiBwcm9wcyA/IHByb3BzLmRlZmF1bHRWYWx1ZSA6IGluaXRpYWxWYWx1ZTtcbiAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkID8gcHJvcHMudmFsdWUgOiBkZWZhdWx0VmFsdWU7XG4gICAgdmFyIGJvdW5kcyA9IHZhbHVlLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIF90aGlzLnRyaW1BbGlnblZhbHVlKHYpO1xuICAgIH0pO1xuICAgIHZhciByZWNlbnQgPSBib3VuZHNbMF0gPT09IG1heCA/IDAgOiBib3VuZHMubGVuZ3RoIC0gMTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaGFuZGxlOiBudWxsLFxuICAgICAgcmVjZW50OiByZWNlbnQsXG4gICAgICBib3VuZHM6IGJvdW5kc1xuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJhbmdlLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICghKCd2YWx1ZScgaW4gbmV4dFByb3BzIHx8ICdtaW4nIGluIG5leHRQcm9wcyB8fCAnbWF4JyBpbiBuZXh0UHJvcHMpKSByZXR1cm47XG4gICAgICBpZiAodGhpcy5wcm9wcy5taW4gPT09IG5leHRQcm9wcy5taW4gJiYgdGhpcy5wcm9wcy5tYXggPT09IG5leHRQcm9wcy5tYXggJiYgc2hhbGxvd0VxdWFsKHRoaXMucHJvcHMudmFsdWUsIG5leHRQcm9wcy52YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuc3RhdGUuYm91bmRzO1xuXG4gICAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHMudmFsdWUgfHwgYm91bmRzO1xuICAgICAgdmFyIG5leHRCb3VuZHMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi50cmltQWxpZ25WYWx1ZSh2LCBuZXh0UHJvcHMpO1xuICAgICAgfSk7XG4gICAgICBpZiAobmV4dEJvdW5kcy5sZW5ndGggPT09IGJvdW5kcy5sZW5ndGggJiYgbmV4dEJvdW5kcy5ldmVyeShmdW5jdGlvbiAodiwgaSkge1xuICAgICAgICByZXR1cm4gdiA9PT0gYm91bmRzW2ldO1xuICAgICAgfSkpIHJldHVybjtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGJvdW5kczogbmV4dEJvdW5kcyB9KTtcbiAgICAgIGlmIChib3VuZHMuc29tZShmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gdXRpbHMuaXNWYWx1ZU91dE9mUmFuZ2UodiwgbmV4dFByb3BzKTtcbiAgICAgIH0pKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UobmV4dEJvdW5kcyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25DaGFuZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZShzdGF0ZSkge1xuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHZhciBpc05vdENvbnRyb2xsZWQgPSAhKCd2YWx1ZScgaW4gcHJvcHMpO1xuICAgICAgaWYgKGlzTm90Q29udHJvbGxlZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuaGFuZGxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGhhbmRsZTogc3RhdGUuaGFuZGxlIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGF0YSA9IF9leHRlbmRzKHt9LCB0aGlzLnN0YXRlLCBzdGF0ZSk7XG4gICAgICB2YXIgY2hhbmdlZFZhbHVlID0gZGF0YS5ib3VuZHM7XG4gICAgICBwcm9wcy5vbkNoYW5nZShjaGFuZ2VkVmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uU3RhcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblN0YXJ0KHBvc2l0aW9uKSB7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldFZhbHVlKCk7XG4gICAgICBwcm9wcy5vbkJlZm9yZUNoYW5nZShib3VuZHMpO1xuXG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLmNhbGNWYWx1ZUJ5UG9zKHBvc2l0aW9uKTtcbiAgICAgIHRoaXMuc3RhcnRWYWx1ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gcG9zaXRpb247XG5cbiAgICAgIHZhciBjbG9zZXN0Qm91bmQgPSB0aGlzLmdldENsb3Nlc3RCb3VuZCh2YWx1ZSk7XG4gICAgICB2YXIgYm91bmROZWVkTW92aW5nID0gdGhpcy5nZXRCb3VuZE5lZWRNb3ZpbmcodmFsdWUsIGNsb3Nlc3RCb3VuZCk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBoYW5kbGU6IGJvdW5kTmVlZE1vdmluZyxcbiAgICAgICAgcmVjZW50OiBib3VuZE5lZWRNb3ZpbmdcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgcHJldlZhbHVlID0gYm91bmRzW2JvdW5kTmVlZE1vdmluZ107XG4gICAgICBpZiAodmFsdWUgPT09IHByZXZWYWx1ZSkgcmV0dXJuO1xuXG4gICAgICB2YXIgbmV4dEJvdW5kcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUuYm91bmRzKSk7XG4gICAgICBuZXh0Qm91bmRzW2JvdW5kTmVlZE1vdmluZ10gPSB2YWx1ZTtcbiAgICAgIHRoaXMub25DaGFuZ2UoeyBib3VuZHM6IG5leHRCb3VuZHMgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Nb3ZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3ZlKGUsIHBvc2l0aW9uKSB7XG4gICAgICB1dGlscy5wYXVzZUV2ZW50KGUpO1xuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY2FsY1ZhbHVlQnlQb3MocG9zaXRpb24pO1xuICAgICAgdmFyIG9sZFZhbHVlID0gc3RhdGUuYm91bmRzW3N0YXRlLmhhbmRsZV07XG4gICAgICBpZiAodmFsdWUgPT09IG9sZFZhbHVlKSByZXR1cm47XG5cbiAgICAgIHZhciBuZXh0Qm91bmRzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5ib3VuZHMpKTtcbiAgICAgIG5leHRCb3VuZHNbc3RhdGUuaGFuZGxlXSA9IHZhbHVlO1xuICAgICAgdmFyIG5leHRIYW5kbGUgPSBzdGF0ZS5oYW5kbGU7XG4gICAgICBpZiAocHJvcHMucHVzaGFibGUgIT09IGZhbHNlKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gc3RhdGUuYm91bmRzW25leHRIYW5kbGVdO1xuICAgICAgICB0aGlzLnB1c2hTdXJyb3VuZGluZ0hhbmRsZXMobmV4dEJvdW5kcywgbmV4dEhhbmRsZSwgb3JpZ2luYWxWYWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLmFsbG93Q3Jvc3MpIHtcbiAgICAgICAgbmV4dEJvdW5kcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGEgLSBiO1xuICAgICAgICB9KTtcbiAgICAgICAgbmV4dEhhbmRsZSA9IG5leHRCb3VuZHMuaW5kZXhPZih2YWx1ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLm9uQ2hhbmdlKHtcbiAgICAgICAgaGFuZGxlOiBuZXh0SGFuZGxlLFxuICAgICAgICBib3VuZHM6IG5leHRCb3VuZHNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFZhbHVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ib3VuZHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q2xvc2VzdEJvdW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2xvc2VzdEJvdW5kKHZhbHVlKSB7XG4gICAgICB2YXIgYm91bmRzID0gdGhpcy5zdGF0ZS5ib3VuZHM7XG5cbiAgICAgIHZhciBjbG9zZXN0Qm91bmQgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBib3VuZHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIGlmICh2YWx1ZSA+IGJvdW5kc1tpXSkge1xuICAgICAgICAgIGNsb3Nlc3RCb3VuZCA9IGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChNYXRoLmFicyhib3VuZHNbY2xvc2VzdEJvdW5kICsgMV0gLSB2YWx1ZSkgPCBNYXRoLmFicyhib3VuZHNbY2xvc2VzdEJvdW5kXSAtIHZhbHVlKSkge1xuICAgICAgICBjbG9zZXN0Qm91bmQgPSBjbG9zZXN0Qm91bmQgKyAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNsb3Nlc3RCb3VuZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRCb3VuZE5lZWRNb3ZpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCb3VuZE5lZWRNb3ZpbmcodmFsdWUsIGNsb3Nlc3RCb3VuZCkge1xuICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgYm91bmRzID0gX3N0YXRlLmJvdW5kcyxcbiAgICAgICAgICByZWNlbnQgPSBfc3RhdGUucmVjZW50O1xuXG4gICAgICB2YXIgYm91bmROZWVkTW92aW5nID0gY2xvc2VzdEJvdW5kO1xuICAgICAgdmFyIGlzQXRUaGVTYW1lUG9pbnQgPSBib3VuZHNbY2xvc2VzdEJvdW5kICsgMV0gPT09IGJvdW5kc1tjbG9zZXN0Qm91bmRdO1xuICAgICAgaWYgKGlzQXRUaGVTYW1lUG9pbnQpIHtcbiAgICAgICAgYm91bmROZWVkTW92aW5nID0gcmVjZW50O1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNBdFRoZVNhbWVQb2ludCAmJiB2YWx1ZSAhPT0gYm91bmRzW2Nsb3Nlc3RCb3VuZCArIDFdKSB7XG4gICAgICAgIGJvdW5kTmVlZE1vdmluZyA9IHZhbHVlIDwgYm91bmRzW2Nsb3Nlc3RCb3VuZCArIDFdID8gY2xvc2VzdEJvdW5kIDogY2xvc2VzdEJvdW5kICsgMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBib3VuZE5lZWRNb3Zpbmc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TG93ZXJCb3VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvd2VyQm91bmQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ib3VuZHNbMF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0VXBwZXJCb3VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVwcGVyQm91bmQoKSB7XG4gICAgICB2YXIgYm91bmRzID0gdGhpcy5zdGF0ZS5ib3VuZHM7XG5cbiAgICAgIHJldHVybiBib3VuZHNbYm91bmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgcG9zc2libGUgc2xpZGVyIHBvaW50cywgdGFraW5nIGludG8gYWNjb3VudCBib3RoXG4gICAgICogYG1hcmtzYCBhbmQgYHN0ZXBgLiBUaGUgcmVzdWx0IGlzIGNhY2hlZC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0UG9pbnRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UG9pbnRzKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgbWFya3MgPSBfcHJvcHMubWFya3MsXG4gICAgICAgICAgc3RlcCA9IF9wcm9wcy5zdGVwLFxuICAgICAgICAgIG1pbiA9IF9wcm9wcy5taW4sXG4gICAgICAgICAgbWF4ID0gX3Byb3BzLm1heDtcblxuICAgICAgdmFyIGNhY2hlID0gdGhpcy5fZ2V0UG9pbnRzQ2FjaGU7XG4gICAgICBpZiAoIWNhY2hlIHx8IGNhY2hlLm1hcmtzICE9PSBtYXJrcyB8fCBjYWNoZS5zdGVwICE9PSBzdGVwKSB7XG4gICAgICAgIHZhciBwb2ludHNPYmplY3QgPSBfZXh0ZW5kcyh7fSwgbWFya3MpO1xuICAgICAgICBpZiAoc3RlcCAhPT0gbnVsbCkge1xuICAgICAgICAgIGZvciAodmFyIHBvaW50ID0gbWluOyBwb2ludCA8PSBtYXg7IHBvaW50ICs9IHN0ZXApIHtcbiAgICAgICAgICAgIHBvaW50c09iamVjdFtwb2ludF0gPSBwb2ludDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvaW50cyA9IE9iamVjdC5rZXlzKHBvaW50c09iamVjdCkubWFwKHBhcnNlRmxvYXQpO1xuICAgICAgICBwb2ludHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgIHJldHVybiBhIC0gYjtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2dldFBvaW50c0NhY2hlID0geyBtYXJrczogbWFya3MsIHN0ZXA6IHN0ZXAsIHBvaW50czogcG9pbnRzIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0UG9pbnRzQ2FjaGUucG9pbnRzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3B1c2hTdXJyb3VuZGluZ0hhbmRsZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwdXNoU3Vycm91bmRpbmdIYW5kbGVzKGJvdW5kcywgaGFuZGxlLCBvcmlnaW5hbFZhbHVlKSB7XG4gICAgICB2YXIgdGhyZXNob2xkID0gdGhpcy5wcm9wcy5wdXNoYWJsZTtcblxuICAgICAgdmFyIHZhbHVlID0gYm91bmRzW2hhbmRsZV07XG5cbiAgICAgIHZhciBkaXJlY3Rpb24gPSAwO1xuICAgICAgaWYgKGJvdW5kc1toYW5kbGUgKyAxXSAtIHZhbHVlIDwgdGhyZXNob2xkKSB7XG4gICAgICAgIGRpcmVjdGlvbiA9ICsxOyAvLyBwdXNoIHRvIHJpZ2h0XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgLSBib3VuZHNbaGFuZGxlIC0gMV0gPCB0aHJlc2hvbGQpIHtcbiAgICAgICAgZGlyZWN0aW9uID0gLTE7IC8vIHB1c2ggdG8gbGVmdFxuICAgICAgfVxuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG5leHRIYW5kbGUgPSBoYW5kbGUgKyBkaXJlY3Rpb247XG4gICAgICB2YXIgZGlmZlRvTmV4dCA9IGRpcmVjdGlvbiAqIChib3VuZHNbbmV4dEhhbmRsZV0gLSB2YWx1ZSk7XG4gICAgICBpZiAoIXRoaXMucHVzaEhhbmRsZShib3VuZHMsIG5leHRIYW5kbGUsIGRpcmVjdGlvbiwgdGhyZXNob2xkIC0gZGlmZlRvTmV4dCkpIHtcbiAgICAgICAgLy8gcmV2ZXJ0IHRvIG9yaWdpbmFsIHZhbHVlIGlmIHB1c2hpbmcgaXMgaW1wb3NzaWJsZVxuICAgICAgICBib3VuZHNbaGFuZGxlXSA9IG9yaWdpbmFsVmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncHVzaEhhbmRsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHB1c2hIYW5kbGUoYm91bmRzLCBoYW5kbGUsIGRpcmVjdGlvbiwgYW1vdW50KSB7XG4gICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGJvdW5kc1toYW5kbGVdO1xuICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IGJvdW5kc1toYW5kbGVdO1xuICAgICAgd2hpbGUgKGRpcmVjdGlvbiAqIChjdXJyZW50VmFsdWUgLSBvcmlnaW5hbFZhbHVlKSA8IGFtb3VudCkge1xuICAgICAgICBpZiAoIXRoaXMucHVzaEhhbmRsZU9uZVBvaW50KGJvdW5kcywgaGFuZGxlLCBkaXJlY3Rpb24pKSB7XG4gICAgICAgICAgLy8gY2FuJ3QgcHVzaCBoYW5kbGUgZW5vdWdoIHRvIGNyZWF0ZSB0aGUgbmVlZGVkIGBhbW91bnRgIGdhcCwgc28gd2VcbiAgICAgICAgICAvLyByZXZlcnQgaXRzIHBvc2l0aW9uIHRvIHRoZSBvcmlnaW5hbCB2YWx1ZVxuICAgICAgICAgIGJvdW5kc1toYW5kbGVdID0gb3JpZ2luYWxWYWx1ZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFZhbHVlID0gYm91bmRzW2hhbmRsZV07XG4gICAgICB9XG4gICAgICAvLyB0aGUgaGFuZGxlIHdhcyBwdXNoZWQgZW5vdWdoIHRvIGNyZWF0ZSB0aGUgbmVlZGVkIGBhbW91bnRgIGdhcFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncHVzaEhhbmRsZU9uZVBvaW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaEhhbmRsZU9uZVBvaW50KGJvdW5kcywgaGFuZGxlLCBkaXJlY3Rpb24pIHtcbiAgICAgIHZhciBwb2ludHMgPSB0aGlzLmdldFBvaW50cygpO1xuICAgICAgdmFyIHBvaW50SW5kZXggPSBwb2ludHMuaW5kZXhPZihib3VuZHNbaGFuZGxlXSk7XG4gICAgICB2YXIgbmV4dFBvaW50SW5kZXggPSBwb2ludEluZGV4ICsgZGlyZWN0aW9uO1xuICAgICAgaWYgKG5leHRQb2ludEluZGV4ID49IHBvaW50cy5sZW5ndGggfHwgbmV4dFBvaW50SW5kZXggPCAwKSB7XG4gICAgICAgIC8vIHJlYWNoZWQgdGhlIG1pbmltdW0gb3IgbWF4aW11bSBhdmFpbGFibGUgcG9pbnQsIGNhbid0IHB1c2ggYW55bW9yZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgbmV4dEhhbmRsZSA9IGhhbmRsZSArIGRpcmVjdGlvbjtcbiAgICAgIHZhciBuZXh0VmFsdWUgPSBwb2ludHNbbmV4dFBvaW50SW5kZXhdO1xuICAgICAgdmFyIHRocmVzaG9sZCA9IHRoaXMucHJvcHMucHVzaGFibGU7XG5cbiAgICAgIHZhciBkaWZmVG9OZXh0ID0gZGlyZWN0aW9uICogKGJvdW5kc1tuZXh0SGFuZGxlXSAtIG5leHRWYWx1ZSk7XG4gICAgICBpZiAoIXRoaXMucHVzaEhhbmRsZShib3VuZHMsIG5leHRIYW5kbGUsIGRpcmVjdGlvbiwgdGhyZXNob2xkIC0gZGlmZlRvTmV4dCkpIHtcbiAgICAgICAgLy8gY291bGRuJ3QgcHVzaCBuZXh0IGhhbmRsZSwgc28gd2Ugd29uJ3QgcHVzaCB0aGlzIG9uZSBlaXRoZXJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gcHVzaCB0aGUgaGFuZGxlXG4gICAgICBib3VuZHNbaGFuZGxlXSA9IG5leHRWYWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RyaW1BbGlnblZhbHVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHJpbUFsaWduVmFsdWUodikge1xuICAgICAgdmFyIG5leHRQcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgIHZhciBtZXJnZWRQcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCBuZXh0UHJvcHMpO1xuICAgICAgdmFyIHZhbEluUmFuZ2UgPSB1dGlscy5lbnN1cmVWYWx1ZUluUmFuZ2UodiwgbWVyZ2VkUHJvcHMpO1xuICAgICAgdmFyIHZhbE5vdENvbmZsaWN0ID0gdGhpcy5lbnN1cmVWYWx1ZU5vdENvbmZsaWN0KHZhbEluUmFuZ2UsIG1lcmdlZFByb3BzKTtcbiAgICAgIHJldHVybiB1dGlscy5lbnN1cmVWYWx1ZVByZWNpc2lvbih2YWxOb3RDb25mbGljdCwgbWVyZ2VkUHJvcHMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Vuc3VyZVZhbHVlTm90Q29uZmxpY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbnN1cmVWYWx1ZU5vdENvbmZsaWN0KHZhbCwgX3JlZikge1xuICAgICAgdmFyIGFsbG93Q3Jvc3MgPSBfcmVmLmFsbG93Q3Jvc3M7XG5cbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUgfHwge307XG4gICAgICB2YXIgaGFuZGxlID0gc3RhdGUuaGFuZGxlLFxuICAgICAgICAgIGJvdW5kcyA9IHN0YXRlLmJvdW5kcztcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqL1xuXG4gICAgICBpZiAoIWFsbG93Q3Jvc3MgJiYgaGFuZGxlICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGhhbmRsZSA+IDAgJiYgdmFsIDw9IGJvdW5kc1toYW5kbGUgLSAxXSkge1xuICAgICAgICAgIHJldHVybiBib3VuZHNbaGFuZGxlIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZSA8IGJvdW5kcy5sZW5ndGggLSAxICYmIHZhbCA+PSBib3VuZHNbaGFuZGxlICsgMV0pIHtcbiAgICAgICAgICByZXR1cm4gYm91bmRzW2hhbmRsZSArIDFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIGVxZXFlcSAqL1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIF9zdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGhhbmRsZSA9IF9zdGF0ZTIuaGFuZGxlLFxuICAgICAgICAgIGJvdW5kcyA9IF9zdGF0ZTIuYm91bmRzO1xuICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuICAgICAgICAgIHZlcnRpY2FsID0gX3Byb3BzMi52ZXJ0aWNhbCxcbiAgICAgICAgICBpbmNsdWRlZCA9IF9wcm9wczIuaW5jbHVkZWQsXG4gICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMyLmRpc2FibGVkLFxuICAgICAgICAgIG1pbiA9IF9wcm9wczIubWluLFxuICAgICAgICAgIG1heCA9IF9wcm9wczIubWF4LFxuICAgICAgICAgIGhhbmRsZUdlbmVyYXRvciA9IF9wcm9wczIuaGFuZGxlLFxuICAgICAgICAgIHRyYWNrU3R5bGUgPSBfcHJvcHMyLnRyYWNrU3R5bGUsXG4gICAgICAgICAgaGFuZGxlU3R5bGUgPSBfcHJvcHMyLmhhbmRsZVN0eWxlO1xuXG5cbiAgICAgIHZhciBvZmZzZXRzID0gYm91bmRzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gX3RoaXMzLmNhbGNPZmZzZXQodik7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGhhbmRsZUNsYXNzTmFtZSA9IHByZWZpeENscyArICctaGFuZGxlJztcbiAgICAgIHZhciBoYW5kbGVzID0gYm91bmRzLm1hcChmdW5jdGlvbiAodiwgaSkge1xuICAgICAgICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgICAgICAgcmV0dXJuIGhhbmRsZUdlbmVyYXRvcih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIGhhbmRsZUNsYXNzTmFtZSwgdHJ1ZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgaGFuZGxlQ2xhc3NOYW1lICsgJy0nICsgKGkgKyAxKSwgdHJ1ZSksIF9jbGFzc05hbWVzKSksXG4gICAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsLFxuICAgICAgICAgIG9mZnNldDogb2Zmc2V0c1tpXSxcbiAgICAgICAgICB2YWx1ZTogdixcbiAgICAgICAgICBkcmFnZ2luZzogaGFuZGxlID09PSBpLFxuICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgIG1heDogbWF4LFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBzdHlsZTogaGFuZGxlU3R5bGVbaV0sXG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoaCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zYXZlSGFuZGxlKGksIGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHRyYWNrcyA9IGJvdW5kcy5zbGljZSgwLCAtMSkubWFwKGZ1bmN0aW9uIChfLCBpbmRleCkge1xuICAgICAgICB2YXIgX2NsYXNzTmFtZXMyO1xuXG4gICAgICAgIHZhciBpID0gaW5kZXggKyAxO1xuICAgICAgICB2YXIgdHJhY2tDbGFzc05hbWUgPSBjbGFzc05hbWVzKChfY2xhc3NOYW1lczIgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzMiwgcHJlZml4Q2xzICsgJy10cmFjaycsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMyLCBwcmVmaXhDbHMgKyAnLXRyYWNrLScgKyBpLCB0cnVlKSwgX2NsYXNzTmFtZXMyKSk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRyYWNrLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiB0cmFja0NsYXNzTmFtZSxcbiAgICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWwsXG4gICAgICAgICAgaW5jbHVkZWQ6IGluY2x1ZGVkLFxuICAgICAgICAgIG9mZnNldDogb2Zmc2V0c1tpIC0gMV0sXG4gICAgICAgICAgbGVuZ3RoOiBvZmZzZXRzW2ldIC0gb2Zmc2V0c1tpIC0gMV0sXG4gICAgICAgICAgc3R5bGU6IHRyYWNrU3R5bGVbaW5kZXhdLFxuICAgICAgICAgIGtleTogaVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4geyB0cmFja3M6IHRyYWNrcywgaGFuZGxlczogaGFuZGxlcyB9O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSYW5nZTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuUmFuZ2UuZGlzcGxheU5hbWUgPSAnUmFuZ2UnO1xuUmFuZ2UucHJvcFR5cGVzID0ge1xuICBkZWZhdWx0VmFsdWU6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLFxuICB2YWx1ZTogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksXG4gIGNvdW50OiBQcm9wVHlwZXMubnVtYmVyLFxuICBwdXNoYWJsZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5udW1iZXJdKSxcbiAgYWxsb3dDcm9zczogUHJvcFR5cGVzLmJvb2wsXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbFxufTtcblJhbmdlLmRlZmF1bHRQcm9wcyA9IHtcbiAgY291bnQ6IDEsXG4gIGFsbG93Q3Jvc3M6IHRydWUsXG4gIHB1c2hhYmxlOiBmYWxzZVxufTtcblxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVTbGlkZXIoUmFuZ2UpOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmNSYW5nZSBmcm9tICdyYy1zbGlkZXIvZXMvUmFuZ2UnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIFJhbmdlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUmFuZ2UsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUmFuZ2UoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYW5nZSk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSYW5nZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhbmdlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFJhbmdlLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy13cmFwcGVyJyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmNSYW5nZSwgdGhpcy5wcm9wcylcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmFuZ2U7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlO1xuXG5SYW5nZS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tc2xpZGVyJ1xufTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmZ1bmN0aW9uIG5vb3AoKSB7fVxuZnVuY3Rpb24gZGVmYXVsdFBhcnNlcihpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9bXlxcd1xcLi1dKy9nLCAnJyk7XG59XG4vKipcbiAqIFdoZW4gY2xpY2sgYW5kIGhvbGQgb24gYSBidXR0b24gLSB0aGUgc3BlZWQgb2YgYXV0byBjaGFuZ2luIHRoZSB2YWx1ZS5cbiAqL1xudmFyIFNQRUVEID0gMjAwO1xuLyoqXG4gKiBXaGVuIGNsaWNrIGFuZCBob2xkIG9uIGEgYnV0dG9uIC0gdGhlIGRlbGF5IGJlZm9yZSBhdXRvIGNoYW5naW4gdGhlIHZhbHVlLlxuICovXG52YXIgREVMQVkgPSA2MDA7XG4vKipcbiAqIE1heCBTYWZlIEludGVnZXIgLS0gb24gSUUgdGhpcyBpcyBub3QgYXZhaWxhYmxlLCBzbyBtYW51YWxseSBzZXQgdGhlIG51bWJlciBpbiB0aGF0IGNhc2UuXG4gKiBUaGUgcmVhc29uIHRoaXMgaXMgdXNlZCwgaW5zdGVhZCBvZiBJbmZpbml0eSBpcyBiZWNhdXNlIG51bWJlcnMgYWJvdmUgdGhlIE1TSSBhcmUgdW5zdGFibGVcbiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiB8fCBNYXRoLnBvdygyLCA1MykgLSAxO1xuXG52YXIgQmFzZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEJhc2VDb21wb25lbnQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQmFzZUNvbXBvbmVudChwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFzZUNvbXBvbmVudCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEJhc2VDb21wb25lbnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihCYXNlQ29tcG9uZW50KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHBhcnNlciA9IF90aGlzJHByb3BzLnBhcnNlcixcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzLm9uQ2hhbmdlO1xuXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSBwYXJzZXIgJiYgcGFyc2VyKF90aGlzLmdldFZhbHVlRnJvbUV2ZW50KGUpLnRyaW0oKSk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGlucHV0VmFsdWU6IGlucHV0IH0pO1xuICAgICAgICAgICAgb25DaGFuZ2UgJiYgb25DaGFuZ2UoX3RoaXMudG9OdW1iZXJXaGVuVXNlcklucHV0KGlucHV0KSk7IC8vIHZhbGlkIG51bWJlciBvciBpbnZhbGlkIHN0cmluZ1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGZvY3VzZWQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG9uRm9jdXMgPSBfdGhpcy5wcm9wcy5vbkZvY3VzO1xuXG4gICAgICAgICAgICBvbkZvY3VzICYmIG9uRm9jdXMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkJsdXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBmb2N1c2VkOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBfdGhpcy5nZXRDdXJyZW50VmFsaWRWYWx1ZShfdGhpcy5zdGF0ZS5pbnB1dFZhbHVlKTtcbiAgICAgICAgICAgIGUucGVyc2lzdCgpOyAvLyBmaXggaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWNvbXBvbmVudC9pbnB1dC1udW1iZXIvaXNzdWVzLzUxXG4gICAgICAgICAgICBfdGhpcy5zZXRWYWx1ZSh2YWx1ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBvbkJsdXIgPSBfdGhpcy5wcm9wcy5vbkJsdXI7XG5cbiAgICAgICAgICAgICAgICBvbkJsdXIgJiYgb25CbHVyLmFwcGx5KHVuZGVmaW5lZCwgW2VdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0Q3VycmVudFZhbGlkVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh2YWwgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gJyc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFfdGhpcy5pc05vdENvbXBsZXRlTnVtYmVyKHZhbCkpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSBfdGhpcy5nZXRWYWxpZFZhbHVlKHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbCA9IF90aGlzLnN0YXRlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRvTnVtYmVyKHZhbCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldFZhbGlkVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzczNThcbiAgICAgICAgICAgIGlmIChpc05hTih2YWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbCA8IF90aGlzLnByb3BzLm1pbikge1xuICAgICAgICAgICAgICAgIHZhbCA9IF90aGlzLnByb3BzLm1pbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWwgPiBfdGhpcy5wcm9wcy5tYXgpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSBfdGhpcy5wcm9wcy5tYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zZXRWYWx1ZSA9IGZ1bmN0aW9uICh2LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gdHJpZ2dlciBvbkNoYW5nZVxuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gX3RoaXMuaXNOb3RDb21wbGV0ZU51bWJlcihwYXJzZUZsb2F0KHYpKSA/IHVuZGVmaW5lZCA6IHBhcnNlRmxvYXQodik7XG4gICAgICAgICAgICB2YXIgY2hhbmdlZCA9IG5ld1ZhbHVlICE9PSBfdGhpcy5zdGF0ZS52YWx1ZSB8fCAnJyArIG5ld1ZhbHVlICE9PSAnJyArIF90aGlzLnN0YXRlLmlucHV0VmFsdWU7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzczNjNcbiAgICAgICAgICAgIGlmICghKCd2YWx1ZScgaW4gX3RoaXMucHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWU6IF90aGlzLnRvUHJlY2lzaW9uQXNTdGVwKHYpXG4gICAgICAgICAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgc2V0IGlucHV0IHZhbHVlIHNhbWUgYXMgdmFsdWVcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWU6IF90aGlzLnRvUHJlY2lzaW9uQXNTdGVwKF90aGlzLnN0YXRlLnZhbHVlKVxuICAgICAgICAgICAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cbiAgICAgICAgICAgICAgICBvbkNoYW5nZSAmJiBvbkNoYW5nZShuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldFByZWNpc2lvbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCdwcmVjaXNpb24nIGluIF90aGlzLnByb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLnByZWNpc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZVN0cmluZyA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAodmFsdWVTdHJpbmcuaW5kZXhPZignZS0nKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlU3RyaW5nLnNsaWNlKHZhbHVlU3RyaW5nLmluZGV4T2YoJ2UtJykgKyAyKSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZWNpc2lvbiA9IDA7XG4gICAgICAgICAgICBpZiAodmFsdWVTdHJpbmcuaW5kZXhPZignLicpID49IDApIHtcbiAgICAgICAgICAgICAgICBwcmVjaXNpb24gPSB2YWx1ZVN0cmluZy5sZW5ndGggLSB2YWx1ZVN0cmluZy5pbmRleE9mKCcuJykgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByZWNpc2lvbjtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gc3RlcD17MS4wfSB2YWx1ZT17MS41MX1cbiAgICAgICAgLy8gcHJlc3MgK1xuICAgICAgICAvLyB0aGVuIHZhbHVlIHNob3VsZCBiZSAyLjUxLCByYXRoZXIgdGhhbiAyLjVcbiAgICAgICAgLy8gaWYgdGhpcy5wcm9wcy5wcmVjaXNpb24gaXMgdW5kZWZpbmVkXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1jb21wb25lbnQvaW5wdXQtbnVtYmVyL2lzc3Vlcy8zOVxuICAgICAgICBfdGhpcy5nZXRNYXhQcmVjaXNpb24gPSBmdW5jdGlvbiAoY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcmF0aW8gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG5cbiAgICAgICAgICAgIGlmICgncHJlY2lzaW9uJyBpbiBfdGhpcy5wcm9wcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5wcmVjaXNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RlcCA9IF90aGlzLnByb3BzLnN0ZXA7XG5cbiAgICAgICAgICAgIHZhciByYXRpb1ByZWNpc2lvbiA9IF90aGlzLmdldFByZWNpc2lvbihyYXRpbyk7XG4gICAgICAgICAgICB2YXIgc3RlcFByZWNpc2lvbiA9IF90aGlzLmdldFByZWNpc2lvbihzdGVwKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWVQcmVjaXNpb24gPSBfdGhpcy5nZXRQcmVjaXNpb24oY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgIGlmICghY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhdGlvUHJlY2lzaW9uICsgc3RlcFByZWNpc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChjdXJyZW50VmFsdWVQcmVjaXNpb24sIHJhdGlvUHJlY2lzaW9uICsgc3RlcFByZWNpc2lvbik7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldFByZWNpc2lvbkZhY3RvciA9IGZ1bmN0aW9uIChjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIHZhciByYXRpbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTtcblxuICAgICAgICAgICAgdmFyIHByZWNpc2lvbiA9IF90aGlzLmdldE1heFByZWNpc2lvbihjdXJyZW50VmFsdWUsIHJhdGlvKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudG9QcmVjaXNpb25Bc1N0ZXAgPSBmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNOb3RDb21wbGV0ZU51bWJlcihudW0pIHx8IG51bSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZWNpc2lvbiA9IE1hdGguYWJzKF90aGlzLmdldE1heFByZWNpc2lvbihudW0pKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocHJlY2lzaW9uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIobnVtKS50b0ZpeGVkKHByZWNpc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVtLnRvU3RyaW5nKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vICcxLicgJzF4JyAneHgnICcnID0+IGFyZSBub3QgY29tcGxldGUgbnVtYmVyc1xuICAgICAgICBfdGhpcy5pc05vdENvbXBsZXRlTnVtYmVyID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzTmFOKG51bSkgfHwgbnVtID09PSAnJyB8fCBudW0gPT09IG51bGwgfHwgbnVtICYmIG51bS50b1N0cmluZygpLmluZGV4T2YoJy4nKSA9PT0gbnVtLnRvU3RyaW5nKCkubGVuZ3RoIC0gMTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudG9OdW1iZXIgPSBmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNOb3RDb21wbGV0ZU51bWJlcihudW0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgncHJlY2lzaW9uJyBpbiBfdGhpcy5wcm9wcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIoTnVtYmVyKG51bSkudG9GaXhlZChfdGhpcy5wcm9wcy5wcmVjaXNpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIobnVtKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gJzEuMCcgJzEuMDAnICA9PiBtYXkgYmUgYSBpbnB1dGluZyBudW1iZXJcbiAgICAgICAgX3RoaXMudG9OdW1iZXJXaGVuVXNlcklucHV0ID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICAgICAgLy8gbnVtLmxlbmd0aCA+IDE2ID0+IHByZXZlbnQgaW5wdXQgbGFyZ2UgbnVtYmVyIHdpbGwgYmVjYW1lIEluZmluaXR5XG4gICAgICAgICAgICBpZiAoKC9cXC5cXGQqMCQvLnRlc3QobnVtKSB8fCBudW0ubGVuZ3RoID4gMTYpICYmIF90aGlzLnN0YXRlLmZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRvTnVtYmVyKG51bSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0ZXBDb21wdXRlID0gZnVuY3Rpb24gKHR5cGUsIHZhbCwgcmF0KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgc3RlcCA9IF90aGlzJHByb3BzMi5zdGVwLFxuICAgICAgICAgICAgICAgIG1pbiA9IF90aGlzJHByb3BzMi5taW47XG5cbiAgICAgICAgICAgIHZhciBwcmVjaXNpb25GYWN0b3IgPSBfdGhpcy5nZXRQcmVjaXNpb25GYWN0b3IodmFsLCByYXQpO1xuICAgICAgICAgICAgdmFyIHByZWNpc2lvbiA9IE1hdGguYWJzKF90aGlzLmdldE1heFByZWNpc2lvbih2YWwsIHJhdCkpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBkaXJlY3QgPSB0eXBlID09PSAndXAnID8gMSA6IC0xO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gKChwcmVjaXNpb25GYWN0b3IgKiB2YWwgKyBkaXJlY3QgKiBwcmVjaXNpb25GYWN0b3IgKiArc3RlcCAqIHJhdCkgLyBwcmVjaXNpb25GYWN0b3IpLnRvRml4ZWQocHJlY2lzaW9uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbWluID09PSAtSW5maW5pdHkgPyBkaXJlY3QgKiArc3RlcCA6IG1pbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50b051bWJlcihyZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zdGVwID0gZnVuY3Rpb24gKHR5cGUsIGUpIHtcbiAgICAgICAgICAgIHZhciByYXRpbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcblxuICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5wcm9wcztcbiAgICAgICAgICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IF90aGlzLmdldEN1cnJlbnRWYWxpZFZhbHVlKF90aGlzLnN0YXRlLmlucHV0VmFsdWUpIHx8IDA7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNOb3RDb21wbGV0ZU51bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsID0gX3RoaXMuc3RlcENvbXB1dGUodHlwZSwgdmFsdWUsIHJhdGlvKTtcbiAgICAgICAgICAgIHZhciBvdXRPZlJhbmdlID0gdmFsID4gcHJvcHMubWF4IHx8IHZhbCA8IHByb3BzLm1pbjtcbiAgICAgICAgICAgIGlmICh2YWwgPiBwcm9wcy5tYXgpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSBwcm9wcy5tYXg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbCA8IHByb3BzLm1pbikge1xuICAgICAgICAgICAgICAgIHZhbCA9IHByb3BzLm1pbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnNldFZhbHVlKHZhbCk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZm9jdXNlZDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gIW91dE9mUmFuZ2U7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuYXV0b1N0ZXBUaW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5hdXRvU3RlcFRpbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuYWN0aW9uID0gZnVuY3Rpb24gKHR5cGUsIGUsIHJhdGlvLCByZWN1cnNpdmUpIHtcbiAgICAgICAgICAgIGlmIChlLnBlcnNpc3QpIHtcbiAgICAgICAgICAgICAgICBlLnBlcnNpc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGVwKHR5cGUsIGUsIHJhdGlvKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmF1dG9TdGVwVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWN0aW9uKHR5cGUsIGUsIHJhdGlvLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LCByZWN1cnNpdmUgPyBTUEVFRCA6IERFTEFZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZG93biA9IGZ1bmN0aW9uIChlLCByYXRpbywgcmVjdXJzaXZlKSB7XG4gICAgICAgICAgICBfdGhpcy5hY3Rpb24oJ2Rvd24nLCBlLCByYXRpbywgcmVjdXJzaXZlKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudXAgPSBmdW5jdGlvbiAoZSwgcmF0aW8sIHJlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgX3RoaXMuYWN0aW9uKCd1cCcsIGUsIHJhdGlvLCByZWN1cnNpdmUpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSBfdGhpcy50b051bWJlcih2YWx1ZSk7XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaW5wdXRWYWx1ZTogX3RoaXMudG9QcmVjaXNpb25Bc1N0ZXAodmFsdWUpLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZm9jdXNlZDogcHJvcHMuYXV0b0ZvY3VzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQmFzZUNvbXBvbmVudCwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS5mb2N1c2VkID8gbmV4dFByb3BzLnZhbHVlIDogdGhpcy5nZXRWYWxpZFZhbHVlKG5leHRQcm9wcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCYXNlQ29tcG9uZW50O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBCYXNlQ29tcG9uZW50O1xuXG5CYXNlQ29tcG9uZW50LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBtYXg6IE1BWF9TQUZFX0lOVEVHRVIsXG4gICAgbWluOiAtTUFYX1NBRkVfSU5URUdFUixcbiAgICBzdGVwOiAxLFxuICAgIHN0eWxlOiB7fSxcbiAgICBvbkNoYW5nZTogbm9vcCxcbiAgICBvbkZvY3VzOiBub29wLFxuICAgIG9uQmx1cjogbm9vcCxcbiAgICBwYXJzZXI6IGRlZmF1bHRQYXJzZXJcbn07XG47IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUb3VjaGFibGUgZnJvbSAncm1jLWZlZWRiYWNrJztcblxudmFyIElucHV0SGFuZGxlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKElucHV0SGFuZGxlciwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBJbnB1dEhhbmRsZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnB1dEhhbmRsZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW5wdXRIYW5kbGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW5wdXRIYW5kbGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKElucHV0SGFuZGxlciwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gX2EuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgb3RoZXJQcm9wcyA9IF9fcmVzdChfYSwgW1wicHJlZml4Q2xzXCIsIFwiZGlzYWJsZWRcIl0pO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgVG91Y2hhYmxlLFxuICAgICAgICAgICAgICAgIHsgZGlzYWJsZWQ6IGRpc2FibGVkLCBhY3RpdmVDbGFzc05hbWU6IHByZWZpeENscyArICctaGFuZGxlci1hY3RpdmUnIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnc3BhbicsIG90aGVyUHJvcHMpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIElucHV0SGFuZGxlcjtcbn0oQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgSW5wdXRIYW5kbGVyOyIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSAnLi9iYXNlJztcbmltcG9ydCBJbnB1dEhhbmRsZXIgZnJvbSAnLi9JbnB1dEhhbmRsZXInO1xuZnVuY3Rpb24gbm9vcCgpIHt9XG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG52YXIgSW5wdXROdW1iZXIgPSBmdW5jdGlvbiAoX0Jhc2VDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoSW5wdXROdW1iZXIsIF9CYXNlQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIElucHV0TnVtYmVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5wdXROdW1iZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChJbnB1dE51bWJlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKElucHV0TnVtYmVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMuc2V0SW5wdXQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICAgIF90aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoSW5wdXROdW1iZXIsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnREaWRVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ID0gdGhpcy5pbnB1dC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZCA9IHRoaXMuaW5wdXQuc2VsZWN0aW9uRW5kO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIEZpeCBlcnJvciBpbiBDaHJvbWU6XG4gICAgICAgICAgICAgICAgLy8gRmFpbGVkIHRvIHJlYWQgdGhlICdzZWxlY3Rpb25TdGFydCcgcHJvcGVydHkgZnJvbSAnSFRNTElucHV0RWxlbWVudCdcbiAgICAgICAgICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8yMTE3NzQ4OS8zMDQwNjA1XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5mb2N1c09uVXBEb3duICYmIHRoaXMuc3RhdGUuZm9jdXNlZCkge1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3Rpb25SYW5nZSA9IHRoaXMuaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2U7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvblJhbmdlICYmIHR5cGVvZiBzZWxlY3Rpb25SYW5nZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLnN0YXJ0ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5lbmQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnN0YXJ0ICE9PSB0aGlzLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LnNldFNlbGVjdGlvblJhbmdlKHRoaXMuc3RhcnQsIHRoaXMuZW5kKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRSYXRpbycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSYXRpbyhlKSB7XG4gICAgICAgICAgICB2YXIgcmF0aW8gPSAxO1xuICAgICAgICAgICAgaWYgKGUubWV0YUtleSB8fCBlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICByYXRpbyA9IDAuMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIHJhdGlvID0gMTA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmF0aW87XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFZhbHVlRnJvbUV2ZW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlRnJvbUV2ZW50KGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9jdXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Zvcm1hdFdyYXBwZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0V3JhcHBlcihudW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmZvcm1hdHRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLmZvcm1hdHRlcihudW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgICAgICAgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgdmFyIF9wcm9wcyRwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzJHByZWZpeENscyA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkcHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgcmVhZE9ubHkgPSBwcm9wcy5yZWFkT25seSxcbiAgICAgICAgICAgICAgICBtYXggPSBwcm9wcy5tYXgsXG4gICAgICAgICAgICAgICAgbWluID0gcHJvcHMubWluO1xuXG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZXMoKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzLCB0cnVlKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcm9wcy5jbGFzc05hbWUsICEhcHJvcHMuY2xhc3NOYW1lKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgZGlzYWJsZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZm9jdXNlZCcsIHRoaXMuc3RhdGUuZm9jdXNlZCksIF9jbGFzc05hbWVzKSk7XG4gICAgICAgICAgICB2YXIgdXBEaXNhYmxlZENsYXNzID0gJyc7XG4gICAgICAgICAgICB2YXIgZG93bkRpc2FibGVkQ2xhc3MgPSAnJztcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsID49IG1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBEaXNhYmxlZENsYXNzID0gcHJlZml4Q2xzICsgJy1oYW5kbGVyLXVwLWRpc2FibGVkJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsIDw9IG1pbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG93bkRpc2FibGVkQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLWhhbmRsZXItZG93bi1kaXNhYmxlZCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1cERpc2FibGVkQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLWhhbmRsZXItdXAtZGlzYWJsZWQnO1xuICAgICAgICAgICAgICAgICAgICBkb3duRGlzYWJsZWRDbGFzcyA9IHByZWZpeENscyArICctaGFuZGxlci1kb3duLWRpc2FibGVkJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZWRpdGFibGUgPSAhcHJvcHMucmVhZE9ubHkgJiYgIXByb3BzLmRpc2FibGVkO1xuICAgICAgICAgICAgLy8gZm9jdXMgc3RhdGUsIHNob3cgaW5wdXQgdmFsdWVcbiAgICAgICAgICAgIC8vIHVuZm9jdXMgc3RhdGUsIHNob3cgdmFsaWQgdmFsdWVcbiAgICAgICAgICAgIHZhciBpbnB1dERpc3BsYXlWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICBpbnB1dERpc3BsYXlWYWx1ZSA9IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5wdXREaXNwbGF5VmFsdWUgPSB0aGlzLnRvUHJlY2lzaW9uQXNTdGVwKHRoaXMuc3RhdGUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlucHV0RGlzcGxheVZhbHVlID09PSB1bmRlZmluZWQgfHwgaW5wdXREaXNwbGF5VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpbnB1dERpc3BsYXlWYWx1ZSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHVwRXZlbnRzID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIGRvd25FdmVudHMgPSB2b2lkIDA7XG4gICAgICAgICAgICB1cEV2ZW50cyA9IHtcbiAgICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ6IGVkaXRhYmxlICYmICF1cERpc2FibGVkQ2xhc3MgPyB0aGlzLnVwIDogbm9vcCxcbiAgICAgICAgICAgICAgICBvblRvdWNoRW5kOiB0aGlzLnN0b3BcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkb3duRXZlbnRzID0ge1xuICAgICAgICAgICAgICAgIG9uVG91Y2hTdGFydDogZWRpdGFibGUgJiYgIWRvd25EaXNhYmxlZENsYXNzID8gdGhpcy5kb3duIDogbm9vcCxcbiAgICAgICAgICAgICAgICBvblRvdWNoRW5kOiB0aGlzLnN0b3BcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgaW5wdXREaXNwbGF5VmFsdWVGb3JtYXQgPSB0aGlzLmZvcm1hdFdyYXBwZXIoaW5wdXREaXNwbGF5VmFsdWUpO1xuICAgICAgICAgICAgdmFyIGlzVXBEaXNhYmxlZCA9ICEhdXBEaXNhYmxlZENsYXNzIHx8IGRpc2FibGVkIHx8IHJlYWRPbmx5O1xuICAgICAgICAgICAgdmFyIGlzRG93bkRpc2FibGVkID0gISFkb3duRGlzYWJsZWRDbGFzcyB8fCBkaXNhYmxlZCB8fCByZWFkT25seTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc2VzLCBzdHlsZTogcHJvcHMuc3R5bGUgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaGFuZGxlci13cmFwJyB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRIYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2V4dGVuZHMoeyBkaXNhYmxlZDogaXNVcERpc2FibGVkLCBwcmVmaXhDbHM6IHByZWZpeENscywgdW5zZWxlY3RhYmxlOiAndW5zZWxlY3RhYmxlJyB9LCB1cEV2ZW50cywgeyByb2xlOiAnYnV0dG9uJywgJ2FyaWEtbGFiZWwnOiAnSW5jcmVhc2UgVmFsdWUnLCAnYXJpYS1kaXNhYmxlZCc6ICEhaXNVcERpc2FibGVkLCBjbGFzc05hbWU6IHByZWZpeENscyArICctaGFuZGxlciAnICsgcHJlZml4Q2xzICsgJy1oYW5kbGVyLXVwICcgKyB1cERpc2FibGVkQ2xhc3MgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnVwSGFuZGxlciB8fCBSZWFjdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyB1bnNlbGVjdGFibGU6ICd1bnNlbGVjdGFibGUnLCBjbGFzc05hbWU6IHByZWZpeENscyArICctaGFuZGxlci11cC1pbm5lcicsIG9uQ2xpY2s6IHByZXZlbnREZWZhdWx0IH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBJbnB1dEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IGRpc2FibGVkOiBpc0Rvd25EaXNhYmxlZCwgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIHVuc2VsZWN0YWJsZTogJ3Vuc2VsZWN0YWJsZScgfSwgZG93bkV2ZW50cywgeyByb2xlOiAnYnV0dG9uJywgJ2FyaWEtbGFiZWwnOiAnRGVjcmVhc2UgVmFsdWUnLCAnYXJpYS1kaXNhYmxlZCc6ICEhaXNEb3duRGlzYWJsZWQsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oYW5kbGVyICcgKyBwcmVmaXhDbHMgKyAnLWhhbmRsZXItZG93biAnICsgZG93bkRpc2FibGVkQ2xhc3MgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRvd25IYW5kbGVyIHx8IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IHVuc2VsZWN0YWJsZTogJ3Vuc2VsZWN0YWJsZScsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oYW5kbGVyLWRvd24taW5uZXInLCBvbkNsaWNrOiBwcmV2ZW50RGVmYXVsdCB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQtd3JhcCcsIHJvbGU6ICdzcGluYnV0dG9uJywgJ2FyaWEtdmFsdWVtaW4nOiBwcm9wcy5taW4sICdhcmlhLXZhbHVlbWF4JzogcHJvcHMubWF4LCAnYXJpYS12YWx1ZW5vdyc6IHZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQnLCB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsIGF1dG9Db21wbGV0ZTogJ29mZicsIG9uRm9jdXM6IHRoaXMub25Gb2N1cywgb25CbHVyOiB0aGlzLm9uQmx1ciwgYXV0b0ZvY3VzOiBwcm9wcy5hdXRvRm9jdXMsIHJlYWRPbmx5OiBwcm9wcy5yZWFkT25seSwgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLCBtYXg6IHByb3BzLm1heCwgbWluOiBwcm9wcy5taW4sIHN0ZXA6IHByb3BzLnN0ZXAsIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlLCByZWY6IHRoaXMuc2V0SW5wdXQsIHZhbHVlOiBpbnB1dERpc3BsYXlWYWx1ZUZvcm1hdCB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSW5wdXROdW1iZXI7XG59KEJhc2VDb21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBJbnB1dE51bWJlcjtcblxuSW5wdXROdW1iZXIuZGVmYXVsdFByb3BzID0gX2V4dGVuZHMoe30sIEJhc2VDb21wb25lbnQuZGVmYXVsdFByb3BzLCB7IGZvY3VzT25VcERvd246IGZhbHNlLCB1c2VUb3VjaDogZmFsc2UsIHByZWZpeENsczogJ3JtYy1pbnB1dC1udW1iZXInIH0pOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUk1DSW5wdXROdW1iZXIgZnJvbSAncm1jLWlucHV0LW51bWJlcic7XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9pY29uJztcblxudmFyIFN0ZXBwZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhTdGVwcGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFN0ZXBwZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGVwcGVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFN0ZXBwZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTdGVwcGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFN0ZXBwZXIsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgc2hvd051bWJlciA9IF9hLnNob3dOdW1iZXIsXG4gICAgICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJjbGFzc05hbWVcIiwgXCJzaG93TnVtYmVyXCJdKTtcbiAgICAgICAgICAgIHZhciBzdGVwcGVyQ2xhc3MgPSBjbGFzc25hbWVzKGNsYXNzTmFtZSwgX2RlZmluZVByb3BlcnR5KHt9LCAnc2hvd051bWJlcicsICEhc2hvd051bWJlcikpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUk1DSW5wdXROdW1iZXIsIF9leHRlbmRzKHsgdXBIYW5kbGVyOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIHsgdHlwZTogJ3BsdXMnLCBzaXplOiAneHhzJyB9KSwgZG93bkhhbmRsZXI6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwgeyB0eXBlOiAnbWludXMnLCBzaXplOiAneHhzJyB9KSB9LCByZXN0UHJvcHMsIHsgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zdGVwcGVyUmVmID0gZWw7XG4gICAgICAgICAgICAgICAgfSwgY2xhc3NOYW1lOiBzdGVwcGVyQ2xhc3MgfSkpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFN0ZXBwZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFN0ZXBwZXI7XG5cblN0ZXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLXN0ZXBwZXInLFxuICAgIHN0ZXA6IDEsXG4gICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgIHNob3dOdW1iZXI6IGZhbHNlLFxuICAgIGZvY3VzT25VcERvd246IGZhbHNlXG59OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSY1N0ZXBzIGZyb20gJ3JtYy1zdGVwcyc7XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9pY29uJztcblxudmFyIFN0ZXBzID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoU3RlcHMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gU3RlcHMoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGVwcyk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTdGVwcy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFN0ZXBzKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFN0ZXBzLCBbe1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50RGlkVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5kaXJlY3Rpb24gIT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNldCB0YWlsJ3MgbGVmdCBwb3NpdGlvbiBiYXNlZCBvbiBtYWluJ3Mgd2lkdGggZm9yIGVhY2ggc3RlcCBkeW5hbWljYWxseS5cbiAgICAgICAgICAgIHRoaXMuc3RlcFJlZnMuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgIGlmIChzLnJlZnMudGFpbCkge1xuICAgICAgICAgICAgICAgICAgICBzLnJlZnMudGFpbC5zdHlsZS5sZWZ0ID0gcy5yZWZzLm1haW4ub2Zmc2V0V2lkdGggLyAyICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLnN0ZXBSZWZzID0gW107XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSBfcHJvcHMuc3RhdHVzLFxuICAgICAgICAgICAgICAgIHNpemUgPSBfcHJvcHMuc2l6ZTtcblxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnByb3BzLmN1cnJlbnQ7XG4gICAgICAgICAgICAvLyBmbGF0dGVybiB0aGUgYXJyYXkgYXQgZmlyc3QgaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi1tb2JpbGUvaXNzdWVzLzkzNFxuICAgICAgICAgICAgdmFyIGZpbHRlckNoaWxkcmVuID0gW107XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckNoaWxkcmVuLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLm1hcChmaWx0ZXJDaGlsZHJlbiwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGl0ZW0ucHJvcHMuY2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IGZpbHRlckNoaWxkcmVuLmxlbmd0aCAtIDEgJiYgZmlsdGVyQ2hpbGRyZW5baW5kZXggKyAxXS5wcm9wcy5zdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJyBlcnJvci10YWlsJyA6ICdlcnJvci10YWlsJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGljb24gPSBpdGVtLnByb3BzLmljb247XG4gICAgICAgICAgICAgICAgaWYgKCFpY29uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWvueW6lCBzdGF0ZTogZmluaXNoXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uID0gJ2NoZWNrLWNpcmNsZS1vJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA+IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWvueW6lCBzdGF0ZTogd2FpdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbiA9ICdlbGxpcHNpcyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgPyBjbGFzc05hbWUgKyAnIGVsbGlwc2lzLWl0ZW0nIDogJ2VsbGlwc2lzLWl0ZW0nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdlcnJvcicgJiYgaW5kZXggPT09IGN1cnJlbnQgfHwgaXRlbS5wcm9wcy5zdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb24gPSAnY3Jvc3MtY2lyY2xlLW8nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGljb24gPSB0eXBlb2YgaWNvbiA9PT0gJ3N0cmluZycgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIHsgdHlwZTogaWNvbiwgc2l6ZTogc2l6ZSA9PT0gJ3NtYWxsJyA/IHN0YXR1cyA9PT0gJ3dhaXQnID8gJ3h4cycgOiAneHMnIDogJ21kJyB9KSA6IGljb247XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChpdGVtLCB7XG4gICAgICAgICAgICAgICAgICAgIGljb246IGljb24sXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnN0ZXBSZWZzW2luZGV4XSA9IGM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgUmNTdGVwcyxcbiAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnN0ZXBzUmVmID0gZWw7XG4gICAgICAgICAgICAgICAgICAgIH0gfSwgdGhpcy5wcm9wcyksXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGRyZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU3RlcHM7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFN0ZXBzO1xuXG5TdGVwcy5TdGVwID0gUmNTdGVwcy5TdGVwO1xuU3RlcHMuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLXN0ZXBzJyxcbiAgICBpY29uUHJlZml4OiAnYW50JyxcbiAgICBsYWJlbFBsYWNlbWVudDogJ3ZlcnRpY2FsJyxcbiAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXG4gICAgY3VycmVudDogMFxufTsiLCIvKiB0c2xpbnQ6ZGlzYWJsZTpuby1iaXR3aXNlICovXG4vLyBodHRwOi8vaGFtbWVyanMuZ2l0aHViLmlvL2FwaS8jZGlyZWN0aW9uc1xuZXhwb3J0IHZhciBESVJFQ1RJT05fTk9ORSA9IDE7IC8vIDAwMDAxXG5leHBvcnQgdmFyIERJUkVDVElPTl9MRUZUID0gMjsgLy8gMDAwMTBcbmV4cG9ydCB2YXIgRElSRUNUSU9OX1JJR0hUID0gNDsgLy8gMDAxMDBcbmV4cG9ydCB2YXIgRElSRUNUSU9OX1VQID0gODsgLy8gMDEwMDBcbmV4cG9ydCB2YXIgRElSRUNUSU9OX0RPV04gPSAxNjsgLy8gMTAwMDBcbmV4cG9ydCB2YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDsgLy8gMDAxMTAgNlxuZXhwb3J0IHZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjsgLy8gMTEwMDAgMjRcbmV4cG9ydCB2YXIgRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMOyAvLyAxMTExMCAgMzBcbi8vIGh0dHA6Ly9oYW1tZXJqcy5naXRodWIuaW8vcmVjb2duaXplci1wcmVzcy9cbmV4cG9ydCB2YXIgUFJFU1MgPSB7XG4gICAgdGltZTogMjUxXG59O1xuLy8gaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby9yZWNvZ25pemVyLXN3aXBlL1xuZXhwb3J0IHZhciBTV0lQRSA9IHtcbiAgICB0aHJlc2hvbGQ6IDEwLFxuICAgIHZlbG9jaXR5OiAwLjNcbn07IiwiLyogdHNsaW50OmRpc2FibGU6bm8tYml0d2lzZSAqL1xuaW1wb3J0IHsgU1dJUEUsIERJUkVDVElPTl9OT05FLCBESVJFQ1RJT05fTEVGVCwgRElSRUNUSU9OX1JJR0hULCBESVJFQ1RJT05fVVAsIERJUkVDVElPTl9ET1dOIH0gZnJvbSAnLi9jb25maWcnO1xuZnVuY3Rpb24gX2NhbGNUcmlhbmdsZURpc3RhbmNlKHgsIHkpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xufVxuZnVuY3Rpb24gX2NhbGNBbmdsZSh4LCB5KSB7XG4gICAgdmFyIHJhZGlhbiA9IE1hdGguYXRhbjIoeSwgeCk7XG4gICAgcmV0dXJuIDE4MCAvIChNYXRoLlBJIC8gcmFkaWFuKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FsY011dGxpRmluZ2VyU3RhdHVzKHRvdWNoZXMpIHtcbiAgICBpZiAodG91Y2hlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIF90b3VjaGVzJCA9IHRvdWNoZXNbMF0sXG4gICAgICAgIHgxID0gX3RvdWNoZXMkLngsXG4gICAgICAgIHkxID0gX3RvdWNoZXMkLnk7XG4gICAgdmFyIF90b3VjaGVzJDIgPSB0b3VjaGVzWzFdLFxuICAgICAgICB4MiA9IF90b3VjaGVzJDIueCxcbiAgICAgICAgeTIgPSBfdG91Y2hlcyQyLnk7XG5cbiAgICB2YXIgZGVsdGFYID0geDIgLSB4MTtcbiAgICB2YXIgZGVsdGFZID0geTIgLSB5MTtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBkZWx0YVgsXG4gICAgICAgIHk6IGRlbHRhWSxcbiAgICAgICAgejogX2NhbGNUcmlhbmdsZURpc3RhbmNlKGRlbHRhWCwgZGVsdGFZKSxcbiAgICAgICAgYW5nbGU6IF9jYWxjQW5nbGUoZGVsdGFYLCBkZWx0YVkpXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYWxjTW92ZVN0YXR1cyhzdGFydFRvdWNoZXMsIHRvdWNoZXMsIHRpbWUpIHtcbiAgICB2YXIgX3N0YXJ0VG91Y2hlcyQgPSBzdGFydFRvdWNoZXNbMF0sXG4gICAgICAgIHgxID0gX3N0YXJ0VG91Y2hlcyQueCxcbiAgICAgICAgeTEgPSBfc3RhcnRUb3VjaGVzJC55O1xuICAgIHZhciBfdG91Y2hlcyQzID0gdG91Y2hlc1swXSxcbiAgICAgICAgeDIgPSBfdG91Y2hlcyQzLngsXG4gICAgICAgIHkyID0gX3RvdWNoZXMkMy55O1xuXG4gICAgdmFyIGRlbHRhWCA9IHgyIC0geDE7XG4gICAgdmFyIGRlbHRhWSA9IHkyIC0geTE7XG4gICAgdmFyIGRlbHRhWiA9IF9jYWxjVHJpYW5nbGVEaXN0YW5jZShkZWx0YVgsIGRlbHRhWSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogZGVsdGFYLFxuICAgICAgICB5OiBkZWx0YVksXG4gICAgICAgIHo6IGRlbHRhWixcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgdmVsb2NpdHk6IGRlbHRhWiAvIHRpbWUsXG4gICAgICAgIGFuZ2xlOiBfY2FsY0FuZ2xlKGRlbHRhWCwgZGVsdGFZKVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY2FsY1JvdGF0aW9uKHN0YXJ0TXV0bGlGaW5nZXJTdGF0dXMsIG11dGxpRmluZ2VyU3RhdHVzKSB7XG4gICAgdmFyIHN0YXJ0QW5nbGUgPSBzdGFydE11dGxpRmluZ2VyU3RhdHVzLmFuZ2xlO1xuICAgIHZhciBhbmdsZSA9IG11dGxpRmluZ2VyU3RhdHVzLmFuZ2xlO1xuXG4gICAgcmV0dXJuIGFuZ2xlIC0gc3RhcnRBbmdsZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudE5hbWUocHJlZml4LCBzdGF0dXMpIHtcbiAgICByZXR1cm4gcHJlZml4ICsgc3RhdHVzWzBdLnRvVXBwZXJDYXNlKCkgKyBzdGF0dXMuc2xpY2UoMSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkVHJpZ2dlclN3aXBlKGRlbHRhLCB2ZWxvY2l0eSkge1xuICAgIHJldHVybiBNYXRoLmFicyhkZWx0YSkgPj0gU1dJUEUudGhyZXNob2xkICYmIE1hdGguYWJzKHZlbG9jaXR5KSA+IFNXSVBFLnZlbG9jaXR5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFRyaWdnZXJEaXJlY3Rpb24oZGlyZWN0aW9uLCBkaXJlY3Rpb25TZXR0aW5nKSB7XG4gICAgaWYgKGRpcmVjdGlvblNldHRpbmcgJiBkaXJlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICogTm90ZTogd2lsbCBjaGFuZ2UgbmV4dCB2ZXJzaW9uXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge051bWJlcn0gZGlyZWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG4gICAgaWYgKE1hdGguYWJzKHgpID49IE1hdGguYWJzKHkpKSB7XG4gICAgICAgIHJldHVybiB4IDwgMCA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgIH1cbiAgICByZXR1cm4geSA8IDAgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdG93IHBvaW50cyB3aGVuIHRvdWNoIG1vdmluZ1xuICogTm90ZTogd2lsbCBjaGFuZ2UgbmV4dCB2ZXJzaW9uXG4gKiBAcGFyYW0ge09iamVjdH0gcG9pbnQxIGNvb3JkaW5hdGUgcG9pbnQsIGluY2x1ZGUgeCAmIHkgYXR0cmlidXRlc1xuICogQHBhcmFtIHtPYmplY3R9IHBvaW50MiBjb29yZGluYXRlIHBvaW50LCBpbmNsdWRlIHggJiB5IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlyZWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb3ZpbmdEaXJlY3Rpb24ocG9pbnQxLCBwb2ludDIpIHtcbiAgICB2YXIgeDEgPSBwb2ludDEueCxcbiAgICAgICAgeTEgPSBwb2ludDEueTtcbiAgICB2YXIgeDIgPSBwb2ludDIueCxcbiAgICAgICAgeTIgPSBwb2ludDIueTtcblxuICAgIHZhciBkZWx0YVggPSB4MiAtIHgxO1xuICAgIHZhciBkZWx0YVkgPSB5MiAtIHkxO1xuICAgIGlmIChkZWx0YVggPT09IDAgJiYgZGVsdGFZID09PSAwKSB7XG4gICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG4gICAgaWYgKE1hdGguYWJzKGRlbHRhWCkgPj0gTWF0aC5hYnMoZGVsdGFZKSkge1xuICAgICAgICByZXR1cm4gZGVsdGFYIDwgMCA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgIH1cbiAgICByZXR1cm4gZGVsdGFZIDwgMCA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldERpcmVjdGlvbkV2ZW50TmFtZShkaXJlY3Rpb24pIHtcbiAgICB2YXIgbmFtZSA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgICBjYXNlIERJUkVDVElPTl9OT05FOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OX0xFRlQ6XG4gICAgICAgICAgICBuYW1lID0gJ2xlZnQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OX1JJR0hUOlxuICAgICAgICAgICAgbmFtZSA9ICdyaWdodCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBESVJFQ1RJT05fVVA6XG4gICAgICAgICAgICBuYW1lID0gJ3VwJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIERJUkVDVElPTl9ET1dOOlxuICAgICAgICAgICAgbmFtZSA9ICdkb3duJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgIH1cbiAgICByZXR1cm4gbmFtZTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbi8qIHRzbGludDpkaXNhYmxlOm5vLWNvbnNvbGUgKi9cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjYWxjUm90YXRpb24sIGdldEV2ZW50TmFtZSwgbm93LCBjYWxjTXV0bGlGaW5nZXJTdGF0dXMsIGNhbGNNb3ZlU3RhdHVzLCBzaG91bGRUcmlnZ2VyU3dpcGUsIHNob3VsZFRyaWdnZXJEaXJlY3Rpb24sIGdldE1vdmluZ0RpcmVjdGlvbiwgZ2V0RGlyZWN0aW9uRXZlbnROYW1lIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IFBSRVNTLCBESVJFQ1RJT05fQUxMLCBESVJFQ1RJT05fVkVSVElDQUwsIERJUkVDVElPTl9IT1JJWk9OVEFMIH0gZnJvbSAnLi9jb25maWcnO1xuO1xuO1xudmFyIGRpcmVjdGlvbk1hcCA9IHtcbiAgICBhbGw6IERJUkVDVElPTl9BTEwsXG4gICAgdmVydGljYWw6IERJUkVDVElPTl9WRVJUSUNBTCxcbiAgICBob3Jpem9udGFsOiBESVJFQ1RJT05fSE9SSVpPTlRBTFxufTtcblxudmFyIEdlc3R1cmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhHZXN0dXJlLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEdlc3R1cmUocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdlc3R1cmUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChHZXN0dXJlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoR2VzdHVyZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICBfdGhpcy50cmlnZ2VyRXZlbnQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjYiA9IF90aGlzLnByb3BzW25hbWVdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vIGFsd2F5cyBnaXZlIHVzZXIgZ2VzdHVyZSBvYmplY3QgYXMgZmlyc3QgcGFyYW1zIGZpcnN0XG4gICAgICAgICAgICAgICAgY2IuYXBwbHkodW5kZWZpbmVkLCBbX3RoaXMuZ2V0R2VzdHVyZVN0YXRlKCldLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnRyaWdnZXJDb21iaW5lRXZlbnQgPSBmdW5jdGlvbiAobWFpbkV2ZW50TmFtZSwgZXZlbnRTdGF0dXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpcy50cmlnZ2VyRXZlbnQuYXBwbHkoX3RoaXMsIFttYWluRXZlbnROYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICAgICAgX3RoaXMudHJpZ2dlclN1YkV2ZW50LmFwcGx5KF90aGlzLCBbbWFpbkV2ZW50TmFtZSwgZXZlbnRTdGF0dXNdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnRyaWdnZXJTdWJFdmVudCA9IGZ1bmN0aW9uIChtYWluRXZlbnROYW1lLCBldmVudFN0YXR1cykge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjMgPiAyID8gX2xlbjMgLSAyIDogMCksIF9rZXkzID0gMjsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2tleTMgLSAyXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudFN0YXR1cykge1xuICAgICAgICAgICAgICAgIHZhciBzdWJFdmVudE5hbWUgPSBnZXRFdmVudE5hbWUobWFpbkV2ZW50TmFtZSwgZXZlbnRTdGF0dXMpO1xuICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJFdmVudC5hcHBseShfdGhpcywgW3N1YkV2ZW50TmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudHJpZ2dlclBpbmNoRXZlbnQgPSBmdW5jdGlvbiAobWFpbkV2ZW50TmFtZSwgZXZlbnRTdGF0dXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW40ID4gMiA/IF9sZW40IC0gMiA6IDApLCBfa2V5NCA9IDI7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19rZXk0IC0gMl0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc2NhbGUgPSBfdGhpcy5nZXN0dXJlLnNjYWxlO1xuXG4gICAgICAgICAgICBpZiAoZXZlbnRTdGF0dXMgPT09ICdtb3ZlJyAmJiB0eXBlb2Ygc2NhbGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjYWxlID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyRXZlbnQoJ29uUGluY2hPdXQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjYWxlIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyRXZlbnQoJ29uUGluY2hJbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnRyaWdnZXJDb21iaW5lRXZlbnQuYXBwbHkoX3RoaXMsIFttYWluRXZlbnROYW1lLCBldmVudFN0YXR1c10uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaW5pdFByZXNzVGltZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jbGVhblByZXNzVGltZXIoKTtcbiAgICAgICAgICAgIF90aGlzLnByZXNzVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRHZXN0dXJlU3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBwcmVzczogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJFdmVudCgnb25QcmVzcycpO1xuICAgICAgICAgICAgfSwgUFJFU1MudGltZSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmNsZWFuUHJlc3NUaW1lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC1leHByZXNzaW9uICovXG4gICAgICAgICAgICBfdGhpcy5wcmVzc1RpbWVyICYmIGNsZWFyVGltZW91dChfdGhpcy5wcmVzc1RpbWVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc2V0R2VzdHVyZVN0YXRlID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5nZXN0dXJlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZ2VzdHVyZSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2FjaGUgdGhlIHByZXZpb3VzIHRvdWNoZXNcbiAgICAgICAgICAgIGlmIChfdGhpcy5nZXN0dXJlLnRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXN0dXJlLnByZVRvdWNoZXMgPSBfdGhpcy5nZXN0dXJlLnRvdWNoZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5nZXN0dXJlID0gX2V4dGVuZHMoe30sIF90aGlzLmdlc3R1cmUsIHBhcmFtcyk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldEdlc3R1cmVTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuZ2VzdHVyZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXN0dXJlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzaGFsbG93IGNvcHlcbiAgICAgICAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIF90aGlzLmdlc3R1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5jbGVhbkdlc3R1cmVTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5nZXN0dXJlO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRUb3VjaGVzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLnRvdWNoZXMpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGl0ZW0uc2NyZWVuWCxcbiAgICAgICAgICAgICAgICAgICAgeTogaXRlbS5zY3JlZW5ZXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy50cmlnZ2VyVXNlckNiID0gZnVuY3Rpb24gKHN0YXR1cywgZSkge1xuICAgICAgICAgICAgdmFyIGNiTmFtZSA9IGdldEV2ZW50TmFtZSgnb25Ub3VjaCcsIHN0YXR1cyk7XG4gICAgICAgICAgICBpZiAoY2JOYW1lIGluIF90aGlzLnByb3BzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHNbY2JOYW1lXShlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuX2hhbmRsZVRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMudHJpZ2dlclVzZXJDYignc3RhcnQnLCBlKTtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50ID0gZTtcbiAgICAgICAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmluaXRHZXN0dXJlU3RhdHVzKGUpO1xuICAgICAgICAgICAgX3RoaXMuaW5pdFByZXNzVGltZXIoKTtcbiAgICAgICAgICAgIF90aGlzLmNoZWNrSWZNdWx0aVRvdWNoU3RhcnQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaW5pdEdlc3R1cmVTdGF0dXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMuY2xlYW5HZXN0dXJlU3RhdGUoKTtcbiAgICAgICAgICAgIC8vIHN0b3JlIHRoZSBnZXN0dXJlIHN0YXJ0IHN0YXRlXG4gICAgICAgICAgICB2YXIgc3RhcnRUb3VjaGVzID0gX3RoaXMuZ2V0VG91Y2hlcyhlKTtcbiAgICAgICAgICAgIHZhciBzdGFydFRpbWUgPSBub3coKTtcbiAgICAgICAgICAgIHZhciBzdGFydE11dGxpRmluZ2VyU3RhdHVzID0gY2FsY011dGxpRmluZ2VyU3RhdHVzKHN0YXJ0VG91Y2hlcyk7XG4gICAgICAgICAgICBfdGhpcy5zZXRHZXN0dXJlU3RhdGUoe1xuICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIHN0YXJ0VG91Y2hlczogc3RhcnRUb3VjaGVzLFxuICAgICAgICAgICAgICAgIHN0YXJ0TXV0bGlGaW5nZXJTdGF0dXM6IHN0YXJ0TXV0bGlGaW5nZXJTdGF0dXMsXG4gICAgICAgICAgICAgICAgLyogY29weSBmb3IgbmV4dCB0aW1lIHRvdWNoIG1vdmUgY2FsYSBjb252ZW5pZW50Ki9cbiAgICAgICAgICAgICAgICB0aW1lOiBzdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgdG91Y2hlczogc3RhcnRUb3VjaGVzLFxuICAgICAgICAgICAgICAgIG11dGxpRmluZ2VyU3RhdHVzOiBzdGFydE11dGxpRmluZ2VyU3RhdHVzLFxuICAgICAgICAgICAgICAgIHNyY0V2ZW50OiBfdGhpcy5ldmVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmNoZWNrSWZNdWx0aVRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBlbmFibGVQaW5jaCA9IF90aGlzJHByb3BzLmVuYWJsZVBpbmNoLFxuICAgICAgICAgICAgICAgIGVuYWJsZVJvdGF0ZSA9IF90aGlzJHByb3BzLmVuYWJsZVJvdGF0ZTtcbiAgICAgICAgICAgIHZhciB0b3VjaGVzID0gX3RoaXMuZ2VzdHVyZS50b3VjaGVzO1xuXG4gICAgICAgICAgICBpZiAodG91Y2hlcy5sZW5ndGggPiAxICYmIChlbmFibGVQaW5jaCB8fCBlbmFibGVSb3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVuYWJsZVBpbmNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydE11dGxpRmluZ2VyU3RhdHVzID0gY2FsY011dGxpRmluZ2VyU3RhdHVzKHRvdWNoZXMpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRHZXN0dXJlU3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNdXRsaUZpbmdlclN0YXR1czogc3RhcnRNdXRsaUZpbmdlclN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGluaXQgcGluY2ggc3RhdHVzICovXG4gICAgICAgICAgICAgICAgICAgICAgICBwaW5jaDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiAxXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ29tYmluZUV2ZW50KCdvblBpbmNoJywgJ3N0YXJ0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbmFibGVSb3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0R2VzdHVyZVN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGluaXQgcm90YXRlIHN0YXR1cyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJDb21iaW5lRXZlbnQoJ29uUm90YXRlJywgJ3N0YXJ0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5faGFuZGxlVG91Y2hNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLnRyaWdnZXJVc2VyQ2IoJ21vdmUnLCBlKTtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50ID0gZTtcbiAgICAgICAgICAgIGlmICghX3RoaXMuZ2VzdHVyZSkge1xuICAgICAgICAgICAgICAgIC8vIHNvbWV0aW1lcyB3ZWlyZCBoYXBwZW46IHRvdWNoc3RhcnQgLT4gdG91Y2htb3ZlLi50b3VjaG1vdmUuLiAtLT4gdG91Y2hlbmQgLS0+IHRvdWNobW92ZSAtLT4gdG91Y2hlbmRcbiAgICAgICAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIHNraXAgdGhlIHVubm9ybWFsIGV2ZW50IGN5Y2xlIGFmdGVyIHRvdWNoZW5kXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm90IGEgbG9uZyBwcmVzc1xuICAgICAgICAgICAgX3RoaXMuY2xlYW5QcmVzc1RpbWVyKCk7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVHZXN0dXJlU3RhdHVzKGUpO1xuICAgICAgICAgICAgX3RoaXMuY2hlY2tJZlNpbmdsZVRvdWNoTW92ZSgpO1xuICAgICAgICAgICAgX3RoaXMuY2hlY2tJZk11bHRpVG91Y2hNb3ZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmNoZWNrSWZNdWx0aVRvdWNoTW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyRnZXN0dXJlID0gX3RoaXMuZ2VzdHVyZSxcbiAgICAgICAgICAgICAgICBwaW5jaCA9IF90aGlzJGdlc3R1cmUucGluY2gsXG4gICAgICAgICAgICAgICAgcm90YXRlID0gX3RoaXMkZ2VzdHVyZS5yb3RhdGUsXG4gICAgICAgICAgICAgICAgdG91Y2hlcyA9IF90aGlzJGdlc3R1cmUudG91Y2hlcyxcbiAgICAgICAgICAgICAgICBzdGFydE11dGxpRmluZ2VyU3RhdHVzID0gX3RoaXMkZ2VzdHVyZS5zdGFydE11dGxpRmluZ2VyU3RhdHVzLFxuICAgICAgICAgICAgICAgIG11dGxpRmluZ2VyU3RhdHVzID0gX3RoaXMkZ2VzdHVyZS5tdXRsaUZpbmdlclN0YXR1cztcblxuICAgICAgICAgICAgaWYgKCFwaW5jaCAmJiAhcm90YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvdWNoZXMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldEdlc3R1cmVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHBpbmNoOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFRvZG86IDIgZmluZ2VyIC0+IDEgZmluZ2VyLCB3YWl0IHRvIHRlc3QgdGhpcyBzaXR1YXRpb25cbiAgICAgICAgICAgICAgICBwaW5jaCAmJiBfdGhpcy50cmlnZ2VyQ29tYmluZUV2ZW50KCdvblBpbmNoJywgJ2NhbmNlbCcpO1xuICAgICAgICAgICAgICAgIHJvdGF0ZSAmJiBfdGhpcy50cmlnZ2VyQ29tYmluZUV2ZW50KCdvblJvdGF0ZScsICdjYW5jZWwnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGluY2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NhbGUgPSBtdXRsaUZpbmdlclN0YXR1cy56IC8gc3RhcnRNdXRsaUZpbmdlclN0YXR1cy56O1xuICAgICAgICAgICAgICAgIF90aGlzLnNldEdlc3R1cmVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJQaW5jaEV2ZW50KCdvblBpbmNoJywgJ21vdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3RhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcm90YXRpb24gPSBjYWxjUm90YXRpb24oc3RhcnRNdXRsaUZpbmdlclN0YXR1cywgbXV0bGlGaW5nZXJTdGF0dXMpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldEdlc3R1cmVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJDb21iaW5lRXZlbnQoJ29uUm90YXRlJywgJ21vdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuYWxsb3dHZXN0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNob3VsZFRyaWdnZXJEaXJlY3Rpb24oX3RoaXMuZ2VzdHVyZS5kaXJlY3Rpb24sIF90aGlzLmRpcmVjdGlvblNldHRpbmcpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5jaGVja0lmU2luZ2xlVG91Y2hNb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzJGdlc3R1cmUyID0gX3RoaXMuZ2VzdHVyZSxcbiAgICAgICAgICAgICAgICBwYW4gPSBfdGhpcyRnZXN0dXJlMi5wYW4sXG4gICAgICAgICAgICAgICAgdG91Y2hlcyA9IF90aGlzJGdlc3R1cmUyLnRvdWNoZXMsXG4gICAgICAgICAgICAgICAgbW92ZVN0YXR1cyA9IF90aGlzJGdlc3R1cmUyLm1vdmVTdGF0dXMsXG4gICAgICAgICAgICAgICAgcHJlVG91Y2hlcyA9IF90aGlzJGdlc3R1cmUyLnByZVRvdWNoZXMsXG4gICAgICAgICAgICAgICAgX3RoaXMkZ2VzdHVyZTIkYXZhaWxhID0gX3RoaXMkZ2VzdHVyZTIuYXZhaWxhYmxlUGFuLFxuICAgICAgICAgICAgICAgIGF2YWlsYWJsZVBhbiA9IF90aGlzJGdlc3R1cmUyJGF2YWlsYSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF90aGlzJGdlc3R1cmUyJGF2YWlsYTtcblxuICAgICAgICAgICAgaWYgKHRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldEdlc3R1cmVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHBhbjogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBUb2RvOiAxIGZpbmdlciAtPiAyIGZpbmdlciwgd2FpdCB0byB0ZXN0IHRoaXMgc2l0dWF0aW9uXG4gICAgICAgICAgICAgICAgcGFuICYmIF90aGlzLnRyaWdnZXJDb21iaW5lRXZlbnQoJ29uUGFuJywgJ2NhbmNlbCcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFkZCBhdmlsYWJsZVBhbiBjb25kaXRpb24gdG8gZml4IHRoZSBjYXNlIGluIHNjcm9sbGluZywgd2hpY2ggd2lsbCBjYXVzZSB1bmF2YWlsYWJsZSBwYW4gbW92ZS5cbiAgICAgICAgICAgIGlmIChtb3ZlU3RhdHVzICYmIGF2YWlsYWJsZVBhbikge1xuICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBnZXRNb3ZpbmdEaXJlY3Rpb24ocHJlVG91Y2hlc1swXSwgdG91Y2hlc1swXSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0R2VzdHVyZVN0YXRlKHsgZGlyZWN0aW9uOiBkaXJlY3Rpb24gfSk7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGdldERpcmVjdGlvbkV2ZW50TmFtZShkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIGlmICghX3RoaXMuYWxsb3dHZXN0dXJlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGZpcnN0IG1vdmUgaXMgdW5hdmFpbGFibGUsIHRoZW4ganVkZ2UgYWxsIG9mIHJlbWFpbmluZyB0b3VjaCBtb3ZpbmdzIGFyZSBhbHNvIGludmFsaWQuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRHZXN0dXJlU3RhdGUoeyBhdmFpbGFibGVQYW46IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJpZ2dlckNvbWJpbmVFdmVudCgnb25QYW4nLCAnc3RhcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0R2VzdHVyZVN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVBhbjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ29tYmluZUV2ZW50KCdvblBhbicsIGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJTdWJFdmVudCgnb25QYW4nLCAnbW92ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuY2hlY2tJZk11bHRpVG91Y2hFbmQgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkZ2VzdHVyZTMgPSBfdGhpcy5nZXN0dXJlLFxuICAgICAgICAgICAgICAgIHBpbmNoID0gX3RoaXMkZ2VzdHVyZTMucGluY2gsXG4gICAgICAgICAgICAgICAgcm90YXRlID0gX3RoaXMkZ2VzdHVyZTMucm90YXRlO1xuXG4gICAgICAgICAgICBpZiAocGluY2gpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ29tYmluZUV2ZW50KCdvblBpbmNoJywgc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3RhdGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ29tYmluZUV2ZW50KCdvblJvdGF0ZScsIHN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnVwZGF0ZUdlc3R1cmVTdGF0dXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgICAgIF90aGlzLnNldEdlc3R1cmVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdGltZTogdGltZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWUudG91Y2hlcyB8fCAhZS50b3VjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfdGhpcyRnZXN0dXJlNCA9IF90aGlzLmdlc3R1cmUsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gX3RoaXMkZ2VzdHVyZTQuc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIHN0YXJ0VG91Y2hlcyA9IF90aGlzJGdlc3R1cmU0LnN0YXJ0VG91Y2hlcyxcbiAgICAgICAgICAgICAgICBwaW5jaCA9IF90aGlzJGdlc3R1cmU0LnBpbmNoLFxuICAgICAgICAgICAgICAgIHJvdGF0ZSA9IF90aGlzJGdlc3R1cmU0LnJvdGF0ZTtcblxuICAgICAgICAgICAgdmFyIHRvdWNoZXMgPSBfdGhpcy5nZXRUb3VjaGVzKGUpO1xuICAgICAgICAgICAgdmFyIG1vdmVTdGF0dXMgPSBjYWxjTW92ZVN0YXR1cyhzdGFydFRvdWNoZXMsIHRvdWNoZXMsIHRpbWUgLSBzdGFydFRpbWUpO1xuICAgICAgICAgICAgdmFyIG11dGxpRmluZ2VyU3RhdHVzID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHBpbmNoIHx8IHJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIG11dGxpRmluZ2VyU3RhdHVzID0gY2FsY011dGxpRmluZ2VyU3RhdHVzKHRvdWNoZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2V0R2VzdHVyZVN0YXRlKHtcbiAgICAgICAgICAgICAgICAvKiB1cGRhdGUgc3RhdHVzIHNuYXBzaG90ICovXG4gICAgICAgICAgICAgICAgdG91Y2hlczogdG91Y2hlcyxcbiAgICAgICAgICAgICAgICBtdXRsaUZpbmdlclN0YXR1czogbXV0bGlGaW5nZXJTdGF0dXMsXG4gICAgICAgICAgICAgICAgLyogdXBkYXRlIGR1cmF0aW9uIHN0YXR1cyAqL1xuICAgICAgICAgICAgICAgIG1vdmVTdGF0dXM6IG1vdmVTdGF0dXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5faGFuZGxlVG91Y2hFbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMudHJpZ2dlclVzZXJDYignZW5kJywgZSk7XG4gICAgICAgICAgICBfdGhpcy5ldmVudCA9IGU7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmdlc3R1cmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5jbGVhblByZXNzVGltZXIoKTtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUdlc3R1cmVTdGF0dXMoZSk7XG4gICAgICAgICAgICBfdGhpcy5kb1NpbmdsZVRvdWNoRW5kKCdlbmQnKTtcbiAgICAgICAgICAgIF90aGlzLmNoZWNrSWZNdWx0aVRvdWNoRW5kKCdlbmQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuX2hhbmRsZVRvdWNoQ2FuY2VsID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLnRyaWdnZXJVc2VyQ2IoJ2NhbmNlbCcsIGUpO1xuICAgICAgICAgICAgX3RoaXMuZXZlbnQgPSBlO1xuICAgICAgICAgICAgLy8gVG9kbzogd2FpdCB0byB0ZXN0IGNhbmNlbCBjYXNlXG4gICAgICAgICAgICBpZiAoIV90aGlzLmdlc3R1cmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5jbGVhblByZXNzVGltZXIoKTtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUdlc3R1cmVTdGF0dXMoZSk7XG4gICAgICAgICAgICBfdGhpcy5kb1NpbmdsZVRvdWNoRW5kKCdjYW5jZWwnKTtcbiAgICAgICAgICAgIF90aGlzLmNoZWNrSWZNdWx0aVRvdWNoRW5kKCdjYW5jZWwnKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudHJpZ2dlckFsbG93RXZlbnQgPSBmdW5jdGlvbiAodHlwZSwgc3RhdHVzKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuYWxsb3dHZXN0dXJlKCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ29tYmluZUV2ZW50KHR5cGUsIHN0YXR1cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJTdWJFdmVudCh0eXBlLCBzdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5kb1NpbmdsZVRvdWNoRW5kID0gZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgICAgICAgdmFyIF90aGlzJGdlc3R1cmU1ID0gX3RoaXMuZ2VzdHVyZSxcbiAgICAgICAgICAgICAgICBtb3ZlU3RhdHVzID0gX3RoaXMkZ2VzdHVyZTUubW92ZVN0YXR1cyxcbiAgICAgICAgICAgICAgICBwaW5jaCA9IF90aGlzJGdlc3R1cmU1LnBpbmNoLFxuICAgICAgICAgICAgICAgIHJvdGF0ZSA9IF90aGlzJGdlc3R1cmU1LnJvdGF0ZSxcbiAgICAgICAgICAgICAgICBwcmVzcyA9IF90aGlzJGdlc3R1cmU1LnByZXNzLFxuICAgICAgICAgICAgICAgIHBhbiA9IF90aGlzJGdlc3R1cmU1LnBhbixcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBfdGhpcyRnZXN0dXJlNS5kaXJlY3Rpb247XG5cbiAgICAgICAgICAgIGlmIChwaW5jaCB8fCByb3RhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW92ZVN0YXR1cykge1xuICAgICAgICAgICAgICAgIHZhciB6ID0gbW92ZVN0YXR1cy56LFxuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eSA9IG1vdmVTdGF0dXMudmVsb2NpdHk7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3dpcGUgPSBzaG91bGRUcmlnZ2VyU3dpcGUoeiwgdmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldEdlc3R1cmVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHN3aXBlOiBzd2lwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFuIG5lZWQgZW5kLCBpdCdzIGEgcHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICAvLyBzb21ldGltZXMsIHN0YXJ0IHdpdGggcGFuIGxlZnQsIGJ1dCBlbmQgd2l0aCBwYW4gcmlnaHQuLi4uXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJBbGxvd0V2ZW50KCdvblBhbicsIHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzd2lwZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uRXZOYW1lID0gZ2V0RGlyZWN0aW9uRXZlbnROYW1lKGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN3aXBlIGp1c3QgbmVlZCBhIGRpcmVjdGlvbiwgaXQncyBhIGVuZHBvaW50XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJBbGxvd0V2ZW50KCdvblN3aXBlJywgZGlyZWN0aW9uRXZOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmVzcykge1xuICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJFdmVudCgnb25QcmVzc1VwJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMudHJpZ2dlckV2ZW50KCdvblRhcCcpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRUb3VjaEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBlbmFibGVQaW5jaCA9IF90aGlzJHByb3BzMi5lbmFibGVQaW5jaCxcbiAgICAgICAgICAgICAgICBlbmFibGVSb3RhdGUgPSBfdGhpcyRwcm9wczIuZW5hYmxlUm90YXRlO1xuICAgICAgICAgICAgdmFyIGRpcmVjdGlvblNldHRpbmcgPSBfdGhpcy5kaXJlY3Rpb25TZXR0aW5nO1xuXG4gICAgICAgICAgICBpZiAoZW5hYmxlUGluY2ggfHwgZW5hYmxlUm90YXRlIHx8IGRpcmVjdGlvblNldHRpbmcgPT09IERJUkVDVElPTl9BTEwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3Bhbi14IHBhbi15JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb25TZXR0aW5nID09PSBESVJFQ1RJT05fVkVSVElDQUwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3Bhbi14JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb25TZXR0aW5nID09PSBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAncGFuLXknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICdhdXRvJztcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZGlyZWN0aW9uU2V0dGluZyA9IGRpcmVjdGlvbk1hcFtwcm9wcy5kaXJlY3Rpb25dO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEdlc3R1cmUsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy5jbGVhblByZXNzVGltZXIoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIHZhciBjaGlsZCA9IFJlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pO1xuICAgICAgICAgICAgdmFyIHRvdWNoQWN0aW9uID0gdGhpcy5nZXRUb3VjaEFjdGlvbigpO1xuICAgICAgICAgICAgdmFyIGV2ZW50cyA9IHtcbiAgICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuX2hhbmRsZVRvdWNoU3RhcnQsXG4gICAgICAgICAgICAgICAgb25Ub3VjaE1vdmU6IHRoaXMuX2hhbmRsZVRvdWNoTW92ZSxcbiAgICAgICAgICAgICAgICBvblRvdWNoQ2FuY2VsOiB0aGlzLl9oYW5kbGVUb3VjaENhbmNlbCxcbiAgICAgICAgICAgICAgICBvblRvdWNoRW5kOiB0aGlzLl9oYW5kbGVUb3VjaEVuZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIF9leHRlbmRzKHt9LCBldmVudHMsIHsgc3R5bGU6IF9leHRlbmRzKHsgdG91Y2hBY3Rpb246IHRvdWNoQWN0aW9uIH0sIGNoaWxkLnByb3BzLnN0eWxlIHx8IHt9KSB9KSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gR2VzdHVyZTtcbn0oQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgR2VzdHVyZTtcblxuR2VzdHVyZS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZW5hYmxlUm90YXRlOiBmYWxzZSxcbiAgICBlbmFibGVQaW5jaDogZmFsc2UsXG4gICAgZGlyZWN0aW9uOiAnYWxsJ1xufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IEdlc3R1cmUgZnJvbSAncmMtZ2VzdHVyZSc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L21hdGNoZXNcbi8vIGh0dHA6Ly9jYW5pdXNlLmNvbS8jc2VhcmNoPW1hdGNoXG5mdW5jdGlvbiBjbG9zZXN0KGVsLCBzZWxlY3Rvcikge1xuICAgIHZhciBtYXRjaGVzU2VsZWN0b3IgPSBlbC5tYXRjaGVzIHx8IGVsLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBlbC5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgZWwubXNNYXRjaGVzU2VsZWN0b3I7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICAgIGlmIChtYXRjaGVzU2VsZWN0b3IuY2FsbChlbCwgc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBTd2lwZW91dCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFN3aXBlb3V0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFN3aXBlb3V0KHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTd2lwZW91dCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFN3aXBlb3V0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3dpcGVvdXQpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMub25DbG9zZVN3aXBlID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICBpZiAoIShfdGhpcy5vcGVuZWRMZWZ0IHx8IF90aGlzLm9wZW5lZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwTm9kZSA9IGNsb3Nlc3QoZXYudGFyZ2V0LCAnLicgKyBfdGhpcy5wcm9wcy5wcmVmaXhDbHMgKyAnLWFjdGlvbnMnKTtcbiAgICAgICAgICAgIGlmICghcE5vZGUpIHtcbiAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uUGFuU3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGUuZGlyZWN0aW9uLFxuICAgICAgICAgICAgICAgIG1vdmVTdGF0dXMgPSBlLm1vdmVTdGF0dXM7XG4gICAgICAgICAgICB2YXIgZGVsdGFYID0gbW92ZVN0YXR1cy54O1xuICAgICAgICAgICAgLy8gaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby9hcGkvI2RpcmVjdGlvbnNcblxuICAgICAgICAgICAgdmFyIGlzTGVmdCA9IGRpcmVjdGlvbiA9PT0gMjtcbiAgICAgICAgICAgIHZhciBpc1JpZ2h0ID0gZGlyZWN0aW9uID09PSA0O1xuICAgICAgICAgICAgaWYgKCFpc0xlZnQgJiYgIWlzUmlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBsZWZ0ID0gX3RoaXMkcHJvcHMubGVmdCxcbiAgICAgICAgICAgICAgICByaWdodCA9IF90aGlzJHByb3BzLnJpZ2h0O1xuXG4gICAgICAgICAgICBfdGhpcy5uZWVkU2hvd1JpZ2h0ID0gaXNMZWZ0ICYmIHJpZ2h0Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBfdGhpcy5uZWVkU2hvd0xlZnQgPSBpc1JpZ2h0ICYmIGxlZnQubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIGlmIChfdGhpcy5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubGVmdC5zdHlsZS52aXNpYmlsaXR5ID0gX3RoaXMubmVlZFNob3dSaWdodCA/ICdoaWRkZW4nIDogJ3Zpc2libGUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLnJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmlnaHQuc3R5bGUudmlzaWJpbGl0eSA9IF90aGlzLm5lZWRTaG93TGVmdCA/ICdoaWRkZW4nIDogJ3Zpc2libGUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLm5lZWRTaG93TGVmdCB8fCBfdGhpcy5uZWVkU2hvd1JpZ2h0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3dpcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBzd2lwaW5nOiBfdGhpcy5zd2lwaW5nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3NldFN0eWxlKGRlbHRhWCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uUGFuTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgbW92ZVN0YXR1cyA9IGUubW92ZVN0YXR1cyxcbiAgICAgICAgICAgICAgICBzcmNFdmVudCA9IGUuc3JjRXZlbnQ7XG4gICAgICAgICAgICB2YXIgZGVsdGFYID0gbW92ZVN0YXR1cy54O1xuXG4gICAgICAgICAgICBpZiAoIV90aGlzLnN3aXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmaXhlZCBzY3JvbGwgd2hlbiBpdCdzIHBhbiBhbmQgbW92aW5nLlxuICAgICAgICAgICAgaWYgKHNyY0V2ZW50ICYmIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl9zZXRTdHlsZShkZWx0YVgpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vblBhbkVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLnN3aXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbW92ZVN0YXR1cyA9IGUubW92ZVN0YXR1cztcbiAgICAgICAgICAgIHZhciBkZWx0YVggPSBtb3ZlU3RhdHVzLng7XG5cbiAgICAgICAgICAgIHZhciBuZWVkT3BlblJpZ2h0ID0gX3RoaXMubmVlZFNob3dSaWdodCAmJiBNYXRoLmFicyhkZWx0YVgpID4gX3RoaXMuYnRuc1JpZ2h0V2lkdGggLyAyO1xuICAgICAgICAgICAgdmFyIG5lZWRPcGVuTGVmdCA9IF90aGlzLm5lZWRTaG93TGVmdCAmJiBNYXRoLmFicyhkZWx0YVgpID4gX3RoaXMuYnRuc0xlZnRXaWR0aCAvIDI7XG4gICAgICAgICAgICBpZiAobmVlZE9wZW5SaWdodCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRvT3BlblJpZ2h0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5lZWRPcGVuTGVmdCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRvT3BlbkxlZnQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnN3aXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzd2lwaW5nOiBfdGhpcy5zd2lwaW5nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLm5lZWRTaG93TGVmdCA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMubmVlZFNob3dSaWdodCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5kb09wZW5MZWZ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMub3BlbihfdGhpcy5idG5zTGVmdFdpZHRoLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmRvT3BlblJpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMub3BlbigtX3RoaXMuYnRuc1JpZ2h0V2lkdGgsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gc2V0IGNvbnRlbnQgJiBhY3Rpb25zIHN0eWxlXG4gICAgICAgIF90aGlzLl9zZXRTdHlsZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGxpbWl0ID0gdmFsdWUgPiAwID8gX3RoaXMuYnRuc0xlZnRXaWR0aCA6IC1fdGhpcy5idG5zUmlnaHRXaWR0aDtcbiAgICAgICAgICAgIHZhciBjb250ZW50TGVmdCA9IF90aGlzLl9nZXRDb250ZW50RWFzaW5nKHZhbHVlLCBsaW1pdCk7XG4gICAgICAgICAgICBfdGhpcy5jb250ZW50LnN0eWxlLmxlZnQgPSBjb250ZW50TGVmdCArICdweCc7XG4gICAgICAgICAgICBpZiAoX3RoaXMuY292ZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb3Zlci5zdHlsZS5kaXNwbGF5ID0gTWF0aC5hYnModmFsdWUpID4gMCA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgICAgICAgICAgX3RoaXMuY292ZXIuc3R5bGUubGVmdCA9IGNvbnRlbnRMZWZ0ICsgJ3B4JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub3BlbiA9IGZ1bmN0aW9uICh2YWx1ZSwgb3BlbmVkTGVmdCwgb3BlbmVkUmlnaHQpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMub3BlbmVkTGVmdCAmJiAhX3RoaXMub3BlbmVkUmlnaHQgJiYgX3RoaXMucHJvcHMub25PcGVuKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25PcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5vcGVuZWRMZWZ0ID0gb3BlbmVkTGVmdDtcbiAgICAgICAgICAgIF90aGlzLm9wZW5lZFJpZ2h0ID0gb3BlbmVkUmlnaHQ7XG4gICAgICAgICAgICBfdGhpcy5fc2V0U3R5bGUodmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICgoX3RoaXMub3BlbmVkTGVmdCB8fCBfdGhpcy5vcGVuZWRSaWdodCkgJiYgX3RoaXMucHJvcHMub25DbG9zZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl9zZXRTdHlsZSgwKTtcbiAgICAgICAgICAgIF90aGlzLm9wZW5lZExlZnQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLm9wZW5lZFJpZ2h0ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uVG91Y2hNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zd2lwaW5nKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHN3aXBpbmc6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9wZW5lZExlZnQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMub3BlbmVkUmlnaHQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhTd2lwZW91dCwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLmJ0bnNMZWZ0V2lkdGggPSB0aGlzLmxlZnQgPyB0aGlzLmxlZnQub2Zmc2V0V2lkdGggOiAwO1xuICAgICAgICAgICAgdGhpcy5idG5zUmlnaHRXaWR0aCA9IHRoaXMucmlnaHQgPyB0aGlzLnJpZ2h0Lm9mZnNldFdpZHRoIDogMDtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25DbG9zZVN3aXBlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uQ2xvc2VTd2lwZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGVmdCAmIHJpZ2h0IGJ1dHRvbiBjbGlja1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdvbkJ0bkNsaWNrJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQnRuQ2xpY2soZXYsIGJ0bikge1xuICAgICAgICAgICAgdmFyIG9uUHJlc3MgPSBidG4ub25QcmVzcztcbiAgICAgICAgICAgIGlmIChvblByZXNzKSB7XG4gICAgICAgICAgICAgICAgb25QcmVzcyhldik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5hdXRvQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19nZXRDb250ZW50RWFzaW5nJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRDb250ZW50RWFzaW5nKHZhbHVlLCBsaW1pdCkge1xuICAgICAgICAgICAgLy8gbGltaXQgY29udGVudCBzdHlsZSBsZWZ0IHdoZW4gdmFsdWUgPiBhY3Rpb25zIHdpZHRoXG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyh2YWx1ZSkgLSBNYXRoLmFicyhsaW1pdCk7XG4gICAgICAgICAgICB2YXIgaXNPdmVyZmxvdyA9IGRlbHRhID4gMDtcbiAgICAgICAgICAgIHZhciBmYWN0b3IgPSBsaW1pdCA+IDAgPyAxIDogLTE7XG4gICAgICAgICAgICBpZiAoaXNPdmVyZmxvdykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbGltaXQgKyBNYXRoLnBvdyhkZWx0YSwgMC44NSkgKiBmYWN0b3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHZhbHVlKSA+IE1hdGguYWJzKGxpbWl0KSA/IGxpbWl0IDogdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlckJ1dHRvbnMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyQnV0dG9ucyhidXR0b25zLCBfcmVmKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHByZWZpeENscyA9IHRoaXMucHJvcHMucHJlZml4Q2xzO1xuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnMgJiYgYnV0dG9ucy5sZW5ndGggPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWFjdGlvbnMgJyArIHByZWZpeENscyArICctYWN0aW9ucy0nICsgX3JlZiwgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczJbX3JlZl0gPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgIGJ1dHRvbnMubWFwKGZ1bmN0aW9uIChidG4sIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBpLCBjbGFzc05hbWU6IHByZWZpeENscyArICctYnRuICcgKyAoYnRuLmhhc093blByb3BlcnR5KCdjbGFzc05hbWUnKSA/IGJ0bi5jbGFzc05hbWUgOiAnJyksIHN0eWxlOiBidG4uc3R5bGUsIHJvbGU6ICdidXR0b24nLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkJ0bkNsaWNrKGUsIGJ0bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1idG4tdGV4dCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG4udGV4dCB8fCAnQ2xpY2snXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGxlZnQgPSBfYS5sZWZ0LFxuICAgICAgICAgICAgICAgIHJpZ2h0ID0gX2EucmlnaHQsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wicHJlZml4Q2xzXCIsIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwiZGlzYWJsZWRcIiwgXCJjaGlsZHJlblwiXSk7XG4gICAgICAgICAgICB2YXIgYXV0b0Nsb3NlID0gcmVzdFByb3BzLmF1dG9DbG9zZSxcbiAgICAgICAgICAgICAgICBvbk9wZW4gPSByZXN0UHJvcHMub25PcGVuLFxuICAgICAgICAgICAgICAgIG9uQ2xvc2UgPSByZXN0UHJvcHMub25DbG9zZSxcbiAgICAgICAgICAgICAgICBkaXZQcm9wcyA9IF9fcmVzdChyZXN0UHJvcHMsIFtcImF1dG9DbG9zZVwiLCBcIm9uT3BlblwiLCBcIm9uQ2xvc2VcIl0pO1xuXG4gICAgICAgICAgICB2YXIgY2xzID0gY2xhc3NuYW1lcyhwcmVmaXhDbHMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcHJlZml4Q2xzICsgJy1zd2lwaW5nJywgdGhpcy5zdGF0ZS5zd2lwaW5nKSk7XG4gICAgICAgICAgICB2YXIgcmVmUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jb250ZW50ID0gUmVhY3RET00uZmluZERPTU5vZGUoZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gKGxlZnQubGVuZ3RoIHx8IHJpZ2h0Lmxlbmd0aCkgJiYgIWRpc2FibGVkID8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IGNsYXNzTmFtZTogY2xzIH0sIGRpdlByb3BzKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb3ZlcicsIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmNvdmVyID0gZWw7XG4gICAgICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCdXR0b25zKGxlZnQsICdsZWZ0JyksXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCdXR0b25zKHJpZ2h0LCAncmlnaHQnKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBHZXN0dXJlLFxuICAgICAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7IG9uVG91Y2hNb3ZlOiB0aGlzLm9uVG91Y2hNb3ZlLCBvblBhblN0YXJ0OiB0aGlzLm9uUGFuU3RhcnQsIG9uUGFuTW92ZTogdGhpcy5vblBhbk1vdmUsIG9uUGFuRW5kOiB0aGlzLm9uUGFuRW5kLCBvblBhbkNhbmNlbDogdGhpcy5vblBhbkVuZCwgb25Td2lwZUxlZnQ6IHRoaXMuZG9PcGVuUmlnaHQsIG9uU3dpcGVSaWdodDogdGhpcy5kb09wZW5MZWZ0LCBkaXJlY3Rpb246ICdob3Jpem9udGFsJyB9LCByZWZQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbnRlbnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgX2V4dGVuZHMoe30sIHJlZlByb3BzLCBkaXZQcm9wcyksXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU3dpcGVvdXQ7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFN3aXBlb3V0O1xuXG5Td2lwZW91dC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAncmMtc3dpcGVvdXQnLFxuICAgIGF1dG9DbG9zZTogZmFsc2UsXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIGxlZnQ6IFtdLFxuICAgIHJpZ2h0OiBbXSxcbiAgICBvbk9wZW46IGZ1bmN0aW9uIG9uT3BlbigpIHt9LFxuICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7fVxufTsiLCJpbXBvcnQgU3dpcGVvdXQgZnJvbSAnLi9Td2lwZW91dCc7XG5leHBvcnQgZGVmYXVsdCBTd2lwZW91dDsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgU3dpcGVvdXQgZnJvbSAncmMtc3dpcGVvdXQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIFN3aXBlQWN0aW9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFN3aXBlQWN0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTd2lwZUFjdGlvbigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3dpcGVBY3Rpb24pO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTd2lwZUFjdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFN3aXBlQWN0aW9uKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU3dpcGVBY3Rpb24sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgIF9wcm9wcyRsZWZ0ID0gX3Byb3BzLmxlZnQsXG4gICAgICAgICAgbGVmdCA9IF9wcm9wcyRsZWZ0ID09PSB1bmRlZmluZWQgPyBbXSA6IF9wcm9wcyRsZWZ0LFxuICAgICAgICAgIF9wcm9wcyRyaWdodCA9IF9wcm9wcy5yaWdodCxcbiAgICAgICAgICByaWdodCA9IF9wcm9wcyRyaWdodCA9PT0gdW5kZWZpbmVkID8gW10gOiBfcHJvcHMkcmlnaHQsXG4gICAgICAgICAgYXV0b0Nsb3NlID0gX3Byb3BzLmF1dG9DbG9zZSxcbiAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICBvbk9wZW4gPSBfcHJvcHMub25PcGVuLFxuICAgICAgICAgIG9uQ2xvc2UgPSBfcHJvcHMub25DbG9zZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbjtcblxuICAgICAgdmFyIHdyYXBDbGFzcyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzLCBjbGFzc05hbWUpO1xuICAgICAgcmV0dXJuIGxlZnQubGVuZ3RoIHx8IHJpZ2h0Lmxlbmd0aCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBzdHlsZSwgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBTd2lwZW91dCxcbiAgICAgICAgICB7IHByZWZpeENsczogcHJlZml4Q2xzLCBsZWZ0OiBsZWZ0LCByaWdodDogcmlnaHQsIGF1dG9DbG9zZTogYXV0b0Nsb3NlLCBkaXNhYmxlZDogZGlzYWJsZWQsIG9uT3Blbjogb25PcGVuLCBvbkNsb3NlOiBvbkNsb3NlIH0sXG4gICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgKVxuICAgICAgKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiBzdHlsZSwgY2xhc3NOYW1lOiB3cmFwQ2xhc3MgfSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN3aXBlQWN0aW9uO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5Td2lwZUFjdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIHByZWZpeENsczogJ2FtLXN3aXBlJyxcbiAgYXV0b0Nsb3NlOiBmYWxzZSxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBsZWZ0OiBbXSxcbiAgcmlnaHQ6IFtdLFxuICBvbk9wZW46IGZ1bmN0aW9uIG9uT3BlbigpIHt9LFxuICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge31cbn07XG5leHBvcnQgZGVmYXVsdCBTd2lwZUFjdGlvbjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgU3dpdGNoID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoU3dpdGNoLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFN3aXRjaCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN3aXRjaCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFN3aXRjaC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFN3aXRjaCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKGNoZWNrZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsaWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cHJlZmVyLWNvbmRpdGlvbmFsLWV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICBpZiAoZSAmJiBlLnRhcmdldCAmJiBlLnRhcmdldC5jaGVja2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSBfdGhpcy5wcm9wcy5jaGVja2VkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkNsaWNrKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU3dpdGNoLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgbmFtZSA9IF9hLm5hbWUsXG4gICAgICAgICAgICAgICAgY2hlY2tlZCA9IF9hLmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgcGxhdGZvcm0gPSBfYS5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBjb2xvciA9IF9hLmNvbG9yLFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wicHJlZml4Q2xzXCIsIFwibmFtZVwiLCBcImNoZWNrZWRcIiwgXCJkaXNhYmxlZFwiLCBcImNsYXNzTmFtZVwiLCBcInBsYXRmb3JtXCIsIFwiY29sb3JcIl0pO1xuICAgICAgICAgICAgdmFyIHdyYXBDbHMgPSBjbGFzc25hbWVzKHByZWZpeENscywgY2xhc3NOYW1lLCBfZGVmaW5lUHJvcGVydHkoe30sIHByZWZpeENscyArICctYW5kcm9pZCcsIHBsYXRmb3JtID09PSAnYW5kcm9pZCcpKTtcbiAgICAgICAgICAgIHZhciBmYWNrSW5wdXRDbHMgPSBjbGFzc25hbWVzKCdjaGVja2JveCcsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgJ2NoZWNrYm94LWRpc2FibGVkJywgZGlzYWJsZWQpKTtcbiAgICAgICAgICAgIHZhciBnbG9iYWxQcm9wcyA9IE9iamVjdC5rZXlzKHJlc3RQcm9wcykucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN1YnN0cigwLCA1KSA9PT0gJ2FyaWEtJyB8fCBrZXkuc3Vic3RyKDAsIDUpID09PSAnZGF0YS0nIHx8IGtleSA9PT0gJ3JvbGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZba2V5XSA9IHJlc3RQcm9wc1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMucHJvcHMuc3R5bGUgfHwge307XG4gICAgICAgICAgICBpZiAoY29sb3IgJiYgY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogd3JhcENscyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgX2V4dGVuZHMoeyB0eXBlOiAnY2hlY2tib3gnLCBuYW1lOiBuYW1lLCBjbGFzc05hbWU6IHByZWZpeENscyArICctY2hlY2tib3gnLCBkaXNhYmxlZDogZGlzYWJsZWQsIGNoZWNrZWQ6IGNoZWNrZWQsIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlLCB2YWx1ZTogY2hlY2tlZCA/ICdvbicgOiAnb2ZmJyB9LCAhZGlzYWJsZWQgPyB7IG9uQ2xpY2s6IHRoaXMub25DbGljayB9IDoge30sIGdsb2JhbFByb3BzKSksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgX2V4dGVuZHMoeyBjbGFzc05hbWU6IGZhY2tJbnB1dENscywgc3R5bGU6IHN0eWxlIH0sIGRpc2FibGVkID8geyBvbkNsaWNrOiB0aGlzLm9uQ2xpY2sgfSA6IHt9KSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU3dpdGNoO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBTd2l0Y2g7XG5cblN3aXRjaC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tc3dpdGNoJyxcbiAgICBuYW1lOiAnJyxcbiAgICBjaGVja2VkOiBmYWxzZSxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge30sXG5cbiAgICBwbGF0Zm9ybTogJ2lvcycsXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHt9XG59OyIsImV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1Qcm9wVmFsdWUodikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRyYW5zZm9ybTogdixcbiAgICAgICAgV2Via2l0VHJhbnNmb3JtOiB2LFxuICAgICAgICBNb3pUcmFuc2Zvcm06IHZcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFB4U3R5bGUodmFsdWUpIHtcbiAgICB2YXIgdW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ3B4JztcbiAgICB2YXIgdmVydGljYWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gICAgdmFsdWUgPSB2ZXJ0aWNhbCA/ICcwcHgsICcgKyB2YWx1ZSArIHVuaXQgKyAnLCAwcHgnIDogJycgKyB2YWx1ZSArIHVuaXQgKyAnLCAwcHgsIDBweCc7XG4gICAgcmV0dXJuICd0cmFuc2xhdGUzZCgnICsgdmFsdWUgKyAnKSc7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0UHhTdHlsZShlbCwgdmFsdWUpIHtcbiAgICB2YXIgdW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ3B4JztcbiAgICB2YXIgdmVydGljYWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuICAgIHZhciB1c2VMZWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBmYWxzZTtcblxuICAgIGlmICh1c2VMZWZ0KSB7XG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgZWwuc3R5bGUudG9wID0gJycgKyB2YWx1ZSArIHVuaXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbC5zdHlsZS5sZWZ0ID0gJycgKyB2YWx1ZSArIHVuaXQ7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUcmFuc2Zvcm0oZWwuc3R5bGUsIGdldFB4U3R5bGUodmFsdWUsIHVuaXQsIHZlcnRpY2FsKSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNldFRyYW5zZm9ybShzdHlsZSwgdikge1xuICAgIHN0eWxlLnRyYW5zZm9ybSA9IHY7XG4gICAgc3R5bGUud2Via2l0VHJhbnNmb3JtID0gdjtcbiAgICBzdHlsZS5tb3pUcmFuc2Zvcm0gPSB2O1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0UHhTdHlsZSwgZ2V0VHJhbnNmb3JtUHJvcFZhbHVlIH0gZnJvbSAnLi91dGlsJztcbmV4cG9ydCB2YXIgVGFiUGFuZSA9IGZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhUYWJQYW5lLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBUYWJQYW5lKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFiUGFuZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRhYlBhbmUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJQYW5lKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMub2Zmc2V0WCA9IDA7XG4gICAgICAgIF90aGlzLm9mZnNldFkgPSAwO1xuICAgICAgICBfdGhpcy5zZXRMYXlvdXQgPSBmdW5jdGlvbiAoZGl2KSB7XG4gICAgICAgICAgICBfdGhpcy5sYXlvdXQgPSBkaXY7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoVGFiUGFuZSwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlICE9PSBuZXh0UHJvcHMuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRQcm9wcy5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRZID0gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldFggPSB0aGlzLmxheW91dC5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldFkgPSB0aGlzLmxheW91dC5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSBfYS5hY3RpdmUsXG4gICAgICAgICAgICAgICAgZml4WCA9IF9hLmZpeFgsXG4gICAgICAgICAgICAgICAgZml4WSA9IF9hLmZpeFksXG4gICAgICAgICAgICAgICAgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImFjdGl2ZVwiLCBcImZpeFhcIiwgXCJmaXhZXCJdKTtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IF9leHRlbmRzKHt9LCBmaXhYICYmIHRoaXMub2Zmc2V0WCA/IGdldFRyYW5zZm9ybVByb3BWYWx1ZShnZXRQeFN0eWxlKC10aGlzLm9mZnNldFgsICdweCcsIGZhbHNlKSkgOiB7fSwgZml4WSAmJiB0aGlzLm9mZnNldFkgPyBnZXRUcmFuc2Zvcm1Qcm9wVmFsdWUoZ2V0UHhTdHlsZSgtdGhpcy5vZmZzZXRZLCAncHgnLCB0cnVlKSkgOiB7fSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsgc3R5bGU6IHN0eWxlLCByZWY6IHRoaXMuc2V0TGF5b3V0IH0pLFxuICAgICAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRhYlBhbmU7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuVGFiUGFuZS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZml4WDogdHJ1ZSxcbiAgICBmaXhZOiB0cnVlXG59OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEdlc3R1cmUgZnJvbSAncmMtZ2VzdHVyZSc7XG5pbXBvcnQgeyBzZXRQeFN0eWxlLCBnZXRUcmFuc2Zvcm1Qcm9wVmFsdWUsIGdldFB4U3R5bGUgfSBmcm9tICcuL3V0aWwnO1xuZXhwb3J0IHZhciBTdGF0ZVR5cGUgPSBmdW5jdGlvbiBTdGF0ZVR5cGUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YXRlVHlwZSk7XG5cbiAgICB0aGlzLnRyYW5zZm9ybSA9ICcnO1xuICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dQcmV2ID0gZmFsc2U7XG4gICAgdGhpcy5zaG93TmV4dCA9IGZhbHNlO1xufTtcbmV4cG9ydCB2YXIgRGVmYXVsdFRhYkJhciA9IGZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhEZWZhdWx0VGFiQmFyLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEZWZhdWx0VGFiQmFyKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZWZhdWx0VGFiQmFyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGVmYXVsdFRhYkJhci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERlZmF1bHRUYWJCYXIpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMub25QYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGFzdE9mZnNldCA9IDA7XG4gICAgICAgICAgICB2YXIgZmluYWxPZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmFyIGdldExhc3RPZmZzZXQgPSBmdW5jdGlvbiBnZXRMYXN0T2Zmc2V0KCkge1xuICAgICAgICAgICAgICAgIHZhciBpc1ZlcnRpY2FsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBfdGhpcy5pc1RhYkJhclZlcnRpY2FsKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gKygnJyArIGxhc3RPZmZzZXQpLnJlcGxhY2UoJyUnLCAnJyk7XG4gICAgICAgICAgICAgICAgaWYgKCgnJyArIGxhc3RPZmZzZXQpLmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCAvPSAxMDA7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCAqPSBpc1ZlcnRpY2FsID8gX3RoaXMubGF5b3V0LmNsaWVudEhlaWdodCA6IF90aGlzLmxheW91dC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9uUGFuU3RhcnQ6IGZ1bmN0aW9uIG9uUGFuU3RhcnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgaXNNb3Zpbmc6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblBhbk1vdmU6IGZ1bmN0aW9uIG9uUGFuTW92ZShzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0dXMubW92ZVN0YXR1cyB8fCAhX3RoaXMubGF5b3V0KSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1ZlcnRpY2FsID0gX3RoaXMuaXNUYWJCYXJWZXJ0aWNhbCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gZ2V0TGFzdE9mZnNldCgpICsgKGlzVmVydGljYWwgPyBzdGF0dXMubW92ZVN0YXR1cy55IDogc3RhdHVzLm1vdmVTdGF0dXMueCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW5TY3JvbGxPZmZzZXQgPSBpc1ZlcnRpY2FsID8gLV90aGlzLmxheW91dC5zY3JvbGxIZWlnaHQgKyBfdGhpcy5sYXlvdXQuY2xpZW50SGVpZ2h0IDogLV90aGlzLmxheW91dC5zY3JvbGxXaWR0aCArIF90aGlzLmxheW91dC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5taW4ob2Zmc2V0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgob2Zmc2V0LCBjYW5TY3JvbGxPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRQeFN0eWxlKF90aGlzLmxheW91dCwgb2Zmc2V0LCAncHgnLCBpc1ZlcnRpY2FsKTtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dQcmV2OiAtb2Zmc2V0ID4gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dOZXh0OiBvZmZzZXQgPiBjYW5TY3JvbGxPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblBhbkVuZDogZnVuY3Rpb24gb25QYW5FbmQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1ZlcnRpY2FsID0gX3RoaXMuaXNUYWJCYXJWZXJ0aWNhbCgpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0T2Zmc2V0ID0gZmluYWxPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTW92aW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogZ2V0UHhTdHlsZShmaW5hbE9mZnNldCwgJ3B4JywgaXNWZXJ0aWNhbClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50T2Zmc2V0OiBmdW5jdGlvbiBzZXRDdXJyZW50T2Zmc2V0KG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFzdE9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KCk7XG4gICAgICAgIF90aGlzLmdldFRyYW5zZm9ybUJ5SW5kZXggPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBhY3RpdmVUYWIgPSBwcm9wcy5hY3RpdmVUYWIsXG4gICAgICAgICAgICAgICAgdGFicyA9IHByb3BzLnRhYnMsXG4gICAgICAgICAgICAgICAgX3Byb3BzJHBhZ2UgPSBwcm9wcy5wYWdlLFxuICAgICAgICAgICAgICAgIHBhZ2UgPSBfcHJvcHMkcGFnZSA9PT0gdW5kZWZpbmVkID8gMCA6IF9wcm9wcyRwYWdlO1xuXG4gICAgICAgICAgICB2YXIgaXNWZXJ0aWNhbCA9IF90aGlzLmlzVGFiQmFyVmVydGljYWwoKTtcbiAgICAgICAgICAgIHZhciBzaXplID0gX3RoaXMuZ2V0VGFiU2l6ZShwYWdlLCB0YWJzLmxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgY2VudGVyID0gcGFnZSAvIDI7XG4gICAgICAgICAgICB2YXIgcG9zID0gTWF0aC5taW4oYWN0aXZlVGFiLCB0YWJzLmxlbmd0aCAtIGNlbnRlciAtIC41KTtcbiAgICAgICAgICAgIHZhciBza2lwU2l6ZSA9IE1hdGgubWluKC0ocG9zIC0gY2VudGVyICsgLjUpICogc2l6ZSwgMCk7XG4gICAgICAgICAgICBfdGhpcy5vblBhbi5zZXRDdXJyZW50T2Zmc2V0KHNraXBTaXplICsgJyUnKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBnZXRQeFN0eWxlKHNraXBTaXplLCAnJScsIGlzVmVydGljYWwpLFxuICAgICAgICAgICAgICAgIHNob3dQcmV2OiBhY3RpdmVUYWIgPiBjZW50ZXIgLSAuNSAmJiB0YWJzLmxlbmd0aCA+IHBhZ2UsXG4gICAgICAgICAgICAgICAgc2hvd05leHQ6IGFjdGl2ZVRhYiA8IHRhYnMubGVuZ3RoIC0gY2VudGVyIC0gLjUgJiYgdGFicy5sZW5ndGggPiBwYWdlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vblByZXNzID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBnb1RvVGFiID0gX3RoaXMkcHJvcHMuZ29Ub1RhYixcbiAgICAgICAgICAgICAgICBvblRhYkNsaWNrID0gX3RoaXMkcHJvcHMub25UYWJDbGljayxcbiAgICAgICAgICAgICAgICB0YWJzID0gX3RoaXMkcHJvcHMudGFicztcblxuICAgICAgICAgICAgb25UYWJDbGljayAmJiBvblRhYkNsaWNrKHRhYnNbaW5kZXhdLCBpbmRleCk7XG4gICAgICAgICAgICBnb1RvVGFiICYmIGdvVG9UYWIoaW5kZXgpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5pc1RhYkJhclZlcnRpY2FsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBfdGhpcy5wcm9wcy50YWJCYXJQb3NpdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbiA9PT0gJ2xlZnQnIHx8IHBvc2l0aW9uID09PSAncmlnaHQnO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5yZW5kZXJUYWIgPSBmdW5jdGlvbiAodCwgaSwgc2l6ZSwgaXNUYWJCYXJWZXJ0aWNhbCkge1xuICAgICAgICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF90aGlzJHByb3BzMi5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgcmVuZGVyVGFiID0gX3RoaXMkcHJvcHMyLnJlbmRlclRhYixcbiAgICAgICAgICAgICAgICBhY3RpdmVUYWIgPSBfdGhpcyRwcm9wczIuYWN0aXZlVGFiLFxuICAgICAgICAgICAgICAgIHRhYkJhclRleHRTdHlsZSA9IF90aGlzJHByb3BzMi50YWJCYXJUZXh0U3R5bGUsXG4gICAgICAgICAgICAgICAgdGFiQmFyQWN0aXZlVGV4dENvbG9yID0gX3RoaXMkcHJvcHMyLnRhYkJhckFjdGl2ZVRleHRDb2xvcixcbiAgICAgICAgICAgICAgICB0YWJCYXJJbmFjdGl2ZVRleHRDb2xvciA9IF90aGlzJHByb3BzMi50YWJCYXJJbmFjdGl2ZVRleHRDb2xvcixcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUlkID0gX3RoaXMkcHJvcHMyLmluc3RhbmNlSWQ7XG5cbiAgICAgICAgICAgIHZhciB0ZXh0U3R5bGUgPSBfZXh0ZW5kcyh7fSwgdGFiQmFyVGV4dFN0eWxlKTtcbiAgICAgICAgICAgIHZhciBjbHMgPSBwcmVmaXhDbHMgKyAnLXRhYic7XG4gICAgICAgICAgICB2YXIgYXJpYVNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoYWN0aXZlVGFiID09PSBpKSB7XG4gICAgICAgICAgICAgICAgY2xzICs9ICcgJyArIGNscyArICctYWN0aXZlJztcbiAgICAgICAgICAgICAgICBhcmlhU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0YWJCYXJBY3RpdmVUZXh0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFN0eWxlLmNvbG9yID0gdGFiQmFyQWN0aXZlVGV4dENvbG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFiQmFySW5hY3RpdmVUZXh0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0ZXh0U3R5bGUuY29sb3IgPSB0YWJCYXJJbmFjdGl2ZVRleHRDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsga2V5OiAndF8nICsgaSwgc3R5bGU6IF9leHRlbmRzKHt9LCB0ZXh0U3R5bGUsIGlzVGFiQmFyVmVydGljYWwgPyB7IGhlaWdodDogc2l6ZSArICclJyB9IDogeyB3aWR0aDogc2l6ZSArICclJyB9KSwgaWQ6ICdtLXRhYnMtJyArIGluc3RhbmNlSWQgKyAnLScgKyBpLCByb2xlOiAndGFiJywgJ2FyaWEtc2VsZWN0ZWQnOiBhcmlhU2VsZWN0ZWQsIGNsYXNzTmFtZTogY2xzLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uUHJlc3MoaSk7XG4gICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICByZW5kZXJUYWIgPyByZW5kZXJUYWIodCkgOiB0LnRpdGxlXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zZXRDb250ZW50TGF5b3V0ID0gZnVuY3Rpb24gKGRpdikge1xuICAgICAgICAgICAgX3RoaXMubGF5b3V0ID0gZGl2O1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRUYWJTaXplID0gZnVuY3Rpb24gKHBhZ2UsIHRhYkxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIDEwMCAvIE1hdGgubWluKHBhZ2UsIHRhYkxlbmd0aCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0YXRlID0gX2V4dGVuZHMoe30sIG5ldyBTdGF0ZVR5cGUoKSwgX3RoaXMuZ2V0VHJhbnNmb3JtQnlJbmRleChwcm9wcykpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKERlZmF1bHRUYWJCYXIsIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVRhYiAhPT0gbmV4dFByb3BzLmFjdGl2ZVRhYiB8fCB0aGlzLnByb3BzLnRhYnMgIT09IG5leHRQcm9wcy50YWJzIHx8IHRoaXMucHJvcHMudGFicy5sZW5ndGggIT09IG5leHRQcm9wcy50YWJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoX2V4dGVuZHMoe30sIHRoaXMuZ2V0VHJhbnNmb3JtQnlJbmRleChuZXh0UHJvcHMpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IF9wcm9wcy5hbmltYXRlZCxcbiAgICAgICAgICAgICAgICBfcHJvcHMkdGFicyA9IF9wcm9wcy50YWJzLFxuICAgICAgICAgICAgICAgIHRhYnMgPSBfcHJvcHMkdGFicyA9PT0gdW5kZWZpbmVkID8gW10gOiBfcHJvcHMkdGFicyxcbiAgICAgICAgICAgICAgICBfcHJvcHMkcGFnZTIgPSBfcHJvcHMucGFnZSxcbiAgICAgICAgICAgICAgICBwYWdlID0gX3Byb3BzJHBhZ2UyID09PSB1bmRlZmluZWQgPyAwIDogX3Byb3BzJHBhZ2UyLFxuICAgICAgICAgICAgICAgIF9wcm9wcyRhY3RpdmVUYWIgPSBfcHJvcHMuYWN0aXZlVGFiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVRhYiA9IF9wcm9wcyRhY3RpdmVUYWIgPT09IHVuZGVmaW5lZCA/IDAgOiBfcHJvcHMkYWN0aXZlVGFiLFxuICAgICAgICAgICAgICAgIHRhYkJhckJhY2tncm91bmRDb2xvciA9IF9wcm9wcy50YWJCYXJCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgdGFiQmFyVW5kZXJsaW5lU3R5bGUgPSBfcHJvcHMudGFiQmFyVW5kZXJsaW5lU3R5bGUsXG4gICAgICAgICAgICAgICAgdGFiQmFyUG9zaXRpb24gPSBfcHJvcHMudGFiQmFyUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgcmVuZGVyVW5kZXJsaW5lID0gX3Byb3BzLnJlbmRlclVuZGVybGluZTtcbiAgICAgICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gX3N0YXRlLmlzTW92aW5nLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IF9zdGF0ZS50cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgc2hvd05leHQgPSBfc3RhdGUuc2hvd05leHQsXG4gICAgICAgICAgICAgICAgc2hvd1ByZXYgPSBfc3RhdGUuc2hvd1ByZXY7XG5cbiAgICAgICAgICAgIHZhciBpc1RhYkJhclZlcnRpY2FsID0gdGhpcy5pc1RhYkJhclZlcnRpY2FsKCk7XG4gICAgICAgICAgICB2YXIgbmVlZFNjcm9sbCA9IHRhYnMubGVuZ3RoID4gcGFnZTtcbiAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRUYWJTaXplKHBhZ2UsIHRhYnMubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciBUYWJzID0gdGFicy5tYXAoZnVuY3Rpb24gKHQsIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnJlbmRlclRhYih0LCBpLCBzaXplLCBpc1RhYkJhclZlcnRpY2FsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNscyA9IHByZWZpeENscztcbiAgICAgICAgICAgIGlmIChhbmltYXRlZCAmJiAhaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgICAgICBjbHMgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1hbmltYXRlZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0YWJCYXJCYWNrZ3JvdW5kQ29sb3IgfHwgJydcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtU3R5bGUgPSBuZWVkU2Nyb2xsID8gX2V4dGVuZHMoe30sIGdldFRyYW5zZm9ybVByb3BWYWx1ZSh0cmFuc2Zvcm0pKSA6IHt9O1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5vblBhbixcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50T2Zmc2V0ID0gX2Euc2V0Q3VycmVudE9mZnNldCxcbiAgICAgICAgICAgICAgICBvblBhbiA9IF9fcmVzdChfYSwgW1wic2V0Q3VycmVudE9mZnNldFwiXSk7XG4gICAgICAgICAgICB2YXIgdW5kZXJsaW5lUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCBpc1RhYkJhclZlcnRpY2FsID8geyBoZWlnaHQ6IHNpemUgKyAnJScgfSA6IHsgd2lkdGg6IHNpemUgKyAnJScgfSwgaXNUYWJCYXJWZXJ0aWNhbCA/IHsgdG9wOiBzaXplICogYWN0aXZlVGFiICsgJyUnIH0gOiB7IGxlZnQ6IHNpemUgKiBhY3RpdmVUYWIgKyAnJScgfSwgdGFiQmFyVW5kZXJsaW5lU3R5bGUpLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy11bmRlcmxpbmUnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNscyArICcgJyArIHByZWZpeENscyArICctJyArIHRhYkJhclBvc2l0aW9uLCBzdHlsZTogc3R5bGUgfSxcbiAgICAgICAgICAgICAgICBzaG93UHJldiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wcmV2cGFnZScgfSksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgR2VzdHVyZSxcbiAgICAgICAgICAgICAgICAgICAgX2V4dGVuZHMoe30sIG9uUGFuLCB7IGRpcmVjdGlvbjogaXNUYWJCYXJWZXJ0aWNhbCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCcgfSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcm9sZTogJ3RhYmxpc3QnLCBjbGFzc05hbWU6IHByZWZpeENscyArICctY29udGVudCcsIHN0eWxlOiB0cmFuc2Zvcm1TdHlsZSwgcmVmOiB0aGlzLnNldENvbnRlbnRMYXlvdXQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhYnMsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJVbmRlcmxpbmUgPyByZW5kZXJVbmRlcmxpbmUodW5kZXJsaW5lUHJvcHMpIDogUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgdW5kZXJsaW5lUHJvcHMpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHNob3dOZXh0ICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW5leHRwYWdlJyB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEZWZhdWx0VGFiQmFyO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcbkRlZmF1bHRUYWJCYXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ3JtYy10YWJzLXRhYi1iYXInLFxuICAgIGFuaW1hdGVkOiB0cnVlLFxuICAgIHRhYnM6IFtdLFxuICAgIGdvVG9UYWI6IGZ1bmN0aW9uIGdvVG9UYWIoKSB7fSxcbiAgICBhY3RpdmVUYWI6IDAsXG4gICAgcGFnZTogNSxcbiAgICB0YWJCYXJVbmRlcmxpbmVTdHlsZToge30sXG4gICAgdGFiQmFyQmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXG4gICAgdGFiQmFyQWN0aXZlVGV4dENvbG9yOiAnJyxcbiAgICB0YWJCYXJJbmFjdGl2ZVRleHRDb2xvcjogJycsXG4gICAgdGFiQmFyVGV4dFN0eWxlOiB7fVxufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5leHBvcnQgdmFyIFN0YXRlVHlwZSA9IGZ1bmN0aW9uIFN0YXRlVHlwZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RhdGVUeXBlKTtcbn07XG52YXIgaW5zdGFuY2VJZCA9IDA7XG5leHBvcnQgdmFyIFRhYnMgPSBmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoVGFicywgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gVGFicyhwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFicyk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRhYnMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJzKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLnRhYkNhY2hlID0ge307XG4gICAgICAgIF90aGlzLmlzVGFiVmVydGljYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBfdGhpcy5wcm9wcy50YWJEaXJlY3Rpb247XG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aW9uID09PSAndmVydGljYWwnO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zaG91bGRSZW5kZXJUYWIgPSBmdW5jdGlvbiAoaWR4KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMkcHJlcmVuZGVyID0gX3RoaXMucHJvcHMucHJlcmVuZGVyaW5nU2libGluZ3NOdW1iZXIsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyaW5nU2libGluZ3NOdW1iZXIgPSBfdGhpcyRwcm9wcyRwcmVyZW5kZXIgPT09IHVuZGVmaW5lZCA/IDAgOiBfdGhpcyRwcm9wcyRwcmVyZW5kZXI7XG4gICAgICAgICAgICB2YXIgX3RoaXMkc3RhdGUkY3VycmVudFRhID0gX3RoaXMuc3RhdGUuY3VycmVudFRhYixcbiAgICAgICAgICAgICAgICBjdXJyZW50VGFiID0gX3RoaXMkc3RhdGUkY3VycmVudFRhID09PSB1bmRlZmluZWQgPyAwIDogX3RoaXMkc3RhdGUkY3VycmVudFRhO1xuXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFRhYiAtIHByZXJlbmRlcmluZ1NpYmxpbmdzTnVtYmVyIDw9IGlkeCAmJiBpZHggPD0gY3VycmVudFRhYiArIHByZXJlbmRlcmluZ1NpYmxpbmdzTnVtYmVyO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRPZmZzZXRJbmRleCA9IGZ1bmN0aW9uIChjdXJyZW50LCB3aWR0aCkge1xuICAgICAgICAgICAgdmFyIHRocmVzaG9sZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogX3RoaXMucHJvcHMuZGlzdGFuY2VUb0NoYW5nZVRhYiB8fCAwO1xuXG4gICAgICAgICAgICB2YXIgcmF0aW8gPSBNYXRoLmFicyhjdXJyZW50IC8gd2lkdGgpO1xuICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHJhdGlvID4gX3RoaXMuc3RhdGUuY3VycmVudFRhYiA/ICc8JyA6ICc+JztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IE1hdGguZmxvb3IocmF0aW8pO1xuICAgICAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICc8JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJhdGlvIC0gaW5kZXggPiB0aHJlc2hvbGQgPyBpbmRleCArIDEgOiBpbmRleDtcbiAgICAgICAgICAgICAgICBjYXNlICc+JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgLSByYXRpbyArIGluZGV4ID4gdGhyZXNob2xkID8gaW5kZXggOiBpbmRleCArIDE7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocmF0aW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRTdWJFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IF90aGlzLnByb3BzLmNoaWxkcmVuO1xuXG4gICAgICAgICAgICB2YXIgc3ViRWxlbWVudHMgPSB7fTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRQcmVmaXggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICckaSQtJztcbiAgICAgICAgICAgICAgICB2YXIgYWxsUHJlZml4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJEFMTCQnO1xuXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLmtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkVsZW1lbnRzW2NoaWxkLmtleV0gPSBjaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YkVsZW1lbnRzWycnICsgZGVmYXVsdFByZWZpeCArIGluZGV4XSA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YkVsZW1lbnRzW2FsbFByZWZpeF0gPSBjaGlsZHJlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YkVsZW1lbnRzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjdXJyZW50VGFiOiBfdGhpcy5nZXRUYWJJbmRleChwcm9wcylcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMubmV4dEN1cnJlbnRUYWIgPSBfdGhpcy5zdGF0ZS5jdXJyZW50VGFiO1xuICAgICAgICBfdGhpcy5pbnN0YW5jZUlkID0gaW5zdGFuY2VJZCsrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRhYnMsIFt7XG4gICAgICAgIGtleTogJ2dldFRhYkluZGV4JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRhYkluZGV4KHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgcGFnZSA9IHByb3BzLnBhZ2UsXG4gICAgICAgICAgICAgICAgaW5pdGlhbFBhZ2UgPSBwcm9wcy5pbml0aWFsUGFnZSxcbiAgICAgICAgICAgICAgICB0YWJzID0gcHJvcHMudGFicztcblxuICAgICAgICAgICAgdmFyIHBhcmFtID0gKHBhZ2UgIT09IHVuZGVmaW5lZCA/IHBhZ2UgOiBpbml0aWFsUGFnZSkgfHwgMDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRhYnMuZm9yRWFjaChmdW5jdGlvbiAodCwgaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodC5rZXkgPT09IHBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBwYXJhbSB8fCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IDAgOiBpbmRleDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMucGFnZSAhPT0gbmV4dFByb3BzLnBhZ2UgJiYgbmV4dFByb3BzLnBhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ29Ub1RhYih0aGlzLmdldFRhYkluZGV4KG5leHRQcm9wcyksIHRydWUsIHt9LCBuZXh0UHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICAgIHRoaXMucHJldkN1cnJlbnRUYWIgPSB0aGlzLnN0YXRlLmN1cnJlbnRUYWI7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZDdXJyZW50VGFiID0gdGhpcy5zdGF0ZS5jdXJyZW50VGFiO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnb1RvVGFiJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdvVG9UYWIoaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBmb3JjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICAgICAgICB2YXIgbmV3U3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB0aGlzLnByb3BzO1xuXG4gICAgICAgICAgICBpZiAoIWZvcmNlICYmIHRoaXMubmV4dEN1cnJlbnRUYWIgPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXh0Q3VycmVudFRhYiA9IGluZGV4O1xuICAgICAgICAgICAgdmFyIHRhYnMgPSBwcm9wcy50YWJzLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2U7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGFicy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZvcmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlICYmIG9uQ2hhbmdlKHRhYnNbaW5kZXhdLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy5wYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKF9leHRlbmRzKHsgY3VycmVudFRhYjogaW5kZXggfSwgbmV3U3RhdGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0YWJDbGlja0dvVG9UYWInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdGFiQ2xpY2tHb1RvVGFiKGluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLmdvVG9UYWIoaW5kZXgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRUYWJCYXJCYXNlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGFiQmFyQmFzZVByb3BzKCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUYWIgPSB0aGlzLnN0YXRlLmN1cnJlbnRUYWI7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IF9wcm9wcy5hbmltYXRlZCxcbiAgICAgICAgICAgICAgICBvblRhYkNsaWNrID0gX3Byb3BzLm9uVGFiQ2xpY2ssXG4gICAgICAgICAgICAgICAgdGFiQmFyQWN0aXZlVGV4dENvbG9yID0gX3Byb3BzLnRhYkJhckFjdGl2ZVRleHRDb2xvcixcbiAgICAgICAgICAgICAgICB0YWJCYXJCYWNrZ3JvdW5kQ29sb3IgPSBfcHJvcHMudGFiQmFyQmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgICAgIHRhYkJhckluYWN0aXZlVGV4dENvbG9yID0gX3Byb3BzLnRhYkJhckluYWN0aXZlVGV4dENvbG9yLFxuICAgICAgICAgICAgICAgIHRhYkJhclBvc2l0aW9uID0gX3Byb3BzLnRhYkJhclBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHRhYkJhclRleHRTdHlsZSA9IF9wcm9wcy50YWJCYXJUZXh0U3R5bGUsXG4gICAgICAgICAgICAgICAgdGFiQmFyVW5kZXJsaW5lU3R5bGUgPSBfcHJvcHMudGFiQmFyVW5kZXJsaW5lU3R5bGUsXG4gICAgICAgICAgICAgICAgdGFicyA9IF9wcm9wcy50YWJzO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhYjogY3VycmVudFRhYixcbiAgICAgICAgICAgICAgICBhbmltYXRlZDogISFhbmltYXRlZCxcbiAgICAgICAgICAgICAgICBnb1RvVGFiOiB0aGlzLnRhYkNsaWNrR29Ub1RhYi5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIG9uVGFiQ2xpY2s6IG9uVGFiQ2xpY2ssXG4gICAgICAgICAgICAgICAgdGFiQmFyQWN0aXZlVGV4dENvbG9yOiB0YWJCYXJBY3RpdmVUZXh0Q29sb3IsXG4gICAgICAgICAgICAgICAgdGFiQmFyQmFja2dyb3VuZENvbG9yOiB0YWJCYXJCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgdGFiQmFySW5hY3RpdmVUZXh0Q29sb3I6IHRhYkJhckluYWN0aXZlVGV4dENvbG9yLFxuICAgICAgICAgICAgICAgIHRhYkJhclBvc2l0aW9uOiB0YWJCYXJQb3NpdGlvbixcbiAgICAgICAgICAgICAgICB0YWJCYXJUZXh0U3R5bGU6IHRhYkJhclRleHRTdHlsZSxcbiAgICAgICAgICAgICAgICB0YWJCYXJVbmRlcmxpbmVTdHlsZTogdGFiQmFyVW5kZXJsaW5lU3R5bGUsXG4gICAgICAgICAgICAgICAgdGFiczogdGFicyxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUlkOiB0aGlzLmluc3RhbmNlSWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlclRhYkJhcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJUYWJCYXIodGFiQmFyUHJvcHMsIERlZmF1bHRUYWJCYXIpIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYWJCYXIgPSB0aGlzLnByb3BzLnJlbmRlclRhYkJhcjtcblxuICAgICAgICAgICAgaWYgKHJlbmRlclRhYkJhciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVuZGVyVGFiQmFyKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudCh0aGlzLnByb3BzLnJlbmRlclRhYkJhcihwcm9wcyksIHByb3BzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyVGFiQmFyKHRhYkJhclByb3BzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVmYXVsdFRhYkJhciwgdGFiQmFyUHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRTdWJFbGVtZW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN1YkVsZW1lbnQodGFiLCBpbmRleCwgc3ViRWxlbWVudHMpIHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0UHJlZml4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnJGkkLSc7XG4gICAgICAgICAgICB2YXIgYWxsUHJlZml4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAnJEFMTCQnO1xuXG4gICAgICAgICAgICB2YXIga2V5ID0gdGFiLmtleSB8fCAnJyArIGRlZmF1bHRQcmVmaXggKyBpbmRleDtcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IHN1YkVsZW1lbnRzKGRlZmF1bHRQcmVmaXgsIGFsbFByZWZpeCk7XG4gICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gZWxlbWVudHNba2V5XSB8fCBlbGVtZW50c1thbGxQcmVmaXhdO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50ID0gY29tcG9uZW50KHRhYiwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudCB8fCBudWxsO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRhYnM7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuVGFicy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgdGFiQmFyUG9zaXRpb246ICd0b3AnLFxuICAgIGluaXRpYWxQYWdlOiAwLFxuICAgIHN3aXBlYWJsZTogdHJ1ZSxcbiAgICBhbmltYXRlZDogdHJ1ZSxcbiAgICBwcmVyZW5kZXJpbmdTaWJsaW5nc051bWJlcjogMSxcbiAgICB0YWJzOiBbXSxcbiAgICBkZXN0cm95SW5hY3RpdmVUYWI6IGZhbHNlLFxuICAgIHVzZVBhZ2VkOiB0cnVlLFxuICAgIHRhYkRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgIGRpc3RhbmNlVG9DaGFuZ2VUYWI6IC4zXG59OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX2dldCBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0JztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEdlc3R1cmUgZnJvbSAncmMtZ2VzdHVyZSc7XG5pbXBvcnQgeyBUYWJQYW5lIH0gZnJvbSAnLi9UYWJQYW5lJztcbmltcG9ydCB7IERlZmF1bHRUYWJCYXIgfSBmcm9tICcuL0RlZmF1bHRUYWJCYXInO1xuaW1wb3J0IHsgZ2V0VHJhbnNmb3JtUHJvcFZhbHVlLCBzZXRUcmFuc2Zvcm0sIHNldFB4U3R5bGUgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgVGFicyBhcyBDb21wb25lbnQsIFN0YXRlVHlwZSBhcyBCYXNlU3RhdGVUeXBlIH0gZnJvbSAnLi9UYWJzLmJhc2UnO1xudmFyIGdldFBhbkRpcmVjdGlvbiA9IGZ1bmN0aW9uIGdldFBhbkRpcmVjdGlvbihkaXJlY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiAnaG9yaXpvbnRhbCc7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgIHJldHVybiAndmVydGljYWwnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcbiAgICB9XG59O1xuZXhwb3J0IHZhciBTdGF0ZVR5cGUgPSBmdW5jdGlvbiAoX0Jhc2VTdGF0ZVR5cGUpIHtcbiAgICBfaW5oZXJpdHMoU3RhdGVUeXBlLCBfQmFzZVN0YXRlVHlwZSk7XG5cbiAgICBmdW5jdGlvbiBTdGF0ZVR5cGUoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGF0ZVR5cGUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTdGF0ZVR5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTdGF0ZVR5cGUpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICBfdGhpcy5jb250ZW50UG9zID0gJyc7XG4gICAgICAgIF90aGlzLmlzTW92aW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gU3RhdGVUeXBlO1xufShCYXNlU3RhdGVUeXBlKTtcbmV4cG9ydCB2YXIgVGFicyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFRhYnMsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gVGFicyhwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFicyk7XG5cbiAgICAgICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUYWJzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFicykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpczIub25QYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGFzdE9mZnNldCA9IDA7XG4gICAgICAgICAgICB2YXIgZmluYWxPZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmFyIHBhbkRpcmVjdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBnZXRMYXN0T2Zmc2V0ID0gZnVuY3Rpb24gZ2V0TGFzdE9mZnNldCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNWZXJ0aWNhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogX3RoaXMyLmlzVGFiVmVydGljYWwoKTtcblxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSArKCcnICsgbGFzdE9mZnNldCkucmVwbGFjZSgnJScsICcnKTtcbiAgICAgICAgICAgICAgICBpZiAoKCcnICsgbGFzdE9mZnNldCkuaW5kZXhPZignJScpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0IC89IDEwMDtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICo9IGlzVmVydGljYWwgPyBfdGhpczIubGF5b3V0LmNsaWVudEhlaWdodCA6IF90aGlzMi5sYXlvdXQuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBvblBhblN0YXJ0OiBmdW5jdGlvbiBvblBhblN0YXJ0KHN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5wcm9wcy5zd2lwZWFibGUgfHwgIV90aGlzMi5wcm9wcy5hbmltYXRlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBwYW5EaXJlY3Rpb24gPSBnZXRQYW5EaXJlY3Rpb24oc3RhdHVzLmRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc01vdmluZzogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUGFuTW92ZTogZnVuY3Rpb24gb25QYW5Nb3ZlKHN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMyJHByb3BzID0gX3RoaXMyLnByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpcGVhYmxlID0gX3RoaXMyJHByb3BzLnN3aXBlYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGVkID0gX3RoaXMyJHByb3BzLmFuaW1hdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlTGVmdEluc3RlYWRUcmFuc2Zvcm0gPSBfdGhpczIkcHJvcHMudXNlTGVmdEluc3RlYWRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0dXMubW92ZVN0YXR1cyB8fCAhX3RoaXMyLmxheW91dCB8fCAhc3dpcGVhYmxlIHx8ICFhbmltYXRlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNWZXJ0aWNhbCA9IF90aGlzMi5pc1RhYlZlcnRpY2FsKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBnZXRMYXN0T2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gcGFuRGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgPyAwIDogc3RhdHVzLm1vdmVTdGF0dXMueTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBwYW5EaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyAwIDogc3RhdHVzLm1vdmVTdGF0dXMueDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FuU2Nyb2xsT2Zmc2V0ID0gaXNWZXJ0aWNhbCA/IC1fdGhpczIubGF5b3V0LnNjcm9sbEhlaWdodCArIF90aGlzMi5sYXlvdXQuY2xpZW50SGVpZ2h0IDogLV90aGlzMi5sYXlvdXQuc2Nyb2xsV2lkdGggKyBfdGhpczIubGF5b3V0LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBNYXRoLm1pbihvZmZzZXQsIDApO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBNYXRoLm1heChvZmZzZXQsIGNhblNjcm9sbE9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFB4U3R5bGUoX3RoaXMyLmxheW91dCwgb2Zmc2V0LCAncHgnLCBpc1ZlcnRpY2FsLCB1c2VMZWZ0SW5zdGVhZFRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsT2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25QYW5FbmQ6IGZ1bmN0aW9uIG9uUGFuRW5kKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5wcm9wcy5zd2lwZWFibGUgfHwgIV90aGlzMi5wcm9wcy5hbmltYXRlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBsYXN0T2Zmc2V0ID0gZmluYWxPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1ZlcnRpY2FsID0gX3RoaXMyLmlzVGFiVmVydGljYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldEluZGV4ID0gX3RoaXMyLmdldE9mZnNldEluZGV4KGZpbmFsT2Zmc2V0LCBpc1ZlcnRpY2FsID8gX3RoaXMyLmxheW91dC5jbGllbnRIZWlnaHQgOiBfdGhpczIubGF5b3V0LmNsaWVudFdpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTW92aW5nOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldEluZGV4ID09PSBfdGhpczIuc3RhdGUuY3VycmVudFRhYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5wcm9wcy51c2VQYWdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRyYW5zZm9ybShfdGhpczIubGF5b3V0LnN0eWxlLCBfdGhpczIuZ2V0Q29udGVudFBvc0J5SW5kZXgob2Zmc2V0SW5kZXgsIF90aGlzMi5pc1RhYlZlcnRpY2FsKCksIF90aGlzMi5wcm9wcy51c2VMZWZ0SW5zdGVhZFRyYW5zZm9ybSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmdvVG9UYWIob2Zmc2V0SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50T2Zmc2V0OiBmdW5jdGlvbiBzZXRDdXJyZW50T2Zmc2V0KG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFzdE9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KCk7XG4gICAgICAgIF90aGlzMi5vblN3aXBlID0gZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgICAgICAgdmFyIF90aGlzMiRwcm9wczIgPSBfdGhpczIucHJvcHMsXG4gICAgICAgICAgICAgICAgdGFiQmFyUG9zaXRpb24gPSBfdGhpczIkcHJvcHMyLnRhYkJhclBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHN3aXBlYWJsZSA9IF90aGlzMiRwcm9wczIuc3dpcGVhYmxlLFxuICAgICAgICAgICAgICAgIHVzZVBhZ2VkID0gX3RoaXMyJHByb3BzMi51c2VQYWdlZDtcblxuICAgICAgICAgICAgaWYgKCFzd2lwZWFibGUgfHwgIXVzZVBhZ2VkIHx8IF90aGlzMi5pc1RhYlZlcnRpY2FsKCkpIHJldHVybjtcbiAgICAgICAgICAgIC8vIERJUkVDVElPTl9OT05FXHQxXG4gICAgICAgICAgICAvLyBESVJFQ1RJT05fTEVGVFx0MlxuICAgICAgICAgICAgLy8gRElSRUNUSU9OX1JJR0hUXHQ0XG4gICAgICAgICAgICAvLyBESVJFQ1RJT05fVVBcdDhcbiAgICAgICAgICAgIC8vIERJUkVDVElPTl9ET1dOXHQxNlxuICAgICAgICAgICAgLy8gRElSRUNUSU9OX0hPUklaT05UQUxcdDZcbiAgICAgICAgICAgIC8vIERJUkVDVElPTl9WRVJUSUNBTFx0MjRcbiAgICAgICAgICAgIC8vIERJUkVDVElPTl9BTExcdDMwXG4gICAgICAgICAgICBzd2l0Y2ggKHRhYkJhclBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXR1cy5kaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5pc1RhYlZlcnRpY2FsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmdvVG9UYWIoX3RoaXMyLnByZXZDdXJyZW50VGFiICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIuaXNUYWJWZXJ0aWNhbCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5nb1RvVGFiKF90aGlzMi5wcmV2Q3VycmVudFRhYiArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5pc1RhYlZlcnRpY2FsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmdvVG9UYWIoX3RoaXMyLnByZXZDdXJyZW50VGFiIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmlzVGFiVmVydGljYWwoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZ29Ub1RhYihfdGhpczIucHJldkN1cnJlbnRUYWIgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzMi5zZXRDb250ZW50TGF5b3V0ID0gZnVuY3Rpb24gKGRpdikge1xuICAgICAgICAgICAgX3RoaXMyLmxheW91dCA9IGRpdjtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMyLnN0YXRlID0gX2V4dGVuZHMoe30sIF90aGlzMi5zdGF0ZSwgbmV3IFN0YXRlVHlwZSgpLCB7IGNvbnRlbnRQb3M6IF90aGlzMi5nZXRDb250ZW50UG9zQnlJbmRleChfdGhpczIuZ2V0VGFiSW5kZXgocHJvcHMpLCBfdGhpczIuaXNUYWJWZXJ0aWNhbChwcm9wcy50YWJEaXJlY3Rpb24pLCBwcm9wcy51c2VMZWZ0SW5zdGVhZFRyYW5zZm9ybSkgfSk7XG4gICAgICAgIHJldHVybiBfdGhpczI7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRhYnMsIFt7XG4gICAgICAgIGtleTogJ2dvVG9UYWInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ29Ub1RhYihpbmRleCkge1xuICAgICAgICAgICAgdmFyIGZvcmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgICAgICAgIHZhciB1c2VQYWdlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdGhpcy5wcm9wcy51c2VQYWdlZDtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciB0YWJEaXJlY3Rpb24gPSBwcm9wcy50YWJEaXJlY3Rpb24sXG4gICAgICAgICAgICAgICAgdXNlTGVmdEluc3RlYWRUcmFuc2Zvcm0gPSBwcm9wcy51c2VMZWZ0SW5zdGVhZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0ge307XG4gICAgICAgICAgICBpZiAodXNlUGFnZWQpIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFBvczogdGhpcy5nZXRDb250ZW50UG9zQnlJbmRleChpbmRleCwgdGhpcy5pc1RhYlZlcnRpY2FsKHRhYkRpcmVjdGlvbiksIHVzZUxlZnRJbnN0ZWFkVHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2dldChUYWJzLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRhYnMucHJvdG90eXBlKSwgJ2dvVG9UYWInLCB0aGlzKS5jYWxsKHRoaXMsIGluZGV4LCBmb3JjZSwgbmV3U3RhdGUsIHByb3BzKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGFiQ2xpY2tHb1RvVGFiJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRhYkNsaWNrR29Ub1RhYihpbmRleCkge1xuICAgICAgICAgICAgdGhpcy5nb1RvVGFiKGluZGV4LCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldENvbnRlbnRQb3NCeUluZGV4JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRlbnRQb3NCeUluZGV4KGluZGV4LCBpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICB2YXIgdXNlTGVmdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IC1pbmRleCAqIDEwMCArICclJztcbiAgICAgICAgICAgIHRoaXMub25QYW4uc2V0Q3VycmVudE9mZnNldCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAodXNlTGVmdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJyArIHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gaXNWZXJ0aWNhbCA/ICcwcHgsICcgKyB2YWx1ZSA6IHZhbHVlICsgJywgMHB4JztcbiAgICAgICAgICAgICAgICAvLyBmaXg6IGNvbnRlbnQgb3ZlcmxheSBUYWJCYXIgb24gaU9TIDEwLiAoIDBweCAtPiAxcHggKVxuICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZSArICcsIDFweCknO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXJDb250ZW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGdldFN1YkVsZW1lbnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLmdldFN1YkVsZW1lbnRzKCk7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIHRhYnMgPSBfcHJvcHMudGFicyxcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IF9wcm9wcy5hbmltYXRlZCxcbiAgICAgICAgICAgICAgICBkZXN0cm95SW5hY3RpdmVUYWIgPSBfcHJvcHMuZGVzdHJveUluYWN0aXZlVGFiLFxuICAgICAgICAgICAgICAgIHVzZUxlZnRJbnN0ZWFkVHJhbnNmb3JtID0gX3Byb3BzLnVzZUxlZnRJbnN0ZWFkVHJhbnNmb3JtO1xuICAgICAgICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgY3VycmVudFRhYiA9IF9zdGF0ZS5jdXJyZW50VGFiLFxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gX3N0YXRlLmlzTW92aW5nLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRQb3MgPSBfc3RhdGUuY29udGVudFBvcztcblxuICAgICAgICAgICAgdmFyIGlzVGFiVmVydGljYWwgPSB0aGlzLmlzVGFiVmVydGljYWwoKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50Q2xzID0gcHJlZml4Q2xzICsgJy1jb250ZW50LXdyYXAnO1xuICAgICAgICAgICAgaWYgKGFuaW1hdGVkICYmICFpc01vdmluZykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRDbHMgKz0gJyAnICsgY29udGVudENscyArICctYW5pbWF0ZWQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbnRlbnRTdHlsZSA9IGFuaW1hdGVkID8gdXNlTGVmdEluc3RlYWRUcmFuc2Zvcm0gPyBfZXh0ZW5kcyh7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0sIHRoaXMuaXNUYWJWZXJ0aWNhbCgpID8geyB0b3A6IGNvbnRlbnRQb3MgfSA6IHsgbGVmdDogY29udGVudFBvcyB9KSA6IGdldFRyYW5zZm9ybVByb3BWYWx1ZShjb250ZW50UG9zKSA6IF9leHRlbmRzKHsgcG9zaXRpb246ICdyZWxhdGl2ZScgfSwgdGhpcy5pc1RhYlZlcnRpY2FsKCkgPyB7IHRvcDogLWN1cnJlbnRUYWIgKiAxMDAgKyAnJScgfSA6IHsgbGVmdDogLWN1cnJlbnRUYWIgKiAxMDAgKyAnJScgfSk7XG5cbiAgICAgICAgICAgIHZhciBfZ2V0VGFiQmFyQmFzZVByb3BzID0gdGhpcy5nZXRUYWJCYXJCYXNlUHJvcHMoKSxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUlkID0gX2dldFRhYkJhckJhc2VQcm9wcy5pbnN0YW5jZUlkO1xuXG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY29udGVudENscywgc3R5bGU6IGNvbnRlbnRTdHlsZSwgcmVmOiB0aGlzLnNldENvbnRlbnRMYXlvdXQgfSxcbiAgICAgICAgICAgICAgICB0YWJzLm1hcChmdW5jdGlvbiAodGFiLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2xzID0gcHJlZml4Q2xzICsgJy1wYW5lLXdyYXAnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLmN1cnJlbnRUYWIgPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHMgKz0gJyAnICsgY2xzICsgJy1hY3RpdmUnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xzICs9ICcgJyArIGNscyArICctaW5hY3RpdmUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0YWIua2V5IHx8ICd0YWJfJyArIGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGFiIGNhY2hlXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMuc2hvdWxkUmVuZGVyVGFiKGluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnRhYkNhY2hlW2luZGV4XSA9IF90aGlzMy5nZXRTdWJFbGVtZW50KHRhYiwgaW5kZXgsIGdldFN1YkVsZW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZXN0cm95SW5hY3RpdmVUYWIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy50YWJDYWNoZVtpbmRleF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWJQYW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IGtleSwgY2xhc3NOYW1lOiBjbHMsIGFjdGl2ZTogY3VycmVudFRhYiA9PT0gaW5kZXgsIHJvbGU6ICd0YWJwYW5lbCcsICdhcmlhLWhpZGRlbic6IGN1cnJlbnRUYWIgIT09IGluZGV4LCAnYXJpYS1sYWJlbGxlZGJ5JzogJ20tdGFicy0nICsgaW5zdGFuY2VJZCArICctJyArIGluZGV4LCBmaXhYOiBpc1RhYlZlcnRpY2FsLCBmaXhZOiAhaXNUYWJWZXJ0aWNhbCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnRhYkNhY2hlW2luZGV4XVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIHRhYkJhclBvc2l0aW9uID0gX3Byb3BzMi50YWJCYXJQb3NpdGlvbixcbiAgICAgICAgICAgICAgICB0YWJEaXJlY3Rpb24gPSBfcHJvcHMyLnRhYkRpcmVjdGlvbixcbiAgICAgICAgICAgICAgICB1c2VPblBhbiA9IF9wcm9wczIudXNlT25QYW4sXG4gICAgICAgICAgICAgICAgbm9SZW5kZXJDb250ZW50ID0gX3Byb3BzMi5ub1JlbmRlckNvbnRlbnQ7XG5cbiAgICAgICAgICAgIHZhciBpc1RhYlZlcnRpY2FsID0gdGhpcy5pc1RhYlZlcnRpY2FsKHRhYkRpcmVjdGlvbik7XG4gICAgICAgICAgICB2YXIgdGFiQmFyUHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5nZXRUYWJCYXJCYXNlUHJvcHMoKSk7XG4gICAgICAgICAgICB2YXIgb25QYW4gPSAhaXNUYWJWZXJ0aWNhbCAmJiB1c2VPblBhbiA/IHRoaXMub25QYW4gOiB7fTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gW1JlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBrZXk6ICd0YWJCYXInLCBjbGFzc05hbWU6IHByZWZpeENscyArICctdGFiLWJhci13cmFwJyB9LFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyVGFiQmFyKHRhYkJhclByb3BzLCBEZWZhdWx0VGFiQmFyKVxuICAgICAgICAgICAgKSwgIW5vUmVuZGVyQ29udGVudCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIEdlc3R1cmUsXG4gICAgICAgICAgICAgICAgX2V4dGVuZHMoeyBrZXk6ICckY29udGVudCcsIG9uU3dpcGU6IHRoaXMub25Td2lwZSB9LCBvblBhbiksXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDb250ZW50KClcbiAgICAgICAgICAgICldO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIHByZWZpeENscyArICctJyArIHRhYkRpcmVjdGlvbiArICcgJyArIHByZWZpeENscyArICctJyArIHRhYkJhclBvc2l0aW9uIH0sXG4gICAgICAgICAgICAgICAgdGFiQmFyUG9zaXRpb24gPT09ICd0b3AnIHx8IHRhYkJhclBvc2l0aW9uID09PSAnbGVmdCcgPyBjb250ZW50IDogY29udGVudC5yZXZlcnNlKClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGFicztcbn0oQ29tcG9uZW50KTtcblRhYnMuRGVmYXVsdFRhYkJhciA9IERlZmF1bHRUYWJCYXI7XG5UYWJzLmRlZmF1bHRQcm9wcyA9IF9leHRlbmRzKHt9LCBDb21wb25lbnQuZGVmYXVsdFByb3BzLCB7IHByZWZpeENsczogJ3JtYy10YWJzJywgdXNlT25QYW46IHRydWUgfSk7IiwiZXhwb3J0IHsgVGFicyB9IGZyb20gJy4vVGFicyc7XG5leHBvcnQgeyBEZWZhdWx0VGFiQmFyIH0gZnJvbSAnLi9EZWZhdWx0VGFiQmFyJzsiLCJpbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBEZWZhdWx0VGFiQmFyIGFzIFJNQ0RlZmF1bHRUYWJCYXIsIFRhYnMgYXMgUk1DVGFicyB9IGZyb20gJ3JtYy10YWJzJztcbmV4cG9ydCB2YXIgRGVmYXVsdFRhYkJhciA9IGZ1bmN0aW9uIChfUk1DRGVmYXVsdFRhYkJhcikge1xuICAgIF9pbmhlcml0cyhEZWZhdWx0VGFiQmFyLCBfUk1DRGVmYXVsdFRhYkJhcik7XG5cbiAgICBmdW5jdGlvbiBEZWZhdWx0VGFiQmFyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGVmYXVsdFRhYkJhcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEZWZhdWx0VGFiQmFyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGVmYXVsdFRhYkJhcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIHJldHVybiBEZWZhdWx0VGFiQmFyO1xufShSTUNEZWZhdWx0VGFiQmFyKTtcbkRlZmF1bHRUYWJCYXIuZGVmYXVsdFByb3BzID0gX2V4dGVuZHMoe30sIFJNQ0RlZmF1bHRUYWJCYXIuZGVmYXVsdFByb3BzLCB7IHByZWZpeENsczogJ2FtLXRhYnMtZGVmYXVsdC1iYXInIH0pO1xuXG52YXIgVGFicyA9IGZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhUYWJzLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBUYWJzKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFicyk7XG5cbiAgICAgICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUYWJzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFicykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzMi5yZW5kZXJUYWJCYXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYWIgPSBfdGhpczIucHJvcHMucmVuZGVyVGFiO1xuXG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEZWZhdWx0VGFiQmFyLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsgcmVuZGVyVGFiOiByZW5kZXJUYWIgfSkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXMyO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhUYWJzLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUk1DVGFicywgX2V4dGVuZHMoeyByZW5kZXJUYWJCYXI6IHRoaXMucmVuZGVyVGFiQmFyIH0sIHRoaXMucHJvcHMpKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUYWJzO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgVGFicztcblxuVGFicy5EZWZhdWx0VGFiQmFyID0gRGVmYXVsdFRhYkJhcjtcblRhYnMuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLXRhYnMnXG59OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCYWRnZSBmcm9tICcuLi9iYWRnZSc7XG5cbnZhciBUYWIgPSBmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoVGFiLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBUYWIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUYWIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICBfdGhpcy5yZW5kZXJJY29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgZG90ID0gX3RoaXMkcHJvcHMuZG90LFxuICAgICAgICAgICAgICAgIGJhZGdlID0gX3RoaXMkcHJvcHMuYmFkZ2UsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSBfdGhpcyRwcm9wcy5zZWxlY3RlZCxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEljb24gPSBfdGhpcyRwcm9wcy5zZWxlY3RlZEljb24sXG4gICAgICAgICAgICAgICAgaWNvbiA9IF90aGlzJHByb3BzLmljb24sXG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfdGhpcyRwcm9wcy50aXRsZSxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfdGhpcyRwcm9wcy5wcmVmaXhDbHM7XG5cbiAgICAgICAgICAgIHZhciBpY29uUmVzID0gc2VsZWN0ZWQgPyBzZWxlY3RlZEljb24gOiBpY29uO1xuICAgICAgICAgICAgdmFyIGljb25Eb20gPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChpY29uUmVzKSA/IGljb25SZXMgOiBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbWFnZScsIHNyYzogaWNvblJlcyA/IGljb25SZXMudXJpIDogaWNvblJlcywgYWx0OiB0aXRsZSB9KTtcbiAgICAgICAgICAgIGlmIChiYWRnZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBCYWRnZSxcbiAgICAgICAgICAgICAgICAgICAgeyB0ZXh0OiBiYWRnZSwgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJhZGdlIHRhYi1iYWRnZScgfSxcbiAgICAgICAgICAgICAgICAgICAgJyAnLFxuICAgICAgICAgICAgICAgICAgICBpY29uRG9tLFxuICAgICAgICAgICAgICAgICAgICAnICdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRvdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBCYWRnZSxcbiAgICAgICAgICAgICAgICAgICAgeyBkb3Q6IHRydWUsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1iYWRnZSB0YWItZG90JyB9LFxuICAgICAgICAgICAgICAgICAgICBpY29uRG9tXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpY29uRG9tO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG9uQ2xpY2sgPSBfdGhpcy5wcm9wcy5vbkNsaWNrO1xuICAgICAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoVGFiLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfcHJvcHMudGl0bGUsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IF9wcm9wcy5zZWxlY3RlZCxcbiAgICAgICAgICAgICAgICB1bnNlbGVjdGVkVGludENvbG9yID0gX3Byb3BzLnVuc2VsZWN0ZWRUaW50Q29sb3IsXG4gICAgICAgICAgICAgICAgdGludENvbG9yID0gX3Byb3BzLnRpbnRDb2xvcjtcblxuICAgICAgICAgICAgdmFyIGljb25Db2xvciA9IHNlbGVjdGVkID8gdGludENvbG9yIDogdW5zZWxlY3RlZFRpbnRDb2xvcjtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLmRhdGFBdHRycywgeyBvbkNsaWNrOiB0aGlzLm9uQ2xpY2ssIGNsYXNzTmFtZTogJycgKyBwcmVmaXhDbHMgfSksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24nLCBzdHlsZTogeyBjb2xvcjogaWNvbkNvbG9yIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJJY29uKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGl0bGUnLCBzdHlsZTogeyBjb2xvcjogc2VsZWN0ZWQgPyB0aW50Q29sb3IgOiB1bnNlbGVjdGVkVGludENvbG9yIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRhYjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFRhYjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZ2V0RGF0YUF0dHIgZnJvbSAnLi4vX3V0aWwvZ2V0RGF0YUF0dHInO1xuaW1wb3J0IFRhYnMgZnJvbSAnLi4vdGFicyc7XG5pbXBvcnQgVGFiIGZyb20gJy4vVGFiJztcbmV4cG9ydCB2YXIgSXRlbSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEl0ZW0sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gSXRlbSgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEl0ZW0pO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSXRlbS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEl0ZW0pKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoSXRlbSwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGU7XG5cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMsIHN0eWxlOiBzdHlsZSB9LFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSXRlbTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcbkl0ZW0uZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLXRhYi1iYXItaXRlbScsXG4gICAgdGl0bGU6ICcnXG59O1xuXG52YXIgQW50VGFiQmFyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQyKSB7XG4gICAgX2luaGVyaXRzKEFudFRhYkJhciwgX1JlYWN0JENvbXBvbmVudDIpO1xuXG4gICAgZnVuY3Rpb24gQW50VGFiQmFyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQW50VGFiQmFyKTtcblxuICAgICAgICB2YXIgX3RoaXMyID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFudFRhYkJhci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFudFRhYkJhcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzMi5nZXRUYWJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LkNoaWxkcmVuLm1hcChfdGhpczIucHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBjLnByb3BzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpczIucmVuZGVyVGFiQmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiRwcm9wcyA9IF90aGlzMi5wcm9wcyxcbiAgICAgICAgICAgICAgICBiYXJUaW50Q29sb3IgPSBfdGhpczIkcHJvcHMuYmFyVGludENvbG9yLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF90aGlzMiRwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgdGludENvbG9yID0gX3RoaXMyJHByb3BzLnRpbnRDb2xvcixcbiAgICAgICAgICAgICAgICB1bnNlbGVjdGVkVGludENvbG9yID0gX3RoaXMyJHByb3BzLnVuc2VsZWN0ZWRUaW50Q29sb3IsXG4gICAgICAgICAgICAgICAgaGlkZGVuID0gX3RoaXMyJHByb3BzLmhpZGRlbixcbiAgICAgICAgICAgICAgICB0YWJCYXJQb3NpdGlvbiA9IF90aGlzMiRwcm9wcy50YWJCYXJQb3NpdGlvbjtcblxuICAgICAgICAgICAgdmFyIHRhYnNEYXRhID0gX3RoaXMyLmdldFRhYnMoKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gdGFic0RhdGEubWFwKGZ1bmN0aW9uIChjUHJvcHMsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFiLCB7IGtleTogaW5kZXgsIHByZWZpeENsczogX3RoaXMyLnByb3BzLnByZWZpeENscyArICctdGFiJywgYmFkZ2U6IGNQcm9wcy5iYWRnZSwgZG90OiBjUHJvcHMuZG90LCBzZWxlY3RlZDogY1Byb3BzLnNlbGVjdGVkLCBpY29uOiBjUHJvcHMuaWNvbiwgc2VsZWN0ZWRJY29uOiBjUHJvcHMuc2VsZWN0ZWRJY29uLCB0aXRsZTogY1Byb3BzLnRpdGxlLCB0aW50Q29sb3I6IHRpbnRDb2xvciwgdW5zZWxlY3RlZFRpbnRDb2xvcjogdW5zZWxlY3RlZFRpbnRDb2xvciwgZGF0YUF0dHJzOiBnZXREYXRhQXR0cihjUHJvcHMpLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNQcm9wcy5vblByZXNzICYmIGNQcm9wcy5vblByZXNzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBjbHMgPSBwcmVmaXhDbHMgKyAnLWJhcic7XG4gICAgICAgICAgICBpZiAoaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgY2xzICs9ICcgJyArIHByZWZpeENscyArICctYmFyLWhpZGRlbi0nICsgdGFiQmFyUG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xzLCBzdHlsZTogeyBiYWNrZ3JvdW5kQ29sb3I6IGJhclRpbnRDb2xvciB9IH0sXG4gICAgICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzMjtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQW50VGFiQmFyLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzMi5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IF9wcm9wczIuYW5pbWF0ZWQsXG4gICAgICAgICAgICAgICAgc3dpcGVhYmxlID0gX3Byb3BzMi5zd2lwZWFibGUsXG4gICAgICAgICAgICAgICAgbm9SZW5kZXJDb250ZW50ID0gX3Byb3BzMi5ub1JlbmRlckNvbnRlbnQsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyaW5nU2libGluZ3NOdW1iZXIgPSBfcHJvcHMyLnByZXJlbmRlcmluZ1NpYmxpbmdzTnVtYmVyLFxuICAgICAgICAgICAgICAgIHRhYkJhclBvc2l0aW9uID0gX3Byb3BzMi50YWJCYXJQb3NpdGlvbjtcblxuICAgICAgICAgICAgdmFyIHRhYnMgPSB0aGlzLmdldFRhYnMoKTtcbiAgICAgICAgICAgIHZhciBhY3RpdmVJbmRleCA9IDA7XG4gICAgICAgICAgICB0YWJzLmZvckVhY2goZnVuY3Rpb24gKHRhYiwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFiLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgVGFicyxcbiAgICAgICAgICAgICAgICAgICAgeyB0YWJzOiB0YWJzLCByZW5kZXJUYWJCYXI6IHRoaXMucmVuZGVyVGFiQmFyLCB0YWJCYXJQb3NpdGlvbjogdGFiQmFyUG9zaXRpb24sIHBhZ2U6IGFjdGl2ZUluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGFjdGl2ZUluZGV4LCBhbmltYXRlZDogYW5pbWF0ZWQsIHN3aXBlYWJsZTogc3dpcGVhYmxlLCBub1JlbmRlckNvbnRlbnQ6IG5vUmVuZGVyQ29udGVudCwgcHJlcmVuZGVyaW5nU2libGluZ3NOdW1iZXI6IHByZXJlbmRlcmluZ1NpYmxpbmdzTnVtYmVyIH0sXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBbnRUYWJCYXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbkFudFRhYkJhci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW0tdGFiLWJhcicsXG4gICAgYmFyVGludENvbG9yOiAnd2hpdGUnLFxuICAgIHRpbnRDb2xvcjogJyMxMDhlZTknLFxuICAgIGhpZGRlbjogZmFsc2UsXG4gICAgdW5zZWxlY3RlZFRpbnRDb2xvcjogJyM4ODgnLFxuICAgIHBsYWNlaG9sZGVyOiAn5q2j5Zyo5Yqg6L29JyxcbiAgICBhbmltYXRlZDogZmFsc2UsXG4gICAgc3dpcGVhYmxlOiBmYWxzZSxcbiAgICBwcmVyZW5kZXJpbmdTaWJsaW5nc051bWJlcjogMSxcbiAgICB0YWJCYXJQb3NpdGlvbjogJ2JvdHRvbSdcbn07XG5BbnRUYWJCYXIuSXRlbSA9IEl0ZW07XG5leHBvcnQgZGVmYXVsdCBBbnRUYWJCYXI7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVG91Y2hGZWVkYmFjayBmcm9tICdybWMtZmVlZGJhY2snO1xuaW1wb3J0IGdldERhdGFBdHRyIGZyb20gJy4uL191dGlsL2dldERhdGFBdHRyJztcbmltcG9ydCBJY29uIGZyb20gJy4uL2ljb24nO1xuXG52YXIgVGFnID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoVGFnLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFRhZyhwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFnKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGFnLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFnKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IF90aGlzJHByb3BzLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlID0gX3RoaXMkcHJvcHMub25DaGFuZ2U7XG5cbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpc1NlbGVjdCA9IF90aGlzLnN0YXRlLnNlbGVjdGVkO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAhaXNTZWxlY3RcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoIWlzU2VsZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25UYWdDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsb3NlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGNsb3NlZDogdHJ1ZVxuICAgICAgICAgICAgfSwgX3RoaXMucHJvcHMuYWZ0ZXJDbG9zZSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2VsZWN0ZWQ6IHByb3BzLnNlbGVjdGVkLFxuICAgICAgICAgICAgY2xvc2VkOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRhZywgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0ZWQgIT09IG5leHRQcm9wcy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogbmV4dFByb3BzLnNlbGVjdGVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2NsYXNzbmFtZXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICBjbG9zYWJsZSA9IF9wcm9wcy5jbG9zYWJsZSxcbiAgICAgICAgICAgICAgICBzbWFsbCA9IF9wcm9wcy5zbWFsbCxcbiAgICAgICAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZTtcblxuICAgICAgICAgICAgdmFyIHdyYXBDbHMgPSBjbGFzc25hbWVzKGNsYXNzTmFtZSwgcHJlZml4Q2xzLCAoX2NsYXNzbmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLW5vcm1hbCcsICFkaXNhYmxlZCAmJiAoIXRoaXMuc3RhdGUuc2VsZWN0ZWQgfHwgc21hbGwgfHwgY2xvc2FibGUpKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXNtYWxsJywgc21hbGwpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctYWN0aXZlJywgdGhpcy5zdGF0ZS5zZWxlY3RlZCAmJiAhZGlzYWJsZWQgJiYgIXNtYWxsICYmICFjbG9zYWJsZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWNsb3NhYmxlJywgY2xvc2FibGUpLCBfY2xhc3NuYW1lcykpO1xuICAgICAgICAgICAgdmFyIGNsb3NhYmxlRG9tID0gY2xvc2FibGUgJiYgIWRpc2FibGVkICYmICFzbWFsbCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgVG91Y2hGZWVkYmFjayxcbiAgICAgICAgICAgICAgICB7IGFjdGl2ZUNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jbG9zZS1hY3RpdmUnIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsb3NlJywgcm9sZTogJ2J1dHRvbicsIG9uQ2xpY2s6IHRoaXMub25UYWdDbG9zZSwgJ2FyaWEtbGFiZWwnOiAncmVtb3ZlIHRhZycgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7IHR5cGU6ICdjcm9zcy1jaXJjbGUnLCBzaXplOiAneHMnLCAnYXJpYS1oaWRkZW4nOiAndHJ1ZScgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5zdGF0ZS5jbG9zZWQgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHt9LCBnZXREYXRhQXR0cih0aGlzLnByb3BzKSwgeyBjbGFzc05hbWU6IHdyYXBDbHMsIG9uQ2xpY2s6IHRoaXMub25DbGljaywgc3R5bGU6IHN0eWxlIH0pLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10ZXh0JyB9LFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgY2xvc2FibGVEb21cbiAgICAgICAgICAgICkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRhZztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgVGFnO1xuXG5UYWcuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLXRhZycsXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICBjbG9zYWJsZTogZmFsc2UsXG4gICAgc21hbGw6IGZhbHNlLFxuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9LFxuICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7fSxcbiAgICBhZnRlckNsb3NlOiBmdW5jdGlvbiBhZnRlckNsb3NlKCkge31cbn07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnZhciBWaWV3ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoVmlldywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBWaWV3KCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmlldyk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChWaWV3Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVmlldykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhWaWV3LCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMuc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0ge307XG4gICAgICAgICAgICAgICAgcHJvcHMuc3R5bGUuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IF9leHRlbmRzKHt9LCBzdHlsZSwgcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcHJvcHMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIF9wcm9wcyRDb21wb25lbnQgPSBwcm9wcy5Db21wb25lbnQsXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50ID0gX3Byb3BzJENvbXBvbmVudCA9PT0gdW5kZWZpbmVkID8gJ2RpdicgOiBfcHJvcHMkQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChwcm9wcywgW1wiQ29tcG9uZW50XCJdKTtcblxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCByZXN0UHJvcHMpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFZpZXc7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXc7XG5cblZpZXcuZGVmYXVsdFByb3BzID0ge1xuICAgIENvbXBvbmVudDogJ2Rpdidcbn07IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi92aWV3JztcblxudmFyIFRleHQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhUZXh0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFRleHQoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0KTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRleHQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUZXh0KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRleHQsIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChWaWV3LCB0aGlzLnByb3BzKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBUZXh0O1xuXG5UZXh0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBDb21wb25lbnQ6ICdzcGFuJ1xufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuLyogdHNsaW50OmRpc2FibGU6anN4LW5vLW11bHRpbGluZS1qcyAqL1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRvdWNoRmVlZGJhY2sgZnJvbSAncm1jLWZlZWRiYWNrJztcbmltcG9ydCB7IElTX0lPUyB9IGZyb20gJy4uL191dGlsL2V4ZW52JztcbmZ1bmN0aW9uIG5vb3AoKSB7fVxuZnVuY3Rpb24gZml4Q29udHJvbGxlZFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG52YXIgcmVnZXhBc3RyYWxTeW1ib2xzID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl18XFxuL2c7XG5mdW5jdGlvbiBjb3VudFN5bWJvbHMoKSB7XG4gICAgdmFyIHRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuXG4gICAgcmV0dXJuIHRleHQucmVwbGFjZShyZWdleEFzdHJhbFN5bWJvbHMsICdfJykubGVuZ3RoO1xufVxuXG52YXIgVGV4dGFyZWFJdGVtID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoVGV4dGFyZWFJdGVtLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFRleHRhcmVhSXRlbShwcm9wcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dGFyZWFJdGVtKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGV4dGFyZWFJdGVtLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGV4dGFyZWFJdGVtKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMudGV4dGFyZWFSZWYuZm9jdXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMucmVBbGlnbkhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0YXJlYURvbSA9IF90aGlzLnRleHRhcmVhUmVmO1xuICAgICAgICAgICAgdGV4dGFyZWFEb20uc3R5bGUuaGVpZ2h0ID0gJyc7IC8vIOWtl+aVsOWHj+WwkeaXtuiDveiHquWKqOWHj+Wwj+mrmOW6plxuICAgICAgICAgICAgdGV4dGFyZWFEb20uc3R5bGUuaGVpZ2h0ID0gdGV4dGFyZWFEb20uc2Nyb2xsSGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBfdGhpcy5wcm9wcykge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdmFsdWU6IF90aGlzLnByb3BzLnZhbHVlIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuXG4gICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyDorr7nva4gZGVmYXVsdFZhbHVlIOaXtu+8jOeUqOaIt+i+k+WFpeS4jeS8muinpuWPkSBjb21wb25lbnREaWRVcGRhdGUg77yM5q2k5aSE5omL5bel6LCD55SoXG4gICAgICAgICAgICBfdGhpcy5jb21wb25lbnREaWRVcGRhdGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25CbHVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLmRlYm91bmNlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBfdGhpcy50ZXh0YXJlYVJlZikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkJsdXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkJsdXIodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkZvY3VzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5kZWJvdW5jZVRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuZGVib3VuY2VUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZWJvdW5jZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkZvY3VzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25Gb2N1cyh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uRXJyb3JDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkVycm9yQ2xpY2spIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkVycm9yQ2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuY2xlYXJJbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogJydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGZvY3VzOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWUgfHwgJydcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0YXJlYUl0ZW0sIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZml4Q29udHJvbGxlZFZhbHVlKG5leHRQcm9wcy52YWx1ZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5hdXRvSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZUFsaWduSGVpZ2h0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5hdXRvSGVpZ2h0ICYmIHRoaXMuc3RhdGUuZm9jdXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlQWxpZ25IZWlnaHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJvdW5jZVRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVib3VuY2VUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NuYW1lcyxcbiAgICAgICAgICAgICAgICBfY2xhc3NuYW1lczIsXG4gICAgICAgICAgICAgICAgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgcHJlZml4TGlzdENscyA9IF9hLnByZWZpeExpc3RDbHMsXG4gICAgICAgICAgICAgICAgZWRpdGFibGUgPSBfYS5lZGl0YWJsZSxcbiAgICAgICAgICAgICAgICBzdHlsZSA9IF9hLnN0eWxlLFxuICAgICAgICAgICAgICAgIGNsZWFyID0gX2EuY2xlYXIsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICBlcnJvciA9IF9hLmVycm9yLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBjb3VudCA9IF9hLmNvdW50LFxuICAgICAgICAgICAgICAgIGxhYmVsTnVtYmVyID0gX2EubGFiZWxOdW1iZXIsXG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfYS50aXRsZSxcbiAgICAgICAgICAgICAgICBvbkVycm9yQ2xpY2sgPSBfYS5vbkVycm9yQ2xpY2ssXG4gICAgICAgICAgICAgICAgYXV0b0hlaWdodCA9IF9hLmF1dG9IZWlnaHQsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gX2EuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgIG90aGVyUHJvcHMgPSBfX3Jlc3QoX2EsIFtcInByZWZpeENsc1wiLCBcInByZWZpeExpc3RDbHNcIiwgXCJlZGl0YWJsZVwiLCBcInN0eWxlXCIsIFwiY2xlYXJcIiwgXCJjaGlsZHJlblwiLCBcImVycm9yXCIsIFwiY2xhc3NOYW1lXCIsIFwiY291bnRcIiwgXCJsYWJlbE51bWJlclwiLCBcInRpdGxlXCIsIFwib25FcnJvckNsaWNrXCIsIFwiYXV0b0hlaWdodFwiLCBcImRlZmF1bHRWYWx1ZVwiXSk7dmFyIGRpc2FibGVkID0gb3RoZXJQcm9wcy5kaXNhYmxlZDtcbiAgICAgICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gX3N0YXRlLnZhbHVlLFxuICAgICAgICAgICAgICAgIGZvY3VzID0gX3N0YXRlLmZvY3VzO1xuXG4gICAgICAgICAgICB2YXIgaGFzQ291bnQgPSBjb3VudCA+IDAgJiYgdGhpcy5wcm9wcy5yb3dzID4gMTtcbiAgICAgICAgICAgIHZhciB3cmFwQ2xzID0gY2xhc3NuYW1lcyhjbGFzc05hbWUsIHByZWZpeExpc3RDbHMgKyAnLWl0ZW0nLCBwcmVmaXhDbHMgKyAnLWl0ZW0nLCAoX2NsYXNzbmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgZGlzYWJsZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctaXRlbS1zaW5nbGUtbGluZScsIHRoaXMucHJvcHMucm93cyA9PT0gMSAmJiAhYXV0b0hlaWdodCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1lcnJvcicsIGVycm9yKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWZvY3VzJywgZm9jdXMpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctaGFzLWNvdW50JywgaGFzQ291bnQpLCBfY2xhc3NuYW1lcykpO1xuICAgICAgICAgICAgdmFyIGxhYmVsQ2xzID0gY2xhc3NuYW1lcyhwcmVmaXhDbHMgKyAnLWxhYmVsJywgKF9jbGFzc25hbWVzMiA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMyLCBwcmVmaXhDbHMgKyAnLWxhYmVsLTInLCBsYWJlbE51bWJlciA9PT0gMiksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lczIsIHByZWZpeENscyArICctbGFiZWwtMycsIGxhYmVsTnVtYmVyID09PSAzKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzMiwgcHJlZml4Q2xzICsgJy1sYWJlbC00JywgbGFiZWxOdW1iZXIgPT09IDQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMyLCBwcmVmaXhDbHMgKyAnLWxhYmVsLTUnLCBsYWJlbE51bWJlciA9PT0gNSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lczIsIHByZWZpeENscyArICctbGFiZWwtNicsIGxhYmVsTnVtYmVyID09PSA2KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzMiwgcHJlZml4Q2xzICsgJy1sYWJlbC03JywgbGFiZWxOdW1iZXIgPT09IDcpLCBfY2xhc3NuYW1lczIpKTtcbiAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJMZW5ndGggPSBjb3VudFN5bWJvbHModmFsdWUpO1xuICAgICAgICAgICAgdmFyIGxlbmd0aEN0cmxQcm9wcyA9IHt9O1xuICAgICAgICAgICAgaWYgKGNvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IElmIGluIHRoZSBpT1MgZW52aXJvbm1lbnQgb2YgZGV2LXRvb2xzLCBJdCB3aWxsIGZhaWwuXG4gICAgICAgICAgICAgICAgaWYgKElTX0lPUykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW50VmFsdWUgPSB2YWx1ZSA/IHZhbHVlLnJlcGxhY2UocmVnZXhBc3RyYWxTeW1ib2xzLCAnXycpIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbnRMZW4gPSBlbnRWYWx1ZSA/IGVudFZhbHVlLnNwbGl0KCdfJykubGVuZ3RoIC0gMSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aEN0cmxQcm9wcy5tYXhMZW5ndGggPSBjb3VudCArIGVudExlbiAtIGNoYXJhY3Rlckxlbmd0aCArICh2YWx1ZSA/IHZhbHVlLmxlbmd0aCA6IDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aEN0cmxQcm9wcy5tYXhMZW5ndGggPSBjb3VudCAtIGNoYXJhY3Rlckxlbmd0aCArICh2YWx1ZSA/IHZhbHVlLmxlbmd0aCA6IDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiB3cmFwQ2xzIH0sXG4gICAgICAgICAgICAgICAgdGl0bGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBsYWJlbENscyB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbnRyb2wnIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJywgX2V4dGVuZHMoeyByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudGV4dGFyZWFSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSwgbGVuZ3RoQ3RybFByb3BzLCBvdGhlclByb3BzLCB7IHZhbHVlOiB2YWx1ZSwgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2UsIG9uQmx1cjogdGhpcy5vbkJsdXIsIG9uRm9jdXM6IHRoaXMub25Gb2N1cywgcmVhZE9ubHk6ICFlZGl0YWJsZSwgc3R5bGU6IHN0eWxlIH0pKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgY2xlYXIgJiYgZWRpdGFibGUgJiYgdmFsdWUgJiYgY2hhcmFjdGVyTGVuZ3RoID4gMCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBUb3VjaEZlZWRiYWNrLFxuICAgICAgICAgICAgICAgICAgICB7IGFjdGl2ZUNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jbGVhci1hY3RpdmUnIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsZWFyJywgb25DbGljazogdGhpcy5jbGVhcklucHV0IH0pXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBlcnJvciAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1lcnJvci1leHRyYScsIG9uQ2xpY2s6IHRoaXMub25FcnJvckNsaWNrIH0pLFxuICAgICAgICAgICAgICAgIGhhc0NvdW50ICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY291bnQnIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPyBjaGFyYWN0ZXJMZW5ndGggOiAwXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICcvJyxcbiAgICAgICAgICAgICAgICAgICAgY291bnRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRleHRhcmVhSXRlbTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgVGV4dGFyZWFJdGVtO1xuXG5UZXh0YXJlYUl0ZW0uZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLXRleHRhcmVhJyxcbiAgICBwcmVmaXhMaXN0Q2xzOiAnYW0tbGlzdCcsXG4gICAgYXV0b0hlaWdodDogZmFsc2UsXG4gICAgZWRpdGFibGU6IHRydWUsXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIHBsYWNlaG9sZGVyOiAnJyxcbiAgICBjbGVhcjogZmFsc2UsXG4gICAgcm93czogMSxcbiAgICBvbkNoYW5nZTogbm9vcCxcbiAgICBvbkJsdXI6IG5vb3AsXG4gICAgb25Gb2N1czogbm9vcCxcbiAgICBvbkVycm9yQ2xpY2s6IG5vb3AsXG4gICAgZXJyb3I6IGZhbHNlLFxuICAgIGxhYmVsTnVtYmVyOiA1XG59OyIsIi8qKlxuICogU2FmZSBjaGFpbmVkIGZ1bmN0aW9uXG4gKlxuICogV2lsbCBvbmx5IGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBpZiBuZWVkZWQsXG4gKiBvdGhlcndpc2Ugd2lsbCBwYXNzIGJhY2sgZXhpc3RpbmcgZnVuY3Rpb25zIG9yIG51bGwuXG4gKlxuICogQHJldHVybnMge2Z1bmN0aW9ufG51bGx9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUNoYWluZWRGdW5jdGlvbigpIHtcbiAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBhcmdzWzBdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNoYWluZWRGdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhcmdzW2ldICYmIGFyZ3NbaV0uYXBwbHkpIHtcbiAgICAgICAgYXJnc1tpXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0iLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxudmFyIE5vdGljZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhOb3RpY2UsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE5vdGljZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm90aWNlKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBOb3RpY2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOb3RpY2UpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNsZWFyQ2xvc2VUaW1lcigpO1xuICAgICAgX3RoaXMucHJvcHMub25DbG9zZSgpO1xuICAgIH0sIF90aGlzLnN0YXJ0Q2xvc2VUaW1lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5kdXJhdGlvbikge1xuICAgICAgICBfdGhpcy5jbG9zZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuY2xvc2UoKTtcbiAgICAgICAgfSwgX3RoaXMucHJvcHMuZHVyYXRpb24gKiAxMDAwKTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5jbGVhckNsb3NlVGltZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuY2xvc2VUaW1lcikge1xuICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuY2xvc2VUaW1lcik7XG4gICAgICAgIF90aGlzLmNsb3NlVGltZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE5vdGljZSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5zdGFydENsb3NlVGltZXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdGhpcy5jbGVhckNsb3NlVGltZXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX2NsYXNzTmFtZTtcblxuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHZhciBjb21wb25lbnRDbGFzcyA9IHByb3BzLnByZWZpeENscyArICctbm90aWNlJztcbiAgICAgIHZhciBjbGFzc05hbWUgPSAoX2NsYXNzTmFtZSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZSwgJycgKyBjb21wb25lbnRDbGFzcywgMSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lLCBjb21wb25lbnRDbGFzcyArICctY2xvc2FibGUnLCBwcm9wcy5jbG9zYWJsZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lLCBwcm9wcy5jbGFzc05hbWUsICEhcHJvcHMuY2xhc3NOYW1lKSwgX2NsYXNzTmFtZSk7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzTmFtZSksIHN0eWxlOiBwcm9wcy5zdHlsZSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBjb21wb25lbnRDbGFzcyArICctY29udGVudCcgfSxcbiAgICAgICAgICBwcm9wcy5jaGlsZHJlblxuICAgICAgICApLFxuICAgICAgICBwcm9wcy5jbG9zYWJsZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2EnLFxuICAgICAgICAgIHsgdGFiSW5kZXg6ICcwJywgb25DbGljazogdGhpcy5jbG9zZSwgY2xhc3NOYW1lOiBjb21wb25lbnRDbGFzcyArICctY2xvc2UnIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBjb21wb25lbnRDbGFzcyArICctY2xvc2UteCcgfSlcbiAgICAgICAgKSA6IG51bGxcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5vdGljZTtcbn0oQ29tcG9uZW50KTtcblxuTm90aWNlLnByb3BUeXBlcyA9IHtcbiAgZHVyYXRpb246IFByb3BUeXBlcy5udW1iZXIsXG4gIG9uQ2xvc2U6IFByb3BUeXBlcy5mdW5jLFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueVxufTtcbk5vdGljZS5kZWZhdWx0UHJvcHMgPSB7XG4gIG9uRW5kOiBmdW5jdGlvbiBvbkVuZCgpIHt9LFxuICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge30sXG5cbiAgZHVyYXRpb246IDEuNSxcbiAgc3R5bGU6IHtcbiAgICByaWdodDogJzUwJSdcbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IE5vdGljZTsiLCJpbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgQW5pbWF0ZSBmcm9tICdyYy1hbmltYXRlJztcbmltcG9ydCBjcmVhdGVDaGFpbmVkRnVuY3Rpb24gZnJvbSAncmMtdXRpbC9lcy9jcmVhdGVDaGFpbmVkRnVuY3Rpb24nO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgTm90aWNlIGZyb20gJy4vTm90aWNlJztcblxudmFyIHNlZWQgPSAwO1xudmFyIG5vdyA9IERhdGUubm93KCk7XG5cbmZ1bmN0aW9uIGdldFV1aWQoKSB7XG4gIHJldHVybiAncmNOb3RpZmljYXRpb25fJyArIG5vdyArICdfJyArIHNlZWQrKztcbn1cblxudmFyIE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhOb3RpZmljYXRpb24sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE5vdGlmaWNhdGlvbigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm90aWZpY2F0aW9uKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBOb3RpZmljYXRpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOb3RpZmljYXRpb24pKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5vdGljZXM6IFtdXG4gICAgfSwgX3RoaXMuYWRkID0gZnVuY3Rpb24gKG5vdGljZSkge1xuICAgICAgdmFyIGtleSA9IG5vdGljZS5rZXkgPSBub3RpY2Uua2V5IHx8IGdldFV1aWQoKTtcbiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2aW91c1N0YXRlKSB7XG4gICAgICAgIHZhciBub3RpY2VzID0gcHJldmlvdXNTdGF0ZS5ub3RpY2VzO1xuICAgICAgICBpZiAoIW5vdGljZXMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgcmV0dXJuIHYua2V5ID09PSBrZXk7XG4gICAgICAgIH0pLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBub3RpY2VzOiBub3RpY2VzLmNvbmNhdChub3RpY2UpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZpb3VzU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBub3RpY2VzOiBwcmV2aW91c1N0YXRlLm5vdGljZXMuZmlsdGVyKGZ1bmN0aW9uIChub3RpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBub3RpY2Uua2V5ICE9PSBrZXk7XG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE5vdGlmaWNhdGlvbiwgW3tcbiAgICBrZXk6ICdnZXRUcmFuc2l0aW9uTmFtZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25OYW1lKCkge1xuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnRyYW5zaXRpb25OYW1lO1xuICAgICAgaWYgKCF0cmFuc2l0aW9uTmFtZSAmJiBwcm9wcy5hbmltYXRpb24pIHtcbiAgICAgICAgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy5wcmVmaXhDbHMgKyAnLScgKyBwcm9wcy5hbmltYXRpb247XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhbnNpdGlvbk5hbWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXMsXG4gICAgICAgICAgX2NsYXNzTmFtZTtcblxuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHZhciBub3RpY2VOb2RlcyA9IHRoaXMuc3RhdGUubm90aWNlcy5tYXAoZnVuY3Rpb24gKG5vdGljZSkge1xuICAgICAgICB2YXIgb25DbG9zZSA9IGNyZWF0ZUNoYWluZWRGdW5jdGlvbihfdGhpczIucmVtb3ZlLmJpbmQoX3RoaXMyLCBub3RpY2Uua2V5KSwgbm90aWNlLm9uQ2xvc2UpO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBOb3RpY2UsXG4gICAgICAgICAgX2V4dGVuZHMoe1xuICAgICAgICAgICAgcHJlZml4Q2xzOiBwcm9wcy5wcmVmaXhDbHNcbiAgICAgICAgICB9LCBub3RpY2UsIHtcbiAgICAgICAgICAgIG9uQ2xvc2U6IG9uQ2xvc2VcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBub3RpY2UuY29udGVudFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gKF9jbGFzc05hbWUgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWUsIHByb3BzLnByZWZpeENscywgMSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lLCBwcm9wcy5jbGFzc05hbWUsICEhcHJvcHMuY2xhc3NOYW1lKSwgX2NsYXNzTmFtZSk7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzTmFtZSksIHN0eWxlOiBwcm9wcy5zdHlsZSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIEFuaW1hdGUsXG4gICAgICAgICAgeyB0cmFuc2l0aW9uTmFtZTogdGhpcy5nZXRUcmFuc2l0aW9uTmFtZSgpIH0sXG4gICAgICAgICAgbm90aWNlTm9kZXNcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTm90aWZpY2F0aW9uO1xufShDb21wb25lbnQpO1xuXG5Ob3RpZmljYXRpb24ucHJvcFR5cGVzID0ge1xuICBwcmVmaXhDbHM6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHRyYW5zaXRpb25OYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBhbmltYXRpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3Rcbn07XG5Ob3RpZmljYXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBwcmVmaXhDbHM6ICdybWMtbm90aWZpY2F0aW9uJyxcbiAgYW5pbWF0aW9uOiAnZmFkZScsXG4gIHN0eWxlOiB7XG4gICAgdG9wOiA2NSxcbiAgICBsZWZ0OiAnNTAlJ1xuICB9XG59O1xuXG5cbk5vdGlmaWNhdGlvbi5uZXdJbnN0YW5jZSA9IGZ1bmN0aW9uIG5ld05vdGlmaWNhdGlvbkluc3RhbmNlKHByb3BlcnRpZXMsIGNhbGxiYWNrKSB7XG4gIHZhciBfcmVmMiA9IHByb3BlcnRpZXMgfHwge30sXG4gICAgICBnZXRDb250YWluZXIgPSBfcmVmMi5nZXRDb250YWluZXIsXG4gICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmMiwgWydnZXRDb250YWluZXInXSk7XG5cbiAgdmFyIGRpdiA9IHZvaWQgMDtcbiAgaWYgKGdldENvbnRhaW5lcikge1xuICAgIGRpdiA9IGdldENvbnRhaW5lcigpO1xuICB9IGVsc2Uge1xuICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgfVxuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIHJlZihub3RpZmljYXRpb24pIHtcbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxlZCA9IHRydWU7XG4gICAgY2FsbGJhY2soe1xuICAgICAgbm90aWNlOiBmdW5jdGlvbiBub3RpY2Uobm90aWNlUHJvcHMpIHtcbiAgICAgICAgbm90aWZpY2F0aW9uLmFkZChub3RpY2VQcm9wcyk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlTm90aWNlOiBmdW5jdGlvbiByZW1vdmVOb3RpY2Uoa2V5KSB7XG4gICAgICAgIG5vdGlmaWNhdGlvbi5yZW1vdmUoa2V5KTtcbiAgICAgIH0sXG5cbiAgICAgIGNvbXBvbmVudDogbm90aWZpY2F0aW9uLFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShkaXYpO1xuICAgICAgICBpZiAoIWdldENvbnRhaW5lcikge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGl2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIFJlYWN0RE9NLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KE5vdGlmaWNhdGlvbiwgX2V4dGVuZHMoe30sIHByb3BzLCB7IHJlZjogcmVmIH0pKSwgZGl2KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE5vdGlmaWNhdGlvbjsiLCJpbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJy4vTm90aWZpY2F0aW9uJztcbmV4cG9ydCBkZWZhdWx0IE5vdGlmaWNhdGlvbjsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJ3JtYy1ub3RpZmljYXRpb24nO1xuaW1wb3J0IEljb24gZnJvbSAnLi4vaWNvbic7XG52YXIgbWVzc2FnZUluc3RhbmNlID0gdm9pZCAwO1xudmFyIHByZWZpeENscyA9ICdhbS10b2FzdCc7XG5mdW5jdGlvbiBnZXRNZXNzYWdlSW5zdGFuY2UobWFzaywgY2FsbGJhY2spIHtcbiAgICB2YXIgX2NsYXNzbmFtZXM7XG5cbiAgICBpZiAobWVzc2FnZUluc3RhbmNlKSB7XG4gICAgICAgIG1lc3NhZ2VJbnN0YW5jZS5kZXN0cm95KCk7XG4gICAgICAgIG1lc3NhZ2VJbnN0YW5jZSA9IG51bGw7XG4gICAgfVxuICAgIE5vdGlmaWNhdGlvbi5uZXdJbnN0YW5jZSh7XG4gICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICBzdHlsZToge30sXG4gICAgICAgIHRyYW5zaXRpb25OYW1lOiAnYW0tZmFkZScsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcygoX2NsYXNzbmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLW1hc2snLCBtYXNrKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLW5vbWFzaycsICFtYXNrKSwgX2NsYXNzbmFtZXMpKVxuICAgIH0sIGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrICYmIGNhbGxiYWNrKG5vdGlmaWNhdGlvbik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBub3RpY2UoY29udGVudCwgdHlwZSkge1xuICAgIHZhciBkdXJhdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMztcbiAgICB2YXIgX29uQ2xvc2UgPSBhcmd1bWVudHNbM107XG4gICAgdmFyIG1hc2sgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRydWU7XG5cbiAgICB2YXIgaWNvblR5cGVzID0ge1xuICAgICAgICBpbmZvOiAnJyxcbiAgICAgICAgc3VjY2VzczogJ3N1Y2Nlc3MnLFxuICAgICAgICBmYWlsOiAnZmFpbCcsXG4gICAgICAgIG9mZmxpbmU6ICdkaXNsaWtlJyxcbiAgICAgICAgbG9hZGluZzogJ2xvYWRpbmcnXG4gICAgfTtcbiAgICB2YXIgaWNvblR5cGUgPSBpY29uVHlwZXNbdHlwZV07XG4gICAgZ2V0TWVzc2FnZUluc3RhbmNlKG1hc2ssIGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgbWVzc2FnZUluc3RhbmNlID0gbm90aWZpY2F0aW9uO1xuICAgICAgICBub3RpZmljYXRpb24ubm90aWNlKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgICAgIHN0eWxlOiB7fSxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICEhaWNvblR5cGUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRleHQgJyArIHByZWZpeENscyArICctdGV4dC1pY29uJywgcm9sZTogJ2FsZXJ0JywgJ2FyaWEtbGl2ZSc6ICdhc3NlcnRpdmUnIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7IHR5cGU6IGljb25UeXBlLCBzaXplOiAnbGcnIH0pLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10ZXh0LWluZm8nIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIDogUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10ZXh0Jywgcm9sZTogJ2FsZXJ0JywgJ2FyaWEtbGl2ZSc6ICdhc3NlcnRpdmUnIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY2xvc2FibGU6IHRydWUsXG4gICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge1xuICAgICAgICAgICAgICAgIGlmIChfb25DbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICBfb25DbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgbWVzc2FnZUluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgU0hPUlQ6IDMsXG4gICAgTE9ORzogOCxcbiAgICBzaG93OiBmdW5jdGlvbiBzaG93KGNvbnRlbnQsIGR1cmF0aW9uLCBtYXNrKSB7XG4gICAgICAgIHJldHVybiBub3RpY2UoY29udGVudCwgJ2luZm8nLCBkdXJhdGlvbiwgZnVuY3Rpb24gKCkge30sIG1hc2spO1xuICAgIH0sXG4gICAgaW5mbzogZnVuY3Rpb24gaW5mbyhjb250ZW50LCBkdXJhdGlvbiwgb25DbG9zZSwgbWFzaykge1xuICAgICAgICByZXR1cm4gbm90aWNlKGNvbnRlbnQsICdpbmZvJywgZHVyYXRpb24sIG9uQ2xvc2UsIG1hc2spO1xuICAgIH0sXG4gICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2Vzcyhjb250ZW50LCBkdXJhdGlvbiwgb25DbG9zZSwgbWFzaykge1xuICAgICAgICByZXR1cm4gbm90aWNlKGNvbnRlbnQsICdzdWNjZXNzJywgZHVyYXRpb24sIG9uQ2xvc2UsIG1hc2spO1xuICAgIH0sXG4gICAgZmFpbDogZnVuY3Rpb24gZmFpbChjb250ZW50LCBkdXJhdGlvbiwgb25DbG9zZSwgbWFzaykge1xuICAgICAgICByZXR1cm4gbm90aWNlKGNvbnRlbnQsICdmYWlsJywgZHVyYXRpb24sIG9uQ2xvc2UsIG1hc2spO1xuICAgIH0sXG4gICAgb2ZmbGluZTogZnVuY3Rpb24gb2ZmbGluZShjb250ZW50LCBkdXJhdGlvbiwgb25DbG9zZSwgbWFzaykge1xuICAgICAgICByZXR1cm4gbm90aWNlKGNvbnRlbnQsICdvZmZsaW5lJywgZHVyYXRpb24sIG9uQ2xvc2UsIG1hc2spO1xuICAgIH0sXG4gICAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZyhjb250ZW50LCBkdXJhdGlvbiwgb25DbG9zZSwgbWFzaykge1xuICAgICAgICByZXR1cm4gbm90aWNlKGNvbnRlbnQsICdsb2FkaW5nJywgZHVyYXRpb24sIG9uQ2xvc2UsIG1hc2spO1xuICAgIH0sXG4gICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2VJbnN0YW5jZSkge1xuICAgICAgICAgICAgbWVzc2FnZUluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIG1lc3NhZ2VJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnZhciBXaGl0ZVNwYWNlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoV2hpdGVTcGFjZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBXaGl0ZVNwYWNlKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2hpdGVTcGFjZSk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChXaGl0ZVNwYWNlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoV2hpdGVTcGFjZSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhXaGl0ZVNwYWNlLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBzaXplID0gX3Byb3BzLnNpemUsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICAgICAgICBvbkNsaWNrID0gX3Byb3BzLm9uQ2xpY2s7XG5cbiAgICAgICAgICAgIHZhciB3cmFwQ2xzID0gY2xhc3NuYW1lcyhwcmVmaXhDbHMsIHByZWZpeENscyArICctJyArIHNpemUsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IHdyYXBDbHMsIHN0eWxlOiBzdHlsZSwgb25DbGljazogb25DbGljayB9KTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBXaGl0ZVNwYWNlO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBXaGl0ZVNwYWNlO1xuXG5XaGl0ZVNwYWNlLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbS13aGl0ZXNwYWNlJyxcbiAgICBzaXplOiAnbWQnXG59OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnZhciBXaW5nQmxhbmsgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhXaW5nQmxhbmssIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gV2luZ0JsYW5rKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2luZ0JsYW5rKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFdpbmdCbGFuay5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFdpbmdCbGFuaykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhXaW5nQmxhbmssIFt7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIHNpemUgPSBfcHJvcHMuc2l6ZSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlO1xuXG4gICAgICAgICAgICB2YXIgd3JhcENscyA9IGNsYXNzbmFtZXMocHJlZml4Q2xzLCBwcmVmaXhDbHMgKyAnLScgKyBzaXplLCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHdyYXBDbHMsIHN0eWxlOiBzdHlsZSB9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFdpbmdCbGFuaztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgV2luZ0JsYW5rO1xuXG5XaW5nQmxhbmsuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FtLXdpbmdibGFuaycsXG4gICAgc2l6ZTogJ2xnJ1xufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgTG9jYWxlUHJvdmlkZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhMb2NhbGVQcm92aWRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBMb2NhbGVQcm92aWRlcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvY2FsZVByb3ZpZGVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKExvY2FsZVByb3ZpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxlUHJvdmlkZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTG9jYWxlUHJvdmlkZXIsIFt7XG4gICAgICAgIGtleTogJ2dldENoaWxkQ29udGV4dCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFudExvY2FsZTogX2V4dGVuZHMoe30sIHRoaXMucHJvcHMubG9jYWxlLCB7IGV4aXN0OiB0cnVlIH0pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LkNoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTG9jYWxlUHJvdmlkZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IExvY2FsZVByb3ZpZGVyO1xuXG5Mb2NhbGVQcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gICAgbG9jYWxlOiBQcm9wVHlwZXMub2JqZWN0XG59O1xuTG9jYWxlUHJvdmlkZXIuY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gICAgYW50TG9jYWxlOiBQcm9wVHlwZXMub2JqZWN0XG59OyIsImltcG9ydCBMb2NhbGVQcm92aWRlciBmcm9tICcuL2xvY2FsZS1wcm92aWRlcic7XG5leHBvcnQgZGVmYXVsdCBMb2NhbGVQcm92aWRlcjsiLCIvLyB0aGlzIGZpbGUgaXMgbm90IHVzZWQgaWYgdXNlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2JhYmVsLXBsdWdpbi1pbXBvcnRcbnZhciBFTlYgPSBwcm9jZXNzLmVudi5OT0RFX0VOVjtcbmlmIChFTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBFTlYgIT09ICd0ZXN0JyAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS53YXJuICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICBjb25zb2xlLndhcm4oJ1lvdSBhcmUgdXNpbmcgYSB3aG9sZSBwYWNrYWdlIG9mIGFudGQtbW9iaWxlLCAnICsgJ3BsZWFzZSB1c2UgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvYmFiZWwtcGx1Z2luLWltcG9ydCB0byByZWR1Y2UgYXBwIGJ1bmRsZSBzaXplLicpO1xufVxuZXhwb3J0IHsgZGVmYXVsdCBhcyBBY2NvcmRpb24gfSBmcm9tICcuL2FjY29yZGlvbi9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFjdGlvblNoZWV0IH0gZnJvbSAnLi9hY3Rpb24tc2hlZXQvaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBY3Rpdml0eUluZGljYXRvciB9IGZyb20gJy4vYWN0aXZpdHktaW5kaWNhdG9yL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmFkZ2UgfSBmcm9tICcuL2JhZGdlL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQnV0dG9uIH0gZnJvbSAnLi9idXR0b24vaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYWxlbmRhciB9IGZyb20gJy4vY2FsZW5kYXIvaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYXJkIH0gZnJvbSAnLi9jYXJkL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2Fyb3VzZWwgfSBmcm9tICcuL2Nhcm91c2VsL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hlY2tib3ggfSBmcm9tICcuL2NoZWNrYm94L2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRGF0ZVBpY2tlciB9IGZyb20gJy4vZGF0ZS1waWNrZXIvaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEYXRlUGlja2VyVmlldyB9IGZyb20gJy4vZGF0ZS1waWNrZXItdmlldy9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERyYXdlciB9IGZyb20gJy4vZHJhd2VyL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmxleCB9IGZyb20gJy4vZmxleC9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdyaWQgfSBmcm9tICcuL2dyaWQvaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJY29uIH0gZnJvbSAnLi9pY29uL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSW1hZ2VQaWNrZXIgfSBmcm9tICcuL2ltYWdlLXBpY2tlci9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIElucHV0SXRlbSB9IGZyb20gJy4vaW5wdXQtaXRlbS9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpc3QgfSBmcm9tICcuL2xpc3QvaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMaXN0VmlldyB9IGZyb20gJy4vbGlzdC12aWV3L2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWVudSB9IGZyb20gJy4vbWVudS9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1vZGFsIH0gZnJvbSAnLi9tb2RhbC9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE5hdkJhciB9IGZyb20gJy4vbmF2LWJhci9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE5vdGljZUJhciB9IGZyb20gJy4vbm90aWNlLWJhci9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBhZ2luYXRpb24gfSBmcm9tICcuL3BhZ2luYXRpb24vaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQaWNrZXIgfSBmcm9tICcuL3BpY2tlci9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBpY2tlclZpZXcgfSBmcm9tICcuL3BpY2tlci12aWV3L2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUG9wb3ZlciB9IGZyb20gJy4vcG9wb3Zlci9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFByb2dyZXNzIH0gZnJvbSAnLi9wcm9ncmVzcy9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFJhZGlvIH0gZnJvbSAnLi9yYWRpby9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFB1bGxUb1JlZnJlc2ggfSBmcm9tICcuL3B1bGwtdG8tcmVmcmVzaC9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFJlc3VsdCB9IGZyb20gJy4vcmVzdWx0L2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2VhcmNoQmFyIH0gZnJvbSAnLi9zZWFyY2gtYmFyL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2VnbWVudGVkQ29udHJvbCB9IGZyb20gJy4vc2VnbWVudGVkLWNvbnRyb2wvaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTbGlkZXIgfSBmcm9tICcuL3NsaWRlci9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFJhbmdlIH0gZnJvbSAnLi9yYW5nZS9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFN0ZXBwZXIgfSBmcm9tICcuL3N0ZXBwZXIvaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTdGVwcyB9IGZyb20gJy4vc3RlcHMvaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTd2lwZUFjdGlvbiB9IGZyb20gJy4vc3dpcGUtYWN0aW9uL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU3dpdGNoIH0gZnJvbSAnLi9zd2l0Y2gvaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBUYWJCYXIgfSBmcm9tICcuL3RhYi1iYXIvaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBUYWJzIH0gZnJvbSAnLi90YWJzL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVGFnIH0gZnJvbSAnLi90YWcvaW5kZXgnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBUZXh0IH0gZnJvbSAnLi90ZXh0L2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVGV4dGFyZWFJdGVtIH0gZnJvbSAnLi90ZXh0YXJlYS1pdGVtL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVG9hc3QgfSBmcm9tICcuL3RvYXN0L2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVmlldyB9IGZyb20gJy4vdmlldy9pbmRleCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFdoaXRlU3BhY2UgfSBmcm9tICcuL3doaXRlLXNwYWNlL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgV2luZ0JsYW5rIH0gZnJvbSAnLi93aW5nLWJsYW5rL2luZGV4JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9jYWxlUHJvdmlkZXIgfSBmcm9tICcuL2xvY2FsZS1wcm92aWRlci9pbmRleCc7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUNwR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNoSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOVZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUxBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDeEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2hnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2VEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDek9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FDOUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNyK0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQzNHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDN0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbERBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9kQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbERBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbE9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM01BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMVRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDaFZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0VkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2VkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pFQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbk1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQ3RLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdGtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbk1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFJQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUZBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbFZBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdFFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25MQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdlNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9LQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25JQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hTQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdk5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeFJBOzs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9PQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hLQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6Q0E7QUFDQTs7QUNEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///9ibs\\n\")},ASum:function(module,exports){eval(\"/**\\n * lodash (Custom Build) <https://lodash.com/>\\n * Build: `lodash modularize exports=\\\"npm\\\" -o ./`\\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\\n * Released under MIT license <https://lodash.com/license>\\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\\n */\\n\\n/** Used as references for various `Number` constants. */\\nvar MAX_SAFE_INTEGER = 9007199254740991;\\n\\n/** `Object#toString` result references. */\\nvar argsTag = '[object Arguments]',\\n    funcTag = '[object Function]',\\n    genTag = '[object GeneratorFunction]';\\n\\n/** Used for built-in method references. */\\nvar objectProto = Object.prototype;\\n\\n/** Used to check objects for own properties. */\\nvar hasOwnProperty = objectProto.hasOwnProperty;\\n\\n/**\\n * Used to resolve the\\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\\n * of values.\\n */\\nvar objectToString = objectProto.toString;\\n\\n/** Built-in value references. */\\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\\n\\n/**\\n * Checks if `value` is likely an `arguments` object.\\n *\\n * @static\\n * @memberOf _\\n * @since 0.1.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\\n *  else `false`.\\n * @example\\n *\\n * _.isArguments(function() { return arguments; }());\\n * // => true\\n *\\n * _.isArguments([1, 2, 3]);\\n * // => false\\n */\\nfunction isArguments(value) {\\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\\n}\\n\\n/**\\n * Checks if `value` is array-like. A value is considered array-like if it's\\n * not a function and has a `value.length` that's an integer greater than or\\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\\n *\\n * @static\\n * @memberOf _\\n * @since 4.0.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\\n * @example\\n *\\n * _.isArrayLike([1, 2, 3]);\\n * // => true\\n *\\n * _.isArrayLike(document.body.children);\\n * // => true\\n *\\n * _.isArrayLike('abc');\\n * // => true\\n *\\n * _.isArrayLike(_.noop);\\n * // => false\\n */\\nfunction isArrayLike(value) {\\n  return value != null && isLength(value.length) && !isFunction(value);\\n}\\n\\n/**\\n * This method is like `_.isArrayLike` except that it also checks if `value`\\n * is an object.\\n *\\n * @static\\n * @memberOf _\\n * @since 4.0.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is an array-like object,\\n *  else `false`.\\n * @example\\n *\\n * _.isArrayLikeObject([1, 2, 3]);\\n * // => true\\n *\\n * _.isArrayLikeObject(document.body.children);\\n * // => true\\n *\\n * _.isArrayLikeObject('abc');\\n * // => false\\n *\\n * _.isArrayLikeObject(_.noop);\\n * // => false\\n */\\nfunction isArrayLikeObject(value) {\\n  return isObjectLike(value) && isArrayLike(value);\\n}\\n\\n/**\\n * Checks if `value` is classified as a `Function` object.\\n *\\n * @static\\n * @memberOf _\\n * @since 0.1.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\\n * @example\\n *\\n * _.isFunction(_);\\n * // => true\\n *\\n * _.isFunction(/abc/);\\n * // => false\\n */\\nfunction isFunction(value) {\\n  // The use of `Object#toString` avoids issues with the `typeof` operator\\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\\n  var tag = isObject(value) ? objectToString.call(value) : '';\\n  return tag == funcTag || tag == genTag;\\n}\\n\\n/**\\n * Checks if `value` is a valid array-like length.\\n *\\n * **Note:** This method is loosely based on\\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\\n *\\n * @static\\n * @memberOf _\\n * @since 4.0.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\\n * @example\\n *\\n * _.isLength(3);\\n * // => true\\n *\\n * _.isLength(Number.MIN_VALUE);\\n * // => false\\n *\\n * _.isLength(Infinity);\\n * // => false\\n *\\n * _.isLength('3');\\n * // => false\\n */\\nfunction isLength(value) {\\n  return typeof value == 'number' &&\\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\\n}\\n\\n/**\\n * Checks if `value` is the\\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\\n *\\n * @static\\n * @memberOf _\\n * @since 0.1.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\\n * @example\\n *\\n * _.isObject({});\\n * // => true\\n *\\n * _.isObject([1, 2, 3]);\\n * // => true\\n *\\n * _.isObject(_.noop);\\n * // => true\\n *\\n * _.isObject(null);\\n * // => false\\n */\\nfunction isObject(value) {\\n  var type = typeof value;\\n  return !!value && (type == 'object' || type == 'function');\\n}\\n\\n/**\\n * Checks if `value` is object-like. A value is object-like if it's not `null`\\n * and has a `typeof` result of \\\"object\\\".\\n *\\n * @static\\n * @memberOf _\\n * @since 4.0.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\\n * @example\\n *\\n * _.isObjectLike({});\\n * // => true\\n *\\n * _.isObjectLike([1, 2, 3]);\\n * // => true\\n *\\n * _.isObjectLike(_.noop);\\n * // => false\\n *\\n * _.isObjectLike(null);\\n * // => false\\n */\\nfunction isObjectLike(value) {\\n  return !!value && typeof value == 'object';\\n}\\n\\nmodule.exports = isArguments;\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQVN1bS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2guaXNhcmd1bWVudHMvaW5kZXguanM/MDEyYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgKCFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgfHwgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJnc1RhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAqIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOC05IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0FyZ3VtZW50cztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///ASum\\n\")},ApPD:function(module,exports,__webpack_require__){eval('// 19.1.2.9 Object.getPrototypeOf(O)\\nvar toObject = __webpack_require__(/*! ./_to-object */ \"JB68\");\\nvar $getPrototypeOf = __webpack_require__(/*! ./_object-gpo */ \"U+KD\");\\n\\n__webpack_require__(/*! ./_object-sap */ \"zn7N\")(\\'getPrototypeOf\\', function () {\\n  return function getPrototypeOf(it) {\\n    return $getPrototypeOf(toObject(it));\\n  };\\n});\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBQRC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YuanM/MDI5MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyICRnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdnZXRQcm90b3R5cGVPZicsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdldFByb3RvdHlwZU9mKGl0KSB7XG4gICAgcmV0dXJuICRnZXRQcm90b3R5cGVPZih0b09iamVjdChpdCkpO1xuICB9O1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///ApPD\\n')},D0FO:function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = ({\\n    okText: '',\\n    cancelText: ''\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRDBGTy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9tZW51L2xvY2FsZS96aF9DTi5qcz8wZjQxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgICBva1RleHQ6ICfnoa7lrponLFxuICAgIGNhbmNlbFRleHQ6ICflj5bmtognXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///D0FO\\n\")},E0u0:function(module,exports,__webpack_require__){\"use strict\";eval(\"/**\\n * @ignore\\n * event object for dom\\n * @author yiminghe@gmail.com\\n */\\n\\n\\n\\nObject.defineProperty(exports, '__esModule', {\\n  value: true\\n});\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\\n\\nvar _EventBaseObject = __webpack_require__(/*! ./EventBaseObject */ \\\"QDlc\\\");\\n\\nvar _EventBaseObject2 = _interopRequireDefault(_EventBaseObject);\\n\\nvar _objectAssign = __webpack_require__(/*! object-assign */ \\\"MgzW\\\");\\n\\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\\n\\nvar TRUE = true;\\nvar FALSE = false;\\nvar commonProps = ['altKey', 'bubbles', 'cancelable', 'ctrlKey', 'currentTarget', 'eventPhase', 'metaKey', 'shiftKey', 'target', 'timeStamp', 'view', 'type'];\\n\\nfunction isNullOrUndefined(w) {\\n  return w === null || w === undefined;\\n}\\n\\nvar eventNormalizers = [{\\n  reg: /^key/,\\n  props: ['char', 'charCode', 'key', 'keyCode', 'which'],\\n  fix: function fix(event, nativeEvent) {\\n    if (isNullOrUndefined(event.which)) {\\n      event.which = !isNullOrUndefined(nativeEvent.charCode) ? nativeEvent.charCode : nativeEvent.keyCode;\\n    }\\n\\n    // add metaKey to non-Mac browsers (use ctrl for PC 's and Meta for Macs)\\n    if (event.metaKey === undefined) {\\n      event.metaKey = event.ctrlKey;\\n    }\\n  }\\n}, {\\n  reg: /^touch/,\\n  props: ['touches', 'changedTouches', 'targetTouches']\\n}, {\\n  reg: /^hashchange$/,\\n  props: ['newURL', 'oldURL']\\n}, {\\n  reg: /^gesturechange$/i,\\n  props: ['rotation', 'scale']\\n}, {\\n  reg: /^(mousewheel|DOMMouseScroll)$/,\\n  props: [],\\n  fix: function fix(event, nativeEvent) {\\n    var deltaX = undefined;\\n    var deltaY = undefined;\\n    var delta = undefined;\\n    var wheelDelta = nativeEvent.wheelDelta;\\n    var axis = nativeEvent.axis;\\n    var wheelDeltaY = nativeEvent.wheelDeltaY;\\n    var wheelDeltaX = nativeEvent.wheelDeltaX;\\n    var detail = nativeEvent.detail;\\n\\n    // ie/webkit\\n    if (wheelDelta) {\\n      delta = wheelDelta / 120;\\n    }\\n\\n    // gecko\\n    if (detail) {\\n      // press control e.detail == 1 else e.detail == 3\\n      delta = 0 - (detail % 3 === 0 ? detail / 3 : detail);\\n    }\\n\\n    // Gecko\\n    if (axis !== undefined) {\\n      if (axis === event.HORIZONTAL_AXIS) {\\n        deltaY = 0;\\n        deltaX = 0 - delta;\\n      } else if (axis === event.VERTICAL_AXIS) {\\n        deltaX = 0;\\n        deltaY = delta;\\n      }\\n    }\\n\\n    // Webkit\\n    if (wheelDeltaY !== undefined) {\\n      deltaY = wheelDeltaY / 120;\\n    }\\n    if (wheelDeltaX !== undefined) {\\n      deltaX = -1 * wheelDeltaX / 120;\\n    }\\n\\n    //  deltaY (ie)\\n    if (!deltaX && !deltaY) {\\n      deltaY = delta;\\n    }\\n\\n    if (deltaX !== undefined) {\\n      /**\\n       * deltaX of mousewheel event\\n       * @property deltaX\\n       * @member Event.DomEvent.Object\\n       */\\n      event.deltaX = deltaX;\\n    }\\n\\n    if (deltaY !== undefined) {\\n      /**\\n       * deltaY of mousewheel event\\n       * @property deltaY\\n       * @member Event.DomEvent.Object\\n       */\\n      event.deltaY = deltaY;\\n    }\\n\\n    if (delta !== undefined) {\\n      /**\\n       * delta of mousewheel event\\n       * @property delta\\n       * @member Event.DomEvent.Object\\n       */\\n      event.delta = delta;\\n    }\\n  }\\n}, {\\n  reg: /^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,\\n  props: ['buttons', 'clientX', 'clientY', 'button', 'offsetX', 'relatedTarget', 'which', 'fromElement', 'toElement', 'offsetY', 'pageX', 'pageY', 'screenX', 'screenY'],\\n  fix: function fix(event, nativeEvent) {\\n    var eventDoc = undefined;\\n    var doc = undefined;\\n    var body = undefined;\\n    var target = event.target;\\n    var button = nativeEvent.button;\\n\\n    // Calculate pageX/Y if missing and clientX/Y available\\n    if (target && isNullOrUndefined(event.pageX) && !isNullOrUndefined(nativeEvent.clientX)) {\\n      eventDoc = target.ownerDocument || document;\\n      doc = eventDoc.documentElement;\\n      body = eventDoc.body;\\n      event.pageX = nativeEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\\n      event.pageY = nativeEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\\n    }\\n\\n    // which for click: 1 === left; 2 === middle; 3 === right\\n    // do not use button\\n    if (!event.which && button !== undefined) {\\n      if (button & 1) {\\n        event.which = 1;\\n      } else if (button & 2) {\\n        event.which = 3;\\n      } else if (button & 4) {\\n        event.which = 2;\\n      } else {\\n        event.which = 0;\\n      }\\n    }\\n\\n    // add relatedTarget, if necessary\\n    if (!event.relatedTarget && event.fromElement) {\\n      event.relatedTarget = event.fromElement === target ? event.toElement : event.fromElement;\\n    }\\n\\n    return event;\\n  }\\n}];\\n\\nfunction retTrue() {\\n  return TRUE;\\n}\\n\\nfunction retFalse() {\\n  return FALSE;\\n}\\n\\nfunction DomEventObject(nativeEvent) {\\n  var type = nativeEvent.type;\\n\\n  var isNative = typeof nativeEvent.stopPropagation === 'function' || typeof nativeEvent.cancelBubble === 'boolean';\\n\\n  _EventBaseObject2['default'].call(this);\\n\\n  this.nativeEvent = nativeEvent;\\n\\n  // in case dom event has been mark as default prevented by lower dom node\\n  var isDefaultPrevented = retFalse;\\n  if ('defaultPrevented' in nativeEvent) {\\n    isDefaultPrevented = nativeEvent.defaultPrevented ? retTrue : retFalse;\\n  } else if ('getPreventDefault' in nativeEvent) {\\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=691151\\n    isDefaultPrevented = nativeEvent.getPreventDefault() ? retTrue : retFalse;\\n  } else if ('returnValue' in nativeEvent) {\\n    isDefaultPrevented = nativeEvent.returnValue === FALSE ? retTrue : retFalse;\\n  }\\n\\n  this.isDefaultPrevented = isDefaultPrevented;\\n\\n  var fixFns = [];\\n  var fixFn = undefined;\\n  var l = undefined;\\n  var prop = undefined;\\n  var props = commonProps.concat();\\n\\n  eventNormalizers.forEach(function (normalizer) {\\n    if (type.match(normalizer.reg)) {\\n      props = props.concat(normalizer.props);\\n      if (normalizer.fix) {\\n        fixFns.push(normalizer.fix);\\n      }\\n    }\\n  });\\n\\n  l = props.length;\\n\\n  // clone properties of the original event object\\n  while (l) {\\n    prop = props[--l];\\n    this[prop] = nativeEvent[prop];\\n  }\\n\\n  // fix target property, if necessary\\n  if (!this.target && isNative) {\\n    this.target = nativeEvent.srcElement || document; // srcElement might not be defined either\\n  }\\n\\n  // check if target is a text node (safari)\\n  if (this.target && this.target.nodeType === 3) {\\n    this.target = this.target.parentNode;\\n  }\\n\\n  l = fixFns.length;\\n\\n  while (l) {\\n    fixFn = fixFns[--l];\\n    fixFn(this, nativeEvent);\\n  }\\n\\n  this.timeStamp = nativeEvent.timeStamp || Date.now();\\n}\\n\\nvar EventBaseObjectProto = _EventBaseObject2['default'].prototype;\\n\\n(0, _objectAssign2['default'])(DomEventObject.prototype, EventBaseObjectProto, {\\n  constructor: DomEventObject,\\n\\n  preventDefault: function preventDefault() {\\n    var e = this.nativeEvent;\\n\\n    // if preventDefault exists run it on the original event\\n    if (e.preventDefault) {\\n      e.preventDefault();\\n    } else {\\n      // otherwise set the returnValue property of the original event to FALSE (IE)\\n      e.returnValue = FALSE;\\n    }\\n\\n    EventBaseObjectProto.preventDefault.call(this);\\n  },\\n\\n  stopPropagation: function stopPropagation() {\\n    var e = this.nativeEvent;\\n\\n    // if stopPropagation exists run it on the original event\\n    if (e.stopPropagation) {\\n      e.stopPropagation();\\n    } else {\\n      // otherwise set the cancelBubble property of the original event to TRUE (IE)\\n      e.cancelBubble = TRUE;\\n    }\\n\\n    EventBaseObjectProto.stopPropagation.call(this);\\n  }\\n});\\n\\nexports['default'] = DomEventObject;\\nmodule.exports = exports['default'];//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRTB1MC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hZGQtZG9tLWV2ZW50LWxpc3RlbmVyL2xpYi9FdmVudE9iamVjdC5qcz8xMzRiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGlnbm9yZVxuICogZXZlbnQgb2JqZWN0IGZvciBkb21cbiAqIEBhdXRob3IgeWltaW5naGVAZ21haWwuY29tXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX0V2ZW50QmFzZU9iamVjdCA9IHJlcXVpcmUoJy4vRXZlbnRCYXNlT2JqZWN0Jyk7XG5cbnZhciBfRXZlbnRCYXNlT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50QmFzZU9iamVjdCk7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG52YXIgVFJVRSA9IHRydWU7XG52YXIgRkFMU0UgPSBmYWxzZTtcbnZhciBjb21tb25Qcm9wcyA9IFsnYWx0S2V5JywgJ2J1YmJsZXMnLCAnY2FuY2VsYWJsZScsICdjdHJsS2V5JywgJ2N1cnJlbnRUYXJnZXQnLCAnZXZlbnRQaGFzZScsICdtZXRhS2V5JywgJ3NoaWZ0S2V5JywgJ3RhcmdldCcsICd0aW1lU3RhbXAnLCAndmlldycsICd0eXBlJ107XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKHcpIHtcbiAgcmV0dXJuIHcgPT09IG51bGwgfHwgdyA9PT0gdW5kZWZpbmVkO1xufVxuXG52YXIgZXZlbnROb3JtYWxpemVycyA9IFt7XG4gIHJlZzogL15rZXkvLFxuICBwcm9wczogWydjaGFyJywgJ2NoYXJDb2RlJywgJ2tleScsICdrZXlDb2RlJywgJ3doaWNoJ10sXG4gIGZpeDogZnVuY3Rpb24gZml4KGV2ZW50LCBuYXRpdmVFdmVudCkge1xuICAgIGlmIChpc051bGxPclVuZGVmaW5lZChldmVudC53aGljaCkpIHtcbiAgICAgIGV2ZW50LndoaWNoID0gIWlzTnVsbE9yVW5kZWZpbmVkKG5hdGl2ZUV2ZW50LmNoYXJDb2RlKSA/IG5hdGl2ZUV2ZW50LmNoYXJDb2RlIDogbmF0aXZlRXZlbnQua2V5Q29kZTtcbiAgICB9XG5cbiAgICAvLyBhZGQgbWV0YUtleSB0byBub24tTWFjIGJyb3dzZXJzICh1c2UgY3RybCBmb3IgUEMgJ3MgYW5kIE1ldGEgZm9yIE1hY3MpXG4gICAgaWYgKGV2ZW50Lm1ldGFLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXZlbnQubWV0YUtleSA9IGV2ZW50LmN0cmxLZXk7XG4gICAgfVxuICB9XG59LCB7XG4gIHJlZzogL150b3VjaC8sXG4gIHByb3BzOiBbJ3RvdWNoZXMnLCAnY2hhbmdlZFRvdWNoZXMnLCAndGFyZ2V0VG91Y2hlcyddXG59LCB7XG4gIHJlZzogL15oYXNoY2hhbmdlJC8sXG4gIHByb3BzOiBbJ25ld1VSTCcsICdvbGRVUkwnXVxufSwge1xuICByZWc6IC9eZ2VzdHVyZWNoYW5nZSQvaSxcbiAgcHJvcHM6IFsncm90YXRpb24nLCAnc2NhbGUnXVxufSwge1xuICByZWc6IC9eKG1vdXNld2hlZWx8RE9NTW91c2VTY3JvbGwpJC8sXG4gIHByb3BzOiBbXSxcbiAgZml4OiBmdW5jdGlvbiBmaXgoZXZlbnQsIG5hdGl2ZUV2ZW50KSB7XG4gICAgdmFyIGRlbHRhWCA9IHVuZGVmaW5lZDtcbiAgICB2YXIgZGVsdGFZID0gdW5kZWZpbmVkO1xuICAgIHZhciBkZWx0YSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgd2hlZWxEZWx0YSA9IG5hdGl2ZUV2ZW50LndoZWVsRGVsdGE7XG4gICAgdmFyIGF4aXMgPSBuYXRpdmVFdmVudC5heGlzO1xuICAgIHZhciB3aGVlbERlbHRhWSA9IG5hdGl2ZUV2ZW50LndoZWVsRGVsdGFZO1xuICAgIHZhciB3aGVlbERlbHRhWCA9IG5hdGl2ZUV2ZW50LndoZWVsRGVsdGFYO1xuICAgIHZhciBkZXRhaWwgPSBuYXRpdmVFdmVudC5kZXRhaWw7XG5cbiAgICAvLyBpZS93ZWJraXRcbiAgICBpZiAod2hlZWxEZWx0YSkge1xuICAgICAgZGVsdGEgPSB3aGVlbERlbHRhIC8gMTIwO1xuICAgIH1cblxuICAgIC8vIGdlY2tvXG4gICAgaWYgKGRldGFpbCkge1xuICAgICAgLy8gcHJlc3MgY29udHJvbCBlLmRldGFpbCA9PSAxIGVsc2UgZS5kZXRhaWwgPT0gM1xuICAgICAgZGVsdGEgPSAwIC0gKGRldGFpbCAlIDMgPT09IDAgPyBkZXRhaWwgLyAzIDogZGV0YWlsKTtcbiAgICB9XG5cbiAgICAvLyBHZWNrb1xuICAgIGlmIChheGlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChheGlzID09PSBldmVudC5IT1JJWk9OVEFMX0FYSVMpIHtcbiAgICAgICAgZGVsdGFZID0gMDtcbiAgICAgICAgZGVsdGFYID0gMCAtIGRlbHRhO1xuICAgICAgfSBlbHNlIGlmIChheGlzID09PSBldmVudC5WRVJUSUNBTF9BWElTKSB7XG4gICAgICAgIGRlbHRhWCA9IDA7XG4gICAgICAgIGRlbHRhWSA9IGRlbHRhO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdlYmtpdFxuICAgIGlmICh3aGVlbERlbHRhWSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWx0YVkgPSB3aGVlbERlbHRhWSAvIDEyMDtcbiAgICB9XG4gICAgaWYgKHdoZWVsRGVsdGFYICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlbHRhWCA9IC0xICogd2hlZWxEZWx0YVggLyAxMjA7XG4gICAgfVxuXG4gICAgLy8g6buY6K6kIGRlbHRhWSAoaWUpXG4gICAgaWYgKCFkZWx0YVggJiYgIWRlbHRhWSkge1xuICAgICAgZGVsdGFZID0gZGVsdGE7XG4gICAgfVxuXG4gICAgaWYgKGRlbHRhWCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvKipcbiAgICAgICAqIGRlbHRhWCBvZiBtb3VzZXdoZWVsIGV2ZW50XG4gICAgICAgKiBAcHJvcGVydHkgZGVsdGFYXG4gICAgICAgKiBAbWVtYmVyIEV2ZW50LkRvbUV2ZW50Lk9iamVjdFxuICAgICAgICovXG4gICAgICBldmVudC5kZWx0YVggPSBkZWx0YVg7XG4gICAgfVxuXG4gICAgaWYgKGRlbHRhWSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvKipcbiAgICAgICAqIGRlbHRhWSBvZiBtb3VzZXdoZWVsIGV2ZW50XG4gICAgICAgKiBAcHJvcGVydHkgZGVsdGFZXG4gICAgICAgKiBAbWVtYmVyIEV2ZW50LkRvbUV2ZW50Lk9iamVjdFxuICAgICAgICovXG4gICAgICBldmVudC5kZWx0YVkgPSBkZWx0YVk7XG4gICAgfVxuXG4gICAgaWYgKGRlbHRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8qKlxuICAgICAgICogZGVsdGEgb2YgbW91c2V3aGVlbCBldmVudFxuICAgICAgICogQHByb3BlcnR5IGRlbHRhXG4gICAgICAgKiBAbWVtYmVyIEV2ZW50LkRvbUV2ZW50Lk9iamVjdFxuICAgICAgICovXG4gICAgICBldmVudC5kZWx0YSA9IGRlbHRhO1xuICAgIH1cbiAgfVxufSwge1xuICByZWc6IC9ebW91c2V8Y29udGV4dG1lbnV8Y2xpY2t8bXNwb2ludGVyfCheRE9NTW91c2VTY3JvbGwkKS9pLFxuICBwcm9wczogWydidXR0b25zJywgJ2NsaWVudFgnLCAnY2xpZW50WScsICdidXR0b24nLCAnb2Zmc2V0WCcsICdyZWxhdGVkVGFyZ2V0JywgJ3doaWNoJywgJ2Zyb21FbGVtZW50JywgJ3RvRWxlbWVudCcsICdvZmZzZXRZJywgJ3BhZ2VYJywgJ3BhZ2VZJywgJ3NjcmVlblgnLCAnc2NyZWVuWSddLFxuICBmaXg6IGZ1bmN0aW9uIGZpeChldmVudCwgbmF0aXZlRXZlbnQpIHtcbiAgICB2YXIgZXZlbnREb2MgPSB1bmRlZmluZWQ7XG4gICAgdmFyIGRvYyA9IHVuZGVmaW5lZDtcbiAgICB2YXIgYm9keSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgIHZhciBidXR0b24gPSBuYXRpdmVFdmVudC5idXR0b247XG5cbiAgICAvLyBDYWxjdWxhdGUgcGFnZVgvWSBpZiBtaXNzaW5nIGFuZCBjbGllbnRYL1kgYXZhaWxhYmxlXG4gICAgaWYgKHRhcmdldCAmJiBpc051bGxPclVuZGVmaW5lZChldmVudC5wYWdlWCkgJiYgIWlzTnVsbE9yVW5kZWZpbmVkKG5hdGl2ZUV2ZW50LmNsaWVudFgpKSB7XG4gICAgICBldmVudERvYyA9IHRhcmdldC5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50O1xuICAgICAgZG9jID0gZXZlbnREb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgYm9keSA9IGV2ZW50RG9jLmJvZHk7XG4gICAgICBldmVudC5wYWdlWCA9IG5hdGl2ZUV2ZW50LmNsaWVudFggKyAoZG9jICYmIGRvYy5zY3JvbGxMZWZ0IHx8IGJvZHkgJiYgYm9keS5zY3JvbGxMZWZ0IHx8IDApIC0gKGRvYyAmJiBkb2MuY2xpZW50TGVmdCB8fCBib2R5ICYmIGJvZHkuY2xpZW50TGVmdCB8fCAwKTtcbiAgICAgIGV2ZW50LnBhZ2VZID0gbmF0aXZlRXZlbnQuY2xpZW50WSArIChkb2MgJiYgZG9jLnNjcm9sbFRvcCB8fCBib2R5ICYmIGJvZHkuc2Nyb2xsVG9wIHx8IDApIC0gKGRvYyAmJiBkb2MuY2xpZW50VG9wIHx8IGJvZHkgJiYgYm9keS5jbGllbnRUb3AgfHwgMCk7XG4gICAgfVxuXG4gICAgLy8gd2hpY2ggZm9yIGNsaWNrOiAxID09PSBsZWZ0OyAyID09PSBtaWRkbGU7IDMgPT09IHJpZ2h0XG4gICAgLy8gZG8gbm90IHVzZSBidXR0b25cbiAgICBpZiAoIWV2ZW50LndoaWNoICYmIGJ1dHRvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoYnV0dG9uICYgMSkge1xuICAgICAgICBldmVudC53aGljaCA9IDE7XG4gICAgICB9IGVsc2UgaWYgKGJ1dHRvbiAmIDIpIHtcbiAgICAgICAgZXZlbnQud2hpY2ggPSAzO1xuICAgICAgfSBlbHNlIGlmIChidXR0b24gJiA0KSB7XG4gICAgICAgIGV2ZW50LndoaWNoID0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50LndoaWNoID0gMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgcmVsYXRlZFRhcmdldCwgaWYgbmVjZXNzYXJ5XG4gICAgaWYgKCFldmVudC5yZWxhdGVkVGFyZ2V0ICYmIGV2ZW50LmZyb21FbGVtZW50KSB7XG4gICAgICBldmVudC5yZWxhdGVkVGFyZ2V0ID0gZXZlbnQuZnJvbUVsZW1lbnQgPT09IHRhcmdldCA/IGV2ZW50LnRvRWxlbWVudCA6IGV2ZW50LmZyb21FbGVtZW50O1xuICAgIH1cblxuICAgIHJldHVybiBldmVudDtcbiAgfVxufV07XG5cbmZ1bmN0aW9uIHJldFRydWUoKSB7XG4gIHJldHVybiBUUlVFO1xufVxuXG5mdW5jdGlvbiByZXRGYWxzZSgpIHtcbiAgcmV0dXJuIEZBTFNFO1xufVxuXG5mdW5jdGlvbiBEb21FdmVudE9iamVjdChuYXRpdmVFdmVudCkge1xuICB2YXIgdHlwZSA9IG5hdGl2ZUV2ZW50LnR5cGU7XG5cbiAgdmFyIGlzTmF0aXZlID0gdHlwZW9mIG5hdGl2ZUV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbmF0aXZlRXZlbnQuY2FuY2VsQnViYmxlID09PSAnYm9vbGVhbic7XG5cbiAgX0V2ZW50QmFzZU9iamVjdDJbJ2RlZmF1bHQnXS5jYWxsKHRoaXMpO1xuXG4gIHRoaXMubmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudDtcblxuICAvLyBpbiBjYXNlIGRvbSBldmVudCBoYXMgYmVlbiBtYXJrIGFzIGRlZmF1bHQgcHJldmVudGVkIGJ5IGxvd2VyIGRvbSBub2RlXG4gIHZhciBpc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXRGYWxzZTtcbiAgaWYgKCdkZWZhdWx0UHJldmVudGVkJyBpbiBuYXRpdmVFdmVudCkge1xuICAgIGlzRGVmYXVsdFByZXZlbnRlZCA9IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPyByZXRUcnVlIDogcmV0RmFsc2U7XG4gIH0gZWxzZSBpZiAoJ2dldFByZXZlbnREZWZhdWx0JyBpbiBuYXRpdmVFdmVudCkge1xuICAgIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5MTE1MVxuICAgIGlzRGVmYXVsdFByZXZlbnRlZCA9IG5hdGl2ZUV2ZW50LmdldFByZXZlbnREZWZhdWx0KCkgPyByZXRUcnVlIDogcmV0RmFsc2U7XG4gIH0gZWxzZSBpZiAoJ3JldHVyblZhbHVlJyBpbiBuYXRpdmVFdmVudCkge1xuICAgIGlzRGVmYXVsdFByZXZlbnRlZCA9IG5hdGl2ZUV2ZW50LnJldHVyblZhbHVlID09PSBGQUxTRSA/IHJldFRydWUgOiByZXRGYWxzZTtcbiAgfVxuXG4gIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gaXNEZWZhdWx0UHJldmVudGVkO1xuXG4gIHZhciBmaXhGbnMgPSBbXTtcbiAgdmFyIGZpeEZuID0gdW5kZWZpbmVkO1xuICB2YXIgbCA9IHVuZGVmaW5lZDtcbiAgdmFyIHByb3AgPSB1bmRlZmluZWQ7XG4gIHZhciBwcm9wcyA9IGNvbW1vblByb3BzLmNvbmNhdCgpO1xuXG4gIGV2ZW50Tm9ybWFsaXplcnMuZm9yRWFjaChmdW5jdGlvbiAobm9ybWFsaXplcikge1xuICAgIGlmICh0eXBlLm1hdGNoKG5vcm1hbGl6ZXIucmVnKSkge1xuICAgICAgcHJvcHMgPSBwcm9wcy5jb25jYXQobm9ybWFsaXplci5wcm9wcyk7XG4gICAgICBpZiAobm9ybWFsaXplci5maXgpIHtcbiAgICAgICAgZml4Rm5zLnB1c2gobm9ybWFsaXplci5maXgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgbCA9IHByb3BzLmxlbmd0aDtcblxuICAvLyBjbG9uZSBwcm9wZXJ0aWVzIG9mIHRoZSBvcmlnaW5hbCBldmVudCBvYmplY3RcbiAgd2hpbGUgKGwpIHtcbiAgICBwcm9wID0gcHJvcHNbLS1sXTtcbiAgICB0aGlzW3Byb3BdID0gbmF0aXZlRXZlbnRbcHJvcF07XG4gIH1cblxuICAvLyBmaXggdGFyZ2V0IHByb3BlcnR5LCBpZiBuZWNlc3NhcnlcbiAgaWYgKCF0aGlzLnRhcmdldCAmJiBpc05hdGl2ZSkge1xuICAgIHRoaXMudGFyZ2V0ID0gbmF0aXZlRXZlbnQuc3JjRWxlbWVudCB8fCBkb2N1bWVudDsgLy8gc3JjRWxlbWVudCBtaWdodCBub3QgYmUgZGVmaW5lZCBlaXRoZXJcbiAgfVxuXG4gIC8vIGNoZWNrIGlmIHRhcmdldCBpcyBhIHRleHQgbm9kZSAoc2FmYXJpKVxuICBpZiAodGhpcy50YXJnZXQgJiYgdGhpcy50YXJnZXQubm9kZVR5cGUgPT09IDMpIHtcbiAgICB0aGlzLnRhcmdldCA9IHRoaXMudGFyZ2V0LnBhcmVudE5vZGU7XG4gIH1cblxuICBsID0gZml4Rm5zLmxlbmd0aDtcblxuICB3aGlsZSAobCkge1xuICAgIGZpeEZuID0gZml4Rm5zWy0tbF07XG4gICAgZml4Rm4odGhpcywgbmF0aXZlRXZlbnQpO1xuICB9XG5cbiAgdGhpcy50aW1lU3RhbXAgPSBuYXRpdmVFdmVudC50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbn1cblxudmFyIEV2ZW50QmFzZU9iamVjdFByb3RvID0gX0V2ZW50QmFzZU9iamVjdDJbJ2RlZmF1bHQnXS5wcm90b3R5cGU7XG5cbigwLCBfb2JqZWN0QXNzaWduMlsnZGVmYXVsdCddKShEb21FdmVudE9iamVjdC5wcm90b3R5cGUsIEV2ZW50QmFzZU9iamVjdFByb3RvLCB7XG4gIGNvbnN0cnVjdG9yOiBEb21FdmVudE9iamVjdCxcblxuICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7XG4gICAgdmFyIGUgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuXG4gICAgLy8gaWYgcHJldmVudERlZmF1bHQgZXhpc3RzIHJ1biBpdCBvbiB0aGUgb3JpZ2luYWwgZXZlbnRcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvdGhlcndpc2Ugc2V0IHRoZSByZXR1cm5WYWx1ZSBwcm9wZXJ0eSBvZiB0aGUgb3JpZ2luYWwgZXZlbnQgdG8gRkFMU0UgKElFKVxuICAgICAgZS5yZXR1cm5WYWx1ZSA9IEZBTFNFO1xuICAgIH1cblxuICAgIEV2ZW50QmFzZU9iamVjdFByb3RvLnByZXZlbnREZWZhdWx0LmNhbGwodGhpcyk7XG4gIH0sXG5cbiAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgdmFyIGUgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuXG4gICAgLy8gaWYgc3RvcFByb3BhZ2F0aW9uIGV4aXN0cyBydW4gaXQgb24gdGhlIG9yaWdpbmFsIGV2ZW50XG4gICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvdGhlcndpc2Ugc2V0IHRoZSBjYW5jZWxCdWJibGUgcHJvcGVydHkgb2YgdGhlIG9yaWdpbmFsIGV2ZW50IHRvIFRSVUUgKElFKVxuICAgICAgZS5jYW5jZWxCdWJibGUgPSBUUlVFO1xuICAgIH1cblxuICAgIEV2ZW50QmFzZU9iamVjdFByb3RvLnN0b3BQcm9wYWdhdGlvbi5jYWxsKHRoaXMpO1xuICB9XG59KTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gRG9tRXZlbnRPYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///E0u0\\n\")},GqFC:function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\nvar locale = {\\n    title: '',\\n    today: '',\\n    month: '',\\n    year: '',\\n    am: '',\\n    pm: '',\\n    dateTimeFormat: 'yyyyMMdd w hh:mm',\\n    dateFormat: 'yyyyMMdd w',\\n    noChoose: '',\\n    week: ['', '', '', '', '', '', ''],\\n    clear: '',\\n    selectTime: '',\\n    selectStartTime: '',\\n    selectEndTime: '',\\n    start: '',\\n    end: '',\\n    begin: '',\\n    over: '',\\n    begin_over: '/',\\n    confirm: '',\\n    monthTitle: 'yyyyMM',\\n    loadPrevMonth: '',\\n    yesterday: '',\\n    lastWeek: '',\\n    lastMonth: ''\\n};\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (locale);//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3FGQy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtY2FsZW5kYXIvZXMvbG9jYWxlL3poX0NOLmpzPzFhYTEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGxvY2FsZSA9IHtcbiAgICB0aXRsZTogJ+aXpeacn+mAieaLqScsXG4gICAgdG9kYXk6ICfku4rlpKknLFxuICAgIG1vbnRoOiAn5pyIJyxcbiAgICB5ZWFyOiAn5bm0JyxcbiAgICBhbTogJ+S4iuWNiCcsXG4gICAgcG06ICfkuIvljYgnLFxuICAgIGRhdGVUaW1lRm9ybWF0OiAneXl5eeW5tE1N5pyIZGTml6Ug5pif5pyfdyBoaDptbScsXG4gICAgZGF0ZUZvcm1hdDogJ3l5eXnlubRNTeaciGRk5pelIOaYn+acn3cnLFxuICAgIG5vQ2hvb3NlOiAn5pyq6YCJ5oupJyxcbiAgICB3ZWVrOiBbJ+aXpScsICfkuIAnLCAn5LqMJywgJ+S4iScsICflm5snLCAn5LqUJywgJ+WFrSddLFxuICAgIGNsZWFyOiAn5riF6ZmkJyxcbiAgICBzZWxlY3RUaW1lOiAn6YCJ5oup5pe26Ze0JyxcbiAgICBzZWxlY3RTdGFydFRpbWU6ICfpgInmi6nlvIDlp4vml7bpl7QnLFxuICAgIHNlbGVjdEVuZFRpbWU6ICfpgInmi6nnu5PmnZ/ml7bpl7QnLFxuICAgIHN0YXJ0OiAn5byA5aeLJyxcbiAgICBlbmQ6ICfnu5PmnZ8nLFxuICAgIGJlZ2luOiAn6LW3JyxcbiAgICBvdmVyOiAn5q2iJyxcbiAgICBiZWdpbl9vdmVyOiAn6LW3L+atoicsXG4gICAgY29uZmlybTogJ+ehruiupCcsXG4gICAgbW9udGhUaXRsZTogJ3l5eXnlubRNTeaciCcsXG4gICAgbG9hZFByZXZNb250aDogJ+WKoOi9veS4iuS4gOS4quaciCcsXG4gICAgeWVzdGVyZGF5OiAn5pio5aSpJyxcbiAgICBsYXN0V2VlazogJ+i/keS4gOWRqCcsXG4gICAgbGFzdE1vbnRoOiAn6L+R5LiA5Liq5pyIJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGxvY2FsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///GqFC\\n\")},IP1Z:function(module,exports,__webpack_require__){\"use strict\";eval('\\nvar $defineProperty = __webpack_require__(/*! ./_object-dp */ \"2faE\");\\nvar createDesc = __webpack_require__(/*! ./_property-desc */ \"rr1i\");\\n\\nmodule.exports = function (object, index, value) {\\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\\n  else object[index] = value;\\n};\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSVAxWi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3JlYXRlLXByb3BlcnR5LmpzPzIwZmQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyICRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgaW5kZXgsIHZhbHVlKSB7XG4gIGlmIChpbmRleCBpbiBvYmplY3QpICRkZWZpbmVQcm9wZXJ0eS5mKG9iamVjdCwgaW5kZXgsIGNyZWF0ZURlc2MoMCwgdmFsdWUpKTtcbiAgZWxzZSBvYmplY3RbaW5kZXhdID0gdmFsdWU7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///IP1Z\\n')},JO7F:function(module,exports,__webpack_require__){eval('module.exports = { \"default\": __webpack_require__(/*! core-js/library/fn/object/get-own-property-descriptor */ \"/eQG\"), __esModule: true };//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSk83Ri5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcz8yNGVlIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///JO7F\\n')},LIAx:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nObject.defineProperty(exports, '__esModule', {\\n  value: true\\n});\\nexports['default'] = addEventListener;\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\\n\\nvar _EventObject = __webpack_require__(/*! ./EventObject */ \\\"E0u0\\\");\\n\\nvar _EventObject2 = _interopRequireDefault(_EventObject);\\n\\nfunction addEventListener(target, eventType, callback, option) {\\n  function wrapCallback(e) {\\n    var ne = new _EventObject2['default'](e);\\n    callback.call(target, ne);\\n  }\\n\\n  if (target.addEventListener) {\\n    var _ret = (function () {\\n      var useCapture = false;\\n      if (typeof option === 'object') {\\n        useCapture = option.capture || false;\\n      } else if (typeof option === 'boolean') {\\n        useCapture = option;\\n      }\\n\\n      target.addEventListener(eventType, wrapCallback, option || false);\\n\\n      return {\\n        v: {\\n          remove: function remove() {\\n            target.removeEventListener(eventType, wrapCallback, useCapture);\\n          }\\n        }\\n      };\\n    })();\\n\\n    if (typeof _ret === 'object') return _ret.v;\\n  } else if (target.attachEvent) {\\n    target.attachEvent('on' + eventType, wrapCallback);\\n    return {\\n      remove: function remove() {\\n        target.detachEvent('on' + eventType, wrapCallback);\\n      }\\n    };\\n  }\\n}\\n\\nmodule.exports = exports['default'];//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTElBeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hZGQtZG9tLWV2ZW50LWxpc3RlbmVyL2xpYi9pbmRleC5qcz8yYzgwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBhZGRFdmVudExpc3RlbmVyO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfRXZlbnRPYmplY3QgPSByZXF1aXJlKCcuL0V2ZW50T2JqZWN0Jyk7XG5cbnZhciBfRXZlbnRPYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnRPYmplY3QpO1xuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKHRhcmdldCwgZXZlbnRUeXBlLCBjYWxsYmFjaywgb3B0aW9uKSB7XG4gIGZ1bmN0aW9uIHdyYXBDYWxsYmFjayhlKSB7XG4gICAgdmFyIG5lID0gbmV3IF9FdmVudE9iamVjdDJbJ2RlZmF1bHQnXShlKTtcbiAgICBjYWxsYmFjay5jYWxsKHRhcmdldCwgbmUpO1xuICB9XG5cbiAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgdmFyIF9yZXQgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHVzZUNhcHR1cmUgPSBmYWxzZTtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgICB1c2VDYXB0dXJlID0gb3B0aW9uLmNhcHR1cmUgfHwgZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb24gPT09ICdib29sZWFuJykge1xuICAgICAgICB1c2VDYXB0dXJlID0gb3B0aW9uO1xuICAgICAgfVxuXG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIHdyYXBDYWxsYmFjaywgb3B0aW9uIHx8IGZhbHNlKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdjoge1xuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCB3cmFwQ2FsbGJhY2ssIHVzZUNhcHR1cmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpO1xuXG4gICAgaWYgKHR5cGVvZiBfcmV0ID09PSAnb2JqZWN0JykgcmV0dXJuIF9yZXQudjtcbiAgfSBlbHNlIGlmICh0YXJnZXQuYXR0YWNoRXZlbnQpIHtcbiAgICB0YXJnZXQuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50VHlwZSwgd3JhcENhbGxiYWNrKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgIHRhcmdldC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnRUeXBlLCB3cmFwQ2FsbGJhY2spO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///LIAx\\n\")},Mv4v:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n    value: true\\n});\\n\\nvar _extends2 = __webpack_require__(/*! babel-runtime/helpers/extends */ \\\"QbLZ\\\");\\n\\nvar _extends3 = _interopRequireDefault(_extends2);\\n\\nvar _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ \\\"iCc5\\\");\\n\\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\\n\\nvar _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ \\\"V7oC\\\");\\n\\nvar _createClass3 = _interopRequireDefault(_createClass2);\\n\\nvar _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ \\\"FYw3\\\");\\n\\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\\n\\nvar _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ \\\"mRg0\\\");\\n\\nvar _inherits3 = _interopRequireDefault(_inherits2);\\n\\nexports['default'] = function (ComposedComponent) {\\n    return _a = function (_React$Component) {\\n        (0, _inherits3['default'])(_a, _React$Component);\\n\\n        function _a() {\\n            (0, _classCallCheck3['default'])(this, _a);\\n\\n            var _this = (0, _possibleConstructorReturn3['default'])(this, (_a.__proto__ || Object.getPrototypeOf(_a)).apply(this, arguments));\\n\\n            _this.select = function (value, itemHeight, scrollTo) {\\n                var children = _react2['default'].Children.toArray(_this.props.children);\\n                for (var i = 0, len = children.length; i < len; i++) {\\n                    if (children[i].props.value === value) {\\n                        _this.selectByIndex(i, itemHeight, scrollTo);\\n                        return;\\n                    }\\n                }\\n                _this.selectByIndex(0, itemHeight, scrollTo);\\n            };\\n            _this.doScrollingComplete = function (top, itemHeight, fireValueChange) {\\n                var children = _react2['default'].Children.toArray(_this.props.children);\\n                var index = _this.computeChildIndex(top, itemHeight, children.length);\\n                var child = children[index];\\n                if (child) {\\n                    fireValueChange(child.props.value);\\n                } else if (console.warn) {\\n                    console.warn('child not found', children, index);\\n                }\\n            };\\n            return _this;\\n        }\\n\\n        (0, _createClass3['default'])(_a, [{\\n            key: 'selectByIndex',\\n            value: function selectByIndex(index, itemHeight, zscrollTo) {\\n                if (index < 0 || index >= _react2['default'].Children.count(this.props.children) || !itemHeight) {\\n                    return;\\n                }\\n                zscrollTo(index * itemHeight);\\n            }\\n        }, {\\n            key: 'computeChildIndex',\\n            value: function computeChildIndex(top, itemHeight, childrenLength) {\\n                var index = Math.round(top / itemHeight);\\n                return Math.min(index, childrenLength - 1);\\n            }\\n        }, {\\n            key: 'render',\\n            value: function render() {\\n                return _react2['default'].createElement(ComposedComponent, (0, _extends3['default'])({}, this.props, { doScrollingComplete: this.doScrollingComplete, computeChildIndex: this.computeChildIndex, select: this.select }));\\n            }\\n        }]);\\n        return _a;\\n    }(_react2['default'].Component), _a.Item = Item, _a;\\n    var _a;\\n};\\n\\nvar _react = __webpack_require__(/*! react */ \\\"q1tI\\\");\\n\\nvar _react2 = _interopRequireDefault(_react);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\\n\\nvar Item = function Item(_props) {\\n    return null;\\n}; /* tslint:disable:no-console */\\nmodule.exports = exports['default'];//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTXY0di5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtcGlja2VyL2xpYi9QaWNrZXJNaXhpbi5qcz8zMmZlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChDb21wb3NlZENvbXBvbmVudCkge1xuICAgIHJldHVybiBfYSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgICAgICgwLCBfaW5oZXJpdHMzWydkZWZhdWx0J10pKF9hLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgICAgICBmdW5jdGlvbiBfYSgpIHtcbiAgICAgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szWydkZWZhdWx0J10pKHRoaXMsIF9hKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1snZGVmYXVsdCddKSh0aGlzLCAoX2EuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihfYSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3QgPSBmdW5jdGlvbiAodmFsdWUsIGl0ZW1IZWlnaHQsIHNjcm9sbFRvKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gX3JlYWN0MlsnZGVmYXVsdCddLkNoaWxkcmVuLnRvQXJyYXkoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW5baV0ucHJvcHMudmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RCeUluZGV4KGksIGl0ZW1IZWlnaHQsIHNjcm9sbFRvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RCeUluZGV4KDAsIGl0ZW1IZWlnaHQsIHNjcm9sbFRvKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5kb1Njcm9sbGluZ0NvbXBsZXRlID0gZnVuY3Rpb24gKHRvcCwgaXRlbUhlaWdodCwgZmlyZVZhbHVlQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gX3JlYWN0MlsnZGVmYXVsdCddLkNoaWxkcmVuLnRvQXJyYXkoX3RoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzLmNvbXB1dGVDaGlsZEluZGV4KHRvcCwgaXRlbUhlaWdodCwgY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVWYWx1ZUNoYW5nZShjaGlsZC5wcm9wcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdjaGlsZCBub3QgZm91bmQnLCBjaGlsZHJlbiwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAoMCwgX2NyZWF0ZUNsYXNzM1snZGVmYXVsdCddKShfYSwgW3tcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdEJ5SW5kZXgnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdEJ5SW5kZXgoaW5kZXgsIGl0ZW1IZWlnaHQsIHpzY3JvbGxUbykge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gX3JlYWN0MlsnZGVmYXVsdCddLkNoaWxkcmVuLmNvdW50KHRoaXMucHJvcHMuY2hpbGRyZW4pIHx8ICFpdGVtSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgenNjcm9sbFRvKGluZGV4ICogaXRlbUhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NvbXB1dGVDaGlsZEluZGV4JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlQ2hpbGRJbmRleCh0b3AsIGl0ZW1IZWlnaHQsIGNoaWxkcmVuTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5yb3VuZCh0b3AgLyBpdGVtSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oaW5kZXgsIGNoaWxkcmVuTGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChDb21wb3NlZENvbXBvbmVudCwgKDAsIF9leHRlbmRzM1snZGVmYXVsdCddKSh7fSwgdGhpcy5wcm9wcywgeyBkb1Njcm9sbGluZ0NvbXBsZXRlOiB0aGlzLmRvU2Nyb2xsaW5nQ29tcGxldGUsIGNvbXB1dGVDaGlsZEluZGV4OiB0aGlzLmNvbXB1dGVDaGlsZEluZGV4LCBzZWxlY3Q6IHRoaXMuc2VsZWN0IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuICAgICAgICByZXR1cm4gX2E7XG4gICAgfShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KSwgX2EuSXRlbSA9IEl0ZW0sIF9hO1xuICAgIHZhciBfYTtcbn07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgSXRlbSA9IGZ1bmN0aW9uIEl0ZW0oX3Byb3BzKSB7XG4gICAgcmV0dXJuIG51bGw7XG59OyAvKiB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlICovXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///Mv4v\\n\")},NwJ3:function(module,exports,__webpack_require__){eval('// check on default Array iterator\\nvar Iterators = __webpack_require__(/*! ./_iterators */ \"SBuE\");\\nvar ITERATOR = __webpack_require__(/*! ./_wks */ \"UWiX\")(\\'iterator\\');\\nvar ArrayProto = Array.prototype;\\n\\nmodule.exports = function (it) {\\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\\n};\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTndKMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qcz8zNzAyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3JcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///NwJ3\\n')},PFWz:function(module,exports,__webpack_require__){eval(\"/**\\n * Module dependencies.\\n */\\n\\ntry {\\n  var index = __webpack_require__(/*! indexof */ \\\"zs13\\\");\\n} catch (err) {\\n  var index = __webpack_require__(/*! component-indexof */ \\\"zs13\\\");\\n}\\n\\n/**\\n * Whitespace regexp.\\n */\\n\\nvar re = /\\\\s+/;\\n\\n/**\\n * toString reference.\\n */\\n\\nvar toString = Object.prototype.toString;\\n\\n/**\\n * Wrap `el` in a `ClassList`.\\n *\\n * @param {Element} el\\n * @return {ClassList}\\n * @api public\\n */\\n\\nmodule.exports = function(el){\\n  return new ClassList(el);\\n};\\n\\n/**\\n * Initialize a new ClassList for `el`.\\n *\\n * @param {Element} el\\n * @api private\\n */\\n\\nfunction ClassList(el) {\\n  if (!el || !el.nodeType) {\\n    throw new Error('A DOM element reference is required');\\n  }\\n  this.el = el;\\n  this.list = el.classList;\\n}\\n\\n/**\\n * Add class `name` if not already present.\\n *\\n * @param {String} name\\n * @return {ClassList}\\n * @api public\\n */\\n\\nClassList.prototype.add = function(name){\\n  // classList\\n  if (this.list) {\\n    this.list.add(name);\\n    return this;\\n  }\\n\\n  // fallback\\n  var arr = this.array();\\n  var i = index(arr, name);\\n  if (!~i) arr.push(name);\\n  this.el.className = arr.join(' ');\\n  return this;\\n};\\n\\n/**\\n * Remove class `name` when present, or\\n * pass a regular expression to remove\\n * any which match.\\n *\\n * @param {String|RegExp} name\\n * @return {ClassList}\\n * @api public\\n */\\n\\nClassList.prototype.remove = function(name){\\n  if ('[object RegExp]' == toString.call(name)) {\\n    return this.removeMatching(name);\\n  }\\n\\n  // classList\\n  if (this.list) {\\n    this.list.remove(name);\\n    return this;\\n  }\\n\\n  // fallback\\n  var arr = this.array();\\n  var i = index(arr, name);\\n  if (~i) arr.splice(i, 1);\\n  this.el.className = arr.join(' ');\\n  return this;\\n};\\n\\n/**\\n * Remove all classes matching `re`.\\n *\\n * @param {RegExp} re\\n * @return {ClassList}\\n * @api private\\n */\\n\\nClassList.prototype.removeMatching = function(re){\\n  var arr = this.array();\\n  for (var i = 0; i < arr.length; i++) {\\n    if (re.test(arr[i])) {\\n      this.remove(arr[i]);\\n    }\\n  }\\n  return this;\\n};\\n\\n/**\\n * Toggle class `name`, can force state via `force`.\\n *\\n * For browsers that support classList, but do not support `force` yet,\\n * the mistake will be detected and corrected.\\n *\\n * @param {String} name\\n * @param {Boolean} force\\n * @return {ClassList}\\n * @api public\\n */\\n\\nClassList.prototype.toggle = function(name, force){\\n  // classList\\n  if (this.list) {\\n    if (\\\"undefined\\\" !== typeof force) {\\n      if (force !== this.list.toggle(name, force)) {\\n        this.list.toggle(name); // toggle again to correct\\n      }\\n    } else {\\n      this.list.toggle(name);\\n    }\\n    return this;\\n  }\\n\\n  // fallback\\n  if (\\\"undefined\\\" !== typeof force) {\\n    if (!force) {\\n      this.remove(name);\\n    } else {\\n      this.add(name);\\n    }\\n  } else {\\n    if (this.has(name)) {\\n      this.remove(name);\\n    } else {\\n      this.add(name);\\n    }\\n  }\\n\\n  return this;\\n};\\n\\n/**\\n * Return an array of classes.\\n *\\n * @return {Array}\\n * @api public\\n */\\n\\nClassList.prototype.array = function(){\\n  var className = this.el.getAttribute('class') || '';\\n  var str = className.replace(/^\\\\s+|\\\\s+$/g, '');\\n  var arr = str.split(re);\\n  if ('' === arr[0]) arr.shift();\\n  return arr;\\n};\\n\\n/**\\n * Check if class `name` is present.\\n *\\n * @param {String} name\\n * @return {ClassList}\\n * @api public\\n */\\n\\nClassList.prototype.has =\\nClassList.prototype.contains = function(name){\\n  return this.list\\n    ? this.list.contains(name)\\n    : !! ~index(this.array(), name);\\n};\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUEZXei5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb21wb25lbnQtY2xhc3Nlcy9pbmRleC5qcz8zYzU1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG50cnkge1xuICB2YXIgaW5kZXggPSByZXF1aXJlKCdpbmRleG9mJyk7XG59IGNhdGNoIChlcnIpIHtcbiAgdmFyIGluZGV4ID0gcmVxdWlyZSgnY29tcG9uZW50LWluZGV4b2YnKTtcbn1cblxuLyoqXG4gKiBXaGl0ZXNwYWNlIHJlZ2V4cC5cbiAqL1xuXG52YXIgcmUgPSAvXFxzKy87XG5cbi8qKlxuICogdG9TdHJpbmcgcmVmZXJlbmNlLlxuICovXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogV3JhcCBgZWxgIGluIGEgYENsYXNzTGlzdGAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGVsKXtcbiAgcmV0dXJuIG5ldyBDbGFzc0xpc3QoZWwpO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IENsYXNzTGlzdCBmb3IgYGVsYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBDbGFzc0xpc3QoZWwpIHtcbiAgaWYgKCFlbCB8fCAhZWwubm9kZVR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgRE9NIGVsZW1lbnQgcmVmZXJlbmNlIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgdGhpcy5lbCA9IGVsO1xuICB0aGlzLmxpc3QgPSBlbC5jbGFzc0xpc3Q7XG59XG5cbi8qKlxuICogQWRkIGNsYXNzIGBuYW1lYCBpZiBub3QgYWxyZWFkeSBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24obmFtZSl7XG4gIC8vIGNsYXNzTGlzdFxuICBpZiAodGhpcy5saXN0KSB7XG4gICAgdGhpcy5saXN0LmFkZChuYW1lKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGZhbGxiYWNrXG4gIHZhciBhcnIgPSB0aGlzLmFycmF5KCk7XG4gIHZhciBpID0gaW5kZXgoYXJyLCBuYW1lKTtcbiAgaWYgKCF+aSkgYXJyLnB1c2gobmFtZSk7XG4gIHRoaXMuZWwuY2xhc3NOYW1lID0gYXJyLmpvaW4oJyAnKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBjbGFzcyBgbmFtZWAgd2hlbiBwcmVzZW50LCBvclxuICogcGFzcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byByZW1vdmVcbiAqIGFueSB3aGljaCBtYXRjaC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IG5hbWVcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihuYW1lKXtcbiAgaWYgKCdbb2JqZWN0IFJlZ0V4cF0nID09IHRvU3RyaW5nLmNhbGwobmFtZSkpIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVNYXRjaGluZyhuYW1lKTtcbiAgfVxuXG4gIC8vIGNsYXNzTGlzdFxuICBpZiAodGhpcy5saXN0KSB7XG4gICAgdGhpcy5saXN0LnJlbW92ZShuYW1lKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGZhbGxiYWNrXG4gIHZhciBhcnIgPSB0aGlzLmFycmF5KCk7XG4gIHZhciBpID0gaW5kZXgoYXJyLCBuYW1lKTtcbiAgaWYgKH5pKSBhcnIuc3BsaWNlKGksIDEpO1xuICB0aGlzLmVsLmNsYXNzTmFtZSA9IGFyci5qb2luKCcgJyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGNsYXNzZXMgbWF0Y2hpbmcgYHJlYC5cbiAqXG4gKiBAcGFyYW0ge1JlZ0V4cH0gcmVcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUucmVtb3ZlTWF0Y2hpbmcgPSBmdW5jdGlvbihyZSl7XG4gIHZhciBhcnIgPSB0aGlzLmFycmF5KCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHJlLnRlc3QoYXJyW2ldKSkge1xuICAgICAgdGhpcy5yZW1vdmUoYXJyW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFRvZ2dsZSBjbGFzcyBgbmFtZWAsIGNhbiBmb3JjZSBzdGF0ZSB2aWEgYGZvcmNlYC5cbiAqXG4gKiBGb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGNsYXNzTGlzdCwgYnV0IGRvIG5vdCBzdXBwb3J0IGBmb3JjZWAgeWV0LFxuICogdGhlIG1pc3Rha2Ugd2lsbCBiZSBkZXRlY3RlZCBhbmQgY29ycmVjdGVkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGZvcmNlXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24obmFtZSwgZm9yY2Upe1xuICAvLyBjbGFzc0xpc3RcbiAgaWYgKHRoaXMubGlzdCkge1xuICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgZm9yY2UpIHtcbiAgICAgIGlmIChmb3JjZSAhPT0gdGhpcy5saXN0LnRvZ2dsZShuYW1lLCBmb3JjZSkpIHtcbiAgICAgICAgdGhpcy5saXN0LnRvZ2dsZShuYW1lKTsgLy8gdG9nZ2xlIGFnYWluIHRvIGNvcnJlY3RcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5saXN0LnRvZ2dsZShuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBmYWxsYmFja1xuICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGZvcmNlKSB7XG4gICAgaWYgKCFmb3JjZSkge1xuICAgICAgdGhpcy5yZW1vdmUobmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkKG5hbWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodGhpcy5oYXMobmFtZSkpIHtcbiAgICAgIHRoaXMucmVtb3ZlKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZChuYW1lKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IG9mIGNsYXNzZXMuXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUuYXJyYXkgPSBmdW5jdGlvbigpe1xuICB2YXIgY2xhc3NOYW1lID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJyc7XG4gIHZhciBzdHIgPSBjbGFzc05hbWUucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB2YXIgYXJyID0gc3RyLnNwbGl0KHJlKTtcbiAgaWYgKCcnID09PSBhcnJbMF0pIGFyci5zaGlmdCgpO1xuICByZXR1cm4gYXJyO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBjbGFzcyBgbmFtZWAgaXMgcHJlc2VudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLmhhcyA9XG5DbGFzc0xpc3QucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiB0aGlzLmxpc3RcbiAgICA/IHRoaXMubGlzdC5jb250YWlucyhuYW1lKVxuICAgIDogISEgfmluZGV4KHRoaXMuYXJyYXkoKSwgbmFtZSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///PFWz\\n\")},PyX8:function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var rmc_date_picker_es_locale_zh_CN__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rmc-date-picker/es/locale/zh_CN */ \\\"t6uM\\\");\\n\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = ({\\n    okText: '',\\n    dismissText: '',\\n    extra: '',\\n    DatePickerLocale: rmc_date_picker_es_locale_zh_CN__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHlYOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9kYXRlLXBpY2tlci9sb2NhbGUvemhfQ04uanM/M2YyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGF0ZVBpY2tlckxvY2FsZSBmcm9tICdybWMtZGF0ZS1waWNrZXIvZXMvbG9jYWxlL3poX0NOJztcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBva1RleHQ6ICfnoa7lrponLFxuICAgIGRpc21pc3NUZXh0OiAn5Y+W5raIJyxcbiAgICBleHRyYTogJ+ivt+mAieaLqScsXG4gICAgRGF0ZVBpY2tlckxvY2FsZTogRGF0ZVBpY2tlckxvY2FsZVxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///PyX8\\n\")},QDlc:function(module,exports,__webpack_require__){\"use strict\";eval('/**\\n * @ignore\\n * base event object for custom and dom event.\\n * @author yiminghe@gmail.com\\n */\\n\\n\\n\\nObject.defineProperty(exports, \"__esModule\", {\\n  value: true\\n});\\nfunction returnFalse() {\\n  return false;\\n}\\n\\nfunction returnTrue() {\\n  return true;\\n}\\n\\nfunction EventBaseObject() {\\n  this.timeStamp = Date.now();\\n  this.target = undefined;\\n  this.currentTarget = undefined;\\n}\\n\\nEventBaseObject.prototype = {\\n  isEventObject: 1,\\n\\n  constructor: EventBaseObject,\\n\\n  isDefaultPrevented: returnFalse,\\n\\n  isPropagationStopped: returnFalse,\\n\\n  isImmediatePropagationStopped: returnFalse,\\n\\n  preventDefault: function preventDefault() {\\n    this.isDefaultPrevented = returnTrue;\\n  },\\n\\n  stopPropagation: function stopPropagation() {\\n    this.isPropagationStopped = returnTrue;\\n  },\\n\\n  stopImmediatePropagation: function stopImmediatePropagation() {\\n    this.isImmediatePropagationStopped = returnTrue;\\n    // fixed 1.2\\n    // call stopPropagation implicitly\\n    this.stopPropagation();\\n  },\\n\\n  halt: function halt(immediate) {\\n    if (immediate) {\\n      this.stopImmediatePropagation();\\n    } else {\\n      this.stopPropagation();\\n    }\\n    this.preventDefault();\\n  }\\n};\\n\\nexports[\"default\"] = EventBaseObject;\\nmodule.exports = exports[\"default\"];//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUURsYy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hZGQtZG9tLWV2ZW50LWxpc3RlbmVyL2xpYi9FdmVudEJhc2VPYmplY3QuanM/NDAzOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBpZ25vcmVcbiAqIGJhc2UgZXZlbnQgb2JqZWN0IGZvciBjdXN0b20gYW5kIGRvbSBldmVudC5cbiAqIEBhdXRob3IgeWltaW5naGVAZ21haWwuY29tXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gRXZlbnRCYXNlT2JqZWN0KCkge1xuICB0aGlzLnRpbWVTdGFtcCA9IERhdGUubm93KCk7XG4gIHRoaXMudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICB0aGlzLmN1cnJlbnRUYXJnZXQgPSB1bmRlZmluZWQ7XG59XG5cbkV2ZW50QmFzZU9iamVjdC5wcm90b3R5cGUgPSB7XG4gIGlzRXZlbnRPYmplY3Q6IDEsXG5cbiAgY29uc3RydWN0b3I6IEV2ZW50QmFzZU9iamVjdCxcblxuICBpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXG4gIGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblxuICBpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cbiAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge1xuICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcbiAgfSxcblxuICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcbiAgfSxcblxuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcbiAgICAvLyBmaXhlZCAxLjJcbiAgICAvLyBjYWxsIHN0b3BQcm9wYWdhdGlvbiBpbXBsaWNpdGx5XG4gICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSxcblxuICBoYWx0OiBmdW5jdGlvbiBoYWx0KGltbWVkaWF0ZSkge1xuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIHRoaXMuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICAgIHRoaXMucHJldmVudERlZmF1bHQoKTtcbiAgfVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFdmVudEJhc2VPYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///QDlc\\n')},QMMT:function(module,exports,__webpack_require__){eval(\"// getting tag from 19.1.3.6 Object.prototype.toString()\\nvar cof = __webpack_require__(/*! ./_cof */ \\\"a0xu\\\");\\nvar TAG = __webpack_require__(/*! ./_wks */ \\\"UWiX\\\")('toStringTag');\\n// ES3 wrong here\\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\\n\\n// fallback for IE11 Script Access Denied error\\nvar tryGet = function (it, key) {\\n  try {\\n    return it[key];\\n  } catch (e) { /* empty */ }\\n};\\n\\nmodule.exports = function (it) {\\n  var O, T, B;\\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\\n    // @@toStringTag case\\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\\n    // builtinTag case\\n    : ARG ? cof(O)\\n    // ES3 arguments fallback\\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\\n};\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUU1NVC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY2xhc3NvZi5qcz80MGMzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG52YXIgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG4vLyBFUzMgd3JvbmcgaGVyZVxudmFyIEFSRyA9IGNvZihmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQVJHID8gY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///QMMT\\n\")},TuGD:function(module,exports,__webpack_require__){eval(\"var ITERATOR = __webpack_require__(/*! ./_wks */ \\\"UWiX\\\")('iterator');\\nvar SAFE_CLOSING = false;\\n\\ntry {\\n  var riter = [7][ITERATOR]();\\n  riter['return'] = function () { SAFE_CLOSING = true; };\\n  // eslint-disable-next-line no-throw-literal\\n  Array.from(riter, function () { throw 2; });\\n} catch (e) { /* empty */ }\\n\\nmodule.exports = function (exec, skipClosing) {\\n  if (!skipClosing && !SAFE_CLOSING) return false;\\n  var safe = false;\\n  try {\\n    var arr = [7];\\n    var iter = arr[ITERATOR]();\\n    iter.next = function () { return { done: safe = true }; };\\n    arr[ITERATOR] = function () { return iter; };\\n    exec(arr);\\n  } catch (e) { /* empty */ }\\n  return safe;\\n};\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHVHRC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanM/NGVlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbiAoKSB7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uICgpIHsgdGhyb3cgMjsgfSk7XG59IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYywgc2tpcENsb3NpbmcpIHtcbiAgaWYgKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKSByZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IFs3XTtcbiAgICB2YXIgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB7IGRvbmU6IHNhZmUgPSB0cnVlIH07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///TuGD\\n\")},VJsP:function(module,exports,__webpack_require__){\"use strict\";eval('\\nvar ctx = __webpack_require__(/*! ./_ctx */ \"2GTP\");\\nvar $export = __webpack_require__(/*! ./_export */ \"Y7ZC\");\\nvar toObject = __webpack_require__(/*! ./_to-object */ \"JB68\");\\nvar call = __webpack_require__(/*! ./_iter-call */ \"sNwI\");\\nvar isArrayIter = __webpack_require__(/*! ./_is-array-iter */ \"NwJ3\");\\nvar toLength = __webpack_require__(/*! ./_to-length */ \"tEej\");\\nvar createProperty = __webpack_require__(/*! ./_create-property */ \"IP1Z\");\\nvar getIterFn = __webpack_require__(/*! ./core.get-iterator-method */ \"fNZA\");\\n\\n$export($export.S + $export.F * !__webpack_require__(/*! ./_iter-detect */ \"TuGD\")(function (iter) { Array.from(iter); }), \\'Array\\', {\\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\\n    var O = toObject(arrayLike);\\n    var C = typeof this == \\'function\\' ? this : Array;\\n    var aLen = arguments.length;\\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\\n    var mapping = mapfn !== undefined;\\n    var index = 0;\\n    var iterFn = getIterFn(O);\\n    var length, result, step, iterator;\\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\\n    // if object isn\\'t iterable or it\\'s array with default iterator - use simple case\\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\\n      }\\n    } else {\\n      length = toLength(O.length);\\n      for (result = new C(length); length > index; index++) {\\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\\n      }\\n    }\\n    result.length = index;\\n    return result;\\n  }\\n});\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVkpzUC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qcz81NDliIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJyk7XG52YXIgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2NyZWF0ZS1wcm9wZXJ0eScpO1xudmFyIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2l0ZXItZGV0ZWN0JykoZnVuY3Rpb24gKGl0ZXIpIHsgQXJyYXkuZnJvbShpdGVyKTsgfSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4yLjEgQXJyYXkuZnJvbShhcnJheUxpa2UsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuICBmcm9tOiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZSAvKiAsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkICovKSB7XG4gICAgdmFyIE8gPSB0b09iamVjdChhcnJheUxpa2UpO1xuICAgIHZhciBDID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheTtcbiAgICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIG1hcGZuID0gYUxlbiA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGl0ZXJGbiA9IGdldEl0ZXJGbihPKTtcbiAgICB2YXIgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuICAgIGlmIChtYXBwaW5nKSBtYXBmbiA9IGN0eChtYXBmbiwgYUxlbiA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQsIDIpO1xuICAgIC8vIGlmIG9iamVjdCBpc24ndCBpdGVyYWJsZSBvciBpdCdzIGFycmF5IHdpdGggZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBzaW1wbGUgY2FzZVxuICAgIGlmIChpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSkge1xuICAgICAgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCByZXN1bHQgPSBuZXcgQygpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4KyspIHtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IGNhbGwoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgICBmb3IgKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///VJsP\\n')},WFAs:function(module,exports){eval(\"/**\\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\\n * Build: `lodash modern modularize exports=\\\"npm\\\" -o ./`\\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\\n * Available under MIT license <https://lodash.com/license>\\n */\\n\\n/** `Object#toString` result references. */\\nvar arrayTag = '[object Array]',\\n    funcTag = '[object Function]';\\n\\n/** Used to detect host constructors (Safari > 5). */\\nvar reIsHostCtor = /^\\\\[object .+?Constructor\\\\]$/;\\n\\n/**\\n * Checks if `value` is object-like.\\n *\\n * @private\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\\n */\\nfunction isObjectLike(value) {\\n  return !!value && typeof value == 'object';\\n}\\n\\n/** Used for native method references. */\\nvar objectProto = Object.prototype;\\n\\n/** Used to resolve the decompiled source of functions. */\\nvar fnToString = Function.prototype.toString;\\n\\n/** Used to check objects for own properties. */\\nvar hasOwnProperty = objectProto.hasOwnProperty;\\n\\n/**\\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\\n * of values.\\n */\\nvar objToString = objectProto.toString;\\n\\n/** Used to detect if a method is native. */\\nvar reIsNative = RegExp('^' +\\n  fnToString.call(hasOwnProperty).replace(/[\\\\\\\\^$.*+?()[\\\\]{}|]/g, '\\\\\\\\$&')\\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g, '$1.*?') + '$'\\n);\\n\\n/* Native method references for those with the same name as other `lodash` methods. */\\nvar nativeIsArray = getNative(Array, 'isArray');\\n\\n/**\\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\\n * of an array-like value.\\n */\\nvar MAX_SAFE_INTEGER = 9007199254740991;\\n\\n/**\\n * Gets the native function at `key` of `object`.\\n *\\n * @private\\n * @param {Object} object The object to query.\\n * @param {string} key The key of the method to get.\\n * @returns {*} Returns the function if it's native, else `undefined`.\\n */\\nfunction getNative(object, key) {\\n  var value = object == null ? undefined : object[key];\\n  return isNative(value) ? value : undefined;\\n}\\n\\n/**\\n * Checks if `value` is a valid array-like length.\\n *\\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\\n *\\n * @private\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\\n */\\nfunction isLength(value) {\\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\\n}\\n\\n/**\\n * Checks if `value` is classified as an `Array` object.\\n *\\n * @static\\n * @memberOf _\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\\n * @example\\n *\\n * _.isArray([1, 2, 3]);\\n * // => true\\n *\\n * _.isArray(function() { return arguments; }());\\n * // => false\\n */\\nvar isArray = nativeIsArray || function(value) {\\n  return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\\n};\\n\\n/**\\n * Checks if `value` is classified as a `Function` object.\\n *\\n * @static\\n * @memberOf _\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\\n * @example\\n *\\n * _.isFunction(_);\\n * // => true\\n *\\n * _.isFunction(/abc/);\\n * // => false\\n */\\nfunction isFunction(value) {\\n  // The use of `Object#toString` avoids issues with the `typeof` operator\\n  // in older versions of Chrome and Safari which return 'function' for regexes\\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\\n  return isObject(value) && objToString.call(value) == funcTag;\\n}\\n\\n/**\\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\\n *\\n * @static\\n * @memberOf _\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\\n * @example\\n *\\n * _.isObject({});\\n * // => true\\n *\\n * _.isObject([1, 2, 3]);\\n * // => true\\n *\\n * _.isObject(1);\\n * // => false\\n */\\nfunction isObject(value) {\\n  // Avoid a V8 JIT bug in Chrome 19-20.\\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\\n  var type = typeof value;\\n  return !!value && (type == 'object' || type == 'function');\\n}\\n\\n/**\\n * Checks if `value` is a native function.\\n *\\n * @static\\n * @memberOf _\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\\n * @example\\n *\\n * _.isNative(Array.prototype.push);\\n * // => true\\n *\\n * _.isNative(_);\\n * // => false\\n */\\nfunction isNative(value) {\\n  if (value == null) {\\n    return false;\\n  }\\n  if (isFunction(value)) {\\n    return reIsNative.test(fnToString.call(value));\\n  }\\n  return isObjectLike(value) && reIsHostCtor.test(value);\\n}\\n\\nmodule.exports = isArray;\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV0ZBcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2guaXNhcnJheS9pbmRleC5qcz81ODUwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogbG9kYXNoIDMuMC40IChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpID4gNSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKiogVXNlZCBmb3IgbmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZuVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZSBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9ialRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmblRvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UoL1tcXFxcXiQuKis/KClbXFxde318XS9nLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiBOYXRpdmUgbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUlzQXJyYXkgPSBnZXROYXRpdmUoQXJyYXksICdpc0FycmF5Jyk7XG5cbi8qKlxuICogVXNlZCBhcyB0aGUgW21heGltdW0gbGVuZ3RoXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1udW1iZXIubWF4X3NhZmVfaW50ZWdlcilcbiAqIG9mIGFuIGFycmF5LWxpa2UgdmFsdWUuXG4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIHJldHVybiBpc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIGJhc2VkIG9uIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgY29ycmVjdGx5IGNsYXNzaWZpZWQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBuYXRpdmVJc0FycmF5IHx8IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgb2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJyYXlUYWc7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgY29ycmVjdGx5IGNsYXNzaWZpZWQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaSB3aGljaCByZXR1cm4gJ2Z1bmN0aW9uJyBmb3IgcmVnZXhlc1xuICAvLyBhbmQgU2FmYXJpIDggZXF1aXZhbGVudHMgd2hpY2ggcmV0dXJuICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBjb25zdHJ1Y3RvcnMuXG4gIHJldHVybiBpc09iamVjdCh2YWx1ZSkgJiYgb2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gZnVuY1RhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGUgW2xhbmd1YWdlIHR5cGVdKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDgpIG9mIGBPYmplY3RgLlxuICogKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdCgxKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIC8vIEF2b2lkIGEgVjggSklUIGJ1ZyBpbiBDaHJvbWUgMTktMjAuXG4gIC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjI5MSBmb3IgbW9yZSBkZXRhaWxzLlxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc05hdGl2ZShBcnJheS5wcm90b3R5cGUucHVzaCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc05hdGl2ZShfKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHJldHVybiByZUlzTmF0aXZlLnRlc3QoZm5Ub1N0cmluZy5jYWxsKHZhbHVlKSk7XG4gIH1cbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgcmVJc0hvc3RDdG9yLnRlc3QodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///WFAs\\n\")},\"Y9q/\":function(module,exports,__webpack_require__){\"use strict\";eval(\"/**\\n * Copyright (c) 2013-present, Facebook, Inc.\\n *\\n * This source code is licensed under the MIT license found in the\\n * LICENSE file in the root directory of this source tree.\\n *\\n * \\n */\\n\\n\\n\\n/* eslint-disable fb-www/typeof-undefined */\\n/* eslint-disable no-unused-vars */\\n\\nvar invariant = __webpack_require__(/*! ./invariant */ \\\"2NuI\\\");\\n\\n/**\\n * Checks if a value is empty.\\n */\\nfunction isEmpty(value) {\\n  if (Array.isArray(value)) {\\n    return value.length === 0;\\n  } else if (typeof value === 'object') {\\n    if (value) {\\n      !(!isIterable(value) || value.size === undefined) ?  true ? invariant(false, 'isEmpty() does not support iterable collections.') : undefined : void 0;\\n      for (var _ in value) {\\n        return false;\\n      }\\n    }\\n    return true;\\n  } else {\\n    return !value;\\n  }\\n}\\n\\nfunction isIterable(value) {\\n  if (typeof Symbol === 'undefined') {\\n    return false;\\n  }\\n  return value[Symbol.iterator];\\n}\\n\\nmodule.exports = isEmpty;//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiWTlxLy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pc0VtcHR5LmpzPzYzZGEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qIGVzbGludC1kaXNhYmxlIGZiLXd3dy90eXBlb2YtdW5kZWZpbmVkICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnLi9pbnZhcmlhbnQnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSB2YWx1ZSBpcyBlbXB0eS5cbiAqL1xuZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUubGVuZ3RoID09PSAwO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgICEoIWlzSXRlcmFibGUodmFsdWUpIHx8IHZhbHVlLnNpemUgPT09IHVuZGVmaW5lZCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnaXNFbXB0eSgpIGRvZXMgbm90IHN1cHBvcnQgaXRlcmFibGUgY29sbGVjdGlvbnMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgZm9yICh2YXIgXyBpbiB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAhdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNJdGVyYWJsZSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlW1N5bWJvbC5pdGVyYXRvcl07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFbXB0eTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///Y9q/\\n\")},\"Yz+Y\":function(module,exports,__webpack_require__){eval('module.exports = { \"default\": __webpack_require__(/*! core-js/library/fn/object/get-prototype-of */ \"+plK\"), __esModule: true };//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiWXorWS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanM/NjMzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///Yz+Y\\n')},bQgK:function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(process) {// Generated by CoffeeScript 1.12.2\\n(function() {\\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\\n\\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\\n    module.exports = function() {\\n      return performance.now();\\n    };\\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\\n    module.exports = function() {\\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\\n    };\\n    hrtime = process.hrtime;\\n    getNanoSeconds = function() {\\n      var hr;\\n      hr = hrtime();\\n      return hr[0] * 1e9 + hr[1];\\n    };\\n    moduleLoadTime = getNanoSeconds();\\n    upTime = process.uptime() * 1e9;\\n    nodeLoadTime = moduleLoadTime - upTime;\\n  } else if (Date.now) {\\n    module.exports = function() {\\n      return Date.now() - loadTime;\\n    };\\n    loadTime = Date.now();\\n  } else {\\n    module.exports = function() {\\n      return new Date().getTime() - loadTime;\\n    };\\n    loadTime = new Date().getTime();\\n  }\\n\\n}).call(this);\\n\\n//# sourceMappingURL=performance-now.js.map\\n\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"8oxB\")))//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYlFnSy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wZXJmb3JtYW5jZS1ub3cvbGliL3BlcmZvcm1hbmNlLW5vdy5qcz82ZDA4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi4yXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnZXROYW5vU2Vjb25kcywgaHJ0aW1lLCBsb2FkVGltZSwgbW9kdWxlTG9hZFRpbWUsIG5vZGVMb2FkVGltZSwgdXBUaW1lO1xuXG4gIGlmICgodHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHBlcmZvcm1hbmNlICE9PSBudWxsKSAmJiBwZXJmb3JtYW5jZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MgIT09IG51bGwpICYmIHByb2Nlc3MuaHJ0aW1lKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoZ2V0TmFub1NlY29uZHMoKSAtIG5vZGVMb2FkVGltZSkgLyAxZTY7XG4gICAgfTtcbiAgICBocnRpbWUgPSBwcm9jZXNzLmhydGltZTtcbiAgICBnZXROYW5vU2Vjb25kcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhyO1xuICAgICAgaHIgPSBocnRpbWUoKTtcbiAgICAgIHJldHVybiBoclswXSAqIDFlOSArIGhyWzFdO1xuICAgIH07XG4gICAgbW9kdWxlTG9hZFRpbWUgPSBnZXROYW5vU2Vjb25kcygpO1xuICAgIHVwVGltZSA9IHByb2Nlc3MudXB0aW1lKCkgKiAxZTk7XG4gICAgbm9kZUxvYWRUaW1lID0gbW9kdWxlTG9hZFRpbWUgLSB1cFRpbWU7XG4gIH0gZWxzZSBpZiAoRGF0ZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBsb2FkVGltZTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbG9hZFRpbWU7XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9XG5cbn0pLmNhbGwodGhpcyk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBlcmZvcm1hbmNlLW5vdy5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///bQgK\\n')},cqCx:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.Step = undefined;\\n\\nvar _Steps = __webpack_require__(/*! ./Steps */ \\\"sw/o\\\");\\n\\nvar _Steps2 = _interopRequireDefault(_Steps);\\n\\nvar _Step = __webpack_require__(/*! ./Step */ \\\"qDs0\\\");\\n\\nvar _Step2 = _interopRequireDefault(_Step);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\\n\\n_Steps2['default'].Step = _Step2['default'];\\nexports.Step = _Step2['default'];\\nexports['default'] = _Steps2['default'];//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3FDeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtc3RlcHMvbGliL2luZGV4LmpzPzcyYTAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5TdGVwID0gdW5kZWZpbmVkO1xuXG52YXIgX1N0ZXBzID0gcmVxdWlyZSgnLi9TdGVwcycpO1xuXG52YXIgX1N0ZXBzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N0ZXBzKTtcblxudmFyIF9TdGVwID0gcmVxdWlyZSgnLi9TdGVwJyk7XG5cbnZhciBfU3RlcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdGVwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5fU3RlcHMyWydkZWZhdWx0J10uU3RlcCA9IF9TdGVwMlsnZGVmYXVsdCddO1xuZXhwb3J0cy5TdGVwID0gX1N0ZXAyWydkZWZhdWx0J107XG5leHBvcnRzWydkZWZhdWx0J10gPSBfU3RlcHMyWydkZWZhdWx0J107Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///cqCx\\n\")},fNZA:function(module,exports,__webpack_require__){eval('var classof = __webpack_require__(/*! ./_classof */ \"QMMT\");\\nvar ITERATOR = __webpack_require__(/*! ./_wks */ \"UWiX\")(\\'iterator\\');\\nvar Iterators = __webpack_require__(/*! ./_iterators */ \"SBuE\");\\nmodule.exports = __webpack_require__(/*! ./_core */ \"WEpk\").getIteratorMethod = function (it) {\\n  if (it != undefined) return it[ITERATOR]\\n    || it[\\'@@iterator\\']\\n    || Iterators[classof(it)];\\n};\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZk5aQS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanM/N2NkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///fNZA\\n')},g3cW:function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = ({\\n    prevText: '',\\n    nextText: ''\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZzNjVy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9wYWdpbmF0aW9uL2xvY2FsZS96aF9DTi5qcz84Mzc3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgICBwcmV2VGV4dDogJ+S4iuS4gOmhtScsXG4gICAgbmV4dFRleHQ6ICfkuIvkuIDpobUnXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///g3cW\\n\")},hZiy:function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = ({\\n    cancelText: ''\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaFppeS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9zZWFyY2gtYmFyL2xvY2FsZS96aF9DTi5qcz84NTk4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgICBjYW5jZWxUZXh0OiAn5Y+W5raIJ1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///hZiy\\n\")},jo6Y:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nexports.__esModule = true;\\n\\nexports.default = function (obj, keys) {\\n  var target = {};\\n\\n  for (var i in obj) {\\n    if (keys.indexOf(i) >= 0) continue;\\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\\n    target[i] = obj[i];\\n  }\\n\\n  return target;\\n};//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiam82WS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMuanM/OGU4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG9iaiwga2V5cykge1xuICB2YXIgdGFyZ2V0ID0ge307XG5cbiAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlO1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlO1xuICAgIHRhcmdldFtpXSA9IG9ialtpXTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///jo6Y\\n\")},m1cH:function(module,exports,__webpack_require__){\"use strict\";eval('\\n\\nexports.__esModule = true;\\n\\nvar _from = __webpack_require__(/*! ../core-js/array/from */ \"rfXi\");\\n\\nvar _from2 = _interopRequireDefault(_from);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nexports.default = function (arr) {\\n  if (Array.isArray(arr)) {\\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\\n      arr2[i] = arr[i];\\n    }\\n\\n    return arr2;\\n  } else {\\n    return (0, _from2.default)(arr);\\n  }\\n};//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibTFjSC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanM/OWI1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9mcm9tID0gcmVxdWlyZShcIi4uL2NvcmUtanMvYXJyYXkvZnJvbVwiKTtcblxudmFyIF9mcm9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Zyb20pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnIyW2ldID0gYXJyW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBhcnIyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoMCwgX2Zyb20yLmRlZmF1bHQpKGFycik7XG4gIH1cbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///m1cH\\n')},nmEG:function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = ({\\n    activateText: '',\\n    deactivateText: '',\\n    finishText: ''\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm1FRy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9wdWxsLXRvLXJlZnJlc2gvbG9jYWxlL3poX0NOLmpzPzllNjEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICAgIGFjdGl2YXRlVGV4dDogJ+advuW8gOeri+WNs+WIt+aWsCcsXG4gICAgZGVhY3RpdmF0ZVRleHQ6ICfkuIvmi4nlj6/ku6XliLfmlrAnLFxuICAgIGZpbmlzaFRleHQ6ICflrozmiJDliLfmlrAnXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///nmEG\\n\")},pKt7:function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var rmc_date_picker_es_locale_zh_CN__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rmc-date-picker/es/locale/zh_CN */ \"t6uM\");\\n\\n/* harmony default export */ __webpack_exports__[\"default\"] = (rmc_date_picker_es_locale_zh_CN__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicEt0Ny5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9kYXRlLXBpY2tlci12aWV3L2xvY2FsZS96aF9DTi5qcz9hNGFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEYXRlUGlja2VyTG9jYWxlIGZyb20gJ3JtYy1kYXRlLXBpY2tlci9lcy9sb2NhbGUvemhfQ04nO1xuZXhwb3J0IGRlZmF1bHQgRGF0ZVBpY2tlckxvY2FsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///pKt7\\n')},qDs0:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n    value: true\\n});\\n\\nvar _extends2 = __webpack_require__(/*! babel-runtime/helpers/extends */ \\\"QbLZ\\\");\\n\\nvar _extends3 = _interopRequireDefault(_extends2);\\n\\nvar _defineProperty2 = __webpack_require__(/*! babel-runtime/helpers/defineProperty */ \\\"YEIV\\\");\\n\\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\\n\\nvar _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ \\\"iCc5\\\");\\n\\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\\n\\nvar _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ \\\"V7oC\\\");\\n\\nvar _createClass3 = _interopRequireDefault(_createClass2);\\n\\nvar _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ \\\"FYw3\\\");\\n\\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\\n\\nvar _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ \\\"mRg0\\\");\\n\\nvar _inherits3 = _interopRequireDefault(_inherits2);\\n\\nvar _react = __webpack_require__(/*! react */ \\\"q1tI\\\");\\n\\nvar _react2 = _interopRequireDefault(_react);\\n\\nvar _classnames = __webpack_require__(/*! classnames */ \\\"TSYQ\\\");\\n\\nvar _classnames2 = _interopRequireDefault(_classnames);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\\n\\nvar __rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n\\nfunction isString(str) {\\n    return typeof str === 'string';\\n}\\n\\nvar Step = function (_React$Component) {\\n    (0, _inherits3['default'])(Step, _React$Component);\\n\\n    function Step() {\\n        (0, _classCallCheck3['default'])(this, Step);\\n        return (0, _possibleConstructorReturn3['default'])(this, (Step.__proto__ || Object.getPrototypeOf(Step)).apply(this, arguments));\\n    }\\n\\n    (0, _createClass3['default'])(Step, [{\\n        key: 'renderIconNode',\\n        value: function renderIconNode() {\\n            var _classNames;\\n\\n            var _props = this.props,\\n                prefixCls = _props.prefixCls,\\n                progressDot = _props.progressDot,\\n                stepNumber = _props.stepNumber,\\n                status = _props.status,\\n                title = _props.title,\\n                description = _props.description,\\n                icon = _props.icon,\\n                iconPrefix = _props.iconPrefix;\\n\\n            var iconNode = void 0;\\n            var iconClassName = (0, _classnames2['default'])(prefixCls + '-icon', iconPrefix + 'icon', (_classNames = {}, (0, _defineProperty3['default'])(_classNames, iconPrefix + 'icon-' + icon, icon && isString(icon)), (0, _defineProperty3['default'])(_classNames, iconPrefix + 'icon-check', !icon && status === 'finish'), (0, _defineProperty3['default'])(_classNames, iconPrefix + 'icon-cross', !icon && status === 'error'), _classNames));\\n            var iconDot = _react2['default'].createElement('span', { className: prefixCls + '-icon-dot' });\\n            // `progressDot` enjoy the highest priority\\n            if (progressDot) {\\n                if (typeof progressDot === 'function') {\\n                    iconNode = _react2['default'].createElement(\\n                        'span',\\n                        { className: prefixCls + '-icon' },\\n                        progressDot(iconDot, { index: stepNumber - 1, status: status, title: title, description: description })\\n                    );\\n                } else {\\n                    iconNode = _react2['default'].createElement(\\n                        'span',\\n                        { className: prefixCls + '-icon' },\\n                        iconDot\\n                    );\\n                }\\n            } else if (icon && !isString(icon)) {\\n                iconNode = _react2['default'].createElement(\\n                    'span',\\n                    { className: prefixCls + '-icon' },\\n                    icon\\n                );\\n            } else if (icon || status === 'finish' || status === 'error') {\\n                iconNode = _react2['default'].createElement('span', { className: iconClassName });\\n            } else {\\n                iconNode = _react2['default'].createElement(\\n                    'span',\\n                    { className: prefixCls + '-icon' },\\n                    stepNumber\\n                );\\n            }\\n            return iconNode;\\n        }\\n    }, {\\n        key: 'render',\\n        value: function render() {\\n            var _a = this.props,\\n                className = _a.className,\\n                prefixCls = _a.prefixCls,\\n                style = _a.style,\\n                itemWidth = _a.itemWidth,\\n                _a$status = _a.status,\\n                status = _a$status === undefined ? 'wait' : _a$status,\\n                iconPrefix = _a.iconPrefix,\\n                icon = _a.icon,\\n                wrapperStyle = _a.wrapperStyle,\\n                adjustMarginRight = _a.adjustMarginRight,\\n                stepNumber = _a.stepNumber,\\n                description = _a.description,\\n                title = _a.title,\\n                progressDot = _a.progressDot,\\n                restProps = __rest(_a, [\\\"className\\\", \\\"prefixCls\\\", \\\"style\\\", \\\"itemWidth\\\", \\\"status\\\", \\\"iconPrefix\\\", \\\"icon\\\", \\\"wrapperStyle\\\", \\\"adjustMarginRight\\\", \\\"stepNumber\\\", \\\"description\\\", \\\"title\\\", \\\"progressDot\\\"]);\\n            var classString = (0, _classnames2['default'])(prefixCls + '-item', prefixCls + '-item-' + status, className, (0, _defineProperty3['default'])({}, prefixCls + '-item-custom', icon));\\n            var stepItemStyle = (0, _extends3['default'])({}, style);\\n            if (itemWidth) {\\n                stepItemStyle.width = itemWidth;\\n            }\\n            if (adjustMarginRight) {\\n                stepItemStyle.marginRight = adjustMarginRight;\\n            }\\n            return _react2['default'].createElement(\\n                'div',\\n                (0, _extends3['default'])({}, restProps, { className: classString, style: stepItemStyle }),\\n                _react2['default'].createElement('div', { className: prefixCls + '-item-tail' }),\\n                _react2['default'].createElement(\\n                    'div',\\n                    { className: prefixCls + '-item-icon' },\\n                    this.renderIconNode()\\n                ),\\n                _react2['default'].createElement(\\n                    'div',\\n                    { className: prefixCls + '-item-content' },\\n                    _react2['default'].createElement(\\n                        'div',\\n                        { className: prefixCls + '-item-title' },\\n                        title\\n                    ),\\n                    description && _react2['default'].createElement(\\n                        'div',\\n                        { className: prefixCls + '-item-description' },\\n                        description\\n                    )\\n                )\\n            );\\n        }\\n    }]);\\n    return Step;\\n}(_react2['default'].Component);\\n\\nexports['default'] = Step;\\nmodule.exports = exports['default'];//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicURzMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtc3RlcHMvbGliL1N0ZXAuanM/YTgzYiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9fcmVzdCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuXG5mdW5jdGlvbiBpc1N0cmluZyhzdHIpIHtcbiAgICByZXR1cm4gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZyc7XG59XG5cbnZhciBTdGVwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1snZGVmYXVsdCddKShTdGVwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFN0ZXAoKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szWydkZWZhdWx0J10pKHRoaXMsIFN0ZXApO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1snZGVmYXVsdCddKSh0aGlzLCAoU3RlcC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFN0ZXApKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICAoMCwgX2NyZWF0ZUNsYXNzM1snZGVmYXVsdCddKShTdGVwLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXJJY29uTm9kZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJJY29uTm9kZSgpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0RvdCA9IF9wcm9wcy5wcm9ncmVzc0RvdCxcbiAgICAgICAgICAgICAgICBzdGVwTnVtYmVyID0gX3Byb3BzLnN0ZXBOdW1iZXIsXG4gICAgICAgICAgICAgICAgc3RhdHVzID0gX3Byb3BzLnN0YXR1cyxcbiAgICAgICAgICAgICAgICB0aXRsZSA9IF9wcm9wcy50aXRsZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA9IF9wcm9wcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBpY29uID0gX3Byb3BzLmljb24sXG4gICAgICAgICAgICAgICAgaWNvblByZWZpeCA9IF9wcm9wcy5pY29uUHJlZml4O1xuXG4gICAgICAgICAgICB2YXIgaWNvbk5vZGUgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgaWNvbkNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbJ2RlZmF1bHQnXSkocHJlZml4Q2xzICsgJy1pY29uJywgaWNvblByZWZpeCArICdpY29uJywgKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKF9jbGFzc05hbWVzLCBpY29uUHJlZml4ICsgJ2ljb24tJyArIGljb24sIGljb24gJiYgaXNTdHJpbmcoaWNvbikpLCAoMCwgX2RlZmluZVByb3BlcnR5M1snZGVmYXVsdCddKShfY2xhc3NOYW1lcywgaWNvblByZWZpeCArICdpY29uLWNoZWNrJywgIWljb24gJiYgc3RhdHVzID09PSAnZmluaXNoJyksICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKF9jbGFzc05hbWVzLCBpY29uUHJlZml4ICsgJ2ljb24tY3Jvc3MnLCAhaWNvbiAmJiBzdGF0dXMgPT09ICdlcnJvcicpLCBfY2xhc3NOYW1lcykpO1xuICAgICAgICAgICAgdmFyIGljb25Eb3QgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24tZG90JyB9KTtcbiAgICAgICAgICAgIC8vIGBwcm9ncmVzc0RvdGAgZW5qb3kgdGhlIGhpZ2hlc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc0RvdCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvZ3Jlc3NEb3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbk5vZGUgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0RvdChpY29uRG90LCB7IGluZGV4OiBzdGVwTnVtYmVyIC0gMSwgc3RhdHVzOiBzdGF0dXMsIHRpdGxlOiB0aXRsZSwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbk5vZGUgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uRG90XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpY29uICYmICFpc1N0cmluZyhpY29uKSkge1xuICAgICAgICAgICAgICAgIGljb25Ob2RlID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaWNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgaWNvblxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGljb24gfHwgc3RhdHVzID09PSAnZmluaXNoJyB8fCBzdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICBpY29uTm9kZSA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IGljb25DbGFzc05hbWUgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGljb25Ob2RlID0gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaWNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RlcE51bWJlclxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaWNvbk5vZGU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBfYS5zdHlsZSxcbiAgICAgICAgICAgICAgICBpdGVtV2lkdGggPSBfYS5pdGVtV2lkdGgsXG4gICAgICAgICAgICAgICAgX2Ekc3RhdHVzID0gX2Euc3RhdHVzLFxuICAgICAgICAgICAgICAgIHN0YXR1cyA9IF9hJHN0YXR1cyA9PT0gdW5kZWZpbmVkID8gJ3dhaXQnIDogX2Ekc3RhdHVzLFxuICAgICAgICAgICAgICAgIGljb25QcmVmaXggPSBfYS5pY29uUHJlZml4LFxuICAgICAgICAgICAgICAgIGljb24gPSBfYS5pY29uLFxuICAgICAgICAgICAgICAgIHdyYXBwZXJTdHlsZSA9IF9hLndyYXBwZXJTdHlsZSxcbiAgICAgICAgICAgICAgICBhZGp1c3RNYXJnaW5SaWdodCA9IF9hLmFkanVzdE1hcmdpblJpZ2h0LFxuICAgICAgICAgICAgICAgIHN0ZXBOdW1iZXIgPSBfYS5zdGVwTnVtYmVyLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gX2EuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfYS50aXRsZSxcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0RvdCA9IF9hLnByb2dyZXNzRG90LFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wiY2xhc3NOYW1lXCIsIFwicHJlZml4Q2xzXCIsIFwic3R5bGVcIiwgXCJpdGVtV2lkdGhcIiwgXCJzdGF0dXNcIiwgXCJpY29uUHJlZml4XCIsIFwiaWNvblwiLCBcIndyYXBwZXJTdHlsZVwiLCBcImFkanVzdE1hcmdpblJpZ2h0XCIsIFwic3RlcE51bWJlclwiLCBcImRlc2NyaXB0aW9uXCIsIFwidGl0bGVcIiwgXCJwcm9ncmVzc0RvdFwiXSk7XG4gICAgICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyWydkZWZhdWx0J10pKHByZWZpeENscyArICctaXRlbScsIHByZWZpeENscyArICctaXRlbS0nICsgc3RhdHVzLCBjbGFzc05hbWUsICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKHt9LCBwcmVmaXhDbHMgKyAnLWl0ZW0tY3VzdG9tJywgaWNvbikpO1xuICAgICAgICAgICAgdmFyIHN0ZXBJdGVtU3R5bGUgPSAoMCwgX2V4dGVuZHMzWydkZWZhdWx0J10pKHt9LCBzdHlsZSk7XG4gICAgICAgICAgICBpZiAoaXRlbVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgc3RlcEl0ZW1TdHlsZS53aWR0aCA9IGl0ZW1XaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZGp1c3RNYXJnaW5SaWdodCkge1xuICAgICAgICAgICAgICAgIHN0ZXBJdGVtU3R5bGUubWFyZ2luUmlnaHQgPSBhZGp1c3RNYXJnaW5SaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAoMCwgX2V4dGVuZHMzWydkZWZhdWx0J10pKHt9LCByZXN0UHJvcHMsIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgc3R5bGU6IHN0ZXBJdGVtU3R5bGUgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tdGFpbCcgfSksXG4gICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWljb24nIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVySWNvbk5vZGUoKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWNvbnRlbnQnIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLXRpdGxlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gJiYgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tZGVzY3JpcHRpb24nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcbiAgICByZXR1cm4gU3RlcDtcbn0oX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFN0ZXA7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///qDs0\\n\")},rfXi:function(module,exports,__webpack_require__){eval('module.exports = { \"default\": __webpack_require__(/*! core-js/library/fn/array/from */ \"0tVQ\"), __esModule: true };//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmZYaS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbS5qcz9hZGY1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///rfXi\\n')},rsGM:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports['default'] = addEventListenerWrap;\\n\\nvar _addDomEventListener = __webpack_require__(/*! add-dom-event-listener */ \\\"LIAx\\\");\\n\\nvar _addDomEventListener2 = _interopRequireDefault(_addDomEventListener);\\n\\nvar _reactDom = __webpack_require__(/*! react-dom */ \\\"i8i4\\\");\\n\\nvar _reactDom2 = _interopRequireDefault(_reactDom);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\\n\\nfunction addEventListenerWrap(target, eventType, cb, option) {\\n  /* eslint camelcase: 2 */\\n  var callback = _reactDom2['default'].unstable_batchedUpdates ? function run(e) {\\n    _reactDom2['default'].unstable_batchedUpdates(cb, e);\\n  } : cb;\\n  return (0, _addDomEventListener2['default'])(target, eventType, callback, option);\\n}\\nmodule.exports = exports['default'];//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnNHTS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy11dGlsL2xpYi9Eb20vYWRkRXZlbnRMaXN0ZW5lci5qcz9hZWMxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGFkZEV2ZW50TGlzdGVuZXJXcmFwO1xuXG52YXIgX2FkZERvbUV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKCdhZGQtZG9tLWV2ZW50LWxpc3RlbmVyJyk7XG5cbnZhciBfYWRkRG9tRXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZGREb21FdmVudExpc3RlbmVyKTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyV3JhcCh0YXJnZXQsIGV2ZW50VHlwZSwgY2IsIG9wdGlvbikge1xuICAvKiBlc2xpbnQgY2FtZWxjYXNlOiAyICovXG4gIHZhciBjYWxsYmFjayA9IF9yZWFjdERvbTJbJ2RlZmF1bHQnXS51bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyA/IGZ1bmN0aW9uIHJ1bihlKSB7XG4gICAgX3JlYWN0RG9tMlsnZGVmYXVsdCddLnVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzKGNiLCBlKTtcbiAgfSA6IGNiO1xuICByZXR1cm4gKDAsIF9hZGREb21FdmVudExpc3RlbmVyMlsnZGVmYXVsdCddKSh0YXJnZXQsIGV2ZW50VHlwZSwgY2FsbGJhY2ssIG9wdGlvbik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///rsGM\\n\")},sNwI:function(module,exports,__webpack_require__){eval(\"// call something on iterator step with safe closing on error\\nvar anObject = __webpack_require__(/*! ./_an-object */ \\\"5K7Z\\\");\\nmodule.exports = function (iterator, fn, value, entries) {\\n  try {\\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\\n  // 7.4.6 IteratorClose(iterator, completion)\\n  } catch (e) {\\n    var ret = iterator['return'];\\n    if (ret !== undefined) anObject(ret.call(iterator));\\n    throw e;\\n  }\\n};\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic053SS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzP2IwZGMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSBhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///sNwI\\n\")},sQCU:function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var rmc_calendar_es_locale_zh_CN__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rmc-calendar/es/locale/zh_CN */ \"GqFC\");\\n\\n/* harmony default export */ __webpack_exports__[\"default\"] = (rmc_calendar_es_locale_zh_CN__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic1FDVS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9jYWxlbmRhci9sb2NhbGUvemhfQ04uanM/YjEwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9jYWxlIGZyb20gJ3JtYy1jYWxlbmRhci9lcy9sb2NhbGUvemhfQ04nO1xuZXhwb3J0IGRlZmF1bHQgTG9jYWxlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///sQCU\\n')},\"sw/o\":function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n    value: true\\n});\\n\\nvar _extends2 = __webpack_require__(/*! babel-runtime/helpers/extends */ \\\"QbLZ\\\");\\n\\nvar _extends3 = _interopRequireDefault(_extends2);\\n\\nvar _defineProperty2 = __webpack_require__(/*! babel-runtime/helpers/defineProperty */ \\\"YEIV\\\");\\n\\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\\n\\nvar _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ \\\"iCc5\\\");\\n\\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\\n\\nvar _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ \\\"V7oC\\\");\\n\\nvar _createClass3 = _interopRequireDefault(_createClass2);\\n\\nvar _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ \\\"FYw3\\\");\\n\\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\\n\\nvar _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ \\\"mRg0\\\");\\n\\nvar _inherits3 = _interopRequireDefault(_inherits2);\\n\\nvar _react = __webpack_require__(/*! react */ \\\"q1tI\\\");\\n\\nvar _react2 = _interopRequireDefault(_react);\\n\\nvar _classnames = __webpack_require__(/*! classnames */ \\\"TSYQ\\\");\\n\\nvar _classnames2 = _interopRequireDefault(_classnames);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\\n\\nvar __rest = undefined && undefined.__rest || function (s, e) {\\n    var t = {};\\n    for (var p in s) {\\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\\n    }if (s != null && typeof Object.getOwnPropertySymbols === \\\"function\\\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\\n    }return t;\\n};\\n/* eslint react/no-did-mount-set-state: 0 */\\n\\nvar Steps = function (_Component) {\\n    (0, _inherits3['default'])(Steps, _Component);\\n\\n    function Steps() {\\n        (0, _classCallCheck3['default'])(this, Steps);\\n        return (0, _possibleConstructorReturn3['default'])(this, (Steps.__proto__ || Object.getPrototypeOf(Steps)).apply(this, arguments));\\n    }\\n\\n    (0, _createClass3['default'])(Steps, [{\\n        key: 'render',\\n        value: function render() {\\n            var _classNames;\\n\\n            var _a = this.props,\\n                prefixCls = _a.prefixCls,\\n                _a$style = _a.style,\\n                style = _a$style === undefined ? {} : _a$style,\\n                className = _a.className,\\n                children = _a.children,\\n                direction = _a.direction,\\n                labelPlacement = _a.labelPlacement,\\n                iconPrefix = _a.iconPrefix,\\n                status = _a.status,\\n                size = _a.size,\\n                current = _a.current,\\n                progressDot = _a.progressDot,\\n                restProps = __rest(_a, [\\\"prefixCls\\\", \\\"style\\\", \\\"className\\\", \\\"children\\\", \\\"direction\\\", \\\"labelPlacement\\\", \\\"iconPrefix\\\", \\\"status\\\", \\\"size\\\", \\\"current\\\", \\\"progressDot\\\"]);\\n            var filteredChildren = _react2['default'].Children.toArray(children).filter(function (c) {\\n                return !!c;\\n            });\\n            var adjustedlabelPlacement = !!progressDot ? 'vertical' : labelPlacement;\\n            var classString = (0, _classnames2['default'])(prefixCls, prefixCls + '-' + direction, className, (_classNames = {}, (0, _defineProperty3['default'])(_classNames, prefixCls + '-' + size, size), (0, _defineProperty3['default'])(_classNames, prefixCls + '-label-' + adjustedlabelPlacement, direction === 'horizontal'), (0, _defineProperty3['default'])(_classNames, prefixCls + '-dot', !!progressDot), _classNames));\\n            return _react2['default'].createElement(\\n                'div',\\n                (0, _extends3['default'])({ className: classString, style: style }, restProps),\\n                _react.Children.map(filteredChildren, function (child, index) {\\n                    if (!child) {\\n                        return null;\\n                    }\\n                    var childProps = (0, _extends3['default'])({ stepNumber: '' + (index + 1), prefixCls: prefixCls,\\n                        iconPrefix: iconPrefix, wrapperStyle: style, progressDot: progressDot }, child.props);\\n                    // fix tail color\\n                    if (status === 'error' && index === current - 1) {\\n                        childProps.className = prefixCls + '-next-error';\\n                    }\\n                    if (!child.props.status) {\\n                        if (index === current) {\\n                            childProps.status = status;\\n                        } else if (index < current) {\\n                            childProps.status = 'finish';\\n                        } else {\\n                            childProps.status = 'wait';\\n                        }\\n                    }\\n                    return (0, _react.cloneElement)(child, childProps);\\n                })\\n            );\\n        }\\n    }]);\\n    return Steps;\\n}(_react.Component);\\n\\nexports['default'] = Steps;\\n\\nSteps.defaultProps = {\\n    prefixCls: 'rmc-steps',\\n    iconPrefix: 'rmc',\\n    direction: 'horizontal',\\n    labelPlacement: 'horizontal',\\n    current: 0,\\n    status: 'process',\\n    size: '',\\n    progressDot: false\\n};\\nmodule.exports = exports['default'];//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3cvby5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtc3RlcHMvbGliL1N0ZXBzLmpzP2IzMGYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbi8qIGVzbGludCByZWFjdC9uby1kaWQtbW91bnQtc2V0LXN0YXRlOiAwICovXG5cbnZhciBTdGVwcyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbJ2RlZmF1bHQnXSkoU3RlcHMsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gU3RlcHMoKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szWydkZWZhdWx0J10pKHRoaXMsIFN0ZXBzKTtcbiAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbJ2RlZmF1bHQnXSkodGhpcywgKFN0ZXBzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3RlcHMpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICAoMCwgX2NyZWF0ZUNsYXNzM1snZGVmYXVsdCddKShTdGVwcywgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgX2Ekc3R5bGUgPSBfYS5zdHlsZSxcbiAgICAgICAgICAgICAgICBzdHlsZSA9IF9hJHN0eWxlID09PSB1bmRlZmluZWQgPyB7fSA6IF9hJHN0eWxlLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IF9hLmRpcmVjdGlvbixcbiAgICAgICAgICAgICAgICBsYWJlbFBsYWNlbWVudCA9IF9hLmxhYmVsUGxhY2VtZW50LFxuICAgICAgICAgICAgICAgIGljb25QcmVmaXggPSBfYS5pY29uUHJlZml4LFxuICAgICAgICAgICAgICAgIHN0YXR1cyA9IF9hLnN0YXR1cyxcbiAgICAgICAgICAgICAgICBzaXplID0gX2Euc2l6ZSxcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gX2EuY3VycmVudCxcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0RvdCA9IF9hLnByb2dyZXNzRG90LFxuICAgICAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wicHJlZml4Q2xzXCIsIFwic3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJjaGlsZHJlblwiLCBcImRpcmVjdGlvblwiLCBcImxhYmVsUGxhY2VtZW50XCIsIFwiaWNvblByZWZpeFwiLCBcInN0YXR1c1wiLCBcInNpemVcIiwgXCJjdXJyZW50XCIsIFwicHJvZ3Jlc3NEb3RcIl0pO1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkQ2hpbGRyZW4gPSBfcmVhY3QyWydkZWZhdWx0J10uQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbikuZmlsdGVyKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhYztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGFkanVzdGVkbGFiZWxQbGFjZW1lbnQgPSAhIXByb2dyZXNzRG90ID8gJ3ZlcnRpY2FsJyA6IGxhYmVsUGxhY2VtZW50O1xuICAgICAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMlsnZGVmYXVsdCddKShwcmVmaXhDbHMsIHByZWZpeENscyArICctJyArIGRpcmVjdGlvbiwgY2xhc3NOYW1lLCAoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbJ2RlZmF1bHQnXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctJyArIHNpemUsIHNpemUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1snZGVmYXVsdCddKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1sYWJlbC0nICsgYWRqdXN0ZWRsYWJlbFBsYWNlbWVudCwgZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcpLCAoMCwgX2RlZmluZVByb3BlcnR5M1snZGVmYXVsdCddKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1kb3QnLCAhIXByb2dyZXNzRG90KSwgX2NsYXNzTmFtZXMpKTtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAoMCwgX2V4dGVuZHMzWydkZWZhdWx0J10pKHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgc3R5bGU6IHN0eWxlIH0sIHJlc3RQcm9wcyksXG4gICAgICAgICAgICAgICAgX3JlYWN0LkNoaWxkcmVuLm1hcChmaWx0ZXJlZENoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZFByb3BzID0gKDAsIF9leHRlbmRzM1snZGVmYXVsdCddKSh7IHN0ZXBOdW1iZXI6ICcnICsgKGluZGV4ICsgMSksIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblByZWZpeDogaWNvblByZWZpeCwgd3JhcHBlclN0eWxlOiBzdHlsZSwgcHJvZ3Jlc3NEb3Q6IHByb2dyZXNzRG90IH0sIGNoaWxkLnByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZml4IHRhaWwgY29sb3JcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2Vycm9yJyAmJiBpbmRleCA9PT0gY3VycmVudCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkUHJvcHMuY2xhc3NOYW1lID0gcHJlZml4Q2xzICsgJy1uZXh0LWVycm9yJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLnByb3BzLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRQcm9wcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4IDwgY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkUHJvcHMuc3RhdHVzID0gJ2ZpbmlzaCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkUHJvcHMuc3RhdHVzID0gJ3dhaXQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkoY2hpbGQsIGNoaWxkUHJvcHMpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBTdGVwcztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFN0ZXBzO1xuXG5TdGVwcy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAncm1jLXN0ZXBzJyxcbiAgICBpY29uUHJlZml4OiAncm1jJyxcbiAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICBsYWJlbFBsYWNlbWVudDogJ2hvcml6b250YWwnLFxuICAgIGN1cnJlbnQ6IDAsXG4gICAgc3RhdHVzOiAncHJvY2VzcycsXG4gICAgc2l6ZTogJycsXG4gICAgcHJvZ3Jlc3NEb3Q6IGZhbHNlXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///sw/o\\n\")},t6uM:function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = ({\\n    year: '',\\n    month: '',\\n    day: '',\\n    hour: '',\\n    minute: '',\\n    am: '',\\n    pm: ''\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidDZ1TS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ybWMtZGF0ZS1waWNrZXIvZXMvbG9jYWxlL3poX0NOLmpzP2I3YWIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICAgIHllYXI6ICflubQnLFxuICAgIG1vbnRoOiAn5pyIJyxcbiAgICBkYXk6ICfml6UnLFxuICAgIGhvdXI6ICfml7YnLFxuICAgIG1pbnV0ZTogJ+WIhicsXG4gICAgYW06ICfkuIrljYgnLFxuICAgIHBtOiAn5LiL5Y2IJ1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///t6uM\\n\")},tfYw:function(module,exports,__webpack_require__){\"use strict\";eval('\\n\\nexports.__esModule = true;\\n\\nvar _getPrototypeOf = __webpack_require__(/*! ../core-js/object/get-prototype-of */ \"Yz+Y\");\\n\\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\\n\\nvar _getOwnPropertyDescriptor = __webpack_require__(/*! ../core-js/object/get-own-property-descriptor */ \"JO7F\");\\n\\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nexports.default = function get(object, property, receiver) {\\n  if (object === null) object = Function.prototype;\\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\\n\\n  if (desc === undefined) {\\n    var parent = (0, _getPrototypeOf2.default)(object);\\n\\n    if (parent === null) {\\n      return undefined;\\n    } else {\\n      return get(parent, property, receiver);\\n    }\\n  } else if (\"value\" in desc) {\\n    return desc.value;\\n  } else {\\n    var getter = desc.get;\\n\\n    if (getter === undefined) {\\n      return undefined;\\n    }\\n\\n    return getter.call(receiver);\\n  }\\n};//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGZZdy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0LmpzP2I1ZjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gIGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbiAgdmFyIGRlc2MgPSAoMCwgX2dldE93blByb3BlcnR5RGVzY3JpcHRvcjIuZGVmYXVsdCkob2JqZWN0LCBwcm9wZXJ0eSk7XG5cbiAgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBwYXJlbnQgPSAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShvYmplY3QpO1xuXG4gICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7XG4gICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGdldHRlciA9IGRlc2MuZ2V0O1xuXG4gICAgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7XG4gIH1cbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///tfYw\\n')},uK0f:function(module,exports,__webpack_require__){eval(\"(function (global, factory) {\\n\\t true ? module.exports = factory() :\\n\\tundefined;\\n}(this, (function () { 'use strict';\\n\\nfunction arrayTreeFilter(data, filterFn, options) {\\n    options = options || {};\\n    options.childrenKeyName = options.childrenKeyName || \\\"children\\\";\\n    var children = data || [];\\n    var result = [];\\n    var level = 0;\\n    do {\\n        var foundItem = children.filter(function (item) {\\n            return filterFn(item, level);\\n        })[0];\\n        if (!foundItem) {\\n            break;\\n        }\\n        result.push(foundItem);\\n        children = foundItem[options.childrenKeyName] || [];\\n        level += 1;\\n    } while (children.length > 0);\\n    return result;\\n}\\n\\nreturn arrayTreeFilter;\\n\\n})));\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidUswZi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcnJheS10cmVlLWZpbHRlci9saWIvaW5kZXguanM/YjhhZCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwuYXJyYXlUcmVlRmlsdGVyID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBhcnJheVRyZWVGaWx0ZXIoZGF0YSwgZmlsdGVyRm4sIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLmNoaWxkcmVuS2V5TmFtZSA9IG9wdGlvbnMuY2hpbGRyZW5LZXlOYW1lIHx8IFwiY2hpbGRyZW5cIjtcbiAgICB2YXIgY2hpbGRyZW4gPSBkYXRhIHx8IFtdO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgbGV2ZWwgPSAwO1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGZvdW5kSXRlbSA9IGNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlckZuKGl0ZW0sIGxldmVsKTtcbiAgICAgICAgfSlbMF07XG4gICAgICAgIGlmICghZm91bmRJdGVtKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQucHVzaChmb3VuZEl0ZW0pO1xuICAgICAgICBjaGlsZHJlbiA9IGZvdW5kSXRlbVtvcHRpb25zLmNoaWxkcmVuS2V5TmFtZV0gfHwgW107XG4gICAgICAgIGxldmVsICs9IDE7XG4gICAgfSB3aGlsZSAoY2hpbGRyZW4ubGVuZ3RoID4gMCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxucmV0dXJuIGFycmF5VHJlZUZpbHRlcjtcblxufSkpKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLFVBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///uK0f\\n\")},utJ2:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nvar fetchKeys = __webpack_require__(/*! lodash.keys */ \\\"vBWn\\\");\\n\\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\\n\\n    var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\\n\\n    if (ret !== void 0) {\\n        return !!ret;\\n    }\\n\\n    if (objA === objB) {\\n        return true;\\n    }\\n\\n    if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\\n        return false;\\n    }\\n\\n    var keysA = fetchKeys(objA);\\n    var keysB = fetchKeys(objB);\\n\\n    var len = keysA.length;\\n    if (len !== keysB.length) {\\n        return false;\\n    }\\n\\n    compareContext = compareContext || null;\\n\\n    // Test for A's keys different from B.\\n    var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\\n    for (var i = 0; i < len; i++) {\\n        var key = keysA[i];\\n        if (!bHasOwnProperty(key)) {\\n            return false;\\n        }\\n        var valueA = objA[key];\\n        var valueB = objB[key];\\n\\n        var _ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\\n        if (_ret === false || _ret === void 0 && valueA !== valueB) {\\n            return false;\\n        }\\n    }\\n\\n    return true;\\n};//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRKMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zaGFsbG93ZXF1YWwvbW9kdWxlcy9pbmRleC5qcz9iYWQyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGZldGNoS2V5cyA9IHJlcXVpcmUoJ2xvZGFzaC5rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIsIGNvbXBhcmUsIGNvbXBhcmVDb250ZXh0KSB7XG5cbiAgICB2YXIgcmV0ID0gY29tcGFyZSA/IGNvbXBhcmUuY2FsbChjb21wYXJlQ29udGV4dCwgb2JqQSwgb2JqQikgOiB2b2lkIDA7XG5cbiAgICBpZiAocmV0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuICEhcmV0O1xuICAgIH1cblxuICAgIGlmIChvYmpBID09PSBvYmpCKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2JqQSAhPT0gJ29iamVjdCcgfHwgb2JqQSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqQiAhPT0gJ29iamVjdCcgfHwgb2JqQiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGtleXNBID0gZmV0Y2hLZXlzKG9iakEpO1xuICAgIHZhciBrZXlzQiA9IGZldGNoS2V5cyhvYmpCKTtcblxuICAgIHZhciBsZW4gPSBrZXlzQS5sZW5ndGg7XG4gICAgaWYgKGxlbiAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb21wYXJlQ29udGV4dCA9IGNvbXBhcmVDb250ZXh0IHx8IG51bGw7XG5cbiAgICAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuICAgIHZhciBiSGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmJpbmQob2JqQik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIga2V5ID0ga2V5c0FbaV07XG4gICAgICAgIGlmICghYkhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWVBID0gb2JqQVtrZXldO1xuICAgICAgICB2YXIgdmFsdWVCID0gb2JqQltrZXldO1xuXG4gICAgICAgIHZhciBfcmV0ID0gY29tcGFyZSA/IGNvbXBhcmUuY2FsbChjb21wYXJlQ29udGV4dCwgdmFsdWVBLCB2YWx1ZUIsIGtleSkgOiB2b2lkIDA7XG4gICAgICAgIGlmIChfcmV0ID09PSBmYWxzZSB8fCBfcmV0ID09PSB2b2lkIDAgJiYgdmFsdWVBICE9PSB2YWx1ZUIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///utJ2\\n\")},v5Dd:function(module,exports,__webpack_require__){eval('// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\\nvar toIObject = __webpack_require__(/*! ./_to-iobject */ \"NsO/\");\\nvar $getOwnPropertyDescriptor = __webpack_require__(/*! ./_object-gopd */ \"vwuL\").f;\\n\\n__webpack_require__(/*! ./_object-sap */ \"zn7N\")(\\'getOwnPropertyDescriptor\\', function () {\\n  return function getOwnPropertyDescriptor(it, key) {\\n    return $getOwnPropertyDescriptor(toIObject(it), key);\\n  };\\n});\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidjVEZC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcz9iZjkwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZjtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRvSU9iamVjdChpdCksIGtleSk7XG4gIH07XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///v5Dd\\n')},vBWn:function(module,exports,__webpack_require__){eval(\"/**\\n * lodash 3.1.2 (Custom Build) <https://lodash.com/>\\n * Build: `lodash modern modularize exports=\\\"npm\\\" -o ./`\\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\\n * Available under MIT license <https://lodash.com/license>\\n */\\nvar getNative = __webpack_require__(/*! lodash._getnative */ \\\"2kWR\\\"),\\n    isArguments = __webpack_require__(/*! lodash.isarguments */ \\\"ASum\\\"),\\n    isArray = __webpack_require__(/*! lodash.isarray */ \\\"WFAs\\\");\\n\\n/** Used to detect unsigned integer values. */\\nvar reIsUint = /^\\\\d+$/;\\n\\n/** Used for native method references. */\\nvar objectProto = Object.prototype;\\n\\n/** Used to check objects for own properties. */\\nvar hasOwnProperty = objectProto.hasOwnProperty;\\n\\n/* Native method references for those with the same name as other `lodash` methods. */\\nvar nativeKeys = getNative(Object, 'keys');\\n\\n/**\\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\\n * of an array-like value.\\n */\\nvar MAX_SAFE_INTEGER = 9007199254740991;\\n\\n/**\\n * The base implementation of `_.property` without support for deep paths.\\n *\\n * @private\\n * @param {string} key The key of the property to get.\\n * @returns {Function} Returns the new function.\\n */\\nfunction baseProperty(key) {\\n  return function(object) {\\n    return object == null ? undefined : object[key];\\n  };\\n}\\n\\n/**\\n * Gets the \\\"length\\\" property value of `object`.\\n *\\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\\n *\\n * @private\\n * @param {Object} object The object to query.\\n * @returns {*} Returns the \\\"length\\\" value.\\n */\\nvar getLength = baseProperty('length');\\n\\n/**\\n * Checks if `value` is array-like.\\n *\\n * @private\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\\n */\\nfunction isArrayLike(value) {\\n  return value != null && isLength(getLength(value));\\n}\\n\\n/**\\n * Checks if `value` is a valid array-like index.\\n *\\n * @private\\n * @param {*} value The value to check.\\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\\n */\\nfunction isIndex(value, length) {\\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\\n  length = length == null ? MAX_SAFE_INTEGER : length;\\n  return value > -1 && value % 1 == 0 && value < length;\\n}\\n\\n/**\\n * Checks if `value` is a valid array-like length.\\n *\\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\\n *\\n * @private\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\\n */\\nfunction isLength(value) {\\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\\n}\\n\\n/**\\n * A fallback implementation of `Object.keys` which creates an array of the\\n * own enumerable property names of `object`.\\n *\\n * @private\\n * @param {Object} object The object to query.\\n * @returns {Array} Returns the array of property names.\\n */\\nfunction shimKeys(object) {\\n  var props = keysIn(object),\\n      propsLength = props.length,\\n      length = propsLength && object.length;\\n\\n  var allowIndexes = !!length && isLength(length) &&\\n    (isArray(object) || isArguments(object));\\n\\n  var index = -1,\\n      result = [];\\n\\n  while (++index < propsLength) {\\n    var key = props[index];\\n    if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\\n      result.push(key);\\n    }\\n  }\\n  return result;\\n}\\n\\n/**\\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\\n *\\n * @static\\n * @memberOf _\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\\n * @example\\n *\\n * _.isObject({});\\n * // => true\\n *\\n * _.isObject([1, 2, 3]);\\n * // => true\\n *\\n * _.isObject(1);\\n * // => false\\n */\\nfunction isObject(value) {\\n  // Avoid a V8 JIT bug in Chrome 19-20.\\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\\n  var type = typeof value;\\n  return !!value && (type == 'object' || type == 'function');\\n}\\n\\n/**\\n * Creates an array of the own enumerable property names of `object`.\\n *\\n * **Note:** Non-object values are coerced to objects. See the\\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\\n * for more details.\\n *\\n * @static\\n * @memberOf _\\n * @category Object\\n * @param {Object} object The object to query.\\n * @returns {Array} Returns the array of property names.\\n * @example\\n *\\n * function Foo() {\\n *   this.a = 1;\\n *   this.b = 2;\\n * }\\n *\\n * Foo.prototype.c = 3;\\n *\\n * _.keys(new Foo);\\n * // => ['a', 'b'] (iteration order is not guaranteed)\\n *\\n * _.keys('hi');\\n * // => ['0', '1']\\n */\\nvar keys = !nativeKeys ? shimKeys : function(object) {\\n  var Ctor = object == null ? undefined : object.constructor;\\n  if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\\n      (typeof object != 'function' && isArrayLike(object))) {\\n    return shimKeys(object);\\n  }\\n  return isObject(object) ? nativeKeys(object) : [];\\n};\\n\\n/**\\n * Creates an array of the own and inherited enumerable property names of `object`.\\n *\\n * **Note:** Non-object values are coerced to objects.\\n *\\n * @static\\n * @memberOf _\\n * @category Object\\n * @param {Object} object The object to query.\\n * @returns {Array} Returns the array of property names.\\n * @example\\n *\\n * function Foo() {\\n *   this.a = 1;\\n *   this.b = 2;\\n * }\\n *\\n * Foo.prototype.c = 3;\\n *\\n * _.keysIn(new Foo);\\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\\n */\\nfunction keysIn(object) {\\n  if (object == null) {\\n    return [];\\n  }\\n  if (!isObject(object)) {\\n    object = Object(object);\\n  }\\n  var length = object.length;\\n  length = (length && isLength(length) &&\\n    (isArray(object) || isArguments(object)) && length) || 0;\\n\\n  var Ctor = object.constructor,\\n      index = -1,\\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\\n      result = Array(length),\\n      skipIndexes = length > 0;\\n\\n  while (++index < length) {\\n    result[index] = (index + '');\\n  }\\n  for (var key in object) {\\n    if (!(skipIndexes && isIndex(key, length)) &&\\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\\n      result.push(key);\\n    }\\n  }\\n  return result;\\n}\\n\\nmodule.exports = keys;\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidkJXbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gua2V5cy9pbmRleC5qcz9iYzE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogbG9kYXNoIDMuMS4yIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG52YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnbG9kYXNoLl9nZXRuYXRpdmUnKSxcbiAgICBpc0FyZ3VtZW50cyA9IHJlcXVpcmUoJ2xvZGFzaC5pc2FyZ3VtZW50cycpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCdsb2Rhc2guaXNhcnJheScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXlxcZCskLztcblxuLyoqIFVzZWQgZm9yIG5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qIE5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlS2V5cyA9IGdldE5hdGl2ZShPYmplY3QsICdrZXlzJyk7XG5cbi8qKlxuICogVXNlZCBhcyB0aGUgW21heGltdW0gbGVuZ3RoXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1udW1iZXIubWF4X3NhZmVfaW50ZWdlcilcbiAqIG9mIGFuIGFycmF5LWxpa2UgdmFsdWUuXG4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IHZhbHVlIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYXZvaWQgYSBbSklUIGJ1Z10oaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE0Mjc5MilcbiAqIHRoYXQgYWZmZWN0cyBTYWZhcmkgb24gYXQgbGVhc3QgaU9TIDguMS04LjMgQVJNNjQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBcImxlbmd0aFwiIHZhbHVlLlxuICovXG52YXIgZ2V0TGVuZ3RoID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgoZ2V0TGVuZ3RoKHZhbHVlKSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhbHVlID0gKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgPyArdmFsdWUgOiAtMTtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIGJhc2VkIG9uIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQSBmYWxsYmFjayBpbXBsZW1lbnRhdGlvbiBvZiBgT2JqZWN0LmtleXNgIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlXG4gKiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gc2hpbUtleXMob2JqZWN0KSB7XG4gIHZhciBwcm9wcyA9IGtleXNJbihvYmplY3QpLFxuICAgICAgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICBsZW5ndGggPSBwcm9wc0xlbmd0aCAmJiBvYmplY3QubGVuZ3RoO1xuXG4gIHZhciBhbGxvd0luZGV4ZXMgPSAhIWxlbmd0aCAmJiBpc0xlbmd0aChsZW5ndGgpICYmXG4gICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgIGlmICgoYWxsb3dJbmRleGVzICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpKSB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGUgW2xhbmd1YWdlIHR5cGVdKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDgpIG9mIGBPYmplY3RgLlxuICogKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdCgxKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIC8vIEF2b2lkIGEgVjggSklUIGJ1ZyBpbiBDaHJvbWUgMTktMjAuXG4gIC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjI5MSBmb3IgbW9yZSBkZXRhaWxzLlxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xudmFyIGtleXMgPSAhbmF0aXZlS2V5cyA/IHNoaW1LZXlzIDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gIHZhciBDdG9yID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3QuY29uc3RydWN0b3I7XG4gIGlmICgodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSA9PT0gb2JqZWN0KSB8fFxuICAgICAgKHR5cGVvZiBvYmplY3QgIT0gJ2Z1bmN0aW9uJyAmJiBpc0FycmF5TGlrZShvYmplY3QpKSkge1xuICAgIHJldHVybiBzaGltS2V5cyhvYmplY3QpO1xuICB9XG4gIHJldHVybiBpc09iamVjdChvYmplY3QpID8gbmF0aXZlS2V5cyhvYmplY3QpIDogW107XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5c0luKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKi9cbmZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICB9XG4gIHZhciBsZW5ndGggPSBvYmplY3QubGVuZ3RoO1xuICBsZW5ndGggPSAobGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiZcbiAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpICYmIGxlbmd0aCkgfHwgMDtcblxuICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgIGluZGV4ID0gLTEsXG4gICAgICBpc1Byb3RvID0gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSA9PT0gb2JqZWN0LFxuICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgIHNraXBJbmRleGVzID0gbGVuZ3RoID4gMDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSAoaW5kZXggKyAnJyk7XG4gIH1cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmICghKHNraXBJbmRleGVzICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpKSAmJlxuICAgICAgICAhKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleXM7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///vBWn\\n\")},xEkU:function(module,exports,__webpack_require__){eval(\"/* WEBPACK VAR INJECTION */(function(global) {var now = __webpack_require__(/*! performance-now */ \\\"bQgK\\\")\\n  , root = typeof window === 'undefined' ? global : window\\n  , vendors = ['moz', 'webkit']\\n  , suffix = 'AnimationFrame'\\n  , raf = root['request' + suffix]\\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\\n\\nfor(var i = 0; !raf && i < vendors.length; i++) {\\n  raf = root[vendors[i] + 'Request' + suffix]\\n  caf = root[vendors[i] + 'Cancel' + suffix]\\n      || root[vendors[i] + 'CancelRequest' + suffix]\\n}\\n\\n// Some versions of FF have rAF but not cAF\\nif(!raf || !caf) {\\n  var last = 0\\n    , id = 0\\n    , queue = []\\n    , frameDuration = 1000 / 60\\n\\n  raf = function(callback) {\\n    if(queue.length === 0) {\\n      var _now = now()\\n        , next = Math.max(0, frameDuration - (_now - last))\\n      last = next + _now\\n      setTimeout(function() {\\n        var cp = queue.slice(0)\\n        // Clear queue here to prevent\\n        // callbacks from appending listeners\\n        // to the current frame's queue\\n        queue.length = 0\\n        for(var i = 0; i < cp.length; i++) {\\n          if(!cp[i].cancelled) {\\n            try{\\n              cp[i].callback(last)\\n            } catch(e) {\\n              setTimeout(function() { throw e }, 0)\\n            }\\n          }\\n        }\\n      }, Math.round(next))\\n    }\\n    queue.push({\\n      handle: ++id,\\n      callback: callback,\\n      cancelled: false\\n    })\\n    return id\\n  }\\n\\n  caf = function(handle) {\\n    for(var i = 0; i < queue.length; i++) {\\n      if(queue[i].handle === handle) {\\n        queue[i].cancelled = true\\n      }\\n    }\\n  }\\n}\\n\\nmodule.exports = function(fn) {\\n  // Wrap in a new function to prevent\\n  // `cancel` potentially being assigned\\n  // to the native rAF function\\n  return raf.call(root, fn)\\n}\\nmodule.exports.cancel = function() {\\n  caf.apply(root, arguments)\\n}\\nmodule.exports.polyfill = function(object) {\\n  if (!object) {\\n    object = root;\\n  }\\n  object.requestAnimationFrame = raf\\n  object.cancelAnimationFrame = caf\\n}\\n\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \\\"yLpj\\\")))//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieEVrVS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYWYvaW5kZXguanM/YzQ0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2Utbm93JylcbiAgLCByb290ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3dcbiAgLCB2ZW5kb3JzID0gWydtb3onLCAnd2Via2l0J11cbiAgLCBzdWZmaXggPSAnQW5pbWF0aW9uRnJhbWUnXG4gICwgcmFmID0gcm9vdFsncmVxdWVzdCcgKyBzdWZmaXhdXG4gICwgY2FmID0gcm9vdFsnY2FuY2VsJyArIHN1ZmZpeF0gfHwgcm9vdFsnY2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cbmZvcih2YXIgaSA9IDA7ICFyYWYgJiYgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgcmFmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XVxuICBjYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsJyArIHN1ZmZpeF1cbiAgICAgIHx8IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cbn1cblxuLy8gU29tZSB2ZXJzaW9ucyBvZiBGRiBoYXZlIHJBRiBidXQgbm90IGNBRlxuaWYoIXJhZiB8fCAhY2FmKSB7XG4gIHZhciBsYXN0ID0gMFxuICAgICwgaWQgPSAwXG4gICAgLCBxdWV1ZSA9IFtdXG4gICAgLCBmcmFtZUR1cmF0aW9uID0gMTAwMCAvIDYwXG5cbiAgcmFmID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBpZihxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHZhciBfbm93ID0gbm93KClcbiAgICAgICAgLCBuZXh0ID0gTWF0aC5tYXgoMCwgZnJhbWVEdXJhdGlvbiAtIChfbm93IC0gbGFzdCkpXG4gICAgICBsYXN0ID0gbmV4dCArIF9ub3dcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjcCA9IHF1ZXVlLnNsaWNlKDApXG4gICAgICAgIC8vIENsZWFyIHF1ZXVlIGhlcmUgdG8gcHJldmVudFxuICAgICAgICAvLyBjYWxsYmFja3MgZnJvbSBhcHBlbmRpbmcgbGlzdGVuZXJzXG4gICAgICAgIC8vIHRvIHRoZSBjdXJyZW50IGZyYW1lJ3MgcXVldWVcbiAgICAgICAgcXVldWUubGVuZ3RoID0gMFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY3AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZighY3BbaV0uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgIGNwW2ldLmNhbGxiYWNrKGxhc3QpXG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgdGhyb3cgZSB9LCAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgTWF0aC5yb3VuZChuZXh0KSlcbiAgICB9XG4gICAgcXVldWUucHVzaCh7XG4gICAgICBoYW5kbGU6ICsraWQsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBjYW5jZWxsZWQ6IGZhbHNlXG4gICAgfSlcbiAgICByZXR1cm4gaWRcbiAgfVxuXG4gIGNhZiA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYocXVldWVbaV0uaGFuZGxlID09PSBoYW5kbGUpIHtcbiAgICAgICAgcXVldWVbaV0uY2FuY2VsbGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuKSB7XG4gIC8vIFdyYXAgaW4gYSBuZXcgZnVuY3Rpb24gdG8gcHJldmVudFxuICAvLyBgY2FuY2VsYCBwb3RlbnRpYWxseSBiZWluZyBhc3NpZ25lZFxuICAvLyB0byB0aGUgbmF0aXZlIHJBRiBmdW5jdGlvblxuICByZXR1cm4gcmFmLmNhbGwocm9vdCwgZm4pXG59XG5tb2R1bGUuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgY2FmLmFwcGx5KHJvb3QsIGFyZ3VtZW50cylcbn1cbm1vZHVsZS5leHBvcnRzLnBvbHlmaWxsID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIGlmICghb2JqZWN0KSB7XG4gICAgb2JqZWN0ID0gcm9vdDtcbiAgfVxuICBvYmplY3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmFmXG4gIG9iamVjdC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGNhZlxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///xEkU\\n\")},zVbs:function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = ({\\n    okText: '',\\n    dismissText: '',\\n    extra: ''\\n});//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoielZicy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkLW1vYmlsZS9lcy9waWNrZXIvbG9jYWxlL3poX0NOLmpzP2NkNTYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICAgIG9rVGV4dDogJ+ehruWumicsXG4gICAgZGlzbWlzc1RleHQ6ICflj5bmtognLFxuICAgIGV4dHJhOiAn6K+36YCJ5oupJ1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///zVbs\\n\")},zn7N:function(module,exports,__webpack_require__){eval('// most Object methods by ES6 should accept primitives\\nvar $export = __webpack_require__(/*! ./_export */ \"Y7ZC\");\\nvar core = __webpack_require__(/*! ./_core */ \"WEpk\");\\nvar fails = __webpack_require__(/*! ./_fails */ \"KUxP\");\\nmodule.exports = function (KEY, exec) {\\n  var fn = (core.Object || {})[KEY] || Object[KEY];\\n  var exp = {};\\n  exp[KEY] = exec(fn);\\n  $export($export.S + $export.F * fails(function () { fn(1); }), \\'Object\\', exp);\\n};\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiem43Ti5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qcz9jZTdlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSwgZXhlYykge1xuICB2YXIgZm4gPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV07XG4gIHZhciBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbiAoKSB7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///zn7N\\n')},zs13:function(module,exports){eval(\"module.exports = function(arr, obj){\\n  if (arr.indexOf) return arr.indexOf(obj);\\n  for (var i = 0; i < arr.length; ++i) {\\n    if (arr[i] === obj) return i;\\n  }\\n  return -1;\\n};//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoienMxMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb21wb25lbnQtaW5kZXhvZi9pbmRleC5qcz9jZWNkIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYXJyLCBvYmope1xuICBpZiAoYXJyLmluZGV4T2YpIHJldHVybiBhcnIuaW5kZXhPZihvYmopO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgIGlmIChhcnJbaV0gPT09IG9iaikgcmV0dXJuIGk7XG4gIH1cbiAgcmV0dXJuIC0xO1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///zs13\\n\")}}]);"}